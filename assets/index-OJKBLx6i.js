var ok=Object.defineProperty;var sk=(e,t,n)=>t in e?ok(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var bi=(e,t,n)=>(sk(e,typeof t!="symbol"?t+"":t,n),n),o0=(e,t,n)=>{if(!t.has(e))throw TypeError("Cannot "+n)};var et=(e,t,n)=>(o0(e,t,"read from private field"),n?n.call(e):t.get(e)),Qa=(e,t,n)=>{if(t.has(e))throw TypeError("Cannot add the same private member more than once");t instanceof WeakSet?t.add(e):t.set(e,n)},Wn=(e,t,n,a)=>(o0(e,t,"write to private field"),a?a.call(e,n):t.set(e,n),n);function A1(e,t){for(var n=0;n<t.length;n++){const a=t[n];if(typeof a!="string"&&!Array.isArray(a)){for(const r in a)if(r!=="default"&&!(r in e)){const i=Object.getOwnPropertyDescriptor(a,r);i&&Object.defineProperty(e,r,i.get?i:{enumerable:!0,get:()=>a[r]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))a(r);new MutationObserver(r=>{for(const i of r)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&a(o)}).observe(document,{childList:!0,subtree:!0});function n(r){const i={};return r.integrity&&(i.integrity=r.integrity),r.referrerPolicy&&(i.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?i.credentials="include":r.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function a(r){if(r.ep)return;r.ep=!0;const i=n(r);fetch(r.href,i)}})();var s0=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function cf(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var C1={exports:{}},Hu={},N1={exports:{}},Me={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Us=Symbol.for("react.element"),lk=Symbol.for("react.portal"),uk=Symbol.for("react.fragment"),ck=Symbol.for("react.strict_mode"),dk=Symbol.for("react.profiler"),hk=Symbol.for("react.provider"),fk=Symbol.for("react.context"),mk=Symbol.for("react.forward_ref"),pk=Symbol.for("react.suspense"),gk=Symbol.for("react.memo"),yk=Symbol.for("react.lazy"),l0=Symbol.iterator;function bk(e){return e===null||typeof e!="object"?null:(e=l0&&e[l0]||e["@@iterator"],typeof e=="function"?e:null)}var I1={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},_1=Object.assign,R1={};function ro(e,t,n){this.props=e,this.context=t,this.refs=R1,this.updater=n||I1}ro.prototype.isReactComponent={};ro.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};ro.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function L1(){}L1.prototype=ro.prototype;function df(e,t,n){this.props=e,this.context=t,this.refs=R1,this.updater=n||I1}var hf=df.prototype=new L1;hf.constructor=df;_1(hf,ro.prototype);hf.isPureReactComponent=!0;var u0=Array.isArray,O1=Object.prototype.hasOwnProperty,ff={current:null},D1={key:!0,ref:!0,__self:!0,__source:!0};function P1(e,t,n){var a,r={},i=null,o=null;if(t!=null)for(a in t.ref!==void 0&&(o=t.ref),t.key!==void 0&&(i=""+t.key),t)O1.call(t,a)&&!D1.hasOwnProperty(a)&&(r[a]=t[a]);var s=arguments.length-2;if(s===1)r.children=n;else if(1<s){for(var l=Array(s),u=0;u<s;u++)l[u]=arguments[u+2];r.children=l}if(e&&e.defaultProps)for(a in s=e.defaultProps,s)r[a]===void 0&&(r[a]=s[a]);return{$$typeof:Us,type:e,key:i,ref:o,props:r,_owner:ff.current}}function vk(e,t){return{$$typeof:Us,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function mf(e){return typeof e=="object"&&e!==null&&e.$$typeof===Us}function wk(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var c0=/\/+/g;function Dc(e,t){return typeof e=="object"&&e!==null&&e.key!=null?wk(""+e.key):t.toString(36)}function Ul(e,t,n,a,r){var i=typeof e;(i==="undefined"||i==="boolean")&&(e=null);var o=!1;if(e===null)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case Us:case lk:o=!0}}if(o)return o=e,r=r(o),e=a===""?"."+Dc(o,0):a,u0(r)?(n="",e!=null&&(n=e.replace(c0,"$&/")+"/"),Ul(r,t,n,"",function(u){return u})):r!=null&&(mf(r)&&(r=vk(r,n+(!r.key||o&&o.key===r.key?"":(""+r.key).replace(c0,"$&/")+"/")+e)),t.push(r)),1;if(o=0,a=a===""?".":a+":",u0(e))for(var s=0;s<e.length;s++){i=e[s];var l=a+Dc(i,s);o+=Ul(i,t,n,l,r)}else if(l=bk(e),typeof l=="function")for(e=l.call(e),s=0;!(i=e.next()).done;)i=i.value,l=a+Dc(i,s++),o+=Ul(i,t,n,l,r);else if(i==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return o}function pl(e,t,n){if(e==null)return e;var a=[],r=0;return Ul(e,a,"","",function(i){return t.call(n,i,r++)}),a}function kk(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var on={current:null},Wl={transition:null},Tk={ReactCurrentDispatcher:on,ReactCurrentBatchConfig:Wl,ReactCurrentOwner:ff};Me.Children={map:pl,forEach:function(e,t,n){pl(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return pl(e,function(){t++}),t},toArray:function(e){return pl(e,function(t){return t})||[]},only:function(e){if(!mf(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};Me.Component=ro;Me.Fragment=uk;Me.Profiler=dk;Me.PureComponent=df;Me.StrictMode=ck;Me.Suspense=pk;Me.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Tk;Me.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var a=_1({},e.props),r=e.key,i=e.ref,o=e._owner;if(t!=null){if(t.ref!==void 0&&(i=t.ref,o=ff.current),t.key!==void 0&&(r=""+t.key),e.type&&e.type.defaultProps)var s=e.type.defaultProps;for(l in t)O1.call(t,l)&&!D1.hasOwnProperty(l)&&(a[l]=t[l]===void 0&&s!==void 0?s[l]:t[l])}var l=arguments.length-2;if(l===1)a.children=n;else if(1<l){s=Array(l);for(var u=0;u<l;u++)s[u]=arguments[u+2];a.children=s}return{$$typeof:Us,type:e.type,key:r,ref:i,props:a,_owner:o}};Me.createContext=function(e){return e={$$typeof:fk,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:hk,_context:e},e.Consumer=e};Me.createElement=P1;Me.createFactory=function(e){var t=P1.bind(null,e);return t.type=e,t};Me.createRef=function(){return{current:null}};Me.forwardRef=function(e){return{$$typeof:mk,render:e}};Me.isValidElement=mf;Me.lazy=function(e){return{$$typeof:yk,_payload:{_status:-1,_result:e},_init:kk}};Me.memo=function(e,t){return{$$typeof:gk,type:e,compare:t===void 0?null:t}};Me.startTransition=function(e){var t=Wl.transition;Wl.transition={};try{e()}finally{Wl.transition=t}};Me.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};Me.useCallback=function(e,t){return on.current.useCallback(e,t)};Me.useContext=function(e){return on.current.useContext(e)};Me.useDebugValue=function(){};Me.useDeferredValue=function(e){return on.current.useDeferredValue(e)};Me.useEffect=function(e,t){return on.current.useEffect(e,t)};Me.useId=function(){return on.current.useId()};Me.useImperativeHandle=function(e,t,n){return on.current.useImperativeHandle(e,t,n)};Me.useInsertionEffect=function(e,t){return on.current.useInsertionEffect(e,t)};Me.useLayoutEffect=function(e,t){return on.current.useLayoutEffect(e,t)};Me.useMemo=function(e,t){return on.current.useMemo(e,t)};Me.useReducer=function(e,t,n){return on.current.useReducer(e,t,n)};Me.useRef=function(e){return on.current.useRef(e)};Me.useState=function(e){return on.current.useState(e)};Me.useSyncExternalStore=function(e,t,n){return on.current.useSyncExternalStore(e,t,n)};Me.useTransition=function(){return on.current.useTransition()};Me.version="18.2.0";N1.exports=Me;var g=N1.exports;const oe=cf(g),Gi=A1({__proto__:null,default:oe},[g]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var xk=g,Ek=Symbol.for("react.element"),Sk=Symbol.for("react.fragment"),Ak=Object.prototype.hasOwnProperty,Ck=xk.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Nk={key:!0,ref:!0,__self:!0,__source:!0};function M1(e,t,n){var a,r={},i=null,o=null;n!==void 0&&(i=""+n),t.key!==void 0&&(i=""+t.key),t.ref!==void 0&&(o=t.ref);for(a in t)Ak.call(t,a)&&!Nk.hasOwnProperty(a)&&(r[a]=t[a]);if(e&&e.defaultProps)for(a in t=e.defaultProps,t)r[a]===void 0&&(r[a]=t[a]);return{$$typeof:Ek,type:e,key:i,ref:o,props:r,_owner:Ck.current}}Hu.Fragment=Sk;Hu.jsx=M1;Hu.jsxs=M1;C1.exports=Hu;var c=C1.exports,Bd={},F1={exports:{}},An={},j1={exports:{}},B1={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(W,V){var I=W.length;W.push(V);e:for(;0<I;){var ce=I-1>>>1,ue=W[ce];if(0<r(ue,V))W[ce]=V,W[I]=ue,I=ce;else break e}}function n(W){return W.length===0?null:W[0]}function a(W){if(W.length===0)return null;var V=W[0],I=W.pop();if(I!==V){W[0]=I;e:for(var ce=0,ue=W.length,A=ue>>>1;ce<A;){var U=2*(ce+1)-1,ae=W[U],ne=U+1,Ne=W[ne];if(0>r(ae,I))ne<ue&&0>r(Ne,ae)?(W[ce]=Ne,W[ne]=I,ce=ne):(W[ce]=ae,W[U]=I,ce=U);else if(ne<ue&&0>r(Ne,I))W[ce]=Ne,W[ne]=I,ce=ne;else break e}}return V}function r(W,V){var I=W.sortIndex-V.sortIndex;return I!==0?I:W.id-V.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;e.unstable_now=function(){return i.now()}}else{var o=Date,s=o.now();e.unstable_now=function(){return o.now()-s}}var l=[],u=[],d=1,f=null,m=3,p=!1,v=!1,k=!1,T=typeof setTimeout=="function"?setTimeout:null,y=typeof clearTimeout=="function"?clearTimeout:null,b=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function x(W){for(var V=n(u);V!==null;){if(V.callback===null)a(u);else if(V.startTime<=W)a(u),V.sortIndex=V.expirationTime,t(l,V);else break;V=n(u)}}function w(W){if(k=!1,x(W),!v)if(n(l)!==null)v=!0,ee(O);else{var V=n(u);V!==null&&te(w,V.startTime-W)}}function O(W,V){v=!1,k&&(k=!1,y(D),D=-1),p=!0;var I=m;try{for(x(V),f=n(l);f!==null&&(!(f.expirationTime>V)||W&&!S());){var ce=f.callback;if(typeof ce=="function"){f.callback=null,m=f.priorityLevel;var ue=ce(f.expirationTime<=V);V=e.unstable_now(),typeof ue=="function"?f.callback=ue:f===n(l)&&a(l),x(V)}else a(l);f=n(l)}if(f!==null)var A=!0;else{var U=n(u);U!==null&&te(w,U.startTime-V),A=!1}return A}finally{f=null,m=I,p=!1}}var N=!1,R=null,D=-1,P=5,_=-1;function S(){return!(e.unstable_now()-_<P)}function M(){if(R!==null){var W=e.unstable_now();_=W;var V=!0;try{V=R(!0,W)}finally{V?B():(N=!1,R=null)}}else N=!1}var B;if(typeof b=="function")B=function(){b(M)};else if(typeof MessageChannel<"u"){var re=new MessageChannel,Q=re.port2;re.port1.onmessage=M,B=function(){Q.postMessage(null)}}else B=function(){T(M,0)};function ee(W){R=W,N||(N=!0,B())}function te(W,V){D=T(function(){W(e.unstable_now())},V)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(W){W.callback=null},e.unstable_continueExecution=function(){v||p||(v=!0,ee(O))},e.unstable_forceFrameRate=function(W){0>W||125<W?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):P=0<W?Math.floor(1e3/W):5},e.unstable_getCurrentPriorityLevel=function(){return m},e.unstable_getFirstCallbackNode=function(){return n(l)},e.unstable_next=function(W){switch(m){case 1:case 2:case 3:var V=3;break;default:V=m}var I=m;m=V;try{return W()}finally{m=I}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(W,V){switch(W){case 1:case 2:case 3:case 4:case 5:break;default:W=3}var I=m;m=W;try{return V()}finally{m=I}},e.unstable_scheduleCallback=function(W,V,I){var ce=e.unstable_now();switch(typeof I=="object"&&I!==null?(I=I.delay,I=typeof I=="number"&&0<I?ce+I:ce):I=ce,W){case 1:var ue=-1;break;case 2:ue=250;break;case 5:ue=1073741823;break;case 4:ue=1e4;break;default:ue=5e3}return ue=I+ue,W={id:d++,callback:V,priorityLevel:W,startTime:I,expirationTime:ue,sortIndex:-1},I>ce?(W.sortIndex=I,t(u,W),n(l)===null&&W===n(u)&&(k?(y(D),D=-1):k=!0,te(w,I-ce))):(W.sortIndex=ue,t(l,W),v||p||(v=!0,ee(O))),W},e.unstable_shouldYield=S,e.unstable_wrapCallback=function(W){var V=m;return function(){var I=m;m=V;try{return W.apply(this,arguments)}finally{m=I}}}})(B1);j1.exports=B1;var Ik=j1.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var H1=g,Sn=Ik;function J(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var q1=new Set,gs={};function ui(e,t){Vi(e,t),Vi(e+"Capture",t)}function Vi(e,t){for(gs[e]=t,e=0;e<t.length;e++)q1.add(t[e])}var Ba=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Hd=Object.prototype.hasOwnProperty,_k=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,d0={},h0={};function Rk(e){return Hd.call(h0,e)?!0:Hd.call(d0,e)?!1:_k.test(e)?h0[e]=!0:(d0[e]=!0,!1)}function Lk(e,t,n,a){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return a?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function Ok(e,t,n,a){if(t===null||typeof t>"u"||Lk(e,t,n,a))return!0;if(a)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function sn(e,t,n,a,r,i,o){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=a,this.attributeNamespace=r,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=i,this.removeEmptyString=o}var Yt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Yt[e]=new sn(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Yt[t]=new sn(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Yt[e]=new sn(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Yt[e]=new sn(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Yt[e]=new sn(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Yt[e]=new sn(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Yt[e]=new sn(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Yt[e]=new sn(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Yt[e]=new sn(e,5,!1,e.toLowerCase(),null,!1,!1)});var pf=/[\-:]([a-z])/g;function gf(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(pf,gf);Yt[t]=new sn(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(pf,gf);Yt[t]=new sn(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(pf,gf);Yt[t]=new sn(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Yt[e]=new sn(e,1,!1,e.toLowerCase(),null,!1,!1)});Yt.xlinkHref=new sn("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Yt[e]=new sn(e,1,!1,e.toLowerCase(),null,!0,!0)});function yf(e,t,n,a){var r=Yt.hasOwnProperty(t)?Yt[t]:null;(r!==null?r.type!==0:a||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(Ok(t,n,r,a)&&(n=null),a||r===null?Rk(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):r.mustUseProperty?e[r.propertyName]=n===null?r.type===3?!1:"":n:(t=r.attributeName,a=r.attributeNamespace,n===null?e.removeAttribute(t):(r=r.type,n=r===3||r===4&&n===!0?"":""+n,a?e.setAttributeNS(a,t,n):e.setAttribute(t,n))))}var Wa=H1.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,gl=Symbol.for("react.element"),Ei=Symbol.for("react.portal"),Si=Symbol.for("react.fragment"),bf=Symbol.for("react.strict_mode"),qd=Symbol.for("react.profiler"),U1=Symbol.for("react.provider"),W1=Symbol.for("react.context"),vf=Symbol.for("react.forward_ref"),Ud=Symbol.for("react.suspense"),Wd=Symbol.for("react.suspense_list"),wf=Symbol.for("react.memo"),ir=Symbol.for("react.lazy"),Y1=Symbol.for("react.offscreen"),f0=Symbol.iterator;function xo(e){return e===null||typeof e!="object"?null:(e=f0&&e[f0]||e["@@iterator"],typeof e=="function"?e:null)}var vt=Object.assign,Pc;function zo(e){if(Pc===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);Pc=t&&t[1]||""}return`
`+Pc+e}var Mc=!1;function Fc(e,t){if(!e||Mc)return"";Mc=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var a=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){a=u}e.call(t.prototype)}else{try{throw Error()}catch(u){a=u}e()}}catch(u){if(u&&a&&typeof u.stack=="string"){for(var r=u.stack.split(`
`),i=a.stack.split(`
`),o=r.length-1,s=i.length-1;1<=o&&0<=s&&r[o]!==i[s];)s--;for(;1<=o&&0<=s;o--,s--)if(r[o]!==i[s]){if(o!==1||s!==1)do if(o--,s--,0>s||r[o]!==i[s]){var l=`
`+r[o].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}while(1<=o&&0<=s);break}}}finally{Mc=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?zo(e):""}function Dk(e){switch(e.tag){case 5:return zo(e.type);case 16:return zo("Lazy");case 13:return zo("Suspense");case 19:return zo("SuspenseList");case 0:case 2:case 15:return e=Fc(e.type,!1),e;case 11:return e=Fc(e.type.render,!1),e;case 1:return e=Fc(e.type,!0),e;default:return""}}function Yd(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Si:return"Fragment";case Ei:return"Portal";case qd:return"Profiler";case bf:return"StrictMode";case Ud:return"Suspense";case Wd:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case W1:return(e.displayName||"Context")+".Consumer";case U1:return(e._context.displayName||"Context")+".Provider";case vf:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case wf:return t=e.displayName||null,t!==null?t:Yd(e.type)||"Memo";case ir:t=e._payload,e=e._init;try{return Yd(e(t))}catch{}}return null}function Pk(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Yd(t);case 8:return t===bf?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Ar(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function z1(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function Mk(e){var t=z1(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),a=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var r=n.get,i=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return r.call(this)},set:function(o){a=""+o,i.call(this,o)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return a},setValue:function(o){a=""+o},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function yl(e){e._valueTracker||(e._valueTracker=Mk(e))}function $1(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),a="";return e&&(a=z1(e)?e.checked?"true":"false":e.value),e=a,e!==n?(t.setValue(e),!0):!1}function iu(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function zd(e,t){var n=t.checked;return vt({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function m0(e,t){var n=t.defaultValue==null?"":t.defaultValue,a=t.checked!=null?t.checked:t.defaultChecked;n=Ar(t.value!=null?t.value:n),e._wrapperState={initialChecked:a,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function G1(e,t){t=t.checked,t!=null&&yf(e,"checked",t,!1)}function $d(e,t){G1(e,t);var n=Ar(t.value),a=t.type;if(n!=null)a==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(a==="submit"||a==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?Gd(e,t.type,n):t.hasOwnProperty("defaultValue")&&Gd(e,t.type,Ar(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function p0(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var a=t.type;if(!(a!=="submit"&&a!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function Gd(e,t,n){(t!=="number"||iu(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var $o=Array.isArray;function ji(e,t,n,a){if(e=e.options,t){t={};for(var r=0;r<n.length;r++)t["$"+n[r]]=!0;for(n=0;n<e.length;n++)r=t.hasOwnProperty("$"+e[n].value),e[n].selected!==r&&(e[n].selected=r),r&&a&&(e[n].defaultSelected=!0)}else{for(n=""+Ar(n),t=null,r=0;r<e.length;r++){if(e[r].value===n){e[r].selected=!0,a&&(e[r].defaultSelected=!0);return}t!==null||e[r].disabled||(t=e[r])}t!==null&&(t.selected=!0)}}function Vd(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(J(91));return vt({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function g0(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(J(92));if($o(n)){if(1<n.length)throw Error(J(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:Ar(n)}}function V1(e,t){var n=Ar(t.value),a=Ar(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),a!=null&&(e.defaultValue=""+a)}function y0(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function K1(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Kd(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?K1(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var bl,Q1=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,a,r){MSApp.execUnsafeLocalFunction(function(){return e(t,n,a,r)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(bl=bl||document.createElement("div"),bl.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=bl.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function ys(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var Xo={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Fk=["Webkit","ms","Moz","O"];Object.keys(Xo).forEach(function(e){Fk.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Xo[t]=Xo[e]})});function X1(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||Xo.hasOwnProperty(e)&&Xo[e]?(""+t).trim():t+"px"}function J1(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var a=n.indexOf("--")===0,r=X1(n,t[n],a);n==="float"&&(n="cssFloat"),a?e.setProperty(n,r):e[n]=r}}var jk=vt({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Qd(e,t){if(t){if(jk[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(J(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(J(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(J(61))}if(t.style!=null&&typeof t.style!="object")throw Error(J(62))}}function Xd(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Jd=null;function kf(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Zd=null,Bi=null,Hi=null;function b0(e){if(e=zs(e)){if(typeof Zd!="function")throw Error(J(280));var t=e.stateNode;t&&(t=zu(t),Zd(e.stateNode,e.type,t))}}function Z1(e){Bi?Hi?Hi.push(e):Hi=[e]:Bi=e}function ey(){if(Bi){var e=Bi,t=Hi;if(Hi=Bi=null,b0(e),t)for(e=0;e<t.length;e++)b0(t[e])}}function ty(e,t){return e(t)}function ny(){}var jc=!1;function ay(e,t,n){if(jc)return e(t,n);jc=!0;try{return ty(e,t,n)}finally{jc=!1,(Bi!==null||Hi!==null)&&(ny(),ey())}}function bs(e,t){var n=e.stateNode;if(n===null)return null;var a=zu(n);if(a===null)return null;n=a[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(a=!a.disabled)||(e=e.type,a=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!a;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(J(231,t,typeof n));return n}var eh=!1;if(Ba)try{var Eo={};Object.defineProperty(Eo,"passive",{get:function(){eh=!0}}),window.addEventListener("test",Eo,Eo),window.removeEventListener("test",Eo,Eo)}catch{eh=!1}function Bk(e,t,n,a,r,i,o,s,l){var u=Array.prototype.slice.call(arguments,3);try{t.apply(n,u)}catch(d){this.onError(d)}}var Jo=!1,ou=null,su=!1,th=null,Hk={onError:function(e){Jo=!0,ou=e}};function qk(e,t,n,a,r,i,o,s,l){Jo=!1,ou=null,Bk.apply(Hk,arguments)}function Uk(e,t,n,a,r,i,o,s,l){if(qk.apply(this,arguments),Jo){if(Jo){var u=ou;Jo=!1,ou=null}else throw Error(J(198));su||(su=!0,th=u)}}function ci(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function ry(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function v0(e){if(ci(e)!==e)throw Error(J(188))}function Wk(e){var t=e.alternate;if(!t){if(t=ci(e),t===null)throw Error(J(188));return t!==e?null:e}for(var n=e,a=t;;){var r=n.return;if(r===null)break;var i=r.alternate;if(i===null){if(a=r.return,a!==null){n=a;continue}break}if(r.child===i.child){for(i=r.child;i;){if(i===n)return v0(r),e;if(i===a)return v0(r),t;i=i.sibling}throw Error(J(188))}if(n.return!==a.return)n=r,a=i;else{for(var o=!1,s=r.child;s;){if(s===n){o=!0,n=r,a=i;break}if(s===a){o=!0,a=r,n=i;break}s=s.sibling}if(!o){for(s=i.child;s;){if(s===n){o=!0,n=i,a=r;break}if(s===a){o=!0,a=i,n=r;break}s=s.sibling}if(!o)throw Error(J(189))}}if(n.alternate!==a)throw Error(J(190))}if(n.tag!==3)throw Error(J(188));return n.stateNode.current===n?e:t}function iy(e){return e=Wk(e),e!==null?oy(e):null}function oy(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=oy(e);if(t!==null)return t;e=e.sibling}return null}var sy=Sn.unstable_scheduleCallback,w0=Sn.unstable_cancelCallback,Yk=Sn.unstable_shouldYield,zk=Sn.unstable_requestPaint,Et=Sn.unstable_now,$k=Sn.unstable_getCurrentPriorityLevel,Tf=Sn.unstable_ImmediatePriority,ly=Sn.unstable_UserBlockingPriority,lu=Sn.unstable_NormalPriority,Gk=Sn.unstable_LowPriority,uy=Sn.unstable_IdlePriority,qu=null,Ta=null;function Vk(e){if(Ta&&typeof Ta.onCommitFiberRoot=="function")try{Ta.onCommitFiberRoot(qu,e,void 0,(e.current.flags&128)===128)}catch{}}var ea=Math.clz32?Math.clz32:Xk,Kk=Math.log,Qk=Math.LN2;function Xk(e){return e>>>=0,e===0?32:31-(Kk(e)/Qk|0)|0}var vl=64,wl=4194304;function Go(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function uu(e,t){var n=e.pendingLanes;if(n===0)return 0;var a=0,r=e.suspendedLanes,i=e.pingedLanes,o=n&268435455;if(o!==0){var s=o&~r;s!==0?a=Go(s):(i&=o,i!==0&&(a=Go(i)))}else o=n&~r,o!==0?a=Go(o):i!==0&&(a=Go(i));if(a===0)return 0;if(t!==0&&t!==a&&!(t&r)&&(r=a&-a,i=t&-t,r>=i||r===16&&(i&4194240)!==0))return t;if(a&4&&(a|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=a;0<t;)n=31-ea(t),r=1<<n,a|=e[n],t&=~r;return a}function Jk(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Zk(e,t){for(var n=e.suspendedLanes,a=e.pingedLanes,r=e.expirationTimes,i=e.pendingLanes;0<i;){var o=31-ea(i),s=1<<o,l=r[o];l===-1?(!(s&n)||s&a)&&(r[o]=Jk(s,t)):l<=t&&(e.expiredLanes|=s),i&=~s}}function nh(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function cy(){var e=vl;return vl<<=1,!(vl&4194240)&&(vl=64),e}function Bc(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Ws(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-ea(t),e[t]=n}function eT(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var a=e.eventTimes;for(e=e.expirationTimes;0<n;){var r=31-ea(n),i=1<<r;t[r]=0,a[r]=-1,e[r]=-1,n&=~i}}function xf(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var a=31-ea(n),r=1<<a;r&t|e[a]&t&&(e[a]|=t),n&=~r}}var Ze=0;function dy(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var hy,Ef,fy,my,py,ah=!1,kl=[],pr=null,gr=null,yr=null,vs=new Map,ws=new Map,sr=[],tT="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function k0(e,t){switch(e){case"focusin":case"focusout":pr=null;break;case"dragenter":case"dragleave":gr=null;break;case"mouseover":case"mouseout":yr=null;break;case"pointerover":case"pointerout":vs.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":ws.delete(t.pointerId)}}function So(e,t,n,a,r,i){return e===null||e.nativeEvent!==i?(e={blockedOn:t,domEventName:n,eventSystemFlags:a,nativeEvent:i,targetContainers:[r]},t!==null&&(t=zs(t),t!==null&&Ef(t)),e):(e.eventSystemFlags|=a,t=e.targetContainers,r!==null&&t.indexOf(r)===-1&&t.push(r),e)}function nT(e,t,n,a,r){switch(t){case"focusin":return pr=So(pr,e,t,n,a,r),!0;case"dragenter":return gr=So(gr,e,t,n,a,r),!0;case"mouseover":return yr=So(yr,e,t,n,a,r),!0;case"pointerover":var i=r.pointerId;return vs.set(i,So(vs.get(i)||null,e,t,n,a,r)),!0;case"gotpointercapture":return i=r.pointerId,ws.set(i,So(ws.get(i)||null,e,t,n,a,r)),!0}return!1}function gy(e){var t=Hr(e.target);if(t!==null){var n=ci(t);if(n!==null){if(t=n.tag,t===13){if(t=ry(n),t!==null){e.blockedOn=t,py(e.priority,function(){fy(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Yl(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=rh(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var a=new n.constructor(n.type,n);Jd=a,n.target.dispatchEvent(a),Jd=null}else return t=zs(n),t!==null&&Ef(t),e.blockedOn=n,!1;t.shift()}return!0}function T0(e,t,n){Yl(e)&&n.delete(t)}function aT(){ah=!1,pr!==null&&Yl(pr)&&(pr=null),gr!==null&&Yl(gr)&&(gr=null),yr!==null&&Yl(yr)&&(yr=null),vs.forEach(T0),ws.forEach(T0)}function Ao(e,t){e.blockedOn===t&&(e.blockedOn=null,ah||(ah=!0,Sn.unstable_scheduleCallback(Sn.unstable_NormalPriority,aT)))}function ks(e){function t(r){return Ao(r,e)}if(0<kl.length){Ao(kl[0],e);for(var n=1;n<kl.length;n++){var a=kl[n];a.blockedOn===e&&(a.blockedOn=null)}}for(pr!==null&&Ao(pr,e),gr!==null&&Ao(gr,e),yr!==null&&Ao(yr,e),vs.forEach(t),ws.forEach(t),n=0;n<sr.length;n++)a=sr[n],a.blockedOn===e&&(a.blockedOn=null);for(;0<sr.length&&(n=sr[0],n.blockedOn===null);)gy(n),n.blockedOn===null&&sr.shift()}var qi=Wa.ReactCurrentBatchConfig,cu=!0;function rT(e,t,n,a){var r=Ze,i=qi.transition;qi.transition=null;try{Ze=1,Sf(e,t,n,a)}finally{Ze=r,qi.transition=i}}function iT(e,t,n,a){var r=Ze,i=qi.transition;qi.transition=null;try{Ze=4,Sf(e,t,n,a)}finally{Ze=r,qi.transition=i}}function Sf(e,t,n,a){if(cu){var r=rh(e,t,n,a);if(r===null)Kc(e,t,a,du,n),k0(e,a);else if(nT(r,e,t,n,a))a.stopPropagation();else if(k0(e,a),t&4&&-1<tT.indexOf(e)){for(;r!==null;){var i=zs(r);if(i!==null&&hy(i),i=rh(e,t,n,a),i===null&&Kc(e,t,a,du,n),i===r)break;r=i}r!==null&&a.stopPropagation()}else Kc(e,t,a,null,n)}}var du=null;function rh(e,t,n,a){if(du=null,e=kf(a),e=Hr(e),e!==null)if(t=ci(e),t===null)e=null;else if(n=t.tag,n===13){if(e=ry(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return du=e,null}function yy(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch($k()){case Tf:return 1;case ly:return 4;case lu:case Gk:return 16;case uy:return 536870912;default:return 16}default:return 16}}var dr=null,Af=null,zl=null;function by(){if(zl)return zl;var e,t=Af,n=t.length,a,r="value"in dr?dr.value:dr.textContent,i=r.length;for(e=0;e<n&&t[e]===r[e];e++);var o=n-e;for(a=1;a<=o&&t[n-a]===r[i-a];a++);return zl=r.slice(e,1<a?1-a:void 0)}function $l(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Tl(){return!0}function x0(){return!1}function Cn(e){function t(n,a,r,i,o){this._reactName=n,this._targetInst=r,this.type=a,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var s in e)e.hasOwnProperty(s)&&(n=e[s],this[s]=n?n(i):i[s]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?Tl:x0,this.isPropagationStopped=x0,this}return vt(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Tl)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Tl)},persist:function(){},isPersistent:Tl}),t}var io={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Cf=Cn(io),Ys=vt({},io,{view:0,detail:0}),oT=Cn(Ys),Hc,qc,Co,Uu=vt({},Ys,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Nf,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Co&&(Co&&e.type==="mousemove"?(Hc=e.screenX-Co.screenX,qc=e.screenY-Co.screenY):qc=Hc=0,Co=e),Hc)},movementY:function(e){return"movementY"in e?e.movementY:qc}}),E0=Cn(Uu),sT=vt({},Uu,{dataTransfer:0}),lT=Cn(sT),uT=vt({},Ys,{relatedTarget:0}),Uc=Cn(uT),cT=vt({},io,{animationName:0,elapsedTime:0,pseudoElement:0}),dT=Cn(cT),hT=vt({},io,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),fT=Cn(hT),mT=vt({},io,{data:0}),S0=Cn(mT),pT={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},gT={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},yT={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function bT(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=yT[e])?!!t[e]:!1}function Nf(){return bT}var vT=vt({},Ys,{key:function(e){if(e.key){var t=pT[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=$l(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?gT[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Nf,charCode:function(e){return e.type==="keypress"?$l(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?$l(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),wT=Cn(vT),kT=vt({},Uu,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),A0=Cn(kT),TT=vt({},Ys,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Nf}),xT=Cn(TT),ET=vt({},io,{propertyName:0,elapsedTime:0,pseudoElement:0}),ST=Cn(ET),AT=vt({},Uu,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),CT=Cn(AT),NT=[9,13,27,32],If=Ba&&"CompositionEvent"in window,Zo=null;Ba&&"documentMode"in document&&(Zo=document.documentMode);var IT=Ba&&"TextEvent"in window&&!Zo,vy=Ba&&(!If||Zo&&8<Zo&&11>=Zo),C0=" ",N0=!1;function wy(e,t){switch(e){case"keyup":return NT.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ky(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Ai=!1;function _T(e,t){switch(e){case"compositionend":return ky(t);case"keypress":return t.which!==32?null:(N0=!0,C0);case"textInput":return e=t.data,e===C0&&N0?null:e;default:return null}}function RT(e,t){if(Ai)return e==="compositionend"||!If&&wy(e,t)?(e=by(),zl=Af=dr=null,Ai=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return vy&&t.locale!=="ko"?null:t.data;default:return null}}var LT={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function I0(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!LT[e.type]:t==="textarea"}function Ty(e,t,n,a){Z1(a),t=hu(t,"onChange"),0<t.length&&(n=new Cf("onChange","change",null,n,a),e.push({event:n,listeners:t}))}var es=null,Ts=null;function OT(e){Oy(e,0)}function Wu(e){var t=Ii(e);if($1(t))return e}function DT(e,t){if(e==="change")return t}var xy=!1;if(Ba){var Wc;if(Ba){var Yc="oninput"in document;if(!Yc){var _0=document.createElement("div");_0.setAttribute("oninput","return;"),Yc=typeof _0.oninput=="function"}Wc=Yc}else Wc=!1;xy=Wc&&(!document.documentMode||9<document.documentMode)}function R0(){es&&(es.detachEvent("onpropertychange",Ey),Ts=es=null)}function Ey(e){if(e.propertyName==="value"&&Wu(Ts)){var t=[];Ty(t,Ts,e,kf(e)),ay(OT,t)}}function PT(e,t,n){e==="focusin"?(R0(),es=t,Ts=n,es.attachEvent("onpropertychange",Ey)):e==="focusout"&&R0()}function MT(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Wu(Ts)}function FT(e,t){if(e==="click")return Wu(t)}function jT(e,t){if(e==="input"||e==="change")return Wu(t)}function BT(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var ia=typeof Object.is=="function"?Object.is:BT;function xs(e,t){if(ia(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),a=Object.keys(t);if(n.length!==a.length)return!1;for(a=0;a<n.length;a++){var r=n[a];if(!Hd.call(t,r)||!ia(e[r],t[r]))return!1}return!0}function L0(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function O0(e,t){var n=L0(e);e=0;for(var a;n;){if(n.nodeType===3){if(a=e+n.textContent.length,e<=t&&a>=t)return{node:n,offset:t-e};e=a}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=L0(n)}}function Sy(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Sy(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Ay(){for(var e=window,t=iu();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=iu(e.document)}return t}function _f(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function HT(e){var t=Ay(),n=e.focusedElem,a=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&Sy(n.ownerDocument.documentElement,n)){if(a!==null&&_f(n)){if(t=a.start,e=a.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var r=n.textContent.length,i=Math.min(a.start,r);a=a.end===void 0?i:Math.min(a.end,r),!e.extend&&i>a&&(r=a,a=i,i=r),r=O0(n,i);var o=O0(n,a);r&&o&&(e.rangeCount!==1||e.anchorNode!==r.node||e.anchorOffset!==r.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&(t=t.createRange(),t.setStart(r.node,r.offset),e.removeAllRanges(),i>a?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var qT=Ba&&"documentMode"in document&&11>=document.documentMode,Ci=null,ih=null,ts=null,oh=!1;function D0(e,t,n){var a=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;oh||Ci==null||Ci!==iu(a)||(a=Ci,"selectionStart"in a&&_f(a)?a={start:a.selectionStart,end:a.selectionEnd}:(a=(a.ownerDocument&&a.ownerDocument.defaultView||window).getSelection(),a={anchorNode:a.anchorNode,anchorOffset:a.anchorOffset,focusNode:a.focusNode,focusOffset:a.focusOffset}),ts&&xs(ts,a)||(ts=a,a=hu(ih,"onSelect"),0<a.length&&(t=new Cf("onSelect","select",null,t,n),e.push({event:t,listeners:a}),t.target=Ci)))}function xl(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Ni={animationend:xl("Animation","AnimationEnd"),animationiteration:xl("Animation","AnimationIteration"),animationstart:xl("Animation","AnimationStart"),transitionend:xl("Transition","TransitionEnd")},zc={},Cy={};Ba&&(Cy=document.createElement("div").style,"AnimationEvent"in window||(delete Ni.animationend.animation,delete Ni.animationiteration.animation,delete Ni.animationstart.animation),"TransitionEvent"in window||delete Ni.transitionend.transition);function Yu(e){if(zc[e])return zc[e];if(!Ni[e])return e;var t=Ni[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in Cy)return zc[e]=t[n];return e}var Ny=Yu("animationend"),Iy=Yu("animationiteration"),_y=Yu("animationstart"),Ry=Yu("transitionend"),Ly=new Map,P0="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Nr(e,t){Ly.set(e,t),ui(t,[e])}for(var $c=0;$c<P0.length;$c++){var Gc=P0[$c],UT=Gc.toLowerCase(),WT=Gc[0].toUpperCase()+Gc.slice(1);Nr(UT,"on"+WT)}Nr(Ny,"onAnimationEnd");Nr(Iy,"onAnimationIteration");Nr(_y,"onAnimationStart");Nr("dblclick","onDoubleClick");Nr("focusin","onFocus");Nr("focusout","onBlur");Nr(Ry,"onTransitionEnd");Vi("onMouseEnter",["mouseout","mouseover"]);Vi("onMouseLeave",["mouseout","mouseover"]);Vi("onPointerEnter",["pointerout","pointerover"]);Vi("onPointerLeave",["pointerout","pointerover"]);ui("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));ui("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));ui("onBeforeInput",["compositionend","keypress","textInput","paste"]);ui("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));ui("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));ui("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Vo="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),YT=new Set("cancel close invalid load scroll toggle".split(" ").concat(Vo));function M0(e,t,n){var a=e.type||"unknown-event";e.currentTarget=n,Uk(a,t,void 0,e),e.currentTarget=null}function Oy(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var a=e[n],r=a.event;a=a.listeners;e:{var i=void 0;if(t)for(var o=a.length-1;0<=o;o--){var s=a[o],l=s.instance,u=s.currentTarget;if(s=s.listener,l!==i&&r.isPropagationStopped())break e;M0(r,s,u),i=l}else for(o=0;o<a.length;o++){if(s=a[o],l=s.instance,u=s.currentTarget,s=s.listener,l!==i&&r.isPropagationStopped())break e;M0(r,s,u),i=l}}}if(su)throw e=th,su=!1,th=null,e}function lt(e,t){var n=t[dh];n===void 0&&(n=t[dh]=new Set);var a=e+"__bubble";n.has(a)||(Dy(t,e,2,!1),n.add(a))}function Vc(e,t,n){var a=0;t&&(a|=4),Dy(n,e,a,t)}var El="_reactListening"+Math.random().toString(36).slice(2);function Es(e){if(!e[El]){e[El]=!0,q1.forEach(function(n){n!=="selectionchange"&&(YT.has(n)||Vc(n,!1,e),Vc(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[El]||(t[El]=!0,Vc("selectionchange",!1,t))}}function Dy(e,t,n,a){switch(yy(t)){case 1:var r=rT;break;case 4:r=iT;break;default:r=Sf}n=r.bind(null,t,n,e),r=void 0,!eh||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(r=!0),a?r!==void 0?e.addEventListener(t,n,{capture:!0,passive:r}):e.addEventListener(t,n,!0):r!==void 0?e.addEventListener(t,n,{passive:r}):e.addEventListener(t,n,!1)}function Kc(e,t,n,a,r){var i=a;if(!(t&1)&&!(t&2)&&a!==null)e:for(;;){if(a===null)return;var o=a.tag;if(o===3||o===4){var s=a.stateNode.containerInfo;if(s===r||s.nodeType===8&&s.parentNode===r)break;if(o===4)for(o=a.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===r||l.nodeType===8&&l.parentNode===r))return;o=o.return}for(;s!==null;){if(o=Hr(s),o===null)return;if(l=o.tag,l===5||l===6){a=i=o;continue e}s=s.parentNode}}a=a.return}ay(function(){var u=i,d=kf(n),f=[];e:{var m=Ly.get(e);if(m!==void 0){var p=Cf,v=e;switch(e){case"keypress":if($l(n)===0)break e;case"keydown":case"keyup":p=wT;break;case"focusin":v="focus",p=Uc;break;case"focusout":v="blur",p=Uc;break;case"beforeblur":case"afterblur":p=Uc;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=E0;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=lT;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=xT;break;case Ny:case Iy:case _y:p=dT;break;case Ry:p=ST;break;case"scroll":p=oT;break;case"wheel":p=CT;break;case"copy":case"cut":case"paste":p=fT;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=A0}var k=(t&4)!==0,T=!k&&e==="scroll",y=k?m!==null?m+"Capture":null:m;k=[];for(var b=u,x;b!==null;){x=b;var w=x.stateNode;if(x.tag===5&&w!==null&&(x=w,y!==null&&(w=bs(b,y),w!=null&&k.push(Ss(b,w,x)))),T)break;b=b.return}0<k.length&&(m=new p(m,v,null,n,d),f.push({event:m,listeners:k}))}}if(!(t&7)){e:{if(m=e==="mouseover"||e==="pointerover",p=e==="mouseout"||e==="pointerout",m&&n!==Jd&&(v=n.relatedTarget||n.fromElement)&&(Hr(v)||v[Ha]))break e;if((p||m)&&(m=d.window===d?d:(m=d.ownerDocument)?m.defaultView||m.parentWindow:window,p?(v=n.relatedTarget||n.toElement,p=u,v=v?Hr(v):null,v!==null&&(T=ci(v),v!==T||v.tag!==5&&v.tag!==6)&&(v=null)):(p=null,v=u),p!==v)){if(k=E0,w="onMouseLeave",y="onMouseEnter",b="mouse",(e==="pointerout"||e==="pointerover")&&(k=A0,w="onPointerLeave",y="onPointerEnter",b="pointer"),T=p==null?m:Ii(p),x=v==null?m:Ii(v),m=new k(w,b+"leave",p,n,d),m.target=T,m.relatedTarget=x,w=null,Hr(d)===u&&(k=new k(y,b+"enter",v,n,d),k.target=x,k.relatedTarget=T,w=k),T=w,p&&v)t:{for(k=p,y=v,b=0,x=k;x;x=vi(x))b++;for(x=0,w=y;w;w=vi(w))x++;for(;0<b-x;)k=vi(k),b--;for(;0<x-b;)y=vi(y),x--;for(;b--;){if(k===y||y!==null&&k===y.alternate)break t;k=vi(k),y=vi(y)}k=null}else k=null;p!==null&&F0(f,m,p,k,!1),v!==null&&T!==null&&F0(f,T,v,k,!0)}}e:{if(m=u?Ii(u):window,p=m.nodeName&&m.nodeName.toLowerCase(),p==="select"||p==="input"&&m.type==="file")var O=DT;else if(I0(m))if(xy)O=jT;else{O=MT;var N=PT}else(p=m.nodeName)&&p.toLowerCase()==="input"&&(m.type==="checkbox"||m.type==="radio")&&(O=FT);if(O&&(O=O(e,u))){Ty(f,O,n,d);break e}N&&N(e,m,u),e==="focusout"&&(N=m._wrapperState)&&N.controlled&&m.type==="number"&&Gd(m,"number",m.value)}switch(N=u?Ii(u):window,e){case"focusin":(I0(N)||N.contentEditable==="true")&&(Ci=N,ih=u,ts=null);break;case"focusout":ts=ih=Ci=null;break;case"mousedown":oh=!0;break;case"contextmenu":case"mouseup":case"dragend":oh=!1,D0(f,n,d);break;case"selectionchange":if(qT)break;case"keydown":case"keyup":D0(f,n,d)}var R;if(If)e:{switch(e){case"compositionstart":var D="onCompositionStart";break e;case"compositionend":D="onCompositionEnd";break e;case"compositionupdate":D="onCompositionUpdate";break e}D=void 0}else Ai?wy(e,n)&&(D="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(D="onCompositionStart");D&&(vy&&n.locale!=="ko"&&(Ai||D!=="onCompositionStart"?D==="onCompositionEnd"&&Ai&&(R=by()):(dr=d,Af="value"in dr?dr.value:dr.textContent,Ai=!0)),N=hu(u,D),0<N.length&&(D=new S0(D,e,null,n,d),f.push({event:D,listeners:N}),R?D.data=R:(R=ky(n),R!==null&&(D.data=R)))),(R=IT?_T(e,n):RT(e,n))&&(u=hu(u,"onBeforeInput"),0<u.length&&(d=new S0("onBeforeInput","beforeinput",null,n,d),f.push({event:d,listeners:u}),d.data=R))}Oy(f,t)})}function Ss(e,t,n){return{instance:e,listener:t,currentTarget:n}}function hu(e,t){for(var n=t+"Capture",a=[];e!==null;){var r=e,i=r.stateNode;r.tag===5&&i!==null&&(r=i,i=bs(e,n),i!=null&&a.unshift(Ss(e,i,r)),i=bs(e,t),i!=null&&a.push(Ss(e,i,r))),e=e.return}return a}function vi(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function F0(e,t,n,a,r){for(var i=t._reactName,o=[];n!==null&&n!==a;){var s=n,l=s.alternate,u=s.stateNode;if(l!==null&&l===a)break;s.tag===5&&u!==null&&(s=u,r?(l=bs(n,i),l!=null&&o.unshift(Ss(n,l,s))):r||(l=bs(n,i),l!=null&&o.push(Ss(n,l,s)))),n=n.return}o.length!==0&&e.push({event:t,listeners:o})}var zT=/\r\n?/g,$T=/\u0000|\uFFFD/g;function j0(e){return(typeof e=="string"?e:""+e).replace(zT,`
`).replace($T,"")}function Sl(e,t,n){if(t=j0(t),j0(e)!==t&&n)throw Error(J(425))}function fu(){}var sh=null,lh=null;function uh(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var ch=typeof setTimeout=="function"?setTimeout:void 0,GT=typeof clearTimeout=="function"?clearTimeout:void 0,B0=typeof Promise=="function"?Promise:void 0,VT=typeof queueMicrotask=="function"?queueMicrotask:typeof B0<"u"?function(e){return B0.resolve(null).then(e).catch(KT)}:ch;function KT(e){setTimeout(function(){throw e})}function Qc(e,t){var n=t,a=0;do{var r=n.nextSibling;if(e.removeChild(n),r&&r.nodeType===8)if(n=r.data,n==="/$"){if(a===0){e.removeChild(r),ks(t);return}a--}else n!=="$"&&n!=="$?"&&n!=="$!"||a++;n=r}while(n);ks(t)}function br(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function H0(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var oo=Math.random().toString(36).slice(2),ya="__reactFiber$"+oo,As="__reactProps$"+oo,Ha="__reactContainer$"+oo,dh="__reactEvents$"+oo,QT="__reactListeners$"+oo,XT="__reactHandles$"+oo;function Hr(e){var t=e[ya];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Ha]||n[ya]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=H0(e);e!==null;){if(n=e[ya])return n;e=H0(e)}return t}e=n,n=e.parentNode}return null}function zs(e){return e=e[ya]||e[Ha],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Ii(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(J(33))}function zu(e){return e[As]||null}var hh=[],_i=-1;function Ir(e){return{current:e}}function ct(e){0>_i||(e.current=hh[_i],hh[_i]=null,_i--)}function it(e,t){_i++,hh[_i]=e.current,e.current=t}var Cr={},Qt=Ir(Cr),mn=Ir(!1),Zr=Cr;function Ki(e,t){var n=e.type.contextTypes;if(!n)return Cr;var a=e.stateNode;if(a&&a.__reactInternalMemoizedUnmaskedChildContext===t)return a.__reactInternalMemoizedMaskedChildContext;var r={},i;for(i in n)r[i]=t[i];return a&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=r),r}function pn(e){return e=e.childContextTypes,e!=null}function mu(){ct(mn),ct(Qt)}function q0(e,t,n){if(Qt.current!==Cr)throw Error(J(168));it(Qt,t),it(mn,n)}function Py(e,t,n){var a=e.stateNode;if(t=t.childContextTypes,typeof a.getChildContext!="function")return n;a=a.getChildContext();for(var r in a)if(!(r in t))throw Error(J(108,Pk(e)||"Unknown",r));return vt({},n,a)}function pu(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Cr,Zr=Qt.current,it(Qt,e),it(mn,mn.current),!0}function U0(e,t,n){var a=e.stateNode;if(!a)throw Error(J(169));n?(e=Py(e,t,Zr),a.__reactInternalMemoizedMergedChildContext=e,ct(mn),ct(Qt),it(Qt,e)):ct(mn),it(mn,n)}var Ra=null,$u=!1,Xc=!1;function My(e){Ra===null?Ra=[e]:Ra.push(e)}function JT(e){$u=!0,My(e)}function _r(){if(!Xc&&Ra!==null){Xc=!0;var e=0,t=Ze;try{var n=Ra;for(Ze=1;e<n.length;e++){var a=n[e];do a=a(!0);while(a!==null)}Ra=null,$u=!1}catch(r){throw Ra!==null&&(Ra=Ra.slice(e+1)),sy(Tf,_r),r}finally{Ze=t,Xc=!1}}return null}var Ri=[],Li=0,gu=null,yu=0,On=[],Dn=0,ei=null,La=1,Oa="";function Mr(e,t){Ri[Li++]=yu,Ri[Li++]=gu,gu=e,yu=t}function Fy(e,t,n){On[Dn++]=La,On[Dn++]=Oa,On[Dn++]=ei,ei=e;var a=La;e=Oa;var r=32-ea(a)-1;a&=~(1<<r),n+=1;var i=32-ea(t)+r;if(30<i){var o=r-r%5;i=(a&(1<<o)-1).toString(32),a>>=o,r-=o,La=1<<32-ea(t)+r|n<<r|a,Oa=i+e}else La=1<<i|n<<r|a,Oa=e}function Rf(e){e.return!==null&&(Mr(e,1),Fy(e,1,0))}function Lf(e){for(;e===gu;)gu=Ri[--Li],Ri[Li]=null,yu=Ri[--Li],Ri[Li]=null;for(;e===ei;)ei=On[--Dn],On[Dn]=null,Oa=On[--Dn],On[Dn]=null,La=On[--Dn],On[Dn]=null}var xn=null,kn=null,pt=!1,Jn=null;function jy(e,t){var n=Mn(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function W0(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,xn=e,kn=br(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,xn=e,kn=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=ei!==null?{id:La,overflow:Oa}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=Mn(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,xn=e,kn=null,!0):!1;default:return!1}}function fh(e){return(e.mode&1)!==0&&(e.flags&128)===0}function mh(e){if(pt){var t=kn;if(t){var n=t;if(!W0(e,t)){if(fh(e))throw Error(J(418));t=br(n.nextSibling);var a=xn;t&&W0(e,t)?jy(a,n):(e.flags=e.flags&-4097|2,pt=!1,xn=e)}}else{if(fh(e))throw Error(J(418));e.flags=e.flags&-4097|2,pt=!1,xn=e}}}function Y0(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;xn=e}function Al(e){if(e!==xn)return!1;if(!pt)return Y0(e),pt=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!uh(e.type,e.memoizedProps)),t&&(t=kn)){if(fh(e))throw By(),Error(J(418));for(;t;)jy(e,t),t=br(t.nextSibling)}if(Y0(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(J(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){kn=br(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}kn=null}}else kn=xn?br(e.stateNode.nextSibling):null;return!0}function By(){for(var e=kn;e;)e=br(e.nextSibling)}function Qi(){kn=xn=null,pt=!1}function Of(e){Jn===null?Jn=[e]:Jn.push(e)}var ZT=Wa.ReactCurrentBatchConfig;function Vn(e,t){if(e&&e.defaultProps){t=vt({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}var bu=Ir(null),vu=null,Oi=null,Df=null;function Pf(){Df=Oi=vu=null}function Mf(e){var t=bu.current;ct(bu),e._currentValue=t}function ph(e,t,n){for(;e!==null;){var a=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,a!==null&&(a.childLanes|=t)):a!==null&&(a.childLanes&t)!==t&&(a.childLanes|=t),e===n)break;e=e.return}}function Ui(e,t){vu=e,Df=Oi=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(fn=!0),e.firstContext=null)}function jn(e){var t=e._currentValue;if(Df!==e)if(e={context:e,memoizedValue:t,next:null},Oi===null){if(vu===null)throw Error(J(308));Oi=e,vu.dependencies={lanes:0,firstContext:e}}else Oi=Oi.next=e;return t}var qr=null;function Ff(e){qr===null?qr=[e]:qr.push(e)}function Hy(e,t,n,a){var r=t.interleaved;return r===null?(n.next=n,Ff(t)):(n.next=r.next,r.next=n),t.interleaved=n,qa(e,a)}function qa(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var or=!1;function jf(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function qy(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Pa(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function vr(e,t,n){var a=e.updateQueue;if(a===null)return null;if(a=a.shared,We&2){var r=a.pending;return r===null?t.next=t:(t.next=r.next,r.next=t),a.pending=t,qa(e,n)}return r=a.interleaved,r===null?(t.next=t,Ff(a)):(t.next=r.next,r.next=t),a.interleaved=t,qa(e,n)}function Gl(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var a=t.lanes;a&=e.pendingLanes,n|=a,t.lanes=n,xf(e,n)}}function z0(e,t){var n=e.updateQueue,a=e.alternate;if(a!==null&&(a=a.updateQueue,n===a)){var r=null,i=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};i===null?r=i=o:i=i.next=o,n=n.next}while(n!==null);i===null?r=i=t:i=i.next=t}else r=i=t;n={baseState:a.baseState,firstBaseUpdate:r,lastBaseUpdate:i,shared:a.shared,effects:a.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function wu(e,t,n,a){var r=e.updateQueue;or=!1;var i=r.firstBaseUpdate,o=r.lastBaseUpdate,s=r.shared.pending;if(s!==null){r.shared.pending=null;var l=s,u=l.next;l.next=null,o===null?i=u:o.next=u,o=l;var d=e.alternate;d!==null&&(d=d.updateQueue,s=d.lastBaseUpdate,s!==o&&(s===null?d.firstBaseUpdate=u:s.next=u,d.lastBaseUpdate=l))}if(i!==null){var f=r.baseState;o=0,d=u=l=null,s=i;do{var m=s.lane,p=s.eventTime;if((a&m)===m){d!==null&&(d=d.next={eventTime:p,lane:0,tag:s.tag,payload:s.payload,callback:s.callback,next:null});e:{var v=e,k=s;switch(m=t,p=n,k.tag){case 1:if(v=k.payload,typeof v=="function"){f=v.call(p,f,m);break e}f=v;break e;case 3:v.flags=v.flags&-65537|128;case 0:if(v=k.payload,m=typeof v=="function"?v.call(p,f,m):v,m==null)break e;f=vt({},f,m);break e;case 2:or=!0}}s.callback!==null&&s.lane!==0&&(e.flags|=64,m=r.effects,m===null?r.effects=[s]:m.push(s))}else p={eventTime:p,lane:m,tag:s.tag,payload:s.payload,callback:s.callback,next:null},d===null?(u=d=p,l=f):d=d.next=p,o|=m;if(s=s.next,s===null){if(s=r.shared.pending,s===null)break;m=s,s=m.next,m.next=null,r.lastBaseUpdate=m,r.shared.pending=null}}while(!0);if(d===null&&(l=f),r.baseState=l,r.firstBaseUpdate=u,r.lastBaseUpdate=d,t=r.shared.interleaved,t!==null){r=t;do o|=r.lane,r=r.next;while(r!==t)}else i===null&&(r.shared.lanes=0);ni|=o,e.lanes=o,e.memoizedState=f}}function $0(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var a=e[t],r=a.callback;if(r!==null){if(a.callback=null,a=n,typeof r!="function")throw Error(J(191,r));r.call(a)}}}var Uy=new H1.Component().refs;function gh(e,t,n,a){t=e.memoizedState,n=n(a,t),n=n==null?t:vt({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var Gu={isMounted:function(e){return(e=e._reactInternals)?ci(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var a=rn(),r=kr(e),i=Pa(a,r);i.payload=t,n!=null&&(i.callback=n),t=vr(e,i,r),t!==null&&(ta(t,e,r,a),Gl(t,e,r))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var a=rn(),r=kr(e),i=Pa(a,r);i.tag=1,i.payload=t,n!=null&&(i.callback=n),t=vr(e,i,r),t!==null&&(ta(t,e,r,a),Gl(t,e,r))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=rn(),a=kr(e),r=Pa(n,a);r.tag=2,t!=null&&(r.callback=t),t=vr(e,r,a),t!==null&&(ta(t,e,a,n),Gl(t,e,a))}};function G0(e,t,n,a,r,i,o){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(a,i,o):t.prototype&&t.prototype.isPureReactComponent?!xs(n,a)||!xs(r,i):!0}function Wy(e,t,n){var a=!1,r=Cr,i=t.contextType;return typeof i=="object"&&i!==null?i=jn(i):(r=pn(t)?Zr:Qt.current,a=t.contextTypes,i=(a=a!=null)?Ki(e,r):Cr),t=new t(n,i),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Gu,e.stateNode=t,t._reactInternals=e,a&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=r,e.__reactInternalMemoizedMaskedChildContext=i),t}function V0(e,t,n,a){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,a),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,a),t.state!==e&&Gu.enqueueReplaceState(t,t.state,null)}function yh(e,t,n,a){var r=e.stateNode;r.props=n,r.state=e.memoizedState,r.refs=Uy,jf(e);var i=t.contextType;typeof i=="object"&&i!==null?r.context=jn(i):(i=pn(t)?Zr:Qt.current,r.context=Ki(e,i)),r.state=e.memoizedState,i=t.getDerivedStateFromProps,typeof i=="function"&&(gh(e,t,i,n),r.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof r.getSnapshotBeforeUpdate=="function"||typeof r.UNSAFE_componentWillMount!="function"&&typeof r.componentWillMount!="function"||(t=r.state,typeof r.componentWillMount=="function"&&r.componentWillMount(),typeof r.UNSAFE_componentWillMount=="function"&&r.UNSAFE_componentWillMount(),t!==r.state&&Gu.enqueueReplaceState(r,r.state,null),wu(e,n,r,a),r.state=e.memoizedState),typeof r.componentDidMount=="function"&&(e.flags|=4194308)}function No(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(J(309));var a=n.stateNode}if(!a)throw Error(J(147,e));var r=a,i=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===i?t.ref:(t=function(o){var s=r.refs;s===Uy&&(s=r.refs={}),o===null?delete s[i]:s[i]=o},t._stringRef=i,t)}if(typeof e!="string")throw Error(J(284));if(!n._owner)throw Error(J(290,e))}return e}function Cl(e,t){throw e=Object.prototype.toString.call(t),Error(J(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function K0(e){var t=e._init;return t(e._payload)}function Yy(e){function t(y,b){if(e){var x=y.deletions;x===null?(y.deletions=[b],y.flags|=16):x.push(b)}}function n(y,b){if(!e)return null;for(;b!==null;)t(y,b),b=b.sibling;return null}function a(y,b){for(y=new Map;b!==null;)b.key!==null?y.set(b.key,b):y.set(b.index,b),b=b.sibling;return y}function r(y,b){return y=Tr(y,b),y.index=0,y.sibling=null,y}function i(y,b,x){return y.index=x,e?(x=y.alternate,x!==null?(x=x.index,x<b?(y.flags|=2,b):x):(y.flags|=2,b)):(y.flags|=1048576,b)}function o(y){return e&&y.alternate===null&&(y.flags|=2),y}function s(y,b,x,w){return b===null||b.tag!==6?(b=rd(x,y.mode,w),b.return=y,b):(b=r(b,x),b.return=y,b)}function l(y,b,x,w){var O=x.type;return O===Si?d(y,b,x.props.children,w,x.key):b!==null&&(b.elementType===O||typeof O=="object"&&O!==null&&O.$$typeof===ir&&K0(O)===b.type)?(w=r(b,x.props),w.ref=No(y,b,x),w.return=y,w):(w=Zl(x.type,x.key,x.props,null,y.mode,w),w.ref=No(y,b,x),w.return=y,w)}function u(y,b,x,w){return b===null||b.tag!==4||b.stateNode.containerInfo!==x.containerInfo||b.stateNode.implementation!==x.implementation?(b=id(x,y.mode,w),b.return=y,b):(b=r(b,x.children||[]),b.return=y,b)}function d(y,b,x,w,O){return b===null||b.tag!==7?(b=Kr(x,y.mode,w,O),b.return=y,b):(b=r(b,x),b.return=y,b)}function f(y,b,x){if(typeof b=="string"&&b!==""||typeof b=="number")return b=rd(""+b,y.mode,x),b.return=y,b;if(typeof b=="object"&&b!==null){switch(b.$$typeof){case gl:return x=Zl(b.type,b.key,b.props,null,y.mode,x),x.ref=No(y,null,b),x.return=y,x;case Ei:return b=id(b,y.mode,x),b.return=y,b;case ir:var w=b._init;return f(y,w(b._payload),x)}if($o(b)||xo(b))return b=Kr(b,y.mode,x,null),b.return=y,b;Cl(y,b)}return null}function m(y,b,x,w){var O=b!==null?b.key:null;if(typeof x=="string"&&x!==""||typeof x=="number")return O!==null?null:s(y,b,""+x,w);if(typeof x=="object"&&x!==null){switch(x.$$typeof){case gl:return x.key===O?l(y,b,x,w):null;case Ei:return x.key===O?u(y,b,x,w):null;case ir:return O=x._init,m(y,b,O(x._payload),w)}if($o(x)||xo(x))return O!==null?null:d(y,b,x,w,null);Cl(y,x)}return null}function p(y,b,x,w,O){if(typeof w=="string"&&w!==""||typeof w=="number")return y=y.get(x)||null,s(b,y,""+w,O);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case gl:return y=y.get(w.key===null?x:w.key)||null,l(b,y,w,O);case Ei:return y=y.get(w.key===null?x:w.key)||null,u(b,y,w,O);case ir:var N=w._init;return p(y,b,x,N(w._payload),O)}if($o(w)||xo(w))return y=y.get(x)||null,d(b,y,w,O,null);Cl(b,w)}return null}function v(y,b,x,w){for(var O=null,N=null,R=b,D=b=0,P=null;R!==null&&D<x.length;D++){R.index>D?(P=R,R=null):P=R.sibling;var _=m(y,R,x[D],w);if(_===null){R===null&&(R=P);break}e&&R&&_.alternate===null&&t(y,R),b=i(_,b,D),N===null?O=_:N.sibling=_,N=_,R=P}if(D===x.length)return n(y,R),pt&&Mr(y,D),O;if(R===null){for(;D<x.length;D++)R=f(y,x[D],w),R!==null&&(b=i(R,b,D),N===null?O=R:N.sibling=R,N=R);return pt&&Mr(y,D),O}for(R=a(y,R);D<x.length;D++)P=p(R,y,D,x[D],w),P!==null&&(e&&P.alternate!==null&&R.delete(P.key===null?D:P.key),b=i(P,b,D),N===null?O=P:N.sibling=P,N=P);return e&&R.forEach(function(S){return t(y,S)}),pt&&Mr(y,D),O}function k(y,b,x,w){var O=xo(x);if(typeof O!="function")throw Error(J(150));if(x=O.call(x),x==null)throw Error(J(151));for(var N=O=null,R=b,D=b=0,P=null,_=x.next();R!==null&&!_.done;D++,_=x.next()){R.index>D?(P=R,R=null):P=R.sibling;var S=m(y,R,_.value,w);if(S===null){R===null&&(R=P);break}e&&R&&S.alternate===null&&t(y,R),b=i(S,b,D),N===null?O=S:N.sibling=S,N=S,R=P}if(_.done)return n(y,R),pt&&Mr(y,D),O;if(R===null){for(;!_.done;D++,_=x.next())_=f(y,_.value,w),_!==null&&(b=i(_,b,D),N===null?O=_:N.sibling=_,N=_);return pt&&Mr(y,D),O}for(R=a(y,R);!_.done;D++,_=x.next())_=p(R,y,D,_.value,w),_!==null&&(e&&_.alternate!==null&&R.delete(_.key===null?D:_.key),b=i(_,b,D),N===null?O=_:N.sibling=_,N=_);return e&&R.forEach(function(M){return t(y,M)}),pt&&Mr(y,D),O}function T(y,b,x,w){if(typeof x=="object"&&x!==null&&x.type===Si&&x.key===null&&(x=x.props.children),typeof x=="object"&&x!==null){switch(x.$$typeof){case gl:e:{for(var O=x.key,N=b;N!==null;){if(N.key===O){if(O=x.type,O===Si){if(N.tag===7){n(y,N.sibling),b=r(N,x.props.children),b.return=y,y=b;break e}}else if(N.elementType===O||typeof O=="object"&&O!==null&&O.$$typeof===ir&&K0(O)===N.type){n(y,N.sibling),b=r(N,x.props),b.ref=No(y,N,x),b.return=y,y=b;break e}n(y,N);break}else t(y,N);N=N.sibling}x.type===Si?(b=Kr(x.props.children,y.mode,w,x.key),b.return=y,y=b):(w=Zl(x.type,x.key,x.props,null,y.mode,w),w.ref=No(y,b,x),w.return=y,y=w)}return o(y);case Ei:e:{for(N=x.key;b!==null;){if(b.key===N)if(b.tag===4&&b.stateNode.containerInfo===x.containerInfo&&b.stateNode.implementation===x.implementation){n(y,b.sibling),b=r(b,x.children||[]),b.return=y,y=b;break e}else{n(y,b);break}else t(y,b);b=b.sibling}b=id(x,y.mode,w),b.return=y,y=b}return o(y);case ir:return N=x._init,T(y,b,N(x._payload),w)}if($o(x))return v(y,b,x,w);if(xo(x))return k(y,b,x,w);Cl(y,x)}return typeof x=="string"&&x!==""||typeof x=="number"?(x=""+x,b!==null&&b.tag===6?(n(y,b.sibling),b=r(b,x),b.return=y,y=b):(n(y,b),b=rd(x,y.mode,w),b.return=y,y=b),o(y)):n(y,b)}return T}var Xi=Yy(!0),zy=Yy(!1),$s={},xa=Ir($s),Cs=Ir($s),Ns=Ir($s);function Ur(e){if(e===$s)throw Error(J(174));return e}function Bf(e,t){switch(it(Ns,t),it(Cs,e),it(xa,$s),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Kd(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=Kd(t,e)}ct(xa),it(xa,t)}function Ji(){ct(xa),ct(Cs),ct(Ns)}function $y(e){Ur(Ns.current);var t=Ur(xa.current),n=Kd(t,e.type);t!==n&&(it(Cs,e),it(xa,n))}function Hf(e){Cs.current===e&&(ct(xa),ct(Cs))}var yt=Ir(0);function ku(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Jc=[];function qf(){for(var e=0;e<Jc.length;e++)Jc[e]._workInProgressVersionPrimary=null;Jc.length=0}var Vl=Wa.ReactCurrentDispatcher,Zc=Wa.ReactCurrentBatchConfig,ti=0,bt=null,_t=null,Dt=null,Tu=!1,ns=!1,Is=0,ex=0;function $t(){throw Error(J(321))}function Uf(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!ia(e[n],t[n]))return!1;return!0}function Wf(e,t,n,a,r,i){if(ti=i,bt=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Vl.current=e===null||e.memoizedState===null?rx:ix,e=n(a,r),ns){i=0;do{if(ns=!1,Is=0,25<=i)throw Error(J(301));i+=1,Dt=_t=null,t.updateQueue=null,Vl.current=ox,e=n(a,r)}while(ns)}if(Vl.current=xu,t=_t!==null&&_t.next!==null,ti=0,Dt=_t=bt=null,Tu=!1,t)throw Error(J(300));return e}function Yf(){var e=Is!==0;return Is=0,e}function fa(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Dt===null?bt.memoizedState=Dt=e:Dt=Dt.next=e,Dt}function Bn(){if(_t===null){var e=bt.alternate;e=e!==null?e.memoizedState:null}else e=_t.next;var t=Dt===null?bt.memoizedState:Dt.next;if(t!==null)Dt=t,_t=e;else{if(e===null)throw Error(J(310));_t=e,e={memoizedState:_t.memoizedState,baseState:_t.baseState,baseQueue:_t.baseQueue,queue:_t.queue,next:null},Dt===null?bt.memoizedState=Dt=e:Dt=Dt.next=e}return Dt}function _s(e,t){return typeof t=="function"?t(e):t}function ed(e){var t=Bn(),n=t.queue;if(n===null)throw Error(J(311));n.lastRenderedReducer=e;var a=_t,r=a.baseQueue,i=n.pending;if(i!==null){if(r!==null){var o=r.next;r.next=i.next,i.next=o}a.baseQueue=r=i,n.pending=null}if(r!==null){i=r.next,a=a.baseState;var s=o=null,l=null,u=i;do{var d=u.lane;if((ti&d)===d)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),a=u.hasEagerState?u.eagerState:e(a,u.action);else{var f={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(s=l=f,o=a):l=l.next=f,bt.lanes|=d,ni|=d}u=u.next}while(u!==null&&u!==i);l===null?o=a:l.next=s,ia(a,t.memoizedState)||(fn=!0),t.memoizedState=a,t.baseState=o,t.baseQueue=l,n.lastRenderedState=a}if(e=n.interleaved,e!==null){r=e;do i=r.lane,bt.lanes|=i,ni|=i,r=r.next;while(r!==e)}else r===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function td(e){var t=Bn(),n=t.queue;if(n===null)throw Error(J(311));n.lastRenderedReducer=e;var a=n.dispatch,r=n.pending,i=t.memoizedState;if(r!==null){n.pending=null;var o=r=r.next;do i=e(i,o.action),o=o.next;while(o!==r);ia(i,t.memoizedState)||(fn=!0),t.memoizedState=i,t.baseQueue===null&&(t.baseState=i),n.lastRenderedState=i}return[i,a]}function Gy(){}function Vy(e,t){var n=bt,a=Bn(),r=t(),i=!ia(a.memoizedState,r);if(i&&(a.memoizedState=r,fn=!0),a=a.queue,zf(Xy.bind(null,n,a,e),[e]),a.getSnapshot!==t||i||Dt!==null&&Dt.memoizedState.tag&1){if(n.flags|=2048,Rs(9,Qy.bind(null,n,a,r,t),void 0,null),Mt===null)throw Error(J(349));ti&30||Ky(n,t,r)}return r}function Ky(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=bt.updateQueue,t===null?(t={lastEffect:null,stores:null},bt.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function Qy(e,t,n,a){t.value=n,t.getSnapshot=a,Jy(t)&&Zy(e)}function Xy(e,t,n){return n(function(){Jy(t)&&Zy(e)})}function Jy(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!ia(e,n)}catch{return!0}}function Zy(e){var t=qa(e,1);t!==null&&ta(t,e,1,-1)}function Q0(e){var t=fa();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:_s,lastRenderedState:e},t.queue=e,e=e.dispatch=ax.bind(null,bt,e),[t.memoizedState,e]}function Rs(e,t,n,a){return e={tag:e,create:t,destroy:n,deps:a,next:null},t=bt.updateQueue,t===null?(t={lastEffect:null,stores:null},bt.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(a=n.next,n.next=e,e.next=a,t.lastEffect=e)),e}function e2(){return Bn().memoizedState}function Kl(e,t,n,a){var r=fa();bt.flags|=e,r.memoizedState=Rs(1|t,n,void 0,a===void 0?null:a)}function Vu(e,t,n,a){var r=Bn();a=a===void 0?null:a;var i=void 0;if(_t!==null){var o=_t.memoizedState;if(i=o.destroy,a!==null&&Uf(a,o.deps)){r.memoizedState=Rs(t,n,i,a);return}}bt.flags|=e,r.memoizedState=Rs(1|t,n,i,a)}function X0(e,t){return Kl(8390656,8,e,t)}function zf(e,t){return Vu(2048,8,e,t)}function t2(e,t){return Vu(4,2,e,t)}function n2(e,t){return Vu(4,4,e,t)}function a2(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function r2(e,t,n){return n=n!=null?n.concat([e]):null,Vu(4,4,a2.bind(null,t,e),n)}function $f(){}function i2(e,t){var n=Bn();t=t===void 0?null:t;var a=n.memoizedState;return a!==null&&t!==null&&Uf(t,a[1])?a[0]:(n.memoizedState=[e,t],e)}function o2(e,t){var n=Bn();t=t===void 0?null:t;var a=n.memoizedState;return a!==null&&t!==null&&Uf(t,a[1])?a[0]:(e=e(),n.memoizedState=[e,t],e)}function s2(e,t,n){return ti&21?(ia(n,t)||(n=cy(),bt.lanes|=n,ni|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,fn=!0),e.memoizedState=n)}function tx(e,t){var n=Ze;Ze=n!==0&&4>n?n:4,e(!0);var a=Zc.transition;Zc.transition={};try{e(!1),t()}finally{Ze=n,Zc.transition=a}}function l2(){return Bn().memoizedState}function nx(e,t,n){var a=kr(e);if(n={lane:a,action:n,hasEagerState:!1,eagerState:null,next:null},u2(e))c2(t,n);else if(n=Hy(e,t,n,a),n!==null){var r=rn();ta(n,e,a,r),d2(n,t,a)}}function ax(e,t,n){var a=kr(e),r={lane:a,action:n,hasEagerState:!1,eagerState:null,next:null};if(u2(e))c2(t,r);else{var i=e.alternate;if(e.lanes===0&&(i===null||i.lanes===0)&&(i=t.lastRenderedReducer,i!==null))try{var o=t.lastRenderedState,s=i(o,n);if(r.hasEagerState=!0,r.eagerState=s,ia(s,o)){var l=t.interleaved;l===null?(r.next=r,Ff(t)):(r.next=l.next,l.next=r),t.interleaved=r;return}}catch{}finally{}n=Hy(e,t,r,a),n!==null&&(r=rn(),ta(n,e,a,r),d2(n,t,a))}}function u2(e){var t=e.alternate;return e===bt||t!==null&&t===bt}function c2(e,t){ns=Tu=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function d2(e,t,n){if(n&4194240){var a=t.lanes;a&=e.pendingLanes,n|=a,t.lanes=n,xf(e,n)}}var xu={readContext:jn,useCallback:$t,useContext:$t,useEffect:$t,useImperativeHandle:$t,useInsertionEffect:$t,useLayoutEffect:$t,useMemo:$t,useReducer:$t,useRef:$t,useState:$t,useDebugValue:$t,useDeferredValue:$t,useTransition:$t,useMutableSource:$t,useSyncExternalStore:$t,useId:$t,unstable_isNewReconciler:!1},rx={readContext:jn,useCallback:function(e,t){return fa().memoizedState=[e,t===void 0?null:t],e},useContext:jn,useEffect:X0,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,Kl(4194308,4,a2.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Kl(4194308,4,e,t)},useInsertionEffect:function(e,t){return Kl(4,2,e,t)},useMemo:function(e,t){var n=fa();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var a=fa();return t=n!==void 0?n(t):t,a.memoizedState=a.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},a.queue=e,e=e.dispatch=nx.bind(null,bt,e),[a.memoizedState,e]},useRef:function(e){var t=fa();return e={current:e},t.memoizedState=e},useState:Q0,useDebugValue:$f,useDeferredValue:function(e){return fa().memoizedState=e},useTransition:function(){var e=Q0(!1),t=e[0];return e=tx.bind(null,e[1]),fa().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var a=bt,r=fa();if(pt){if(n===void 0)throw Error(J(407));n=n()}else{if(n=t(),Mt===null)throw Error(J(349));ti&30||Ky(a,t,n)}r.memoizedState=n;var i={value:n,getSnapshot:t};return r.queue=i,X0(Xy.bind(null,a,i,e),[e]),a.flags|=2048,Rs(9,Qy.bind(null,a,i,n,t),void 0,null),n},useId:function(){var e=fa(),t=Mt.identifierPrefix;if(pt){var n=Oa,a=La;n=(a&~(1<<32-ea(a)-1)).toString(32)+n,t=":"+t+"R"+n,n=Is++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=ex++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},ix={readContext:jn,useCallback:i2,useContext:jn,useEffect:zf,useImperativeHandle:r2,useInsertionEffect:t2,useLayoutEffect:n2,useMemo:o2,useReducer:ed,useRef:e2,useState:function(){return ed(_s)},useDebugValue:$f,useDeferredValue:function(e){var t=Bn();return s2(t,_t.memoizedState,e)},useTransition:function(){var e=ed(_s)[0],t=Bn().memoizedState;return[e,t]},useMutableSource:Gy,useSyncExternalStore:Vy,useId:l2,unstable_isNewReconciler:!1},ox={readContext:jn,useCallback:i2,useContext:jn,useEffect:zf,useImperativeHandle:r2,useInsertionEffect:t2,useLayoutEffect:n2,useMemo:o2,useReducer:td,useRef:e2,useState:function(){return td(_s)},useDebugValue:$f,useDeferredValue:function(e){var t=Bn();return _t===null?t.memoizedState=e:s2(t,_t.memoizedState,e)},useTransition:function(){var e=td(_s)[0],t=Bn().memoizedState;return[e,t]},useMutableSource:Gy,useSyncExternalStore:Vy,useId:l2,unstable_isNewReconciler:!1};function Zi(e,t){try{var n="",a=t;do n+=Dk(a),a=a.return;while(a);var r=n}catch(i){r=`
Error generating stack: `+i.message+`
`+i.stack}return{value:e,source:t,stack:r,digest:null}}function nd(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function bh(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var sx=typeof WeakMap=="function"?WeakMap:Map;function h2(e,t,n){n=Pa(-1,n),n.tag=3,n.payload={element:null};var a=t.value;return n.callback=function(){Su||(Su=!0,Nh=a),bh(e,t)},n}function f2(e,t,n){n=Pa(-1,n),n.tag=3;var a=e.type.getDerivedStateFromError;if(typeof a=="function"){var r=t.value;n.payload=function(){return a(r)},n.callback=function(){bh(e,t)}}var i=e.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(n.callback=function(){bh(e,t),typeof a!="function"&&(wr===null?wr=new Set([this]):wr.add(this));var o=t.stack;this.componentDidCatch(t.value,{componentStack:o!==null?o:""})}),n}function J0(e,t,n){var a=e.pingCache;if(a===null){a=e.pingCache=new sx;var r=new Set;a.set(t,r)}else r=a.get(t),r===void 0&&(r=new Set,a.set(t,r));r.has(n)||(r.add(n),e=kx.bind(null,e,t,n),t.then(e,e))}function Z0(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function ep(e,t,n,a,r){return e.mode&1?(e.flags|=65536,e.lanes=r,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=Pa(-1,1),t.tag=2,vr(n,t,1))),n.lanes|=1),e)}var lx=Wa.ReactCurrentOwner,fn=!1;function tn(e,t,n,a){t.child=e===null?zy(t,null,n,a):Xi(t,e.child,n,a)}function tp(e,t,n,a,r){n=n.render;var i=t.ref;return Ui(t,r),a=Wf(e,t,n,a,i,r),n=Yf(),e!==null&&!fn?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~r,Ua(e,t,r)):(pt&&n&&Rf(t),t.flags|=1,tn(e,t,a,r),t.child)}function np(e,t,n,a,r){if(e===null){var i=n.type;return typeof i=="function"&&!em(i)&&i.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=i,m2(e,t,i,a,r)):(e=Zl(n.type,null,a,t,t.mode,r),e.ref=t.ref,e.return=t,t.child=e)}if(i=e.child,!(e.lanes&r)){var o=i.memoizedProps;if(n=n.compare,n=n!==null?n:xs,n(o,a)&&e.ref===t.ref)return Ua(e,t,r)}return t.flags|=1,e=Tr(i,a),e.ref=t.ref,e.return=t,t.child=e}function m2(e,t,n,a,r){if(e!==null){var i=e.memoizedProps;if(xs(i,a)&&e.ref===t.ref)if(fn=!1,t.pendingProps=a=i,(e.lanes&r)!==0)e.flags&131072&&(fn=!0);else return t.lanes=e.lanes,Ua(e,t,r)}return vh(e,t,n,a,r)}function p2(e,t,n){var a=t.pendingProps,r=a.children,i=e!==null?e.memoizedState:null;if(a.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},it(Pi,vn),vn|=n;else{if(!(n&1073741824))return e=i!==null?i.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,it(Pi,vn),vn|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},a=i!==null?i.baseLanes:n,it(Pi,vn),vn|=a}else i!==null?(a=i.baseLanes|n,t.memoizedState=null):a=n,it(Pi,vn),vn|=a;return tn(e,t,r,n),t.child}function g2(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function vh(e,t,n,a,r){var i=pn(n)?Zr:Qt.current;return i=Ki(t,i),Ui(t,r),n=Wf(e,t,n,a,i,r),a=Yf(),e!==null&&!fn?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~r,Ua(e,t,r)):(pt&&a&&Rf(t),t.flags|=1,tn(e,t,n,r),t.child)}function ap(e,t,n,a,r){if(pn(n)){var i=!0;pu(t)}else i=!1;if(Ui(t,r),t.stateNode===null)Ql(e,t),Wy(t,n,a),yh(t,n,a,r),a=!0;else if(e===null){var o=t.stateNode,s=t.memoizedProps;o.props=s;var l=o.context,u=n.contextType;typeof u=="object"&&u!==null?u=jn(u):(u=pn(n)?Zr:Qt.current,u=Ki(t,u));var d=n.getDerivedStateFromProps,f=typeof d=="function"||typeof o.getSnapshotBeforeUpdate=="function";f||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(s!==a||l!==u)&&V0(t,o,a,u),or=!1;var m=t.memoizedState;o.state=m,wu(t,a,o,r),l=t.memoizedState,s!==a||m!==l||mn.current||or?(typeof d=="function"&&(gh(t,n,d,a),l=t.memoizedState),(s=or||G0(t,n,s,a,m,l,u))?(f||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(t.flags|=4194308)):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=a,t.memoizedState=l),o.props=a,o.state=l,o.context=u,a=s):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),a=!1)}else{o=t.stateNode,qy(e,t),s=t.memoizedProps,u=t.type===t.elementType?s:Vn(t.type,s),o.props=u,f=t.pendingProps,m=o.context,l=n.contextType,typeof l=="object"&&l!==null?l=jn(l):(l=pn(n)?Zr:Qt.current,l=Ki(t,l));var p=n.getDerivedStateFromProps;(d=typeof p=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(s!==f||m!==l)&&V0(t,o,a,l),or=!1,m=t.memoizedState,o.state=m,wu(t,a,o,r);var v=t.memoizedState;s!==f||m!==v||mn.current||or?(typeof p=="function"&&(gh(t,n,p,a),v=t.memoizedState),(u=or||G0(t,n,u,a,m,v,l)||!1)?(d||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(a,v,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(a,v,l)),typeof o.componentDidUpdate=="function"&&(t.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof o.componentDidUpdate!="function"||s===e.memoizedProps&&m===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||s===e.memoizedProps&&m===e.memoizedState||(t.flags|=1024),t.memoizedProps=a,t.memoizedState=v),o.props=a,o.state=v,o.context=l,a=u):(typeof o.componentDidUpdate!="function"||s===e.memoizedProps&&m===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||s===e.memoizedProps&&m===e.memoizedState||(t.flags|=1024),a=!1)}return wh(e,t,n,a,i,r)}function wh(e,t,n,a,r,i){g2(e,t);var o=(t.flags&128)!==0;if(!a&&!o)return r&&U0(t,n,!1),Ua(e,t,i);a=t.stateNode,lx.current=t;var s=o&&typeof n.getDerivedStateFromError!="function"?null:a.render();return t.flags|=1,e!==null&&o?(t.child=Xi(t,e.child,null,i),t.child=Xi(t,null,s,i)):tn(e,t,s,i),t.memoizedState=a.state,r&&U0(t,n,!0),t.child}function y2(e){var t=e.stateNode;t.pendingContext?q0(e,t.pendingContext,t.pendingContext!==t.context):t.context&&q0(e,t.context,!1),Bf(e,t.containerInfo)}function rp(e,t,n,a,r){return Qi(),Of(r),t.flags|=256,tn(e,t,n,a),t.child}var kh={dehydrated:null,treeContext:null,retryLane:0};function Th(e){return{baseLanes:e,cachePool:null,transitions:null}}function b2(e,t,n){var a=t.pendingProps,r=yt.current,i=!1,o=(t.flags&128)!==0,s;if((s=o)||(s=e!==null&&e.memoizedState===null?!1:(r&2)!==0),s?(i=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(r|=1),it(yt,r&1),e===null)return mh(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(o=a.children,e=a.fallback,i?(a=t.mode,i=t.child,o={mode:"hidden",children:o},!(a&1)&&i!==null?(i.childLanes=0,i.pendingProps=o):i=Xu(o,a,0,null),e=Kr(e,a,n,null),i.return=t,e.return=t,i.sibling=e,t.child=i,t.child.memoizedState=Th(n),t.memoizedState=kh,e):Gf(t,o));if(r=e.memoizedState,r!==null&&(s=r.dehydrated,s!==null))return ux(e,t,o,a,s,r,n);if(i){i=a.fallback,o=t.mode,r=e.child,s=r.sibling;var l={mode:"hidden",children:a.children};return!(o&1)&&t.child!==r?(a=t.child,a.childLanes=0,a.pendingProps=l,t.deletions=null):(a=Tr(r,l),a.subtreeFlags=r.subtreeFlags&14680064),s!==null?i=Tr(s,i):(i=Kr(i,o,n,null),i.flags|=2),i.return=t,a.return=t,a.sibling=i,t.child=a,a=i,i=t.child,o=e.child.memoizedState,o=o===null?Th(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=e.childLanes&~n,t.memoizedState=kh,a}return i=e.child,e=i.sibling,a=Tr(i,{mode:"visible",children:a.children}),!(t.mode&1)&&(a.lanes=n),a.return=t,a.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=a,t.memoizedState=null,a}function Gf(e,t){return t=Xu({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Nl(e,t,n,a){return a!==null&&Of(a),Xi(t,e.child,null,n),e=Gf(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function ux(e,t,n,a,r,i,o){if(n)return t.flags&256?(t.flags&=-257,a=nd(Error(J(422))),Nl(e,t,o,a)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(i=a.fallback,r=t.mode,a=Xu({mode:"visible",children:a.children},r,0,null),i=Kr(i,r,o,null),i.flags|=2,a.return=t,i.return=t,a.sibling=i,t.child=a,t.mode&1&&Xi(t,e.child,null,o),t.child.memoizedState=Th(o),t.memoizedState=kh,i);if(!(t.mode&1))return Nl(e,t,o,null);if(r.data==="$!"){if(a=r.nextSibling&&r.nextSibling.dataset,a)var s=a.dgst;return a=s,i=Error(J(419)),a=nd(i,a,void 0),Nl(e,t,o,a)}if(s=(o&e.childLanes)!==0,fn||s){if(a=Mt,a!==null){switch(o&-o){case 4:r=2;break;case 16:r=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:r=32;break;case 536870912:r=268435456;break;default:r=0}r=r&(a.suspendedLanes|o)?0:r,r!==0&&r!==i.retryLane&&(i.retryLane=r,qa(e,r),ta(a,e,r,-1))}return Zf(),a=nd(Error(J(421))),Nl(e,t,o,a)}return r.data==="$?"?(t.flags|=128,t.child=e.child,t=Tx.bind(null,e),r._reactRetry=t,null):(e=i.treeContext,kn=br(r.nextSibling),xn=t,pt=!0,Jn=null,e!==null&&(On[Dn++]=La,On[Dn++]=Oa,On[Dn++]=ei,La=e.id,Oa=e.overflow,ei=t),t=Gf(t,a.children),t.flags|=4096,t)}function ip(e,t,n){e.lanes|=t;var a=e.alternate;a!==null&&(a.lanes|=t),ph(e.return,t,n)}function ad(e,t,n,a,r){var i=e.memoizedState;i===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:a,tail:n,tailMode:r}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=a,i.tail=n,i.tailMode=r)}function v2(e,t,n){var a=t.pendingProps,r=a.revealOrder,i=a.tail;if(tn(e,t,a.children,n),a=yt.current,a&2)a=a&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&ip(e,n,t);else if(e.tag===19)ip(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}a&=1}if(it(yt,a),!(t.mode&1))t.memoizedState=null;else switch(r){case"forwards":for(n=t.child,r=null;n!==null;)e=n.alternate,e!==null&&ku(e)===null&&(r=n),n=n.sibling;n=r,n===null?(r=t.child,t.child=null):(r=n.sibling,n.sibling=null),ad(t,!1,r,n,i);break;case"backwards":for(n=null,r=t.child,t.child=null;r!==null;){if(e=r.alternate,e!==null&&ku(e)===null){t.child=r;break}e=r.sibling,r.sibling=n,n=r,r=e}ad(t,!0,n,null,i);break;case"together":ad(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Ql(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Ua(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),ni|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(J(153));if(t.child!==null){for(e=t.child,n=Tr(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=Tr(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function cx(e,t,n){switch(t.tag){case 3:y2(t),Qi();break;case 5:$y(t);break;case 1:pn(t.type)&&pu(t);break;case 4:Bf(t,t.stateNode.containerInfo);break;case 10:var a=t.type._context,r=t.memoizedProps.value;it(bu,a._currentValue),a._currentValue=r;break;case 13:if(a=t.memoizedState,a!==null)return a.dehydrated!==null?(it(yt,yt.current&1),t.flags|=128,null):n&t.child.childLanes?b2(e,t,n):(it(yt,yt.current&1),e=Ua(e,t,n),e!==null?e.sibling:null);it(yt,yt.current&1);break;case 19:if(a=(n&t.childLanes)!==0,e.flags&128){if(a)return v2(e,t,n);t.flags|=128}if(r=t.memoizedState,r!==null&&(r.rendering=null,r.tail=null,r.lastEffect=null),it(yt,yt.current),a)break;return null;case 22:case 23:return t.lanes=0,p2(e,t,n)}return Ua(e,t,n)}var w2,xh,k2,T2;w2=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};xh=function(){};k2=function(e,t,n,a){var r=e.memoizedProps;if(r!==a){e=t.stateNode,Ur(xa.current);var i=null;switch(n){case"input":r=zd(e,r),a=zd(e,a),i=[];break;case"select":r=vt({},r,{value:void 0}),a=vt({},a,{value:void 0}),i=[];break;case"textarea":r=Vd(e,r),a=Vd(e,a),i=[];break;default:typeof r.onClick!="function"&&typeof a.onClick=="function"&&(e.onclick=fu)}Qd(n,a);var o;n=null;for(u in r)if(!a.hasOwnProperty(u)&&r.hasOwnProperty(u)&&r[u]!=null)if(u==="style"){var s=r[u];for(o in s)s.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(gs.hasOwnProperty(u)?i||(i=[]):(i=i||[]).push(u,null));for(u in a){var l=a[u];if(s=r!=null?r[u]:void 0,a.hasOwnProperty(u)&&l!==s&&(l!=null||s!=null))if(u==="style")if(s){for(o in s)!s.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&s[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(i||(i=[]),i.push(u,n)),n=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,s=s?s.__html:void 0,l!=null&&s!==l&&(i=i||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(i=i||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(gs.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&lt("scroll",e),i||s===l||(i=[])):(i=i||[]).push(u,l))}n&&(i=i||[]).push("style",n);var u=i;(t.updateQueue=u)&&(t.flags|=4)}};T2=function(e,t,n,a){n!==a&&(t.flags|=4)};function Io(e,t){if(!pt)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var a=null;n!==null;)n.alternate!==null&&(a=n),n=n.sibling;a===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:a.sibling=null}}function Gt(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,a=0;if(t)for(var r=e.child;r!==null;)n|=r.lanes|r.childLanes,a|=r.subtreeFlags&14680064,a|=r.flags&14680064,r.return=e,r=r.sibling;else for(r=e.child;r!==null;)n|=r.lanes|r.childLanes,a|=r.subtreeFlags,a|=r.flags,r.return=e,r=r.sibling;return e.subtreeFlags|=a,e.childLanes=n,t}function dx(e,t,n){var a=t.pendingProps;switch(Lf(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Gt(t),null;case 1:return pn(t.type)&&mu(),Gt(t),null;case 3:return a=t.stateNode,Ji(),ct(mn),ct(Qt),qf(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(e===null||e.child===null)&&(Al(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Jn!==null&&(Rh(Jn),Jn=null))),xh(e,t),Gt(t),null;case 5:Hf(t);var r=Ur(Ns.current);if(n=t.type,e!==null&&t.stateNode!=null)k2(e,t,n,a,r),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!a){if(t.stateNode===null)throw Error(J(166));return Gt(t),null}if(e=Ur(xa.current),Al(t)){a=t.stateNode,n=t.type;var i=t.memoizedProps;switch(a[ya]=t,a[As]=i,e=(t.mode&1)!==0,n){case"dialog":lt("cancel",a),lt("close",a);break;case"iframe":case"object":case"embed":lt("load",a);break;case"video":case"audio":for(r=0;r<Vo.length;r++)lt(Vo[r],a);break;case"source":lt("error",a);break;case"img":case"image":case"link":lt("error",a),lt("load",a);break;case"details":lt("toggle",a);break;case"input":m0(a,i),lt("invalid",a);break;case"select":a._wrapperState={wasMultiple:!!i.multiple},lt("invalid",a);break;case"textarea":g0(a,i),lt("invalid",a)}Qd(n,i),r=null;for(var o in i)if(i.hasOwnProperty(o)){var s=i[o];o==="children"?typeof s=="string"?a.textContent!==s&&(i.suppressHydrationWarning!==!0&&Sl(a.textContent,s,e),r=["children",s]):typeof s=="number"&&a.textContent!==""+s&&(i.suppressHydrationWarning!==!0&&Sl(a.textContent,s,e),r=["children",""+s]):gs.hasOwnProperty(o)&&s!=null&&o==="onScroll"&&lt("scroll",a)}switch(n){case"input":yl(a),p0(a,i,!0);break;case"textarea":yl(a),y0(a);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(a.onclick=fu)}a=r,t.updateQueue=a,a!==null&&(t.flags|=4)}else{o=r.nodeType===9?r:r.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=K1(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=o.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof a.is=="string"?e=o.createElement(n,{is:a.is}):(e=o.createElement(n),n==="select"&&(o=e,a.multiple?o.multiple=!0:a.size&&(o.size=a.size))):e=o.createElementNS(e,n),e[ya]=t,e[As]=a,w2(e,t,!1,!1),t.stateNode=e;e:{switch(o=Xd(n,a),n){case"dialog":lt("cancel",e),lt("close",e),r=a;break;case"iframe":case"object":case"embed":lt("load",e),r=a;break;case"video":case"audio":for(r=0;r<Vo.length;r++)lt(Vo[r],e);r=a;break;case"source":lt("error",e),r=a;break;case"img":case"image":case"link":lt("error",e),lt("load",e),r=a;break;case"details":lt("toggle",e),r=a;break;case"input":m0(e,a),r=zd(e,a),lt("invalid",e);break;case"option":r=a;break;case"select":e._wrapperState={wasMultiple:!!a.multiple},r=vt({},a,{value:void 0}),lt("invalid",e);break;case"textarea":g0(e,a),r=Vd(e,a),lt("invalid",e);break;default:r=a}Qd(n,r),s=r;for(i in s)if(s.hasOwnProperty(i)){var l=s[i];i==="style"?J1(e,l):i==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&Q1(e,l)):i==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&ys(e,l):typeof l=="number"&&ys(e,""+l):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(gs.hasOwnProperty(i)?l!=null&&i==="onScroll"&&lt("scroll",e):l!=null&&yf(e,i,l,o))}switch(n){case"input":yl(e),p0(e,a,!1);break;case"textarea":yl(e),y0(e);break;case"option":a.value!=null&&e.setAttribute("value",""+Ar(a.value));break;case"select":e.multiple=!!a.multiple,i=a.value,i!=null?ji(e,!!a.multiple,i,!1):a.defaultValue!=null&&ji(e,!!a.multiple,a.defaultValue,!0);break;default:typeof r.onClick=="function"&&(e.onclick=fu)}switch(n){case"button":case"input":case"select":case"textarea":a=!!a.autoFocus;break e;case"img":a=!0;break e;default:a=!1}}a&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Gt(t),null;case 6:if(e&&t.stateNode!=null)T2(e,t,e.memoizedProps,a);else{if(typeof a!="string"&&t.stateNode===null)throw Error(J(166));if(n=Ur(Ns.current),Ur(xa.current),Al(t)){if(a=t.stateNode,n=t.memoizedProps,a[ya]=t,(i=a.nodeValue!==n)&&(e=xn,e!==null))switch(e.tag){case 3:Sl(a.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Sl(a.nodeValue,n,(e.mode&1)!==0)}i&&(t.flags|=4)}else a=(n.nodeType===9?n:n.ownerDocument).createTextNode(a),a[ya]=t,t.stateNode=a}return Gt(t),null;case 13:if(ct(yt),a=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(pt&&kn!==null&&t.mode&1&&!(t.flags&128))By(),Qi(),t.flags|=98560,i=!1;else if(i=Al(t),a!==null&&a.dehydrated!==null){if(e===null){if(!i)throw Error(J(318));if(i=t.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(J(317));i[ya]=t}else Qi(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Gt(t),i=!1}else Jn!==null&&(Rh(Jn),Jn=null),i=!0;if(!i)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(a=a!==null,a!==(e!==null&&e.memoizedState!==null)&&a&&(t.child.flags|=8192,t.mode&1&&(e===null||yt.current&1?Rt===0&&(Rt=3):Zf())),t.updateQueue!==null&&(t.flags|=4),Gt(t),null);case 4:return Ji(),xh(e,t),e===null&&Es(t.stateNode.containerInfo),Gt(t),null;case 10:return Mf(t.type._context),Gt(t),null;case 17:return pn(t.type)&&mu(),Gt(t),null;case 19:if(ct(yt),i=t.memoizedState,i===null)return Gt(t),null;if(a=(t.flags&128)!==0,o=i.rendering,o===null)if(a)Io(i,!1);else{if(Rt!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(o=ku(e),o!==null){for(t.flags|=128,Io(i,!1),a=o.updateQueue,a!==null&&(t.updateQueue=a,t.flags|=4),t.subtreeFlags=0,a=n,n=t.child;n!==null;)i=n,e=a,i.flags&=14680066,o=i.alternate,o===null?(i.childLanes=0,i.lanes=e,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,e=o.dependencies,i.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return it(yt,yt.current&1|2),t.child}e=e.sibling}i.tail!==null&&Et()>eo&&(t.flags|=128,a=!0,Io(i,!1),t.lanes=4194304)}else{if(!a)if(e=ku(o),e!==null){if(t.flags|=128,a=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),Io(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!pt)return Gt(t),null}else 2*Et()-i.renderingStartTime>eo&&n!==1073741824&&(t.flags|=128,a=!0,Io(i,!1),t.lanes=4194304);i.isBackwards?(o.sibling=t.child,t.child=o):(n=i.last,n!==null?n.sibling=o:t.child=o,i.last=o)}return i.tail!==null?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=Et(),t.sibling=null,n=yt.current,it(yt,a?n&1|2:n&1),t):(Gt(t),null);case 22:case 23:return Jf(),a=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==a&&(t.flags|=8192),a&&t.mode&1?vn&1073741824&&(Gt(t),t.subtreeFlags&6&&(t.flags|=8192)):Gt(t),null;case 24:return null;case 25:return null}throw Error(J(156,t.tag))}function hx(e,t){switch(Lf(t),t.tag){case 1:return pn(t.type)&&mu(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Ji(),ct(mn),ct(Qt),qf(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return Hf(t),null;case 13:if(ct(yt),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(J(340));Qi()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return ct(yt),null;case 4:return Ji(),null;case 10:return Mf(t.type._context),null;case 22:case 23:return Jf(),null;case 24:return null;default:return null}}var Il=!1,Vt=!1,fx=typeof WeakSet=="function"?WeakSet:Set,de=null;function Di(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(a){wt(e,t,a)}else n.current=null}function Eh(e,t,n){try{n()}catch(a){wt(e,t,a)}}var op=!1;function mx(e,t){if(sh=cu,e=Ay(),_f(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var a=n.getSelection&&n.getSelection();if(a&&a.rangeCount!==0){n=a.anchorNode;var r=a.anchorOffset,i=a.focusNode;a=a.focusOffset;try{n.nodeType,i.nodeType}catch{n=null;break e}var o=0,s=-1,l=-1,u=0,d=0,f=e,m=null;t:for(;;){for(var p;f!==n||r!==0&&f.nodeType!==3||(s=o+r),f!==i||a!==0&&f.nodeType!==3||(l=o+a),f.nodeType===3&&(o+=f.nodeValue.length),(p=f.firstChild)!==null;)m=f,f=p;for(;;){if(f===e)break t;if(m===n&&++u===r&&(s=o),m===i&&++d===a&&(l=o),(p=f.nextSibling)!==null)break;f=m,m=f.parentNode}f=p}n=s===-1||l===-1?null:{start:s,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(lh={focusedElem:e,selectionRange:n},cu=!1,de=t;de!==null;)if(t=de,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,de=e;else for(;de!==null;){t=de;try{var v=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(v!==null){var k=v.memoizedProps,T=v.memoizedState,y=t.stateNode,b=y.getSnapshotBeforeUpdate(t.elementType===t.type?k:Vn(t.type,k),T);y.__reactInternalSnapshotBeforeUpdate=b}break;case 3:var x=t.stateNode.containerInfo;x.nodeType===1?x.textContent="":x.nodeType===9&&x.documentElement&&x.removeChild(x.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(J(163))}}catch(w){wt(t,t.return,w)}if(e=t.sibling,e!==null){e.return=t.return,de=e;break}de=t.return}return v=op,op=!1,v}function as(e,t,n){var a=t.updateQueue;if(a=a!==null?a.lastEffect:null,a!==null){var r=a=a.next;do{if((r.tag&e)===e){var i=r.destroy;r.destroy=void 0,i!==void 0&&Eh(t,n,i)}r=r.next}while(r!==a)}}function Ku(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var a=n.create;n.destroy=a()}n=n.next}while(n!==t)}}function Sh(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function x2(e){var t=e.alternate;t!==null&&(e.alternate=null,x2(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[ya],delete t[As],delete t[dh],delete t[QT],delete t[XT])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function E2(e){return e.tag===5||e.tag===3||e.tag===4}function sp(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||E2(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Ah(e,t,n){var a=e.tag;if(a===5||a===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=fu));else if(a!==4&&(e=e.child,e!==null))for(Ah(e,t,n),e=e.sibling;e!==null;)Ah(e,t,n),e=e.sibling}function Ch(e,t,n){var a=e.tag;if(a===5||a===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(a!==4&&(e=e.child,e!==null))for(Ch(e,t,n),e=e.sibling;e!==null;)Ch(e,t,n),e=e.sibling}var Ht=null,Qn=!1;function Xa(e,t,n){for(n=n.child;n!==null;)S2(e,t,n),n=n.sibling}function S2(e,t,n){if(Ta&&typeof Ta.onCommitFiberUnmount=="function")try{Ta.onCommitFiberUnmount(qu,n)}catch{}switch(n.tag){case 5:Vt||Di(n,t);case 6:var a=Ht,r=Qn;Ht=null,Xa(e,t,n),Ht=a,Qn=r,Ht!==null&&(Qn?(e=Ht,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):Ht.removeChild(n.stateNode));break;case 18:Ht!==null&&(Qn?(e=Ht,n=n.stateNode,e.nodeType===8?Qc(e.parentNode,n):e.nodeType===1&&Qc(e,n),ks(e)):Qc(Ht,n.stateNode));break;case 4:a=Ht,r=Qn,Ht=n.stateNode.containerInfo,Qn=!0,Xa(e,t,n),Ht=a,Qn=r;break;case 0:case 11:case 14:case 15:if(!Vt&&(a=n.updateQueue,a!==null&&(a=a.lastEffect,a!==null))){r=a=a.next;do{var i=r,o=i.destroy;i=i.tag,o!==void 0&&(i&2||i&4)&&Eh(n,t,o),r=r.next}while(r!==a)}Xa(e,t,n);break;case 1:if(!Vt&&(Di(n,t),a=n.stateNode,typeof a.componentWillUnmount=="function"))try{a.props=n.memoizedProps,a.state=n.memoizedState,a.componentWillUnmount()}catch(s){wt(n,t,s)}Xa(e,t,n);break;case 21:Xa(e,t,n);break;case 22:n.mode&1?(Vt=(a=Vt)||n.memoizedState!==null,Xa(e,t,n),Vt=a):Xa(e,t,n);break;default:Xa(e,t,n)}}function lp(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new fx),t.forEach(function(a){var r=xx.bind(null,e,a);n.has(a)||(n.add(a),a.then(r,r))})}}function Yn(e,t){var n=t.deletions;if(n!==null)for(var a=0;a<n.length;a++){var r=n[a];try{var i=e,o=t,s=o;e:for(;s!==null;){switch(s.tag){case 5:Ht=s.stateNode,Qn=!1;break e;case 3:Ht=s.stateNode.containerInfo,Qn=!0;break e;case 4:Ht=s.stateNode.containerInfo,Qn=!0;break e}s=s.return}if(Ht===null)throw Error(J(160));S2(i,o,r),Ht=null,Qn=!1;var l=r.alternate;l!==null&&(l.return=null),r.return=null}catch(u){wt(r,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)A2(t,e),t=t.sibling}function A2(e,t){var n=e.alternate,a=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Yn(t,e),ha(e),a&4){try{as(3,e,e.return),Ku(3,e)}catch(k){wt(e,e.return,k)}try{as(5,e,e.return)}catch(k){wt(e,e.return,k)}}break;case 1:Yn(t,e),ha(e),a&512&&n!==null&&Di(n,n.return);break;case 5:if(Yn(t,e),ha(e),a&512&&n!==null&&Di(n,n.return),e.flags&32){var r=e.stateNode;try{ys(r,"")}catch(k){wt(e,e.return,k)}}if(a&4&&(r=e.stateNode,r!=null)){var i=e.memoizedProps,o=n!==null?n.memoizedProps:i,s=e.type,l=e.updateQueue;if(e.updateQueue=null,l!==null)try{s==="input"&&i.type==="radio"&&i.name!=null&&G1(r,i),Xd(s,o);var u=Xd(s,i);for(o=0;o<l.length;o+=2){var d=l[o],f=l[o+1];d==="style"?J1(r,f):d==="dangerouslySetInnerHTML"?Q1(r,f):d==="children"?ys(r,f):yf(r,d,f,u)}switch(s){case"input":$d(r,i);break;case"textarea":V1(r,i);break;case"select":var m=r._wrapperState.wasMultiple;r._wrapperState.wasMultiple=!!i.multiple;var p=i.value;p!=null?ji(r,!!i.multiple,p,!1):m!==!!i.multiple&&(i.defaultValue!=null?ji(r,!!i.multiple,i.defaultValue,!0):ji(r,!!i.multiple,i.multiple?[]:"",!1))}r[As]=i}catch(k){wt(e,e.return,k)}}break;case 6:if(Yn(t,e),ha(e),a&4){if(e.stateNode===null)throw Error(J(162));r=e.stateNode,i=e.memoizedProps;try{r.nodeValue=i}catch(k){wt(e,e.return,k)}}break;case 3:if(Yn(t,e),ha(e),a&4&&n!==null&&n.memoizedState.isDehydrated)try{ks(t.containerInfo)}catch(k){wt(e,e.return,k)}break;case 4:Yn(t,e),ha(e);break;case 13:Yn(t,e),ha(e),r=e.child,r.flags&8192&&(i=r.memoizedState!==null,r.stateNode.isHidden=i,!i||r.alternate!==null&&r.alternate.memoizedState!==null||(Qf=Et())),a&4&&lp(e);break;case 22:if(d=n!==null&&n.memoizedState!==null,e.mode&1?(Vt=(u=Vt)||d,Yn(t,e),Vt=u):Yn(t,e),ha(e),a&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!d&&e.mode&1)for(de=e,d=e.child;d!==null;){for(f=de=d;de!==null;){switch(m=de,p=m.child,m.tag){case 0:case 11:case 14:case 15:as(4,m,m.return);break;case 1:Di(m,m.return);var v=m.stateNode;if(typeof v.componentWillUnmount=="function"){a=m,n=m.return;try{t=a,v.props=t.memoizedProps,v.state=t.memoizedState,v.componentWillUnmount()}catch(k){wt(a,n,k)}}break;case 5:Di(m,m.return);break;case 22:if(m.memoizedState!==null){cp(f);continue}}p!==null?(p.return=m,de=p):cp(f)}d=d.sibling}e:for(d=null,f=e;;){if(f.tag===5){if(d===null){d=f;try{r=f.stateNode,u?(i=r.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(s=f.stateNode,l=f.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,s.style.display=X1("display",o))}catch(k){wt(e,e.return,k)}}}else if(f.tag===6){if(d===null)try{f.stateNode.nodeValue=u?"":f.memoizedProps}catch(k){wt(e,e.return,k)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===e)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===e)break e;for(;f.sibling===null;){if(f.return===null||f.return===e)break e;d===f&&(d=null),f=f.return}d===f&&(d=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:Yn(t,e),ha(e),a&4&&lp(e);break;case 21:break;default:Yn(t,e),ha(e)}}function ha(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(E2(n)){var a=n;break e}n=n.return}throw Error(J(160))}switch(a.tag){case 5:var r=a.stateNode;a.flags&32&&(ys(r,""),a.flags&=-33);var i=sp(e);Ch(e,i,r);break;case 3:case 4:var o=a.stateNode.containerInfo,s=sp(e);Ah(e,s,o);break;default:throw Error(J(161))}}catch(l){wt(e,e.return,l)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function px(e,t,n){de=e,C2(e)}function C2(e,t,n){for(var a=(e.mode&1)!==0;de!==null;){var r=de,i=r.child;if(r.tag===22&&a){var o=r.memoizedState!==null||Il;if(!o){var s=r.alternate,l=s!==null&&s.memoizedState!==null||Vt;s=Il;var u=Vt;if(Il=o,(Vt=l)&&!u)for(de=r;de!==null;)o=de,l=o.child,o.tag===22&&o.memoizedState!==null?dp(r):l!==null?(l.return=o,de=l):dp(r);for(;i!==null;)de=i,C2(i),i=i.sibling;de=r,Il=s,Vt=u}up(e)}else r.subtreeFlags&8772&&i!==null?(i.return=r,de=i):up(e)}}function up(e){for(;de!==null;){var t=de;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Vt||Ku(5,t);break;case 1:var a=t.stateNode;if(t.flags&4&&!Vt)if(n===null)a.componentDidMount();else{var r=t.elementType===t.type?n.memoizedProps:Vn(t.type,n.memoizedProps);a.componentDidUpdate(r,n.memoizedState,a.__reactInternalSnapshotBeforeUpdate)}var i=t.updateQueue;i!==null&&$0(t,i,a);break;case 3:var o=t.updateQueue;if(o!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}$0(t,o,n)}break;case 5:var s=t.stateNode;if(n===null&&t.flags&4){n=s;var l=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var d=u.memoizedState;if(d!==null){var f=d.dehydrated;f!==null&&ks(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(J(163))}Vt||t.flags&512&&Sh(t)}catch(m){wt(t,t.return,m)}}if(t===e){de=null;break}if(n=t.sibling,n!==null){n.return=t.return,de=n;break}de=t.return}}function cp(e){for(;de!==null;){var t=de;if(t===e){de=null;break}var n=t.sibling;if(n!==null){n.return=t.return,de=n;break}de=t.return}}function dp(e){for(;de!==null;){var t=de;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{Ku(4,t)}catch(l){wt(t,n,l)}break;case 1:var a=t.stateNode;if(typeof a.componentDidMount=="function"){var r=t.return;try{a.componentDidMount()}catch(l){wt(t,r,l)}}var i=t.return;try{Sh(t)}catch(l){wt(t,i,l)}break;case 5:var o=t.return;try{Sh(t)}catch(l){wt(t,o,l)}}}catch(l){wt(t,t.return,l)}if(t===e){de=null;break}var s=t.sibling;if(s!==null){s.return=t.return,de=s;break}de=t.return}}var gx=Math.ceil,Eu=Wa.ReactCurrentDispatcher,Vf=Wa.ReactCurrentOwner,Fn=Wa.ReactCurrentBatchConfig,We=0,Mt=null,Nt=null,Ut=0,vn=0,Pi=Ir(0),Rt=0,Ls=null,ni=0,Qu=0,Kf=0,rs=null,dn=null,Qf=0,eo=1/0,_a=null,Su=!1,Nh=null,wr=null,_l=!1,hr=null,Au=0,is=0,Ih=null,Xl=-1,Jl=0;function rn(){return We&6?Et():Xl!==-1?Xl:Xl=Et()}function kr(e){return e.mode&1?We&2&&Ut!==0?Ut&-Ut:ZT.transition!==null?(Jl===0&&(Jl=cy()),Jl):(e=Ze,e!==0||(e=window.event,e=e===void 0?16:yy(e.type)),e):1}function ta(e,t,n,a){if(50<is)throw is=0,Ih=null,Error(J(185));Ws(e,n,a),(!(We&2)||e!==Mt)&&(e===Mt&&(!(We&2)&&(Qu|=n),Rt===4&&lr(e,Ut)),gn(e,a),n===1&&We===0&&!(t.mode&1)&&(eo=Et()+500,$u&&_r()))}function gn(e,t){var n=e.callbackNode;Zk(e,t);var a=uu(e,e===Mt?Ut:0);if(a===0)n!==null&&w0(n),e.callbackNode=null,e.callbackPriority=0;else if(t=a&-a,e.callbackPriority!==t){if(n!=null&&w0(n),t===1)e.tag===0?JT(hp.bind(null,e)):My(hp.bind(null,e)),VT(function(){!(We&6)&&_r()}),n=null;else{switch(dy(a)){case 1:n=Tf;break;case 4:n=ly;break;case 16:n=lu;break;case 536870912:n=uy;break;default:n=lu}n=P2(n,N2.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function N2(e,t){if(Xl=-1,Jl=0,We&6)throw Error(J(327));var n=e.callbackNode;if(Wi()&&e.callbackNode!==n)return null;var a=uu(e,e===Mt?Ut:0);if(a===0)return null;if(a&30||a&e.expiredLanes||t)t=Cu(e,a);else{t=a;var r=We;We|=2;var i=_2();(Mt!==e||Ut!==t)&&(_a=null,eo=Et()+500,Vr(e,t));do try{vx();break}catch(s){I2(e,s)}while(!0);Pf(),Eu.current=i,We=r,Nt!==null?t=0:(Mt=null,Ut=0,t=Rt)}if(t!==0){if(t===2&&(r=nh(e),r!==0&&(a=r,t=_h(e,r))),t===1)throw n=Ls,Vr(e,0),lr(e,a),gn(e,Et()),n;if(t===6)lr(e,a);else{if(r=e.current.alternate,!(a&30)&&!yx(r)&&(t=Cu(e,a),t===2&&(i=nh(e),i!==0&&(a=i,t=_h(e,i))),t===1))throw n=Ls,Vr(e,0),lr(e,a),gn(e,Et()),n;switch(e.finishedWork=r,e.finishedLanes=a,t){case 0:case 1:throw Error(J(345));case 2:Fr(e,dn,_a);break;case 3:if(lr(e,a),(a&130023424)===a&&(t=Qf+500-Et(),10<t)){if(uu(e,0)!==0)break;if(r=e.suspendedLanes,(r&a)!==a){rn(),e.pingedLanes|=e.suspendedLanes&r;break}e.timeoutHandle=ch(Fr.bind(null,e,dn,_a),t);break}Fr(e,dn,_a);break;case 4:if(lr(e,a),(a&4194240)===a)break;for(t=e.eventTimes,r=-1;0<a;){var o=31-ea(a);i=1<<o,o=t[o],o>r&&(r=o),a&=~i}if(a=r,a=Et()-a,a=(120>a?120:480>a?480:1080>a?1080:1920>a?1920:3e3>a?3e3:4320>a?4320:1960*gx(a/1960))-a,10<a){e.timeoutHandle=ch(Fr.bind(null,e,dn,_a),a);break}Fr(e,dn,_a);break;case 5:Fr(e,dn,_a);break;default:throw Error(J(329))}}}return gn(e,Et()),e.callbackNode===n?N2.bind(null,e):null}function _h(e,t){var n=rs;return e.current.memoizedState.isDehydrated&&(Vr(e,t).flags|=256),e=Cu(e,t),e!==2&&(t=dn,dn=n,t!==null&&Rh(t)),e}function Rh(e){dn===null?dn=e:dn.push.apply(dn,e)}function yx(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var a=0;a<n.length;a++){var r=n[a],i=r.getSnapshot;r=r.value;try{if(!ia(i(),r))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function lr(e,t){for(t&=~Kf,t&=~Qu,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-ea(t),a=1<<n;e[n]=-1,t&=~a}}function hp(e){if(We&6)throw Error(J(327));Wi();var t=uu(e,0);if(!(t&1))return gn(e,Et()),null;var n=Cu(e,t);if(e.tag!==0&&n===2){var a=nh(e);a!==0&&(t=a,n=_h(e,a))}if(n===1)throw n=Ls,Vr(e,0),lr(e,t),gn(e,Et()),n;if(n===6)throw Error(J(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Fr(e,dn,_a),gn(e,Et()),null}function Xf(e,t){var n=We;We|=1;try{return e(t)}finally{We=n,We===0&&(eo=Et()+500,$u&&_r())}}function ai(e){hr!==null&&hr.tag===0&&!(We&6)&&Wi();var t=We;We|=1;var n=Fn.transition,a=Ze;try{if(Fn.transition=null,Ze=1,e)return e()}finally{Ze=a,Fn.transition=n,We=t,!(We&6)&&_r()}}function Jf(){vn=Pi.current,ct(Pi)}function Vr(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,GT(n)),Nt!==null)for(n=Nt.return;n!==null;){var a=n;switch(Lf(a),a.tag){case 1:a=a.type.childContextTypes,a!=null&&mu();break;case 3:Ji(),ct(mn),ct(Qt),qf();break;case 5:Hf(a);break;case 4:Ji();break;case 13:ct(yt);break;case 19:ct(yt);break;case 10:Mf(a.type._context);break;case 22:case 23:Jf()}n=n.return}if(Mt=e,Nt=e=Tr(e.current,null),Ut=vn=t,Rt=0,Ls=null,Kf=Qu=ni=0,dn=rs=null,qr!==null){for(t=0;t<qr.length;t++)if(n=qr[t],a=n.interleaved,a!==null){n.interleaved=null;var r=a.next,i=n.pending;if(i!==null){var o=i.next;i.next=r,a.next=o}n.pending=a}qr=null}return e}function I2(e,t){do{var n=Nt;try{if(Pf(),Vl.current=xu,Tu){for(var a=bt.memoizedState;a!==null;){var r=a.queue;r!==null&&(r.pending=null),a=a.next}Tu=!1}if(ti=0,Dt=_t=bt=null,ns=!1,Is=0,Vf.current=null,n===null||n.return===null){Rt=1,Ls=t,Nt=null;break}e:{var i=e,o=n.return,s=n,l=t;if(t=Ut,s.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,d=s,f=d.tag;if(!(d.mode&1)&&(f===0||f===11||f===15)){var m=d.alternate;m?(d.updateQueue=m.updateQueue,d.memoizedState=m.memoizedState,d.lanes=m.lanes):(d.updateQueue=null,d.memoizedState=null)}var p=Z0(o);if(p!==null){p.flags&=-257,ep(p,o,s,i,t),p.mode&1&&J0(i,u,t),t=p,l=u;var v=t.updateQueue;if(v===null){var k=new Set;k.add(l),t.updateQueue=k}else v.add(l);break e}else{if(!(t&1)){J0(i,u,t),Zf();break e}l=Error(J(426))}}else if(pt&&s.mode&1){var T=Z0(o);if(T!==null){!(T.flags&65536)&&(T.flags|=256),ep(T,o,s,i,t),Of(Zi(l,s));break e}}i=l=Zi(l,s),Rt!==4&&(Rt=2),rs===null?rs=[i]:rs.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,t&=-t,i.lanes|=t;var y=h2(i,l,t);z0(i,y);break e;case 1:s=l;var b=i.type,x=i.stateNode;if(!(i.flags&128)&&(typeof b.getDerivedStateFromError=="function"||x!==null&&typeof x.componentDidCatch=="function"&&(wr===null||!wr.has(x)))){i.flags|=65536,t&=-t,i.lanes|=t;var w=f2(i,s,t);z0(i,w);break e}}i=i.return}while(i!==null)}L2(n)}catch(O){t=O,Nt===n&&n!==null&&(Nt=n=n.return);continue}break}while(!0)}function _2(){var e=Eu.current;return Eu.current=xu,e===null?xu:e}function Zf(){(Rt===0||Rt===3||Rt===2)&&(Rt=4),Mt===null||!(ni&268435455)&&!(Qu&268435455)||lr(Mt,Ut)}function Cu(e,t){var n=We;We|=2;var a=_2();(Mt!==e||Ut!==t)&&(_a=null,Vr(e,t));do try{bx();break}catch(r){I2(e,r)}while(!0);if(Pf(),We=n,Eu.current=a,Nt!==null)throw Error(J(261));return Mt=null,Ut=0,Rt}function bx(){for(;Nt!==null;)R2(Nt)}function vx(){for(;Nt!==null&&!Yk();)R2(Nt)}function R2(e){var t=D2(e.alternate,e,vn);e.memoizedProps=e.pendingProps,t===null?L2(e):Nt=t,Vf.current=null}function L2(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=hx(n,t),n!==null){n.flags&=32767,Nt=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Rt=6,Nt=null;return}}else if(n=dx(n,t,vn),n!==null){Nt=n;return}if(t=t.sibling,t!==null){Nt=t;return}Nt=t=e}while(t!==null);Rt===0&&(Rt=5)}function Fr(e,t,n){var a=Ze,r=Fn.transition;try{Fn.transition=null,Ze=1,wx(e,t,n,a)}finally{Fn.transition=r,Ze=a}return null}function wx(e,t,n,a){do Wi();while(hr!==null);if(We&6)throw Error(J(327));n=e.finishedWork;var r=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(J(177));e.callbackNode=null,e.callbackPriority=0;var i=n.lanes|n.childLanes;if(eT(e,i),e===Mt&&(Nt=Mt=null,Ut=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||_l||(_l=!0,P2(lu,function(){return Wi(),null})),i=(n.flags&15990)!==0,n.subtreeFlags&15990||i){i=Fn.transition,Fn.transition=null;var o=Ze;Ze=1;var s=We;We|=4,Vf.current=null,mx(e,n),A2(n,e),HT(lh),cu=!!sh,lh=sh=null,e.current=n,px(n),zk(),We=s,Ze=o,Fn.transition=i}else e.current=n;if(_l&&(_l=!1,hr=e,Au=r),i=e.pendingLanes,i===0&&(wr=null),Vk(n.stateNode),gn(e,Et()),t!==null)for(a=e.onRecoverableError,n=0;n<t.length;n++)r=t[n],a(r.value,{componentStack:r.stack,digest:r.digest});if(Su)throw Su=!1,e=Nh,Nh=null,e;return Au&1&&e.tag!==0&&Wi(),i=e.pendingLanes,i&1?e===Ih?is++:(is=0,Ih=e):is=0,_r(),null}function Wi(){if(hr!==null){var e=dy(Au),t=Fn.transition,n=Ze;try{if(Fn.transition=null,Ze=16>e?16:e,hr===null)var a=!1;else{if(e=hr,hr=null,Au=0,We&6)throw Error(J(331));var r=We;for(We|=4,de=e.current;de!==null;){var i=de,o=i.child;if(de.flags&16){var s=i.deletions;if(s!==null){for(var l=0;l<s.length;l++){var u=s[l];for(de=u;de!==null;){var d=de;switch(d.tag){case 0:case 11:case 15:as(8,d,i)}var f=d.child;if(f!==null)f.return=d,de=f;else for(;de!==null;){d=de;var m=d.sibling,p=d.return;if(x2(d),d===u){de=null;break}if(m!==null){m.return=p,de=m;break}de=p}}}var v=i.alternate;if(v!==null){var k=v.child;if(k!==null){v.child=null;do{var T=k.sibling;k.sibling=null,k=T}while(k!==null)}}de=i}}if(i.subtreeFlags&2064&&o!==null)o.return=i,de=o;else e:for(;de!==null;){if(i=de,i.flags&2048)switch(i.tag){case 0:case 11:case 15:as(9,i,i.return)}var y=i.sibling;if(y!==null){y.return=i.return,de=y;break e}de=i.return}}var b=e.current;for(de=b;de!==null;){o=de;var x=o.child;if(o.subtreeFlags&2064&&x!==null)x.return=o,de=x;else e:for(o=b;de!==null;){if(s=de,s.flags&2048)try{switch(s.tag){case 0:case 11:case 15:Ku(9,s)}}catch(O){wt(s,s.return,O)}if(s===o){de=null;break e}var w=s.sibling;if(w!==null){w.return=s.return,de=w;break e}de=s.return}}if(We=r,_r(),Ta&&typeof Ta.onPostCommitFiberRoot=="function")try{Ta.onPostCommitFiberRoot(qu,e)}catch{}a=!0}return a}finally{Ze=n,Fn.transition=t}}return!1}function fp(e,t,n){t=Zi(n,t),t=h2(e,t,1),e=vr(e,t,1),t=rn(),e!==null&&(Ws(e,1,t),gn(e,t))}function wt(e,t,n){if(e.tag===3)fp(e,e,n);else for(;t!==null;){if(t.tag===3){fp(t,e,n);break}else if(t.tag===1){var a=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof a.componentDidCatch=="function"&&(wr===null||!wr.has(a))){e=Zi(n,e),e=f2(t,e,1),t=vr(t,e,1),e=rn(),t!==null&&(Ws(t,1,e),gn(t,e));break}}t=t.return}}function kx(e,t,n){var a=e.pingCache;a!==null&&a.delete(t),t=rn(),e.pingedLanes|=e.suspendedLanes&n,Mt===e&&(Ut&n)===n&&(Rt===4||Rt===3&&(Ut&130023424)===Ut&&500>Et()-Qf?Vr(e,0):Kf|=n),gn(e,t)}function O2(e,t){t===0&&(e.mode&1?(t=wl,wl<<=1,!(wl&130023424)&&(wl=4194304)):t=1);var n=rn();e=qa(e,t),e!==null&&(Ws(e,t,n),gn(e,n))}function Tx(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),O2(e,n)}function xx(e,t){var n=0;switch(e.tag){case 13:var a=e.stateNode,r=e.memoizedState;r!==null&&(n=r.retryLane);break;case 19:a=e.stateNode;break;default:throw Error(J(314))}a!==null&&a.delete(t),O2(e,n)}var D2;D2=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||mn.current)fn=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return fn=!1,cx(e,t,n);fn=!!(e.flags&131072)}else fn=!1,pt&&t.flags&1048576&&Fy(t,yu,t.index);switch(t.lanes=0,t.tag){case 2:var a=t.type;Ql(e,t),e=t.pendingProps;var r=Ki(t,Qt.current);Ui(t,n),r=Wf(null,t,a,e,r,n);var i=Yf();return t.flags|=1,typeof r=="object"&&r!==null&&typeof r.render=="function"&&r.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,pn(a)?(i=!0,pu(t)):i=!1,t.memoizedState=r.state!==null&&r.state!==void 0?r.state:null,jf(t),r.updater=Gu,t.stateNode=r,r._reactInternals=t,yh(t,a,e,n),t=wh(null,t,a,!0,i,n)):(t.tag=0,pt&&i&&Rf(t),tn(null,t,r,n),t=t.child),t;case 16:a=t.elementType;e:{switch(Ql(e,t),e=t.pendingProps,r=a._init,a=r(a._payload),t.type=a,r=t.tag=Sx(a),e=Vn(a,e),r){case 0:t=vh(null,t,a,e,n);break e;case 1:t=ap(null,t,a,e,n);break e;case 11:t=tp(null,t,a,e,n);break e;case 14:t=np(null,t,a,Vn(a.type,e),n);break e}throw Error(J(306,a,""))}return t;case 0:return a=t.type,r=t.pendingProps,r=t.elementType===a?r:Vn(a,r),vh(e,t,a,r,n);case 1:return a=t.type,r=t.pendingProps,r=t.elementType===a?r:Vn(a,r),ap(e,t,a,r,n);case 3:e:{if(y2(t),e===null)throw Error(J(387));a=t.pendingProps,i=t.memoizedState,r=i.element,qy(e,t),wu(t,a,null,n);var o=t.memoizedState;if(a=o.element,i.isDehydrated)if(i={element:a,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=i,t.memoizedState=i,t.flags&256){r=Zi(Error(J(423)),t),t=rp(e,t,a,n,r);break e}else if(a!==r){r=Zi(Error(J(424)),t),t=rp(e,t,a,n,r);break e}else for(kn=br(t.stateNode.containerInfo.firstChild),xn=t,pt=!0,Jn=null,n=zy(t,null,a,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Qi(),a===r){t=Ua(e,t,n);break e}tn(e,t,a,n)}t=t.child}return t;case 5:return $y(t),e===null&&mh(t),a=t.type,r=t.pendingProps,i=e!==null?e.memoizedProps:null,o=r.children,uh(a,r)?o=null:i!==null&&uh(a,i)&&(t.flags|=32),g2(e,t),tn(e,t,o,n),t.child;case 6:return e===null&&mh(t),null;case 13:return b2(e,t,n);case 4:return Bf(t,t.stateNode.containerInfo),a=t.pendingProps,e===null?t.child=Xi(t,null,a,n):tn(e,t,a,n),t.child;case 11:return a=t.type,r=t.pendingProps,r=t.elementType===a?r:Vn(a,r),tp(e,t,a,r,n);case 7:return tn(e,t,t.pendingProps,n),t.child;case 8:return tn(e,t,t.pendingProps.children,n),t.child;case 12:return tn(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(a=t.type._context,r=t.pendingProps,i=t.memoizedProps,o=r.value,it(bu,a._currentValue),a._currentValue=o,i!==null)if(ia(i.value,o)){if(i.children===r.children&&!mn.current){t=Ua(e,t,n);break e}}else for(i=t.child,i!==null&&(i.return=t);i!==null;){var s=i.dependencies;if(s!==null){o=i.child;for(var l=s.firstContext;l!==null;){if(l.context===a){if(i.tag===1){l=Pa(-1,n&-n),l.tag=2;var u=i.updateQueue;if(u!==null){u=u.shared;var d=u.pending;d===null?l.next=l:(l.next=d.next,d.next=l),u.pending=l}}i.lanes|=n,l=i.alternate,l!==null&&(l.lanes|=n),ph(i.return,n,t),s.lanes|=n;break}l=l.next}}else if(i.tag===10)o=i.type===t.type?null:i.child;else if(i.tag===18){if(o=i.return,o===null)throw Error(J(341));o.lanes|=n,s=o.alternate,s!==null&&(s.lanes|=n),ph(o,n,t),o=i.sibling}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===t){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}tn(e,t,r.children,n),t=t.child}return t;case 9:return r=t.type,a=t.pendingProps.children,Ui(t,n),r=jn(r),a=a(r),t.flags|=1,tn(e,t,a,n),t.child;case 14:return a=t.type,r=Vn(a,t.pendingProps),r=Vn(a.type,r),np(e,t,a,r,n);case 15:return m2(e,t,t.type,t.pendingProps,n);case 17:return a=t.type,r=t.pendingProps,r=t.elementType===a?r:Vn(a,r),Ql(e,t),t.tag=1,pn(a)?(e=!0,pu(t)):e=!1,Ui(t,n),Wy(t,a,r),yh(t,a,r,n),wh(null,t,a,!0,e,n);case 19:return v2(e,t,n);case 22:return p2(e,t,n)}throw Error(J(156,t.tag))};function P2(e,t){return sy(e,t)}function Ex(e,t,n,a){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=a,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Mn(e,t,n,a){return new Ex(e,t,n,a)}function em(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Sx(e){if(typeof e=="function")return em(e)?1:0;if(e!=null){if(e=e.$$typeof,e===vf)return 11;if(e===wf)return 14}return 2}function Tr(e,t){var n=e.alternate;return n===null?(n=Mn(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Zl(e,t,n,a,r,i){var o=2;if(a=e,typeof e=="function")em(e)&&(o=1);else if(typeof e=="string")o=5;else e:switch(e){case Si:return Kr(n.children,r,i,t);case bf:o=8,r|=8;break;case qd:return e=Mn(12,n,t,r|2),e.elementType=qd,e.lanes=i,e;case Ud:return e=Mn(13,n,t,r),e.elementType=Ud,e.lanes=i,e;case Wd:return e=Mn(19,n,t,r),e.elementType=Wd,e.lanes=i,e;case Y1:return Xu(n,r,i,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case U1:o=10;break e;case W1:o=9;break e;case vf:o=11;break e;case wf:o=14;break e;case ir:o=16,a=null;break e}throw Error(J(130,e==null?e:typeof e,""))}return t=Mn(o,n,t,r),t.elementType=e,t.type=a,t.lanes=i,t}function Kr(e,t,n,a){return e=Mn(7,e,a,t),e.lanes=n,e}function Xu(e,t,n,a){return e=Mn(22,e,a,t),e.elementType=Y1,e.lanes=n,e.stateNode={isHidden:!1},e}function rd(e,t,n){return e=Mn(6,e,null,t),e.lanes=n,e}function id(e,t,n){return t=Mn(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Ax(e,t,n,a,r){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Bc(0),this.expirationTimes=Bc(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Bc(0),this.identifierPrefix=a,this.onRecoverableError=r,this.mutableSourceEagerHydrationData=null}function tm(e,t,n,a,r,i,o,s,l){return e=new Ax(e,t,n,s,l),t===1?(t=1,i===!0&&(t|=8)):t=0,i=Mn(3,null,null,t),e.current=i,i.stateNode=e,i.memoizedState={element:a,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},jf(i),e}function Cx(e,t,n){var a=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Ei,key:a==null?null:""+a,children:e,containerInfo:t,implementation:n}}function M2(e){if(!e)return Cr;e=e._reactInternals;e:{if(ci(e)!==e||e.tag!==1)throw Error(J(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(pn(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(J(171))}if(e.tag===1){var n=e.type;if(pn(n))return Py(e,n,t)}return t}function F2(e,t,n,a,r,i,o,s,l){return e=tm(n,a,!0,e,r,i,o,s,l),e.context=M2(null),n=e.current,a=rn(),r=kr(n),i=Pa(a,r),i.callback=t??null,vr(n,i,r),e.current.lanes=r,Ws(e,r,a),gn(e,a),e}function Ju(e,t,n,a){var r=t.current,i=rn(),o=kr(r);return n=M2(n),t.context===null?t.context=n:t.pendingContext=n,t=Pa(i,o),t.payload={element:e},a=a===void 0?null:a,a!==null&&(t.callback=a),e=vr(r,t,o),e!==null&&(ta(e,r,o,i),Gl(e,r,o)),o}function Nu(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function mp(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function nm(e,t){mp(e,t),(e=e.alternate)&&mp(e,t)}function Nx(){return null}var j2=typeof reportError=="function"?reportError:function(e){console.error(e)};function am(e){this._internalRoot=e}Zu.prototype.render=am.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(J(409));Ju(e,t,null,null)};Zu.prototype.unmount=am.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;ai(function(){Ju(null,e,null,null)}),t[Ha]=null}};function Zu(e){this._internalRoot=e}Zu.prototype.unstable_scheduleHydration=function(e){if(e){var t=my();e={blockedOn:null,target:e,priority:t};for(var n=0;n<sr.length&&t!==0&&t<sr[n].priority;n++);sr.splice(n,0,e),n===0&&gy(e)}};function rm(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function ec(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function pp(){}function Ix(e,t,n,a,r){if(r){if(typeof a=="function"){var i=a;a=function(){var u=Nu(o);i.call(u)}}var o=F2(t,a,e,0,null,!1,!1,"",pp);return e._reactRootContainer=o,e[Ha]=o.current,Es(e.nodeType===8?e.parentNode:e),ai(),o}for(;r=e.lastChild;)e.removeChild(r);if(typeof a=="function"){var s=a;a=function(){var u=Nu(l);s.call(u)}}var l=tm(e,0,!1,null,null,!1,!1,"",pp);return e._reactRootContainer=l,e[Ha]=l.current,Es(e.nodeType===8?e.parentNode:e),ai(function(){Ju(t,l,n,a)}),l}function tc(e,t,n,a,r){var i=n._reactRootContainer;if(i){var o=i;if(typeof r=="function"){var s=r;r=function(){var l=Nu(o);s.call(l)}}Ju(t,o,e,r)}else o=Ix(n,t,e,r,a);return Nu(o)}hy=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=Go(t.pendingLanes);n!==0&&(xf(t,n|1),gn(t,Et()),!(We&6)&&(eo=Et()+500,_r()))}break;case 13:ai(function(){var a=qa(e,1);if(a!==null){var r=rn();ta(a,e,1,r)}}),nm(e,1)}};Ef=function(e){if(e.tag===13){var t=qa(e,134217728);if(t!==null){var n=rn();ta(t,e,134217728,n)}nm(e,134217728)}};fy=function(e){if(e.tag===13){var t=kr(e),n=qa(e,t);if(n!==null){var a=rn();ta(n,e,t,a)}nm(e,t)}};my=function(){return Ze};py=function(e,t){var n=Ze;try{return Ze=e,t()}finally{Ze=n}};Zd=function(e,t,n){switch(t){case"input":if($d(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var a=n[t];if(a!==e&&a.form===e.form){var r=zu(a);if(!r)throw Error(J(90));$1(a),$d(a,r)}}}break;case"textarea":V1(e,n);break;case"select":t=n.value,t!=null&&ji(e,!!n.multiple,t,!1)}};ty=Xf;ny=ai;var _x={usingClientEntryPoint:!1,Events:[zs,Ii,zu,Z1,ey,Xf]},_o={findFiberByHostInstance:Hr,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},Rx={bundleType:_o.bundleType,version:_o.version,rendererPackageName:_o.rendererPackageName,rendererConfig:_o.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Wa.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=iy(e),e===null?null:e.stateNode},findFiberByHostInstance:_o.findFiberByHostInstance||Nx,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Rl=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Rl.isDisabled&&Rl.supportsFiber)try{qu=Rl.inject(Rx),Ta=Rl}catch{}}An.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=_x;An.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!rm(t))throw Error(J(200));return Cx(e,t,null,n)};An.createRoot=function(e,t){if(!rm(e))throw Error(J(299));var n=!1,a="",r=j2;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(a=t.identifierPrefix),t.onRecoverableError!==void 0&&(r=t.onRecoverableError)),t=tm(e,1,!1,null,null,n,!1,a,r),e[Ha]=t.current,Es(e.nodeType===8?e.parentNode:e),new am(t)};An.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(J(188)):(e=Object.keys(e).join(","),Error(J(268,e)));return e=iy(t),e=e===null?null:e.stateNode,e};An.flushSync=function(e){return ai(e)};An.hydrate=function(e,t,n){if(!ec(t))throw Error(J(200));return tc(null,e,t,!0,n)};An.hydrateRoot=function(e,t,n){if(!rm(e))throw Error(J(405));var a=n!=null&&n.hydratedSources||null,r=!1,i="",o=j2;if(n!=null&&(n.unstable_strictMode===!0&&(r=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),t=F2(t,null,e,1,n??null,r,!1,i,o),e[Ha]=t.current,Es(e),a)for(e=0;e<a.length;e++)n=a[e],r=n._getVersion,r=r(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,r]:t.mutableSourceEagerHydrationData.push(n,r);return new Zu(t)};An.render=function(e,t,n){if(!ec(t))throw Error(J(200));return tc(null,e,t,!1,n)};An.unmountComponentAtNode=function(e){if(!ec(e))throw Error(J(40));return e._reactRootContainer?(ai(function(){tc(null,null,e,!1,function(){e._reactRootContainer=null,e[Ha]=null})}),!0):!1};An.unstable_batchedUpdates=Xf;An.unstable_renderSubtreeIntoContainer=function(e,t,n,a){if(!ec(n))throw Error(J(200));if(e==null||e._reactInternals===void 0)throw Error(J(38));return tc(e,t,n,!1,a)};An.version="18.2.0-next-9e3b772b8-20220608";function B2(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(B2)}catch(e){console.error(e)}}B2(),F1.exports=An;var nc=F1.exports;const Lx=cf(nc),Ox=A1({__proto__:null,default:Lx},[nc]);var gp=nc;Bd.createRoot=gp.createRoot,Bd.hydrateRoot=gp.hydrateRoot;/**
 * @remix-run/router v1.13.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function kt(){return kt=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},kt.apply(this,arguments)}var Tt;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(Tt||(Tt={}));const yp="popstate";function Dx(e){e===void 0&&(e={});function t(a,r){let{pathname:i,search:o,hash:s}=a.location;return Os("",{pathname:i,search:o,hash:s},r.state&&r.state.usr||null,r.state&&r.state.key||"default")}function n(a,r){return typeof r=="string"?r:ii(r)}return Mx(t,n,null,e)}function Re(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function ri(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function Px(){return Math.random().toString(36).substr(2,8)}function bp(e,t){return{usr:e.state,key:e.key,idx:t}}function Os(e,t,n,a){return n===void 0&&(n=null),kt({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?Ya(t):t,{state:n,key:t&&t.key||a||Px()})}function ii(e){let{pathname:t="/",search:n="",hash:a=""}=e;return n&&n!=="?"&&(t+=n.charAt(0)==="?"?n:"?"+n),a&&a!=="#"&&(t+=a.charAt(0)==="#"?a:"#"+a),t}function Ya(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let a=e.indexOf("?");a>=0&&(t.search=e.substr(a),e=e.substr(0,a)),e&&(t.pathname=e)}return t}function Mx(e,t,n,a){a===void 0&&(a={});let{window:r=document.defaultView,v5Compat:i=!1}=a,o=r.history,s=Tt.Pop,l=null,u=d();u==null&&(u=0,o.replaceState(kt({},o.state,{idx:u}),""));function d(){return(o.state||{idx:null}).idx}function f(){s=Tt.Pop;let T=d(),y=T==null?null:T-u;u=T,l&&l({action:s,location:k.location,delta:y})}function m(T,y){s=Tt.Push;let b=Os(k.location,T,y);n&&n(b,T),u=d()+1;let x=bp(b,u),w=k.createHref(b);try{o.pushState(x,"",w)}catch(O){if(O instanceof DOMException&&O.name==="DataCloneError")throw O;r.location.assign(w)}i&&l&&l({action:s,location:k.location,delta:1})}function p(T,y){s=Tt.Replace;let b=Os(k.location,T,y);n&&n(b,T),u=d();let x=bp(b,u),w=k.createHref(b);o.replaceState(x,"",w),i&&l&&l({action:s,location:k.location,delta:0})}function v(T){let y=r.location.origin!=="null"?r.location.origin:r.location.href,b=typeof T=="string"?T:ii(T);return Re(y,"No window.location.(origin|href) available to create URL for href: "+b),new URL(b,y)}let k={get action(){return s},get location(){return e(r,o)},listen(T){if(l)throw new Error("A history only accepts one active listener");return r.addEventListener(yp,f),l=T,()=>{r.removeEventListener(yp,f),l=null}},createHref(T){return t(r,T)},createURL:v,encodeLocation(T){let y=v(T);return{pathname:y.pathname,search:y.search,hash:y.hash}},push:m,replace:p,go(T){return o.go(T)}};return k}var xt;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(xt||(xt={}));const Fx=new Set(["lazy","caseSensitive","path","id","index","children"]);function jx(e){return e.index===!0}function Lh(e,t,n,a){return n===void 0&&(n=[]),a===void 0&&(a={}),e.map((r,i)=>{let o=[...n,i],s=typeof r.id=="string"?r.id:o.join("-");if(Re(r.index!==!0||!r.children,"Cannot specify children on an index route"),Re(!a[s],'Found a route id collision on id "'+s+`".  Route id's must be globally unique within Data Router usages`),jx(r)){let l=kt({},r,t(r),{id:s});return a[s]=l,l}else{let l=kt({},r,t(r),{id:s,children:void 0});return a[s]=l,r.children&&(l.children=Lh(r.children,t,o,a)),l}})}function Mi(e,t,n){n===void 0&&(n="/");let a=typeof t=="string"?Ya(t):t,r=so(a.pathname||"/",n);if(r==null)return null;let i=H2(e);Hx(i);let o=null;for(let s=0;o==null&&s<i.length;++s)o=Kx(i[s],Jx(r));return o}function Bx(e,t){let{route:n,pathname:a,params:r}=e;return{id:n.id,pathname:a,params:r,data:t[n.id],handle:n.handle}}function H2(e,t,n,a){t===void 0&&(t=[]),n===void 0&&(n=[]),a===void 0&&(a="");let r=(i,o,s)=>{let l={relativePath:s===void 0?i.path||"":s,caseSensitive:i.caseSensitive===!0,childrenIndex:o,route:i};l.relativePath.startsWith("/")&&(Re(l.relativePath.startsWith(a),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+a+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(a.length));let u=Ma([a,l.relativePath]),d=n.concat(l);i.children&&i.children.length>0&&(Re(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),H2(i.children,t,d,u)),!(i.path==null&&!i.index)&&t.push({path:u,score:Gx(u,i.index),routesMeta:d})};return e.forEach((i,o)=>{var s;if(i.path===""||!((s=i.path)!=null&&s.includes("?")))r(i,o);else for(let l of q2(i.path))r(i,o,l)}),t}function q2(e){let t=e.split("/");if(t.length===0)return[];let[n,...a]=t,r=n.endsWith("?"),i=n.replace(/\?$/,"");if(a.length===0)return r?[i,""]:[i];let o=q2(a.join("/")),s=[];return s.push(...o.map(l=>l===""?i:[i,l].join("/"))),r&&s.push(...o),s.map(l=>e.startsWith("/")&&l===""?"/":l)}function Hx(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:Vx(t.routesMeta.map(a=>a.childrenIndex),n.routesMeta.map(a=>a.childrenIndex)))}const qx=/^:\w+$/,Ux=3,Wx=2,Yx=1,zx=10,$x=-2,vp=e=>e==="*";function Gx(e,t){let n=e.split("/"),a=n.length;return n.some(vp)&&(a+=$x),t&&(a+=Wx),n.filter(r=>!vp(r)).reduce((r,i)=>r+(qx.test(i)?Ux:i===""?Yx:zx),a)}function Vx(e,t){return e.length===t.length&&e.slice(0,-1).every((a,r)=>a===t[r])?e[e.length-1]-t[t.length-1]:0}function Kx(e,t){let{routesMeta:n}=e,a={},r="/",i=[];for(let o=0;o<n.length;++o){let s=n[o],l=o===n.length-1,u=r==="/"?t:t.slice(r.length)||"/",d=Qx({path:s.relativePath,caseSensitive:s.caseSensitive,end:l},u);if(!d)return null;Object.assign(a,d.params);let f=s.route;i.push({params:a,pathname:Ma([r,d.pathname]),pathnameBase:n3(Ma([r,d.pathnameBase])),route:f}),d.pathnameBase!=="/"&&(r=Ma([r,d.pathnameBase]))}return i}function Qx(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,a]=Xx(e.path,e.caseSensitive,e.end),r=t.match(n);if(!r)return null;let i=r[0],o=i.replace(/(.)\/+$/,"$1"),s=r.slice(1);return{params:a.reduce((u,d,f)=>{let{paramName:m,isOptional:p}=d;if(m==="*"){let k=s[f]||"";o=i.slice(0,i.length-k.length).replace(/(.)\/+$/,"$1")}const v=s[f];return p&&!v?u[m]=void 0:u[m]=Zx(v||"",m),u},{}),pathname:i,pathnameBase:o,pattern:e}}function Xx(e,t,n){t===void 0&&(t=!1),n===void 0&&(n=!0),ri(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let a=[],r="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:(\w+)(\?)?/g,(o,s,l)=>(a.push({paramName:s,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(a.push({paramName:"*"}),r+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?r+="\\/*$":e!==""&&e!=="/"&&(r+="(?:(?=\\/|$))"),[new RegExp(r,t?void 0:"i"),a]}function Jx(e){try{return decodeURI(e)}catch(t){return ri(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function Zx(e,t){try{return decodeURIComponent(e)}catch(n){return ri(!1,'The value for the URL param "'+t+'" will not be decoded because'+(' the string "'+e+'" is a malformed URL segment. This is probably')+(" due to a bad percent encoding ("+n+").")),e}}function so(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,a=e.charAt(n);return a&&a!=="/"?null:e.slice(n)||"/"}function e3(e,t){t===void 0&&(t="/");let{pathname:n,search:a="",hash:r=""}=typeof e=="string"?Ya(e):e;return{pathname:n?n.startsWith("/")?n:t3(n,t):t,search:a3(a),hash:r3(r)}}function t3(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(r=>{r===".."?n.length>1&&n.pop():r!=="."&&n.push(r)}),n.length>1?n.join("/"):"/"}function od(e,t,n,a){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(a)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function U2(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function ac(e){return U2(e).map((t,n)=>n===e.length-1?t.pathname:t.pathnameBase)}function rc(e,t,n,a){a===void 0&&(a=!1);let r;typeof e=="string"?r=Ya(e):(r=kt({},e),Re(!r.pathname||!r.pathname.includes("?"),od("?","pathname","search",r)),Re(!r.pathname||!r.pathname.includes("#"),od("#","pathname","hash",r)),Re(!r.search||!r.search.includes("#"),od("#","search","hash",r)));let i=e===""||r.pathname==="",o=i?"/":r.pathname,s;if(o==null)s=n;else if(a){let f=t[t.length-1].replace(/^\//,"").split("/");if(o.startsWith("..")){let m=o.split("/");for(;m[0]==="..";)m.shift(),f.pop();r.pathname=m.join("/")}s="/"+f.join("/")}else{let f=t.length-1;if(o.startsWith("..")){let m=o.split("/");for(;m[0]==="..";)m.shift(),f-=1;r.pathname=m.join("/")}s=f>=0?t[f]:"/"}let l=e3(r,s),u=o&&o!=="/"&&o.endsWith("/"),d=(i||o===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(u||d)&&(l.pathname+="/"),l}const Ma=e=>e.join("/").replace(/\/\/+/g,"/"),n3=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),a3=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,r3=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;class im{constructor(t,n,a,r){r===void 0&&(r=!1),this.status=t,this.statusText=n||"",this.internal=r,a instanceof Error?(this.data=a.toString(),this.error=a):this.data=a}}function W2(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const Y2=["post","put","patch","delete"],i3=new Set(Y2),o3=["get",...Y2],s3=new Set(o3),l3=new Set([301,302,303,307,308]),u3=new Set([307,308]),sd={state:"idle",location:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},c3={state:"idle",data:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},Ro={state:"unblocked",proceed:void 0,reset:void 0,location:void 0},z2=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,d3=e=>({hasErrorBoundary:!!e.hasErrorBoundary}),$2="remix-router-transitions";function h3(e){const t=e.window?e.window:typeof window<"u"?window:void 0,n=typeof t<"u"&&typeof t.document<"u"&&typeof t.document.createElement<"u",a=!n;Re(e.routes.length>0,"You must provide a non-empty routes array to createRouter");let r;if(e.mapRouteProperties)r=e.mapRouteProperties;else if(e.detectErrorBoundary){let F=e.detectErrorBoundary;r=H=>({hasErrorBoundary:F(H)})}else r=d3;let i={},o=Lh(e.routes,r,void 0,i),s,l=e.basename||"/",u=kt({v7_fetcherPersist:!1,v7_normalizeFormMethod:!1,v7_prependBasename:!1},e.future),d=null,f=new Set,m=null,p=null,v=null,k=e.hydrationData!=null,T=Mi(o,e.history.location,l),y=null;if(T==null){let F=Ln(404,{pathname:e.history.location.pathname}),{matches:H,route:$}=Cp(o);T=H,y={[$.id]:F}}let b=!T.some(F=>F.route.lazy)&&(!T.some(F=>F.route.loader)||e.hydrationData!=null),x,w={historyAction:e.history.action,location:e.history.location,matches:T,initialized:b,navigation:sd,restoreScrollPosition:e.hydrationData!=null?!1:null,preventScrollReset:!1,revalidation:"idle",loaderData:e.hydrationData&&e.hydrationData.loaderData||{},actionData:e.hydrationData&&e.hydrationData.actionData||null,errors:e.hydrationData&&e.hydrationData.errors||y,fetchers:new Map,blockers:new Map},O=Tt.Pop,N=!1,R,D=!1,P=new Map,_=null,S=!1,M=!1,B=[],re=[],Q=new Map,ee=0,te=-1,W=new Map,V=new Set,I=new Map,ce=new Map,ue=new Set,A=new Map,U=new Map,ae=!1;function ne(){if(d=e.history.listen(F=>{let{action:H,location:$,delta:le}=F;if(ae){ae=!1;return}ri(U.size===0||le!=null,"You are trying to use a blocker on a POP navigation to a location that was not created by @remix-run/router. This will fail silently in production. This can happen if you are navigating outside the router via `window.history.pushState`/`window.location.hash` instead of using router navigation APIs.  This can also happen if you are using createHashRouter and the user manually changes the URL.");let fe=Va({currentLocation:w.location,nextLocation:$,historyAction:H});if(fe&&le!=null){ae=!0,e.history.go(le*-1),ca(fe,{state:"blocked",location:$,proceed(){ca(fe,{state:"proceeding",proceed:void 0,reset:void 0,location:$}),e.history.go(le)},reset(){let _e=new Map(w.blockers);_e.set(fe,Ro),ge({blockers:_e})}});return}return Ft(H,$)}),n){x3(t,P);let F=()=>E3(t,P);t.addEventListener("pagehide",F),_=()=>t.removeEventListener("pagehide",F)}return w.initialized||Ft(Tt.Pop,w.location),x}function Ne(){d&&d(),_&&_(),f.clear(),R&&R.abort(),w.fetchers.forEach((F,H)=>Y(H)),w.blockers.forEach((F,H)=>Nn(H))}function Ke(F){return f.add(F),()=>f.delete(F)}function ge(F,H){H===void 0&&(H={}),w=kt({},w,F);let $=[],le=[];u.v7_fetcherPersist&&w.fetchers.forEach((fe,_e)=>{fe.state==="idle"&&(ue.has(_e)?le.push(_e):$.push(_e))}),[...f].forEach(fe=>fe(w,{deletedFetchers:le,unstable_viewTransitionOpts:H.viewTransitionOpts,unstable_flushSync:H.flushSync===!0})),u.v7_fetcherPersist&&($.forEach(fe=>w.fetchers.delete(fe)),le.forEach(fe=>Y(fe)))}function qe(F,H,$){var le,fe;let{flushSync:_e}=$===void 0?{}:$,Te=w.actionData!=null&&w.navigation.formMethod!=null&&Xn(w.navigation.formMethod)&&w.navigation.state==="loading"&&((le=F.state)==null?void 0:le._isRedirect)!==!0,ke;H.actionData?Object.keys(H.actionData).length>0?ke=H.actionData:ke=null:Te?ke=w.actionData:ke=null;let me=H.loaderData?Ap(w.loaderData,H.loaderData,H.matches||[],H.errors):w.loaderData,Be=w.blockers;Be.size>0&&(Be=new Map(Be),Be.forEach((nt,gt)=>Be.set(gt,Ro)));let Bt=N===!0||w.navigation.formMethod!=null&&Xn(w.navigation.formMethod)&&((fe=F.state)==null?void 0:fe._isRedirect)!==!0;s&&(o=s,s=void 0),S||O===Tt.Pop||(O===Tt.Push?e.history.push(F,F.state):O===Tt.Replace&&e.history.replace(F,F.state));let Le;if(O===Tt.Pop){let nt=P.get(w.location.pathname);nt&&nt.has(F.pathname)?Le={currentLocation:w.location,nextLocation:F}:P.has(F.pathname)&&(Le={currentLocation:F,nextLocation:w.location})}else if(D){let nt=P.get(w.location.pathname);nt?nt.add(F.pathname):(nt=new Set([F.pathname]),P.set(w.location.pathname,nt)),Le={currentLocation:w.location,nextLocation:F}}ge(kt({},H,{actionData:ke,loaderData:me,historyAction:O,location:F,initialized:!0,navigation:sd,revalidation:"idle",restoreScrollPosition:r0(F,H.matches||w.matches),preventScrollReset:Bt,blockers:Be}),{viewTransitionOpts:Le,flushSync:_e===!0}),O=Tt.Pop,N=!1,D=!1,S=!1,M=!1,B=[],re=[]}async function ot(F,H){if(typeof F=="number"){e.history.go(F);return}let $=Oh(w.location,w.matches,l,u.v7_prependBasename,F,H==null?void 0:H.fromRouteId,H==null?void 0:H.relative),{path:le,submission:fe,error:_e}=wp(u.v7_normalizeFormMethod,!1,$,H),Te=w.location,ke=Os(w.location,le,H&&H.state);ke=kt({},ke,e.history.encodeLocation(ke));let me=H&&H.replace!=null?H.replace:void 0,Be=Tt.Push;me===!0?Be=Tt.Replace:me===!1||fe!=null&&Xn(fe.formMethod)&&fe.formAction===w.location.pathname+w.location.search&&(Be=Tt.Replace);let Bt=H&&"preventScrollReset"in H?H.preventScrollReset===!0:void 0,Le=(H&&H.unstable_flushSync)===!0,nt=Va({currentLocation:Te,nextLocation:ke,historyAction:Be});if(nt){ca(nt,{state:"blocked",location:ke,proceed(){ca(nt,{state:"proceeding",proceed:void 0,reset:void 0,location:ke}),ot(F,H)},reset(){let gt=new Map(w.blockers);gt.set(nt,Ro),ge({blockers:gt})}});return}return await Ft(Be,ke,{submission:fe,pendingError:_e,preventScrollReset:Bt,replace:H&&H.replace,enableViewTransition:H&&H.unstable_viewTransition,flushSync:Le})}function Lt(){if(yn(),ge({revalidation:"loading"}),w.navigation.state!=="submitting"){if(w.navigation.state==="idle"){Ft(w.historyAction,w.location,{startUninterruptedRevalidation:!0});return}Ft(O||w.historyAction,w.navigation.location,{overrideNavigation:w.navigation})}}async function Ft(F,H,$){R&&R.abort(),R=null,O=F,S=($&&$.startUninterruptedRevalidation)===!0,ak(w.location,w.matches),N=($&&$.preventScrollReset)===!0,D=($&&$.enableViewTransition)===!0;let le=s||o,fe=$&&$.overrideNavigation,_e=Mi(le,H,l),Te=($&&$.flushSync)===!0;if(!_e){let gt=Ln(404,{pathname:H.pathname}),{matches:en,route:da}=Cp(le);jt(),qe(H,{matches:en,loaderData:{},errors:{[da.id]:gt}},{flushSync:Te});return}if(w.initialized&&!M&&y3(w.location,H)&&!($&&$.submission&&Xn($.submission.formMethod))){qe(H,{matches:_e},{flushSync:Te});return}R=new AbortController;let ke=Oo(e.history,H,R.signal,$&&$.submission),me,Be;if($&&$.pendingError)Be={[os(_e).route.id]:$.pendingError};else if($&&$.submission&&Xn($.submission.formMethod)){let gt=await Ca(ke,H,$.submission,_e,{replace:$.replace,flushSync:Te});if(gt.shortCircuited)return;me=gt.pendingActionData,Be=gt.pendingActionError,fe=ld(H,$.submission),Te=!1,ke=new Request(ke.url,{signal:ke.signal})}let{shortCircuited:Bt,loaderData:Le,errors:nt}=await he(ke,H,_e,fe,$&&$.submission,$&&$.fetcherSubmission,$&&$.replace,Te,me,Be);Bt||(R=null,qe(H,kt({matches:_e},me?{actionData:me}:{},{loaderData:Le,errors:nt})))}async function Ca(F,H,$,le,fe){fe===void 0&&(fe={}),yn();let _e=k3(H,$);ge({navigation:_e},{flushSync:fe.flushSync===!0});let Te,ke=Ph(le,H);if(!ke.route.action&&!ke.route.lazy)Te={type:xt.error,error:Ln(405,{method:F.method,pathname:H.pathname,routeId:ke.route.id})};else if(Te=await Lo("action",F,ke,le,i,r,l),F.signal.aborted)return{shortCircuited:!0};if(Yi(Te)){let me;return fe&&fe.replace!=null?me=fe.replace:me=Te.location===w.location.pathname+w.location.search,await xe(w,Te,{submission:$,replace:me}),{shortCircuited:!0}}if(ss(Te)){let me=os(le,ke.route.id);return(fe&&fe.replace)!==!0&&(O=Tt.Push),{pendingActionData:{},pendingActionError:{[me.route.id]:Te.error}}}if(Wr(Te))throw Ln(400,{type:"defer-action"});return{pendingActionData:{[ke.route.id]:Te.data}}}async function he(F,H,$,le,fe,_e,Te,ke,me,Be){let Bt=le||ld(H,fe),Le=fe||_e||_p(Bt),nt=s||o,[gt,en]=kp(e.history,w,$,Le,H,M,B,re,ue,I,V,nt,l,me,Be);if(jt(at=>!($&&$.some(_n=>_n.route.id===at))||gt&&gt.some(_n=>_n.route.id===at)),te=++ee,gt.length===0&&en.length===0){let at=Ge();return qe(H,kt({matches:$,loaderData:{},errors:Be||null},me?{actionData:me}:{},at?{fetchers:new Map(w.fetchers)}:{}),{flushSync:ke}),{shortCircuited:!0}}if(!S){en.forEach(_n=>{let At=w.fetchers.get(_n.key),Dr=Do(void 0,At?At.data:void 0);w.fetchers.set(_n.key,Dr)});let at=me||w.actionData;ge(kt({navigation:Bt},at?Object.keys(at).length===0?{actionData:null}:{actionData:at}:{},en.length>0?{fetchers:new Map(w.fetchers)}:{}),{flushSync:ke})}en.forEach(at=>{Q.has(at.key)&&ve(at.key),at.controller&&Q.set(at.key,at.controller)});let da=()=>en.forEach(at=>ve(at.key));R&&R.signal.addEventListener("abort",da);let{results:To,loaderResults:_c,fetcherResults:gi}=await Je(w.matches,$,gt,en,F);if(F.signal.aborted)return{shortCircuited:!0};R&&R.signal.removeEventListener("abort",da),en.forEach(at=>Q.delete(at.key));let Un=Np(To);if(Un){if(Un.idx>=gt.length){let at=en[Un.idx-gt.length].key;V.add(at)}return await xe(w,Un.result,{replace:Te}),{shortCircuited:!0}}let{loaderData:ml,errors:Rc}=Sp(w,$,gt,_c,Be,en,gi,A);A.forEach((at,_n)=>{at.subscribe(At=>{(At||at.done)&&A.delete(_n)})});let Lc=Ge(),Oc=ln(te),yi=Lc||Oc||en.length>0;return kt({loaderData:ml,errors:Rc},yi?{fetchers:new Map(w.fetchers)}:{})}function se(F,H,$,le){if(a)throw new Error("router.fetch() was called during the server render, but it shouldn't be. You are likely calling a useFetcher() method in the body of your component. Try moving it to a useEffect or a callback.");Q.has(F)&&ve(F);let fe=(le&&le.unstable_flushSync)===!0,_e=s||o,Te=Oh(w.location,w.matches,l,u.v7_prependBasename,$,H,le==null?void 0:le.relative),ke=Mi(_e,Te,l);if(!ke){ua(F,H,Ln(404,{pathname:Te}),{flushSync:fe});return}let{path:me,submission:Be,error:Bt}=wp(u.v7_normalizeFormMethod,!0,Te,le);if(Bt){ua(F,H,Bt,{flushSync:fe});return}let Le=Ph(ke,me);if(N=(le&&le.preventScrollReset)===!0,Be&&Xn(Be.formMethod)){$e(F,H,me,Le,ke,fe,Be);return}I.set(F,{routeId:H,path:me}),Ue(F,H,me,Le,ke,fe,Be)}async function $e(F,H,$,le,fe,_e,Te){if(yn(),I.delete(F),!le.route.action&&!le.route.lazy){let At=Ln(405,{method:Te.formMethod,pathname:$,routeId:H});ua(F,H,At,{flushSync:_e});return}let ke=w.fetchers.get(F);zt(F,T3(Te,ke),{flushSync:_e});let me=new AbortController,Be=Oo(e.history,$,me.signal,Te);Q.set(F,me);let Bt=ee,Le=await Lo("action",Be,le,fe,i,r,l);if(Be.signal.aborted){Q.get(F)===me&&Q.delete(F);return}if(ue.has(F)){zt(F,nr(void 0));return}if(Yi(Le))if(Q.delete(F),te>Bt){zt(F,nr(void 0));return}else return V.add(F),zt(F,Do(Te)),xe(w,Le,{fetcherSubmission:Te});if(ss(Le)){ua(F,H,Le.error);return}if(Wr(Le))throw Ln(400,{type:"defer-action"});let nt=w.navigation.location||w.location,gt=Oo(e.history,nt,me.signal),en=s||o,da=w.navigation.state!=="idle"?Mi(en,w.navigation.location,l):w.matches;Re(da,"Didn't find any matches after fetcher action");let To=++ee;W.set(F,To);let _c=Do(Te,Le.data);w.fetchers.set(F,_c);let[gi,Un]=kp(e.history,w,da,Te,nt,M,B,re,ue,I,V,en,l,{[le.route.id]:Le.data},void 0);Un.filter(At=>At.key!==F).forEach(At=>{let Dr=At.key,i0=w.fetchers.get(Dr),ik=Do(void 0,i0?i0.data:void 0);w.fetchers.set(Dr,ik),Q.has(Dr)&&ve(Dr),At.controller&&Q.set(Dr,At.controller)}),ge({fetchers:new Map(w.fetchers)});let ml=()=>Un.forEach(At=>ve(At.key));me.signal.addEventListener("abort",ml);let{results:Rc,loaderResults:Lc,fetcherResults:Oc}=await Je(w.matches,da,gi,Un,gt);if(me.signal.aborted)return;me.signal.removeEventListener("abort",ml),W.delete(F),Q.delete(F),Un.forEach(At=>Q.delete(At.key));let yi=Np(Rc);if(yi){if(yi.idx>=gi.length){let At=Un[yi.idx-gi.length].key;V.add(At)}return xe(w,yi.result)}let{loaderData:at,errors:_n}=Sp(w,w.matches,gi,Lc,void 0,Un,Oc,A);if(w.fetchers.has(F)){let At=nr(Le.data);w.fetchers.set(F,At)}ln(To),w.navigation.state==="loading"&&To>te?(Re(O,"Expected pending action"),R&&R.abort(),qe(w.navigation.location,{matches:da,loaderData:at,errors:_n,fetchers:new Map(w.fetchers)})):(ge({errors:_n,loaderData:Ap(w.loaderData,at,da,_n),fetchers:new Map(w.fetchers)}),M=!1)}async function Ue(F,H,$,le,fe,_e,Te){let ke=w.fetchers.get(F);zt(F,Do(Te,ke?ke.data:void 0),{flushSync:_e});let me=new AbortController,Be=Oo(e.history,$,me.signal);Q.set(F,me);let Bt=ee,Le=await Lo("loader",Be,le,fe,i,r,l);if(Wr(Le)&&(Le=await K2(Le,Be.signal,!0)||Le),Q.get(F)===me&&Q.delete(F),!Be.signal.aborted){if(ue.has(F)){zt(F,nr(void 0));return}if(Yi(Le))if(te>Bt){zt(F,nr(void 0));return}else{V.add(F),await xe(w,Le);return}if(ss(Le)){ua(F,H,Le.error);return}Re(!Wr(Le),"Unhandled fetcher deferred data"),zt(F,nr(Le.data))}}async function xe(F,H,$){let{submission:le,fetcherSubmission:fe,replace:_e}=$===void 0?{}:$;H.revalidate&&(M=!0);let Te=Os(F.location,H.location,{_isRedirect:!0});if(Re(Te,"Expected a location on the redirect navigation"),n){let nt=!1;if(H.reloadDocument)nt=!0;else if(z2.test(H.location)){const gt=e.history.createURL(H.location);nt=gt.origin!==t.location.origin||so(gt.pathname,l)==null}if(nt){_e?t.location.replace(H.location):t.location.assign(H.location);return}}R=null;let ke=_e===!0?Tt.Replace:Tt.Push,{formMethod:me,formAction:Be,formEncType:Bt}=F.navigation;!le&&!fe&&me&&Be&&Bt&&(le=_p(F.navigation));let Le=le||fe;if(u3.has(H.status)&&Le&&Xn(Le.formMethod))await Ft(ke,Te,{submission:kt({},Le,{formAction:H.location}),preventScrollReset:N});else{let nt=ld(Te,le);await Ft(ke,Te,{overrideNavigation:nt,fetcherSubmission:fe,preventScrollReset:N})}}async function Je(F,H,$,le,fe){let _e=await Promise.all([...$.map(me=>Lo("loader",fe,me,H,i,r,l)),...le.map(me=>me.matches&&me.match&&me.controller?Lo("loader",Oo(e.history,me.path,me.controller.signal),me.match,me.matches,i,r,l):{type:xt.error,error:Ln(404,{pathname:me.path})})]),Te=_e.slice(0,$.length),ke=_e.slice($.length);return await Promise.all([Ip(F,$,Te,Te.map(()=>fe.signal),!1,w.loaderData),Ip(F,le.map(me=>me.match),ke,le.map(me=>me.controller?me.controller.signal:null),!0)]),{results:_e,loaderResults:Te,fetcherResults:ke}}function yn(){M=!0,B.push(...jt()),I.forEach((F,H)=>{Q.has(H)&&(re.push(H),ve(H))})}function zt(F,H,$){$===void 0&&($={}),w.fetchers.set(F,H),ge({fetchers:new Map(w.fetchers)},{flushSync:($&&$.flushSync)===!0})}function ua(F,H,$,le){le===void 0&&(le={});let fe=os(w.matches,H);Y(F),ge({errors:{[fe.route.id]:$},fetchers:new Map(w.fetchers)},{flushSync:(le&&le.flushSync)===!0})}function fl(F){return u.v7_fetcherPersist&&(ce.set(F,(ce.get(F)||0)+1),ue.has(F)&&ue.delete(F)),w.fetchers.get(F)||c3}function Y(F){let H=w.fetchers.get(F);Q.has(F)&&!(H&&H.state==="loading"&&W.has(F))&&ve(F),I.delete(F),W.delete(F),V.delete(F),ue.delete(F),w.fetchers.delete(F)}function ie(F){if(u.v7_fetcherPersist){let H=(ce.get(F)||0)-1;H<=0?(ce.delete(F),ue.add(F)):ce.set(F,H)}else Y(F);ge({fetchers:new Map(w.fetchers)})}function ve(F){let H=Q.get(F);Re(H,"Expected fetch controller: "+F),H.abort(),Q.delete(F)}function Ie(F){for(let H of F){let $=fl(H),le=nr($.data);w.fetchers.set(H,le)}}function Ge(){let F=[],H=!1;for(let $ of V){let le=w.fetchers.get($);Re(le,"Expected fetcher: "+$),le.state==="loading"&&(V.delete($),F.push($),H=!0)}return Ie(F),H}function ln(F){let H=[];for(let[$,le]of W)if(le<F){let fe=w.fetchers.get($);Re(fe,"Expected fetcher: "+$),fe.state==="loading"&&(ve($),W.delete($),H.push($))}return Ie(H),H.length>0}function Na(F,H){let $=w.blockers.get(F)||Ro;return U.get(F)!==H&&U.set(F,H),$}function Nn(F){w.blockers.delete(F),U.delete(F)}function ca(F,H){let $=w.blockers.get(F)||Ro;Re($.state==="unblocked"&&H.state==="blocked"||$.state==="blocked"&&H.state==="blocked"||$.state==="blocked"&&H.state==="proceeding"||$.state==="blocked"&&H.state==="unblocked"||$.state==="proceeding"&&H.state==="unblocked","Invalid blocker state transition: "+$.state+" -> "+H.state);let le=new Map(w.blockers);le.set(F,H),ge({blockers:le})}function Va(F){let{currentLocation:H,nextLocation:$,historyAction:le}=F;if(U.size===0)return;U.size>1&&ri(!1,"A router only supports one blocker at a time");let fe=Array.from(U.entries()),[_e,Te]=fe[fe.length-1],ke=w.blockers.get(_e);if(!(ke&&ke.state==="proceeding")&&Te({currentLocation:H,nextLocation:$,historyAction:le}))return _e}function jt(F){let H=[];return A.forEach(($,le)=>{(!F||F(le))&&($.cancel(),H.push(le),A.delete(le))}),H}function Ka(F,H,$){if(m=F,v=H,p=$||null,!k&&w.navigation===sd){k=!0;let le=r0(w.location,w.matches);le!=null&&ge({restoreScrollPosition:le})}return()=>{m=null,v=null,p=null}}function In(F,H){return p&&p(F,H.map(le=>Bx(le,w.loaderData)))||F.key}function ak(F,H){if(m&&v){let $=In(F,H);m[$]=v()}}function r0(F,H){if(m){let $=In(F,H),le=m[$];if(typeof le=="number")return le}return null}function rk(F){i={},s=Lh(F,r,void 0,i)}return x={get basename(){return l},get state(){return w},get routes(){return o},get window(){return t},initialize:ne,subscribe:Ke,enableScrollRestoration:Ka,navigate:ot,fetch:se,revalidate:Lt,createHref:F=>e.history.createHref(F),encodeLocation:F=>e.history.encodeLocation(F),getFetcher:fl,deleteFetcher:ie,dispose:Ne,getBlocker:Na,deleteBlocker:Nn,_internalFetchControllers:Q,_internalActiveDeferreds:A,_internalSetRoutes:rk},x}function f3(e){return e!=null&&("formData"in e&&e.formData!=null||"body"in e&&e.body!==void 0)}function Oh(e,t,n,a,r,i,o){let s,l;if(i){s=[];for(let d of t)if(s.push(d),d.route.id===i){l=d;break}}else s=t,l=t[t.length-1];let u=rc(r||".",ac(s),so(e.pathname,n)||e.pathname,o==="path");return r==null&&(u.search=e.search,u.hash=e.hash),(r==null||r===""||r===".")&&l&&l.route.index&&!om(u.search)&&(u.search=u.search?u.search.replace(/^\?/,"?index&"):"?index"),a&&n!=="/"&&(u.pathname=u.pathname==="/"?n:Ma([n,u.pathname])),ii(u)}function wp(e,t,n,a){if(!a||!f3(a))return{path:n};if(a.formMethod&&!w3(a.formMethod))return{path:n,error:Ln(405,{method:a.formMethod})};let r=()=>({path:n,error:Ln(400,{type:"invalid-body"})}),i=a.formMethod||"get",o=e?i.toUpperCase():i.toLowerCase(),s=V2(n);if(a.body!==void 0){if(a.formEncType==="text/plain"){if(!Xn(o))return r();let m=typeof a.body=="string"?a.body:a.body instanceof FormData||a.body instanceof URLSearchParams?Array.from(a.body.entries()).reduce((p,v)=>{let[k,T]=v;return""+p+k+"="+T+`
`},""):String(a.body);return{path:n,submission:{formMethod:o,formAction:s,formEncType:a.formEncType,formData:void 0,json:void 0,text:m}}}else if(a.formEncType==="application/json"){if(!Xn(o))return r();try{let m=typeof a.body=="string"?JSON.parse(a.body):a.body;return{path:n,submission:{formMethod:o,formAction:s,formEncType:a.formEncType,formData:void 0,json:m,text:void 0}}}catch{return r()}}}Re(typeof FormData=="function","FormData is not available in this environment");let l,u;if(a.formData)l=Dh(a.formData),u=a.formData;else if(a.body instanceof FormData)l=Dh(a.body),u=a.body;else if(a.body instanceof URLSearchParams)l=a.body,u=Ep(l);else if(a.body==null)l=new URLSearchParams,u=new FormData;else try{l=new URLSearchParams(a.body),u=Ep(l)}catch{return r()}let d={formMethod:o,formAction:s,formEncType:a&&a.formEncType||"application/x-www-form-urlencoded",formData:u,json:void 0,text:void 0};if(Xn(d.formMethod))return{path:n,submission:d};let f=Ya(n);return t&&f.search&&om(f.search)&&l.append("index",""),f.search="?"+l,{path:ii(f),submission:d}}function m3(e,t){let n=e;if(t){let a=e.findIndex(r=>r.route.id===t);a>=0&&(n=e.slice(0,a))}return n}function kp(e,t,n,a,r,i,o,s,l,u,d,f,m,p,v){let k=v?Object.values(v)[0]:p?Object.values(p)[0]:void 0,T=e.createURL(t.location),y=e.createURL(r),b=v?Object.keys(v)[0]:void 0,w=m3(n,b).filter((N,R)=>{if(N.route.lazy)return!0;if(N.route.loader==null)return!1;if(p3(t.loaderData,t.matches[R],N)||o.some(_=>_===N.route.id))return!0;let D=t.matches[R],P=N;return Tp(N,kt({currentUrl:T,currentParams:D.params,nextUrl:y,nextParams:P.params},a,{actionResult:k,defaultShouldRevalidate:i||T.pathname+T.search===y.pathname+y.search||T.search!==y.search||G2(D,P)}))}),O=[];return u.forEach((N,R)=>{if(!n.some(M=>M.route.id===N.routeId)||l.has(R))return;let D=Mi(f,N.path,m);if(!D){O.push({key:R,routeId:N.routeId,path:N.path,matches:null,match:null,controller:null});return}let P=t.fetchers.get(R),_=Ph(D,N.path),S=!1;d.has(R)?S=!1:s.includes(R)?S=!0:P&&P.state!=="idle"&&P.data===void 0?S=i:S=Tp(_,kt({currentUrl:T,currentParams:t.matches[t.matches.length-1].params,nextUrl:y,nextParams:n[n.length-1].params},a,{actionResult:k,defaultShouldRevalidate:i})),S&&O.push({key:R,routeId:N.routeId,path:N.path,matches:D,match:_,controller:new AbortController})}),[w,O]}function p3(e,t,n){let a=!t||n.route.id!==t.route.id,r=e[n.route.id]===void 0;return a||r}function G2(e,t){let n=e.route.path;return e.pathname!==t.pathname||n!=null&&n.endsWith("*")&&e.params["*"]!==t.params["*"]}function Tp(e,t){if(e.route.shouldRevalidate){let n=e.route.shouldRevalidate(t);if(typeof n=="boolean")return n}return t.defaultShouldRevalidate}async function xp(e,t,n){if(!e.lazy)return;let a=await e.lazy();if(!e.lazy)return;let r=n[e.id];Re(r,"No route found in manifest");let i={};for(let o in a){let l=r[o]!==void 0&&o!=="hasErrorBoundary";ri(!l,'Route "'+r.id+'" has a static property "'+o+'" defined but its lazy function is also returning a value for this property. '+('The lazy route property "'+o+'" will be ignored.')),!l&&!Fx.has(o)&&(i[o]=a[o])}Object.assign(r,i),Object.assign(r,kt({},t(r),{lazy:void 0}))}async function Lo(e,t,n,a,r,i,o,s){s===void 0&&(s={});let l,u,d,f=v=>{let k,T=new Promise((y,b)=>k=b);return d=()=>k(),t.signal.addEventListener("abort",d),Promise.race([v({request:t,params:n.params,context:s.requestContext}),T])};try{let v=n.route[e];if(n.route.lazy)if(v){let k,T=await Promise.all([f(v).catch(y=>{k=y}),xp(n.route,i,r)]);if(k)throw k;u=T[0]}else if(await xp(n.route,i,r),v=n.route[e],v)u=await f(v);else if(e==="action"){let k=new URL(t.url),T=k.pathname+k.search;throw Ln(405,{method:t.method,pathname:T,routeId:n.route.id})}else return{type:xt.data,data:void 0};else if(v)u=await f(v);else{let k=new URL(t.url),T=k.pathname+k.search;throw Ln(404,{pathname:T})}Re(u!==void 0,"You defined "+(e==="action"?"an action":"a loader")+" for route "+('"'+n.route.id+"\" but didn't return anything from your `"+e+"` ")+"function. Please return a value or `null`.")}catch(v){l=xt.error,u=v}finally{d&&t.signal.removeEventListener("abort",d)}if(v3(u)){let v=u.status;if(l3.has(v)){let y=u.headers.get("Location");if(Re(y,"Redirects returned/thrown from loaders/actions must have a Location header"),!z2.test(y))y=Oh(new URL(t.url),a.slice(0,a.indexOf(n)+1),o,!0,y);else if(!s.isStaticRequest){let b=new URL(t.url),x=y.startsWith("//")?new URL(b.protocol+y):new URL(y),w=so(x.pathname,o)!=null;x.origin===b.origin&&w&&(y=x.pathname+x.search+x.hash)}if(s.isStaticRequest)throw u.headers.set("Location",y),u;return{type:xt.redirect,status:v,location:y,revalidate:u.headers.get("X-Remix-Revalidate")!==null,reloadDocument:u.headers.get("X-Remix-Reload-Document")!==null}}if(s.isRouteRequest)throw{type:l===xt.error?xt.error:xt.data,response:u};let k,T=u.headers.get("Content-Type");return T&&/\bapplication\/json\b/.test(T)?k=await u.json():k=await u.text(),l===xt.error?{type:l,error:new im(v,u.statusText,k),headers:u.headers}:{type:xt.data,data:k,statusCode:u.status,headers:u.headers}}if(l===xt.error)return{type:l,error:u};if(b3(u)){var m,p;return{type:xt.deferred,deferredData:u,statusCode:(m=u.init)==null?void 0:m.status,headers:((p=u.init)==null?void 0:p.headers)&&new Headers(u.init.headers)}}return{type:xt.data,data:u}}function Oo(e,t,n,a){let r=e.createURL(V2(t)).toString(),i={signal:n};if(a&&Xn(a.formMethod)){let{formMethod:o,formEncType:s}=a;i.method=o.toUpperCase(),s==="application/json"?(i.headers=new Headers({"Content-Type":s}),i.body=JSON.stringify(a.json)):s==="text/plain"?i.body=a.text:s==="application/x-www-form-urlencoded"&&a.formData?i.body=Dh(a.formData):i.body=a.formData}return new Request(r,i)}function Dh(e){let t=new URLSearchParams;for(let[n,a]of e.entries())t.append(n,typeof a=="string"?a:a.name);return t}function Ep(e){let t=new FormData;for(let[n,a]of e.entries())t.append(n,a);return t}function g3(e,t,n,a,r){let i={},o=null,s,l=!1,u={};return n.forEach((d,f)=>{let m=t[f].route.id;if(Re(!Yi(d),"Cannot handle redirect results in processLoaderData"),ss(d)){let p=os(e,m),v=d.error;a&&(v=Object.values(a)[0],a=void 0),o=o||{},o[p.route.id]==null&&(o[p.route.id]=v),i[m]=void 0,l||(l=!0,s=W2(d.error)?d.error.status:500),d.headers&&(u[m]=d.headers)}else Wr(d)?(r.set(m,d.deferredData),i[m]=d.deferredData.data):i[m]=d.data,d.statusCode!=null&&d.statusCode!==200&&!l&&(s=d.statusCode),d.headers&&(u[m]=d.headers)}),a&&(o=a,i[Object.keys(a)[0]]=void 0),{loaderData:i,errors:o,statusCode:s||200,loaderHeaders:u}}function Sp(e,t,n,a,r,i,o,s){let{loaderData:l,errors:u}=g3(t,n,a,r,s);for(let d=0;d<i.length;d++){let{key:f,match:m,controller:p}=i[d];Re(o!==void 0&&o[d]!==void 0,"Did not find corresponding fetcher result");let v=o[d];if(!(p&&p.signal.aborted))if(ss(v)){let k=os(e.matches,m==null?void 0:m.route.id);u&&u[k.route.id]||(u=kt({},u,{[k.route.id]:v.error})),e.fetchers.delete(f)}else if(Yi(v))Re(!1,"Unhandled fetcher revalidation redirect");else if(Wr(v))Re(!1,"Unhandled fetcher deferred data");else{let k=nr(v.data);e.fetchers.set(f,k)}}return{loaderData:l,errors:u}}function Ap(e,t,n,a){let r=kt({},t);for(let i of n){let o=i.route.id;if(t.hasOwnProperty(o)?t[o]!==void 0&&(r[o]=t[o]):e[o]!==void 0&&i.route.loader&&(r[o]=e[o]),a&&a.hasOwnProperty(o))break}return r}function os(e,t){return(t?e.slice(0,e.findIndex(a=>a.route.id===t)+1):[...e]).reverse().find(a=>a.route.hasErrorBoundary===!0)||e[0]}function Cp(e){let t=e.length===1?e[0]:e.find(n=>n.index||!n.path||n.path==="/")||{id:"__shim-error-route__"};return{matches:[{params:{},pathname:"",pathnameBase:"",route:t}],route:t}}function Ln(e,t){let{pathname:n,routeId:a,method:r,type:i}=t===void 0?{}:t,o="Unknown Server Error",s="Unknown @remix-run/router error";return e===400?(o="Bad Request",r&&n&&a?s="You made a "+r+' request to "'+n+'" but '+('did not provide a `loader` for route "'+a+'", ')+"so there is no way to handle the request.":i==="defer-action"?s="defer() is not supported in actions":i==="invalid-body"&&(s="Unable to encode submission body")):e===403?(o="Forbidden",s='Route "'+a+'" does not match URL "'+n+'"'):e===404?(o="Not Found",s='No route matches URL "'+n+'"'):e===405&&(o="Method Not Allowed",r&&n&&a?s="You made a "+r.toUpperCase()+' request to "'+n+'" but '+('did not provide an `action` for route "'+a+'", ')+"so there is no way to handle the request.":r&&(s='Invalid request method "'+r.toUpperCase()+'"')),new im(e||500,o,new Error(s),!0)}function Np(e){for(let t=e.length-1;t>=0;t--){let n=e[t];if(Yi(n))return{result:n,idx:t}}}function V2(e){let t=typeof e=="string"?Ya(e):e;return ii(kt({},t,{hash:""}))}function y3(e,t){return e.pathname!==t.pathname||e.search!==t.search?!1:e.hash===""?t.hash!=="":e.hash===t.hash?!0:t.hash!==""}function Wr(e){return e.type===xt.deferred}function ss(e){return e.type===xt.error}function Yi(e){return(e&&e.type)===xt.redirect}function b3(e){let t=e;return t&&typeof t=="object"&&typeof t.data=="object"&&typeof t.subscribe=="function"&&typeof t.cancel=="function"&&typeof t.resolveData=="function"}function v3(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.headers=="object"&&typeof e.body<"u"}function w3(e){return s3.has(e.toLowerCase())}function Xn(e){return i3.has(e.toLowerCase())}async function Ip(e,t,n,a,r,i){for(let o=0;o<n.length;o++){let s=n[o],l=t[o];if(!l)continue;let u=e.find(f=>f.route.id===l.route.id),d=u!=null&&!G2(u,l)&&(i&&i[l.route.id])!==void 0;if(Wr(s)&&(r||d)){let f=a[o];Re(f,"Expected an AbortSignal for revalidating fetcher deferred result"),await K2(s,f,r).then(m=>{m&&(n[o]=m||n[o])})}}}async function K2(e,t,n){if(n===void 0&&(n=!1),!await e.deferredData.resolveData(t)){if(n)try{return{type:xt.data,data:e.deferredData.unwrappedData}}catch(r){return{type:xt.error,error:r}}return{type:xt.data,data:e.deferredData.data}}}function om(e){return new URLSearchParams(e).getAll("index").some(t=>t==="")}function Ph(e,t){let n=typeof t=="string"?Ya(t).search:t.search;if(e[e.length-1].route.index&&om(n||""))return e[e.length-1];let a=U2(e);return a[a.length-1]}function _p(e){let{formMethod:t,formAction:n,formEncType:a,text:r,formData:i,json:o}=e;if(!(!t||!n||!a)){if(r!=null)return{formMethod:t,formAction:n,formEncType:a,formData:void 0,json:void 0,text:r};if(i!=null)return{formMethod:t,formAction:n,formEncType:a,formData:i,json:void 0,text:void 0};if(o!==void 0)return{formMethod:t,formAction:n,formEncType:a,formData:void 0,json:o,text:void 0}}}function ld(e,t){return t?{state:"loading",location:e,formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text}:{state:"loading",location:e,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0}}function k3(e,t){return{state:"submitting",location:e,formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text}}function Do(e,t){return e?{state:"loading",formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text,data:t}:{state:"loading",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:t}}function T3(e,t){return{state:"submitting",formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text,data:t?t.data:void 0}}function nr(e){return{state:"idle",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:e}}function x3(e,t){try{let n=e.sessionStorage.getItem($2);if(n){let a=JSON.parse(n);for(let[r,i]of Object.entries(a||{}))i&&Array.isArray(i)&&t.set(r,new Set(i||[]))}}catch{}}function E3(e,t){if(t.size>0){let n={};for(let[a,r]of t)n[a]=[...r];try{e.sessionStorage.setItem($2,JSON.stringify(n))}catch(a){ri(!1,"Failed to save applied view transitions in sessionStorage ("+a+").")}}}/**
 * React Router v6.20.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Iu(){return Iu=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},Iu.apply(this,arguments)}const ic=g.createContext(null),Q2=g.createContext(null),lo=g.createContext(null),oc=g.createContext(null),za=g.createContext({outlet:null,matches:[],isDataRoute:!1}),X2=g.createContext(null);function S3(e,t){let{relative:n}=t===void 0?{}:t;uo()||Re(!1);let{basename:a,navigator:r}=g.useContext(lo),{hash:i,pathname:o,search:s}=Z2(e,{relative:n}),l=o;return a!=="/"&&(l=o==="/"?a:Ma([a,o])),r.createHref({pathname:l,search:s,hash:i})}function uo(){return g.useContext(oc)!=null}function Gs(){return uo()||Re(!1),g.useContext(oc).location}function J2(e){g.useContext(lo).static||g.useLayoutEffect(e)}function sm(){let{isDataRoute:e}=g.useContext(za);return e?B3():A3()}function A3(){uo()||Re(!1);let e=g.useContext(ic),{basename:t,navigator:n}=g.useContext(lo),{matches:a}=g.useContext(za),{pathname:r}=Gs(),i=JSON.stringify(ac(a)),o=g.useRef(!1);return J2(()=>{o.current=!0}),g.useCallback(function(l,u){if(u===void 0&&(u={}),!o.current)return;if(typeof l=="number"){n.go(l);return}let d=rc(l,JSON.parse(i),r,u.relative==="path");e==null&&t!=="/"&&(d.pathname=d.pathname==="/"?t:Ma([t,d.pathname])),(u.replace?n.replace:n.push)(d,u.state,u)},[t,n,i,r,e])}const C3=g.createContext(null);function N3(e){let t=g.useContext(za).outlet;return t&&g.createElement(C3.Provider,{value:e},t)}function Z2(e,t){let{relative:n}=t===void 0?{}:t,{matches:a}=g.useContext(za),{pathname:r}=Gs(),i=JSON.stringify(ac(a));return g.useMemo(()=>rc(e,JSON.parse(i),r,n==="path"),[e,i,r,n])}function I3(e,t,n){uo()||Re(!1);let{navigator:a}=g.useContext(lo),{matches:r}=g.useContext(za),i=r[r.length-1],o=i?i.params:{};i&&i.pathname;let s=i?i.pathnameBase:"/";i&&i.route;let l=Gs(),u;if(t){var d;let k=typeof t=="string"?Ya(t):t;s==="/"||(d=k.pathname)!=null&&d.startsWith(s)||Re(!1),u=k}else u=l;let f=u.pathname||"/",m=s==="/"?f:f.slice(s.length)||"/",p=Mi(e,{pathname:m}),v=D3(p&&p.map(k=>Object.assign({},k,{params:Object.assign({},o,k.params),pathname:Ma([s,a.encodeLocation?a.encodeLocation(k.pathname).pathname:k.pathname]),pathnameBase:k.pathnameBase==="/"?s:Ma([s,a.encodeLocation?a.encodeLocation(k.pathnameBase).pathname:k.pathnameBase])})),r,n);return t&&v?g.createElement(oc.Provider,{value:{location:Iu({pathname:"/",search:"",hash:"",state:null,key:"default"},u),navigationType:Tt.Pop}},v):v}function _3(){let e=j3(),t=W2(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,r={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"},i=null;return g.createElement(g.Fragment,null,g.createElement("h2",null,"Unexpected Application Error!"),g.createElement("h3",{style:{fontStyle:"italic"}},t),n?g.createElement("pre",{style:r},n):null,i)}const R3=g.createElement(_3,null);class L3 extends g.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,n){return n.location!==t.location||n.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error||n.error,location:n.location,revalidation:t.revalidation||n.revalidation}}componentDidCatch(t,n){console.error("React Router caught the following error during render",t,n)}render(){return this.state.error?g.createElement(za.Provider,{value:this.props.routeContext},g.createElement(X2.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function O3(e){let{routeContext:t,match:n,children:a}=e,r=g.useContext(ic);return r&&r.static&&r.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=n.route.id),g.createElement(za.Provider,{value:t},a)}function D3(e,t,n){var a;if(t===void 0&&(t=[]),n===void 0&&(n=null),e==null){var r;if((r=n)!=null&&r.errors)e=n.matches;else return null}let i=e,o=(a=n)==null?void 0:a.errors;if(o!=null){let s=i.findIndex(l=>l.route.id&&(o==null?void 0:o[l.route.id]));s>=0||Re(!1),i=i.slice(0,Math.min(i.length,s+1))}return i.reduceRight((s,l,u)=>{let d=l.route.id?o==null?void 0:o[l.route.id]:null,f=null;n&&(f=l.route.errorElement||R3);let m=t.concat(i.slice(0,u+1)),p=()=>{let v;return d?v=f:l.route.Component?v=g.createElement(l.route.Component,null):l.route.element?v=l.route.element:v=s,g.createElement(O3,{match:l,routeContext:{outlet:s,matches:m,isDataRoute:n!=null},children:v})};return n&&(l.route.ErrorBoundary||l.route.errorElement||u===0)?g.createElement(L3,{location:n.location,revalidation:n.revalidation,component:f,error:d,children:p(),routeContext:{outlet:null,matches:m,isDataRoute:!0}}):p()},null)}var eb=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(eb||{}),_u=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(_u||{});function P3(e){let t=g.useContext(ic);return t||Re(!1),t}function M3(e){let t=g.useContext(Q2);return t||Re(!1),t}function F3(e){let t=g.useContext(za);return t||Re(!1),t}function tb(e){let t=F3(),n=t.matches[t.matches.length-1];return n.route.id||Re(!1),n.route.id}function j3(){var e;let t=g.useContext(X2),n=M3(_u.UseRouteError),a=tb(_u.UseRouteError);return t||((e=n.errors)==null?void 0:e[a])}function B3(){let{router:e}=P3(eb.UseNavigateStable),t=tb(_u.UseNavigateStable),n=g.useRef(!1);return J2(()=>{n.current=!0}),g.useCallback(function(r,i){i===void 0&&(i={}),n.current&&(typeof r=="number"?e.navigate(r):e.navigate(r,Iu({fromRouteId:t},i)))},[e,t])}function H3(e){let{to:t,replace:n,state:a,relative:r}=e;uo()||Re(!1);let{matches:i}=g.useContext(za),{pathname:o}=Gs(),s=sm(),l=rc(t,ac(i),o,r==="path"),u=JSON.stringify(l);return g.useEffect(()=>s(JSON.parse(u),{replace:n,state:a,relative:r}),[s,u,r,n,a]),null}function q3(e){return N3(e.context)}function U3(e){let{basename:t="/",children:n=null,location:a,navigationType:r=Tt.Pop,navigator:i,static:o=!1}=e;uo()&&Re(!1);let s=t.replace(/^\/*/,"/"),l=g.useMemo(()=>({basename:s,navigator:i,static:o}),[s,i,o]);typeof a=="string"&&(a=Ya(a));let{pathname:u="/",search:d="",hash:f="",state:m=null,key:p="default"}=a,v=g.useMemo(()=>{let k=so(u,s);return k==null?null:{location:{pathname:k,search:d,hash:f,state:m,key:p},navigationType:r}},[s,u,d,f,m,p,r]);return v==null?null:g.createElement(lo.Provider,{value:l},g.createElement(oc.Provider,{children:n,value:v}))}new Promise(()=>{});function W3(e){let t={hasErrorBoundary:e.ErrorBoundary!=null||e.errorElement!=null};return e.Component&&Object.assign(t,{element:g.createElement(e.Component),Component:void 0}),e.ErrorBoundary&&Object.assign(t,{errorElement:g.createElement(e.ErrorBoundary),ErrorBoundary:void 0}),t}/**
 * React Router DOM v6.20.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Ds(){return Ds=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},Ds.apply(this,arguments)}function Y3(e,t){if(e==null)return{};var n={},a=Object.keys(e),r,i;for(i=0;i<a.length;i++)r=a[i],!(t.indexOf(r)>=0)&&(n[r]=e[r]);return n}function z3(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function $3(e,t){return e.button===0&&(!t||t==="_self")&&!z3(e)}const G3=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","unstable_viewTransition"];function V3(e,t){return h3({basename:t==null?void 0:t.basename,future:Ds({},t==null?void 0:t.future,{v7_prependBasename:!0}),history:Dx({window:t==null?void 0:t.window}),hydrationData:(t==null?void 0:t.hydrationData)||K3(),routes:e,mapRouteProperties:W3,window:t==null?void 0:t.window}).initialize()}function K3(){var e;let t=(e=window)==null?void 0:e.__staticRouterHydrationData;return t&&t.errors&&(t=Ds({},t,{errors:Q3(t.errors)})),t}function Q3(e){if(!e)return null;let t=Object.entries(e),n={};for(let[a,r]of t)if(r&&r.__type==="RouteErrorResponse")n[a]=new im(r.status,r.statusText,r.data,r.internal===!0);else if(r&&r.__type==="Error"){if(r.__subType){let i=window[r.__subType];if(typeof i=="function")try{let o=new i(r.message);o.stack="",n[a]=o}catch{}}if(n[a]==null){let i=new Error(r.message);i.stack="",n[a]=i}}else n[a]=r;return n}const X3=g.createContext({isTransitioning:!1}),J3=g.createContext(new Map),Z3="startTransition",Rp=Gi[Z3],eE="flushSync",Lp=Ox[eE];function tE(e){Rp?Rp(e):e()}function Po(e){Lp?Lp(e):e()}class nE{constructor(){this.status="pending",this.promise=new Promise((t,n)=>{this.resolve=a=>{this.status==="pending"&&(this.status="resolved",t(a))},this.reject=a=>{this.status==="pending"&&(this.status="rejected",n(a))}})}}function aE(e){let{fallbackElement:t,router:n,future:a}=e,[r,i]=g.useState(n.state),[o,s]=g.useState(),[l,u]=g.useState({isTransitioning:!1}),[d,f]=g.useState(),[m,p]=g.useState(),[v,k]=g.useState(),T=g.useRef(new Map),{v7_startTransition:y}=a||{},b=g.useCallback(R=>{y?tE(R):R()},[y]),x=g.useCallback((R,D)=>{let{deletedFetchers:P,unstable_flushSync:_,unstable_viewTransitionOpts:S}=D;P.forEach(B=>T.current.delete(B)),R.fetchers.forEach((B,re)=>{B.data!==void 0&&T.current.set(re,B.data)});let M=n.window==null||typeof n.window.document.startViewTransition!="function";if(!S||M){_?Po(()=>i(R)):b(()=>i(R));return}if(_){Po(()=>{m&&(d&&d.resolve(),m.skipTransition()),u({isTransitioning:!0,flushSync:!0,currentLocation:S.currentLocation,nextLocation:S.nextLocation})});let B=n.window.document.startViewTransition(()=>{Po(()=>i(R))});B.finished.finally(()=>{Po(()=>{f(void 0),p(void 0),s(void 0),u({isTransitioning:!1})})}),Po(()=>p(B));return}m?(d&&d.resolve(),m.skipTransition(),k({state:R,currentLocation:S.currentLocation,nextLocation:S.nextLocation})):(s(R),u({isTransitioning:!0,flushSync:!1,currentLocation:S.currentLocation,nextLocation:S.nextLocation}))},[n.window,m,d,T,b]);g.useLayoutEffect(()=>n.subscribe(x),[n,x]),g.useEffect(()=>{l.isTransitioning&&!l.flushSync&&f(new nE)},[l]),g.useEffect(()=>{if(d&&o&&n.window){let R=o,D=d.promise,P=n.window.document.startViewTransition(async()=>{b(()=>i(R)),await D});P.finished.finally(()=>{f(void 0),p(void 0),s(void 0),u({isTransitioning:!1})}),p(P)}},[b,o,d,n.window]),g.useEffect(()=>{d&&o&&r.location.key===o.location.key&&d.resolve()},[d,m,r.location,o]),g.useEffect(()=>{!l.isTransitioning&&v&&(s(v.state),u({isTransitioning:!0,flushSync:!1,currentLocation:v.currentLocation,nextLocation:v.nextLocation}),k(void 0))},[l.isTransitioning,v]);let w=g.useMemo(()=>({createHref:n.createHref,encodeLocation:n.encodeLocation,go:R=>n.navigate(R),push:(R,D,P)=>n.navigate(R,{state:D,preventScrollReset:P==null?void 0:P.preventScrollReset}),replace:(R,D,P)=>n.navigate(R,{replace:!0,state:D,preventScrollReset:P==null?void 0:P.preventScrollReset})}),[n]),O=n.basename||"/",N=g.useMemo(()=>({router:n,navigator:w,static:!1,basename:O}),[n,w,O]);return g.createElement(g.Fragment,null,g.createElement(ic.Provider,{value:N},g.createElement(Q2.Provider,{value:r},g.createElement(J3.Provider,{value:T.current},g.createElement(X3.Provider,{value:l},g.createElement(U3,{basename:O,location:r.location,navigationType:r.historyAction,navigator:w},r.initialized?g.createElement(rE,{routes:n.routes,state:r}):t))))),null)}function rE(e){let{routes:t,state:n}=e;return I3(t,void 0,n)}const iE=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",oE=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,hn=g.forwardRef(function(t,n){let{onClick:a,relative:r,reloadDocument:i,replace:o,state:s,target:l,to:u,preventScrollReset:d,unstable_viewTransition:f}=t,m=Y3(t,G3),{basename:p}=g.useContext(lo),v,k=!1;if(typeof u=="string"&&oE.test(u)&&(v=u,iE))try{let x=new URL(window.location.href),w=u.startsWith("//")?new URL(x.protocol+u):new URL(u),O=so(w.pathname,p);w.origin===x.origin&&O!=null?u=O+w.search+w.hash:k=!0}catch{}let T=S3(u,{relative:r}),y=sE(u,{replace:o,state:s,target:l,preventScrollReset:d,relative:r,unstable_viewTransition:f});function b(x){a&&a(x),x.defaultPrevented||y(x)}return g.createElement("a",Ds({},m,{href:v||T,onClick:k||i?a:b,ref:n,target:l}))});var Op;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(Op||(Op={}));var Dp;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(Dp||(Dp={}));function sE(e,t){let{target:n,replace:a,state:r,preventScrollReset:i,relative:o,unstable_viewTransition:s}=t===void 0?{}:t,l=sm(),u=Gs(),d=Z2(e,{relative:o});return g.useCallback(f=>{if($3(f,n)){f.preventDefault();let m=a!==void 0?a:ii(u)===ii(d);l(e,{replace:m,state:r,preventScrollReset:i,relative:o,unstable_viewTransition:s})}},[u,l,d,a,r,n,e,i,o,s])}function nb(e){var t,n,a="";if(typeof e=="string"||typeof e=="number")a+=e;else if(typeof e=="object")if(Array.isArray(e))for(t=0;t<e.length;t++)e[t]&&(n=nb(e[t]))&&(a&&(a+=" "),a+=n);else for(t in e)e[t]&&(a&&(a+=" "),a+=t);return a}function ab(){for(var e,t,n=0,a="";n<arguments.length;)(e=arguments[n++])&&(t=nb(e))&&(a&&(a+=" "),a+=t);return a}const lm="-";function lE(e){const t=cE(e),{conflictingClassGroups:n,conflictingClassGroupModifiers:a}=e;function r(o){const s=o.split(lm);return s[0]===""&&s.length!==1&&s.shift(),rb(s,t)||uE(o)}function i(o,s){const l=n[o]||[];return s&&a[o]?[...l,...a[o]]:l}return{getClassGroupId:r,getConflictingClassGroupIds:i}}function rb(e,t){var o;if(e.length===0)return t.classGroupId;const n=e[0],a=t.nextPart.get(n),r=a?rb(e.slice(1),a):void 0;if(r)return r;if(t.validators.length===0)return;const i=e.join(lm);return(o=t.validators.find(({validator:s})=>s(i)))==null?void 0:o.classGroupId}const Pp=/^\[(.+)\]$/;function uE(e){if(Pp.test(e)){const t=Pp.exec(e)[1],n=t==null?void 0:t.substring(0,t.indexOf(":"));if(n)return"arbitrary.."+n}}function cE(e){const{theme:t,prefix:n}=e,a={nextPart:new Map,validators:[]};return hE(Object.entries(e.classGroups),n).forEach(([i,o])=>{Mh(o,a,i,t)}),a}function Mh(e,t,n,a){e.forEach(r=>{if(typeof r=="string"){const i=r===""?t:Mp(t,r);i.classGroupId=n;return}if(typeof r=="function"){if(dE(r)){Mh(r(a),t,n,a);return}t.validators.push({validator:r,classGroupId:n});return}Object.entries(r).forEach(([i,o])=>{Mh(o,Mp(t,i),n,a)})})}function Mp(e,t){let n=e;return t.split(lm).forEach(a=>{n.nextPart.has(a)||n.nextPart.set(a,{nextPart:new Map,validators:[]}),n=n.nextPart.get(a)}),n}function dE(e){return e.isThemeGetter}function hE(e,t){return t?e.map(([n,a])=>{const r=a.map(i=>typeof i=="string"?t+i:typeof i=="object"?Object.fromEntries(Object.entries(i).map(([o,s])=>[t+o,s])):i);return[n,r]}):e}function fE(e){if(e<1)return{get:()=>{},set:()=>{}};let t=0,n=new Map,a=new Map;function r(i,o){n.set(i,o),t++,t>e&&(t=0,a=n,n=new Map)}return{get(i){let o=n.get(i);if(o!==void 0)return o;if((o=a.get(i))!==void 0)return r(i,o),o},set(i,o){n.has(i)?n.set(i,o):r(i,o)}}}const ib="!";function mE(e){const t=e.separator,n=t.length===1,a=t[0],r=t.length;return function(o){const s=[];let l=0,u=0,d;for(let k=0;k<o.length;k++){let T=o[k];if(l===0){if(T===a&&(n||o.slice(k,k+r)===t)){s.push(o.slice(u,k)),u=k+r;continue}if(T==="/"){d=k;continue}}T==="["?l++:T==="]"&&l--}const f=s.length===0?o:o.substring(u),m=f.startsWith(ib),p=m?f.substring(1):f,v=d&&d>u?d-u:void 0;return{modifiers:s,hasImportantModifier:m,baseClassName:p,maybePostfixModifierPosition:v}}}function pE(e){if(e.length<=1)return e;const t=[];let n=[];return e.forEach(a=>{a[0]==="["?(t.push(...n.sort(),a),n=[]):n.push(a)}),t.push(...n.sort()),t}function gE(e){return{cache:fE(e.cacheSize),splitModifiers:mE(e),...lE(e)}}const yE=/\s+/;function bE(e,t){const{splitModifiers:n,getClassGroupId:a,getConflictingClassGroupIds:r}=t,i=new Set;return e.trim().split(yE).map(o=>{const{modifiers:s,hasImportantModifier:l,baseClassName:u,maybePostfixModifierPosition:d}=n(o);let f=a(d?u.substring(0,d):u),m=!!d;if(!f){if(!d)return{isTailwindClass:!1,originalClassName:o};if(f=a(u),!f)return{isTailwindClass:!1,originalClassName:o};m=!1}const p=pE(s).join(":");return{isTailwindClass:!0,modifierId:l?p+ib:p,classGroupId:f,originalClassName:o,hasPostfixModifier:m}}).reverse().filter(o=>{if(!o.isTailwindClass)return!0;const{modifierId:s,classGroupId:l,hasPostfixModifier:u}=o,d=s+l;return i.has(d)?!1:(i.add(d),r(l,u).forEach(f=>i.add(s+f)),!0)}).reverse().map(o=>o.originalClassName).join(" ")}function vE(){let e=0,t,n,a="";for(;e<arguments.length;)(t=arguments[e++])&&(n=ob(t))&&(a&&(a+=" "),a+=n);return a}function ob(e){if(typeof e=="string")return e;let t,n="";for(let a=0;a<e.length;a++)e[a]&&(t=ob(e[a]))&&(n&&(n+=" "),n+=t);return n}function wE(e,...t){let n,a,r,i=o;function o(l){const u=t.reduce((d,f)=>f(d),e());return n=gE(u),a=n.cache.get,r=n.cache.set,i=s,s(l)}function s(l){const u=a(l);if(u)return u;const d=bE(l,n);return r(l,d),d}return function(){return i(vE.apply(null,arguments))}}function st(e){const t=n=>n[e]||[];return t.isThemeGetter=!0,t}const sb=/^\[(?:([a-z-]+):)?(.+)\]$/i,kE=/^\d+\/\d+$/,TE=new Set(["px","full","screen"]),xE=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,EE=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,SE=/^-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,AE=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/;function zn(e){return Yr(e)||TE.has(e)||kE.test(e)}function Ja(e){return co(e,"length",DE)}function Yr(e){return!!e&&!Number.isNaN(Number(e))}function Ll(e){return co(e,"number",Yr)}function Mo(e){return!!e&&Number.isInteger(Number(e))}function CE(e){return e.endsWith("%")&&Yr(e.slice(0,-1))}function Ae(e){return sb.test(e)}function Za(e){return xE.test(e)}const NE=new Set(["length","size","percentage"]);function IE(e){return co(e,NE,lb)}function _E(e){return co(e,"position",lb)}const RE=new Set(["image","url"]);function LE(e){return co(e,RE,ME)}function OE(e){return co(e,"",PE)}function Fo(){return!0}function co(e,t,n){const a=sb.exec(e);return a?a[1]?typeof t=="string"?a[1]===t:t.has(a[1]):n(a[2]):!1}function DE(e){return EE.test(e)}function lb(){return!1}function PE(e){return SE.test(e)}function ME(e){return AE.test(e)}function FE(){const e=st("colors"),t=st("spacing"),n=st("blur"),a=st("brightness"),r=st("borderColor"),i=st("borderRadius"),o=st("borderSpacing"),s=st("borderWidth"),l=st("contrast"),u=st("grayscale"),d=st("hueRotate"),f=st("invert"),m=st("gap"),p=st("gradientColorStops"),v=st("gradientColorStopPositions"),k=st("inset"),T=st("margin"),y=st("opacity"),b=st("padding"),x=st("saturate"),w=st("scale"),O=st("sepia"),N=st("skew"),R=st("space"),D=st("translate"),P=()=>["auto","contain","none"],_=()=>["auto","hidden","clip","visible","scroll"],S=()=>["auto",Ae,t],M=()=>[Ae,t],B=()=>["",zn,Ja],re=()=>["auto",Yr,Ae],Q=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],ee=()=>["solid","dashed","dotted","double","none"],te=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity","plus-lighter"],W=()=>["start","end","center","between","around","evenly","stretch"],V=()=>["","0",Ae],I=()=>["auto","avoid","all","avoid-page","page","left","right","column"],ce=()=>[Yr,Ll],ue=()=>[Yr,Ae];return{cacheSize:500,separator:":",theme:{colors:[Fo],spacing:[zn,Ja],blur:["none","",Za,Ae],brightness:ce(),borderColor:[e],borderRadius:["none","","full",Za,Ae],borderSpacing:M(),borderWidth:B(),contrast:ce(),grayscale:V(),hueRotate:ue(),invert:V(),gap:M(),gradientColorStops:[e],gradientColorStopPositions:[CE,Ja],inset:S(),margin:S(),opacity:ce(),padding:M(),saturate:ce(),scale:ce(),sepia:V(),skew:ue(),space:M(),translate:M()},classGroups:{aspect:[{aspect:["auto","square","video",Ae]}],container:["container"],columns:[{columns:[Za]}],"break-after":[{"break-after":I()}],"break-before":[{"break-before":I()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none"]}],clear:[{clear:["left","right","both","none"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...Q(),Ae]}],overflow:[{overflow:_()}],"overflow-x":[{"overflow-x":_()}],"overflow-y":[{"overflow-y":_()}],overscroll:[{overscroll:P()}],"overscroll-x":[{"overscroll-x":P()}],"overscroll-y":[{"overscroll-y":P()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[k]}],"inset-x":[{"inset-x":[k]}],"inset-y":[{"inset-y":[k]}],start:[{start:[k]}],end:[{end:[k]}],top:[{top:[k]}],right:[{right:[k]}],bottom:[{bottom:[k]}],left:[{left:[k]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",Mo,Ae]}],basis:[{basis:S()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",Ae]}],grow:[{grow:V()}],shrink:[{shrink:V()}],order:[{order:["first","last","none",Mo,Ae]}],"grid-cols":[{"grid-cols":[Fo]}],"col-start-end":[{col:["auto",{span:["full",Mo,Ae]},Ae]}],"col-start":[{"col-start":re()}],"col-end":[{"col-end":re()}],"grid-rows":[{"grid-rows":[Fo]}],"row-start-end":[{row:["auto",{span:[Mo,Ae]},Ae]}],"row-start":[{"row-start":re()}],"row-end":[{"row-end":re()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",Ae]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",Ae]}],gap:[{gap:[m]}],"gap-x":[{"gap-x":[m]}],"gap-y":[{"gap-y":[m]}],"justify-content":[{justify:["normal",...W()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...W(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...W(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[b]}],px:[{px:[b]}],py:[{py:[b]}],ps:[{ps:[b]}],pe:[{pe:[b]}],pt:[{pt:[b]}],pr:[{pr:[b]}],pb:[{pb:[b]}],pl:[{pl:[b]}],m:[{m:[T]}],mx:[{mx:[T]}],my:[{my:[T]}],ms:[{ms:[T]}],me:[{me:[T]}],mt:[{mt:[T]}],mr:[{mr:[T]}],mb:[{mb:[T]}],ml:[{ml:[T]}],"space-x":[{"space-x":[R]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[R]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit",Ae,t]}],"min-w":[{"min-w":["min","max","fit",Ae,zn]}],"max-w":[{"max-w":["0","none","full","min","max","fit","prose",{screen:[Za]},Za,Ae]}],h:[{h:[Ae,t,"auto","min","max","fit"]}],"min-h":[{"min-h":["min","max","fit",zn,Ae]}],"max-h":[{"max-h":[Ae,t,"min","max","fit"]}],"font-size":[{text:["base",Za,Ja]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",Ll]}],"font-family":[{font:[Fo]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractons"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",Ae]}],"line-clamp":[{"line-clamp":["none",Yr,Ll]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",zn,Ae]}],"list-image":[{"list-image":["none",Ae]}],"list-style-type":[{list:["none","disc","decimal",Ae]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[e]}],"placeholder-opacity":[{"placeholder-opacity":[y]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[e]}],"text-opacity":[{"text-opacity":[y]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...ee(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",zn,Ja]}],"underline-offset":[{"underline-offset":["auto",zn,Ae]}],"text-decoration-color":[{decoration:[e]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],indent:[{indent:M()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Ae]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Ae]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[y]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...Q(),_E]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",IE]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},LE]}],"bg-color":[{bg:[e]}],"gradient-from-pos":[{from:[v]}],"gradient-via-pos":[{via:[v]}],"gradient-to-pos":[{to:[v]}],"gradient-from":[{from:[p]}],"gradient-via":[{via:[p]}],"gradient-to":[{to:[p]}],rounded:[{rounded:[i]}],"rounded-s":[{"rounded-s":[i]}],"rounded-e":[{"rounded-e":[i]}],"rounded-t":[{"rounded-t":[i]}],"rounded-r":[{"rounded-r":[i]}],"rounded-b":[{"rounded-b":[i]}],"rounded-l":[{"rounded-l":[i]}],"rounded-ss":[{"rounded-ss":[i]}],"rounded-se":[{"rounded-se":[i]}],"rounded-ee":[{"rounded-ee":[i]}],"rounded-es":[{"rounded-es":[i]}],"rounded-tl":[{"rounded-tl":[i]}],"rounded-tr":[{"rounded-tr":[i]}],"rounded-br":[{"rounded-br":[i]}],"rounded-bl":[{"rounded-bl":[i]}],"border-w":[{border:[s]}],"border-w-x":[{"border-x":[s]}],"border-w-y":[{"border-y":[s]}],"border-w-s":[{"border-s":[s]}],"border-w-e":[{"border-e":[s]}],"border-w-t":[{"border-t":[s]}],"border-w-r":[{"border-r":[s]}],"border-w-b":[{"border-b":[s]}],"border-w-l":[{"border-l":[s]}],"border-opacity":[{"border-opacity":[y]}],"border-style":[{border:[...ee(),"hidden"]}],"divide-x":[{"divide-x":[s]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[s]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[y]}],"divide-style":[{divide:ee()}],"border-color":[{border:[r]}],"border-color-x":[{"border-x":[r]}],"border-color-y":[{"border-y":[r]}],"border-color-t":[{"border-t":[r]}],"border-color-r":[{"border-r":[r]}],"border-color-b":[{"border-b":[r]}],"border-color-l":[{"border-l":[r]}],"divide-color":[{divide:[r]}],"outline-style":[{outline:["",...ee()]}],"outline-offset":[{"outline-offset":[zn,Ae]}],"outline-w":[{outline:[zn,Ja]}],"outline-color":[{outline:[e]}],"ring-w":[{ring:B()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[e]}],"ring-opacity":[{"ring-opacity":[y]}],"ring-offset-w":[{"ring-offset":[zn,Ja]}],"ring-offset-color":[{"ring-offset":[e]}],shadow:[{shadow:["","inner","none",Za,OE]}],"shadow-color":[{shadow:[Fo]}],opacity:[{opacity:[y]}],"mix-blend":[{"mix-blend":te()}],"bg-blend":[{"bg-blend":te()}],filter:[{filter:["","none"]}],blur:[{blur:[n]}],brightness:[{brightness:[a]}],contrast:[{contrast:[l]}],"drop-shadow":[{"drop-shadow":["","none",Za,Ae]}],grayscale:[{grayscale:[u]}],"hue-rotate":[{"hue-rotate":[d]}],invert:[{invert:[f]}],saturate:[{saturate:[x]}],sepia:[{sepia:[O]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[n]}],"backdrop-brightness":[{"backdrop-brightness":[a]}],"backdrop-contrast":[{"backdrop-contrast":[l]}],"backdrop-grayscale":[{"backdrop-grayscale":[u]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[d]}],"backdrop-invert":[{"backdrop-invert":[f]}],"backdrop-opacity":[{"backdrop-opacity":[y]}],"backdrop-saturate":[{"backdrop-saturate":[x]}],"backdrop-sepia":[{"backdrop-sepia":[O]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[o]}],"border-spacing-x":[{"border-spacing-x":[o]}],"border-spacing-y":[{"border-spacing-y":[o]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",Ae]}],duration:[{duration:ue()}],ease:[{ease:["linear","in","out","in-out",Ae]}],delay:[{delay:ue()}],animate:[{animate:["none","spin","ping","pulse","bounce",Ae]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[w]}],"scale-x":[{"scale-x":[w]}],"scale-y":[{"scale-y":[w]}],rotate:[{rotate:[Mo,Ae]}],"translate-x":[{"translate-x":[D]}],"translate-y":[{"translate-y":[D]}],"skew-x":[{"skew-x":[N]}],"skew-y":[{"skew-y":[N]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",Ae]}],accent:[{accent:["auto",e]}],appearance:["appearance-none"],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Ae]}],"caret-color":[{caret:[e]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":M()}],"scroll-mx":[{"scroll-mx":M()}],"scroll-my":[{"scroll-my":M()}],"scroll-ms":[{"scroll-ms":M()}],"scroll-me":[{"scroll-me":M()}],"scroll-mt":[{"scroll-mt":M()}],"scroll-mr":[{"scroll-mr":M()}],"scroll-mb":[{"scroll-mb":M()}],"scroll-ml":[{"scroll-ml":M()}],"scroll-p":[{"scroll-p":M()}],"scroll-px":[{"scroll-px":M()}],"scroll-py":[{"scroll-py":M()}],"scroll-ps":[{"scroll-ps":M()}],"scroll-pe":[{"scroll-pe":M()}],"scroll-pt":[{"scroll-pt":M()}],"scroll-pr":[{"scroll-pr":M()}],"scroll-pb":[{"scroll-pb":M()}],"scroll-pl":[{"scroll-pl":M()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Ae]}],fill:[{fill:[e,"none"]}],"stroke-w":[{stroke:[zn,Ja,Ll]}],stroke:[{stroke:[e,"none"]}],sr:["sr-only","not-sr-only"]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}}const jE=wE(FE);function xr(...e){return jE(ab(e))}const Fp=e=>typeof e=="boolean"?"".concat(e):e===0?"0":e,jp=ab,Vs=(e,t)=>n=>{var a;if((t==null?void 0:t.variants)==null)return jp(e,n==null?void 0:n.class,n==null?void 0:n.className);const{variants:r,defaultVariants:i}=t,o=Object.keys(r).map(u=>{const d=n==null?void 0:n[u],f=i==null?void 0:i[u];if(d===null)return null;const m=Fp(d)||Fp(f);return r[u][m]}),s=n&&Object.entries(n).reduce((u,d)=>{let[f,m]=d;return m===void 0||(u[f]=m),u},{}),l=t==null||(a=t.compoundVariants)===null||a===void 0?void 0:a.reduce((u,d)=>{let{class:f,className:m,...p}=d;return Object.entries(p).every(v=>{let[k,T]=v;return Array.isArray(T)?T.includes({...i,...s}[k]):{...i,...s}[k]===T})?[...u,f,m]:u},[]);return jp(e,o,l,n==null?void 0:n.class,n==null?void 0:n.className)},BE=Vs("font-medium text-center relative whitespace-nowrap align-middle outline-none inline-flex items-center justify-center rounded-full",{variants:{size:{xs:"text-xs h-6 min-w-6 px-2",sm:"text-sm h-8 min-w-8 px-3",md:"text-base h-10 min-w-10 px-4",lg:"text-lg h-12 min-w-12 px-6",xl:"text-xl h-14 min-w-14 px-8"}},defaultVariants:{size:"md"}}),Rn=Vs("",{variants:{variant:{default:"bg-dark text-light hover:bg-dark-100 dark:bg-light dark:text-dark dark:hover:bg-light-100",mind:"bg-mind text-light hover:bg-mind-600 dark:hover:bg-mind-600",body:"bg-body text-light hover:bg-body-600 dark:hover:bg-body-600",soul:"bg-soul text-light hover:bg-soul-600 dark:hover:bg-soul-600",nature:"bg-nature text-light hover:bg-nature-600 dark:hover:bg-nature-600",medicine:"bg-medicine text-light hover:bg-medicine-600 dark:hover:bg-medicine-600",arcana:"bg-arcana text-light hover:bg-arcana-600 dark:hover:bg-arcana-600",charm:"bg-charm text-light hover:bg-charm-600 dark:hover:bg-charm-600",crafting:"bg-crafting text-light hover:bg-crafting-600 dark:hover:bg-crafting-600",thieving:"bg-thieving text-light hover:bg-thieving-600 dark:hover:bg-thieving-600",gradient:"bg-gradient-to-br from-body-600 from-20% via-mind-600 via-50% to-soul-600 to-80% text-light ",dark:"bg-dark-700 text-light hover:text-light-400"}}}),$n=Vs("",{variants:{variant:{default:"text-dark bg-dark/20 hover:bg-dark/40 dark:text-light dark:hover:bg-light/40 dark:bg-light/20",mind:"text-mind bg-mind/20 hover:bg-mind/30 border-mind",body:"text-body bg-body/20 hover:bg-body/30 border-body",soul:"text-soul bg-soul/20 hover:bg-soul/30 border-soul",nature:"text-nature bg-nature/20 hover:bg-nature/30 border-nature",medicine:"text-medicine bg-medicine/20 hover:bg-medicine/30 border-medicine",arcana:"text-arcana bg-arcana/20 hover:bg-arcana/30 border-arcana",charm:"text-charm bg-charm/20 hover:bg-charm/30 border-charm",crafting:"text-crafting bg-crafting/20 hover:bg-crafting/30 border-crafting",thieving:"text-thieving bg-thieving/20 hover:bg-thieving/30 border-thieving",dark:"text-dark bg-dark/20 hover:bg-dark/40"}}}),Gn=Vs("",{variants:{variant:{default:"bg-transparent underline-offset-4 underline hover:text-dark-100 text-dark dark:text-light hover:bg-transparent dark:hover:text-light-100 dark:hover:bg-transparent",mind:"bg-transparent underline-offset-4 underline hover:text-mind-700 text-mind-600 hover:bg-transparent",body:"bg-transparent underline-offset-4 underline hover:text-body-700 text-body-600 hover:bg-transparent",soul:"bg-transparent underline-offset-4 underline hover:text-soul-700 text-soul-600 hover:bg-transparent",nature:"bg-transparent underline-offset-4 underline hover:text-nature-700 text-nature-600 hover:bg-transparent",arcana:"bg-transparent underline-offset-4 underline hover:text-arcana-700 text-arcana-600 hover:bg-transparent",charm:"bg-transparent underline-offset-4 underline hover:text-charm-700 text-charm-600 hover:bg-transparent",crafting:"bg-transparent underline-offset-4 underline hover:text-crafting-700 text-crafting-600 hover:bg-transparent",thieving:"bg-transparent underline-offset-4 underline hover:text-thieving-700 text-thieving-600 hover:bg-transparent",gradient:"text-transparent bg-clip-text bg-gradient-to-r from-body-600 via-mind-600 to-soul-600",medicine:"bg-transparent underline-offset-4 underline hover:text-medicine-700 text-medicine-600 hover:bg-transparent"}}}),HE=Vs("...",{variants:{variant:{default:Rn({variant:"default"}),mind:Rn({variant:"mind"}),body:Rn({variant:"body"}),soul:Rn({variant:"soul"}),nature:Rn({variant:"nature"}),medicine:Rn({variant:"medicine"}),dark:Rn({variant:"dark"}),gradient:Rn({variant:"gradient"}),link:Gn({variant:"default"}),"link-mind":Gn({variant:"mind"}),"link-body":Gn({variant:"body"}),"link-soul":Gn({variant:"soul"}),"link-nature":Gn({variant:"nature"}),"link-medicine":Gn({variant:"medicine"}),"link-gradient":Gn({variant:"gradient"}),subtle:$n({variant:"default"}),"subtle-mind":$n({variant:"mind"}),"subtle-body":$n({variant:"body"}),"subtle-soul":$n({variant:"soul"}),"subtle-nature":$n({variant:"nature"}),"subtle-medicine":$n({variant:"medicine"}),"subtle-dark":$n({variant:"dark"}),arcana:Rn({variant:"arcana"}),"link-arcana":Gn({variant:"arcana"}),"subtle-arcana":$n({variant:"arcana"}),charm:Rn({variant:"charm"}),"link-charm":Gn({variant:"charm"}),"subtle-charm":$n({variant:"charm"}),crafting:Rn({variant:"crafting"}),"link-crafting":Gn({variant:"crafting"}),"subtle-crafting":$n({variant:"crafting"}),thieving:Rn({variant:"thieving"}),"link-thieving":Gn({variant:"thieving"}),"subtle-thieving":$n({variant:"thieving"}),unstyled:""}},defaultVariants:{variant:"default"}}),ub=oe.forwardRef(({className:e,size:t,leftIcon:n,rightIcon:a,children:r,isLoading:i,disabled:o,open:s,...l},u)=>{const{icon:d,iconPlacement:f}=oe.useMemo(()=>{let m=a||n;return i&&(m=c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-6 h-6 animate-spin",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M16.023 9.348h4.992v-.001M2.985 19.644v-4.992m0 0h4.992m-4.993 0l3.181 3.183a8.25 8.25 0 0013.803-3.7M4.031 9.865a8.25 8.25 0 0113.803-3.7l3.181 3.182m0-4.991v4.99"})})),{icon:m,iconPlacement:a?"right":"left"}},[i,n,a]);return c.jsxs("button",{className:xr(BE({size:t,className:e}),o==!0?" dark:bg-base bg-base hover:bg-base hover:dark:bg-base cursor-not-allowed opacity-50 hover":""),ref:u,disabled:o||i,"data-state":i?"loading":void 0,...l,children:[d&&f==="left"?c.jsx("span",{className:xr({"mr-2":!!r},"inline-flex shrink-0 self-center",s?"rotate-180 transform":""),children:d}):null,r,d&&f==="right"?c.jsx("span",{className:xr({"ml-2":!!r},"inline-flex shrink-0 self-center",s?"rotate-180 transform":""),children:d}):null]})});ub.displayName="BaseButton";const G=oe.forwardRef(({className:e,variant:t,...n},a)=>c.jsx(ub,{className:xr(HE({variant:t,className:e})).concat(" focus:ring-2 focus:ring-light/75"),...n,ref:a}));G.displayName="Button";const qE=c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-6 h-6",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 6.042A8.967 8.967 0 006 3.75c-1.052 0-2.062.18-3 .512v14.25A8.987 8.987 0 016 18c2.305 0 4.408.867 6 2.292m0-14.25a8.966 8.966 0 016-2.292c1.052 0 2.062.18 3 .512v14.25A8.987 8.987 0 0018 18a8.967 8.967 0 00-6 2.292m0-14.25v14.25"})});function UE(){return c.jsxs(c.Fragment,{children:[c.jsx("h1",{children:"RPG Hell"}),c.jsx("p",{children:"website very alpha build lotsa missing shit the login button does not work you are looking for the rulebook down there."}),c.jsx(hn,{to:"rulebook",children:c.jsx(G,{leftIcon:qE,variant:"body",children:"Rulebook"})})]})}class Fh extends Error{constructor(n,a,r){super(r);bi(this,"url");bi(this,"status");bi(this,"statusText");bi(this,"body");bi(this,"request");this.name="ApiError",this.url=a.url,this.status=a.status,this.statusText=a.statusText,this.body=a.body,this.request=n}}class WE extends Error{constructor(t){super(t),this.name="CancelError"}get isCancelled(){return!0}}var pa,ga,Kn,cr,Gr,qs,$i;class YE{constructor(t){Qa(this,pa,void 0);Qa(this,ga,void 0);Qa(this,Kn,void 0);Qa(this,cr,void 0);Qa(this,Gr,void 0);Qa(this,qs,void 0);Qa(this,$i,void 0);Wn(this,pa,!1),Wn(this,ga,!1),Wn(this,Kn,!1),Wn(this,cr,[]),Wn(this,Gr,new Promise((n,a)=>{Wn(this,qs,n),Wn(this,$i,a);const r=s=>{var l;et(this,pa)||et(this,ga)||et(this,Kn)||(Wn(this,pa,!0),(l=et(this,qs))==null||l.call(this,s))},i=s=>{var l;et(this,pa)||et(this,ga)||et(this,Kn)||(Wn(this,ga,!0),(l=et(this,$i))==null||l.call(this,s))},o=s=>{et(this,pa)||et(this,ga)||et(this,Kn)||et(this,cr).push(s)};return Object.defineProperty(o,"isResolved",{get:()=>et(this,pa)}),Object.defineProperty(o,"isRejected",{get:()=>et(this,ga)}),Object.defineProperty(o,"isCancelled",{get:()=>et(this,Kn)}),t(r,i,o)}))}get[Symbol.toStringTag](){return"Cancellable Promise"}then(t,n){return et(this,Gr).then(t,n)}catch(t){return et(this,Gr).catch(t)}finally(t){return et(this,Gr).finally(t)}cancel(){var t;if(!(et(this,pa)||et(this,ga)||et(this,Kn))){if(Wn(this,Kn,!0),et(this,cr).length)try{for(const n of et(this,cr))n()}catch(n){console.warn("Cancellation threw an error",n);return}et(this,cr).length=0,(t=et(this,$i))==null||t.call(this,new WE("Request aborted"))}}get isCancelled(){return et(this,Kn)}}pa=new WeakMap,ga=new WeakMap,Kn=new WeakMap,cr=new WeakMap,Gr=new WeakMap,qs=new WeakMap,$i=new WeakMap;const Pe={BASE:"",VERSION:"0.1.0",WITH_CREDENTIALS:!1,CREDENTIALS:"include",TOKEN:void 0,USERNAME:void 0,PASSWORD:void 0,HEADERS:void 0,ENCODE_PATH:void 0},um=e=>e!=null,Ks=e=>typeof e=="string",ud=e=>Ks(e)&&e!=="",cm=e=>typeof e=="object"&&typeof e.type=="string"&&typeof e.stream=="function"&&typeof e.arrayBuffer=="function"&&typeof e.constructor=="function"&&typeof e.constructor.name=="string"&&/^(Blob|File)$/.test(e.constructor.name)&&/^(Blob|File)$/.test(e[Symbol.toStringTag]),cb=e=>e instanceof FormData,zE=e=>{try{return btoa(e)}catch{return Buffer.from(e).toString("base64")}},$E=e=>{const t=[],n=(r,i)=>{t.push(`${encodeURIComponent(r)}=${encodeURIComponent(String(i))}`)},a=(r,i)=>{um(i)&&(Array.isArray(i)?i.forEach(o=>{a(r,o)}):typeof i=="object"?Object.entries(i).forEach(([o,s])=>{a(`${r}[${o}]`,s)}):n(r,i))};return Object.entries(e).forEach(([r,i])=>{a(r,i)}),t.length>0?`?${t.join("&")}`:""},GE=(e,t)=>{const n=e.ENCODE_PATH||encodeURI,a=t.url.replace("{api-version}",e.VERSION).replace(/{(.*?)}/g,(i,o)=>{var s;return(s=t.path)!=null&&s.hasOwnProperty(o)?n(String(t.path[o])):i}),r=`${e.BASE}${a}`;return t.query?`${r}${$E(t.query)}`:r},VE=e=>{if(e.formData){const t=new FormData,n=(a,r)=>{Ks(r)||cm(r)?t.append(a,r):t.append(a,JSON.stringify(r))};return Object.entries(e.formData).filter(([a,r])=>um(r)).forEach(([a,r])=>{Array.isArray(r)?r.forEach(i=>n(a,i)):n(a,r)}),t}},Ol=async(e,t)=>typeof t=="function"?t(e):t,KE=async(e,t)=>{const n=await Ol(t,e.TOKEN),a=await Ol(t,e.USERNAME),r=await Ol(t,e.PASSWORD),i=await Ol(t,e.HEADERS),o=Object.entries({Accept:"application/json",...i,...t.headers}).filter(([s,l])=>um(l)).reduce((s,[l,u])=>({...s,[l]:String(u)}),{});if(ud(n)&&(o.Authorization=`Bearer ${n}`),ud(a)&&ud(r)){const s=zE(`${a}:${r}`);o.Authorization=`Basic ${s}`}return t.body&&(t.mediaType?o["Content-Type"]=t.mediaType:cm(t.body)?o["Content-Type"]=t.body.type||"application/octet-stream":Ks(t.body)?o["Content-Type"]="text/plain":cb(t.body)||(o["Content-Type"]="application/json")),new Headers(o)},QE=e=>{var t;if(e.body!==void 0)return(t=e.mediaType)!=null&&t.includes("/json")?JSON.stringify(e.body):Ks(e.body)||cm(e.body)||cb(e.body)?e.body:JSON.stringify(e.body)},XE=async(e,t,n,a,r,i,o)=>{const s=new AbortController,l={headers:i,body:a??r,method:t.method,signal:s.signal};return e.WITH_CREDENTIALS&&(l.credentials=e.CREDENTIALS),o(()=>s.abort()),await fetch(n,l)},JE=(e,t)=>{if(t){const n=e.headers.get(t);if(Ks(n))return n}},ZE=async e=>{if(e.status!==204)try{const t=e.headers.get("Content-Type");if(t)return["application/json","application/problem+json"].some(r=>t.toLowerCase().startsWith(r))?await e.json():await e.text()}catch(t){console.error(t)}},eS=(e,t)=>{const a={400:"Bad Request",401:"Unauthorized",403:"Forbidden",404:"Not Found",500:"Internal Server Error",502:"Bad Gateway",503:"Service Unavailable",...e.errors}[t.status];if(a)throw new Fh(e,t,a);if(!t.ok){const r=t.status??"unknown",i=t.statusText??"unknown",o=(()=>{try{return JSON.stringify(t.body,null,2)}catch{return}})();throw new Fh(e,t,`Generic Error: status: ${r}; status text: ${i}; body: ${o}`)}},Ye=(e,t)=>new YE(async(n,a,r)=>{try{const i=GE(e,t),o=VE(t),s=QE(t),l=await KE(e,t);if(!r.isCancelled){const u=await XE(e,t,i,s,o,l,r),d=await ZE(u),f=JE(u,t.responseHeader),m={url:i,ok:u.ok,status:u.status,statusText:u.statusText,body:f??d};eS(t,m),n(m.body)}}catch(i){a(i)}});class tS{static creatureSearch({name:t}){return Ye(Pe,{method:"GET",url:"/creature/",query:{name:t},errors:{422:"Validation Error"}})}static putCreature({requestBody:t}){return Ye(Pe,{method:"PUT",url:"/creature/",body:t,mediaType:"application/json",errors:{422:"Validation Error"}})}static getCreatureById({id:t}){return Ye(Pe,{method:"GET",url:"/creature/{id}",path:{id:t},errors:{422:"Validation Error"}})}static updateCreature({id:t,requestBody:n}){return Ye(Pe,{method:"PATCH",url:"/creature/{id}",path:{id:t},body:n,mediaType:"application/json",errors:{422:"Validation Error"}})}static deleteCreature({id:t}){return Ye(Pe,{method:"DELETE",url:"/creature/{id}",path:{id:t},errors:{422:"Validation Error"}})}}class db{static putItem({requestBody:t}){return Ye(Pe,{method:"PUT",url:"/item/",body:t,mediaType:"application/json",errors:{422:"Validation Error"}})}static getAllItems(){return Ye(Pe,{method:"GET",url:"/items/"})}static updateItem({name:t,requestBody:n}){return Ye(Pe,{method:"PATCH",url:"/item/{name}",path:{name:t},body:n,mediaType:"application/json",errors:{422:"Validation Error"}})}static deleteItem({id:t}){return Ye(Pe,{method:"DELETE",url:"/item/{id}",path:{id:t},errors:{422:"Validation Error"}})}static filterItemsByTagsOrRequirements({option:t,filters:n}){return Ye(Pe,{method:"GET",url:"/filteritems/{option}",path:{option:t},query:{filters:n},errors:{422:"Validation Error"}})}}class nS{static objectSearch({name:t}){return Ye(Pe,{method:"GET",url:"/object/",query:{name:t},errors:{422:"Validation Error"}})}static getObjectById({id:t}){return Ye(Pe,{method:"GET",url:"/object/{id}",path:{id:t},errors:{422:"Validation Error"}})}}class hb{static spellSearch({name:t}){return Ye(Pe,{method:"GET",url:"/spell/",query:{name:t},errors:{422:"Validation Error"}})}static putSpell({requestBody:t}){return Ye(Pe,{method:"PUT",url:"/spell/",body:t,mediaType:"application/json",errors:{422:"Validation Error"}})}static getAllSpells(){return Ye(Pe,{method:"GET",url:"/spells/"})}static getSpellById({id:t}){return Ye(Pe,{method:"GET",url:"/spell/{id}",path:{id:t},errors:{422:"Validation Error"}})}static deleteSpell({id:t}){return Ye(Pe,{method:"DELETE",url:"/spell/{id}",path:{id:t},errors:{422:"Validation Error"}})}static updateSpell({name:t,requestBody:n}){return Ye(Pe,{method:"PATCH",url:"/spell/{name}",path:{name:t},body:n,mediaType:"application/json",errors:{422:"Validation Error"}})}static filterSpellsByTags({tags:t}){return Ye(Pe,{method:"GET",url:"/filterspells/",query:{tags:t},errors:{422:"Validation Error"}})}}class aS{static root(){return Ye(Pe,{method:"GET",url:"/"})}static openQuery({query:t}){return Ye(Pe,{method:"PUT",url:"/openquery",query:{query:t},errors:{422:"Validation Error"}})}}class fb{static putTrait({requestBody:t}){return Ye(Pe,{method:"PUT",url:"/trait/",body:t,mediaType:"application/json",errors:{422:"Validation Error"}})}static getAllTraits(){return Ye(Pe,{method:"GET",url:"/traits/"})}static updateTrait({name:t,requestBody:n}){return Ye(Pe,{method:"PATCH",url:"/trait/{name}",path:{name:t},body:n,mediaType:"application/json",errors:{422:"Validation Error"}})}static deleteTrait({id:t}){return Ye(Pe,{method:"DELETE",url:"/trait/{id}",path:{id:t},errors:{422:"Validation Error"}})}static filterTraitsByRequirements({requirements:t}){return Ye(Pe,{method:"GET",url:"/filtertraits/",query:{requirements:t},errors:{422:"Validation Error"}})}}class rS{static login(){return Ye(Pe,{method:"GET",url:"/login"})}static logout(){return Ye(Pe,{method:"GET",url:"/logout"})}static callback({code:t}){return Ye(Pe,{method:"GET",url:"/auth/discord/callback",query:{code:t},errors:{422:"Validation Error"}})}static refresh(){return Ye(Pe,{method:"GET",url:"/refresh"})}static getDiscordUser(){return Ye(Pe,{method:"GET",url:"/user"})}static getOrCreateDatabaseUser(){return Ye(Pe,{method:"GET",url:"/me"})}}function di(){return window.localStorage.getItem("useLocalNetwork")!=null?Pe.BASE=window.localStorage.getItem("useLocalNetwork"):Pe.BASE="https://portof.yokohama",Pe.WITH_CREDENTIALS=!0,Pe.CREDENTIALS="include",{CreaturesService:tS,ItemsService:db,ObjectsService:nS,SpellsService:hb,TemporaryService:aS,TraitsService:fb,UsersService:rS}}const mb={isAuthenticated:!1},iS={auth:mb,setAuth:()=>{throw new Error("Uninitialized Authentication Context")},authLoading:!0},dm=g.createContext(iS);function oS({children:e}){const[t,n]=g.useState(mb),[a,r]=g.useState(!0),{UsersService:i}=di();return g.useEffect(()=>{async function o(){const l=await i.getOrCreateDatabaseUser();n({discordId:l.discord_id,avatarUrl:l.avatar_url??"",username:l.username,admin:l.is_admin??!1,isAuthenticated:!0})}async function s(){r(!0);try{o()}catch(l){l instanceof Fh&&console.log("Attempting to refresh session...");try{const u=await i.refresh();console.log(u),u.content==!0&&o()}catch{n({isAuthenticated:!1})}}r(!1)}t.isAuthenticated==!1&&s()},[i,t.isAuthenticated]),c.jsx(dm.Provider,{value:{auth:t,setAuth:n,authLoading:a},children:e})}var sS=Object.defineProperty,lS=(e,t,n)=>t in e?sS(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,cd=(e,t,n)=>(lS(e,typeof t!="symbol"?t+"":t,n),n);let uS=class{constructor(){cd(this,"current",this.detect()),cd(this,"handoffState","pending"),cd(this,"currentId",0)}set(t){this.current!==t&&(this.handoffState="pending",this.currentId=0,this.current=t)}reset(){this.set(this.detect())}nextId(){return++this.currentId}get isServer(){return this.current==="server"}get isClient(){return this.current==="client"}detect(){return typeof window>"u"||typeof document>"u"?"server":"client"}handoff(){this.handoffState==="pending"&&(this.handoffState="complete")}get isHandoffComplete(){return this.handoffState==="complete"}},Fa=new uS,ze=(e,t)=>{Fa.isServer?g.useEffect(e,t):g.useLayoutEffect(e,t)};function Wt(e){let t=g.useRef(e);return ze(()=>{t.current=e},[e]),t}function Qs(e,t){let[n,a]=g.useState(e),r=Wt(e);return ze(()=>a(r.current),[r,a,...t]),n}function Xs(e){typeof queueMicrotask=="function"?queueMicrotask(e):Promise.resolve().then(e).catch(t=>setTimeout(()=>{throw t}))}function Hn(){let e=[],t={addEventListener(n,a,r,i){return n.addEventListener(a,r,i),t.add(()=>n.removeEventListener(a,r,i))},requestAnimationFrame(...n){let a=requestAnimationFrame(...n);return t.add(()=>cancelAnimationFrame(a))},nextFrame(...n){return t.requestAnimationFrame(()=>t.requestAnimationFrame(...n))},setTimeout(...n){let a=setTimeout(...n);return t.add(()=>clearTimeout(a))},microTask(...n){let a={current:!0};return Xs(()=>{a.current&&n[0]()}),t.add(()=>{a.current=!1})},style(n,a,r){let i=n.style.getPropertyValue(a);return Object.assign(n.style,{[a]:r}),this.add(()=>{Object.assign(n.style,{[a]:i})})},group(n){let a=Hn();return n(a),this.add(()=>a.dispose())},add(n){return e.push(n),()=>{let a=e.indexOf(n);if(a>=0)for(let r of e.splice(a,1))r()}},dispose(){for(let n of e.splice(0))n()}};return t}function Ea(){let[e]=g.useState(Hn);return g.useEffect(()=>()=>e.dispose(),[e]),e}let K=function(e){let t=Wt(e);return oe.useCallback((...n)=>t.current(...n),[t])};function cS(){let e=typeof document>"u";return"useSyncExternalStore"in Gi?(t=>t.useSyncExternalStore)(Gi)(()=>()=>{},()=>!1,()=>!e):!1}function ho(){let e=cS(),[t,n]=g.useState(Fa.isHandoffComplete);return t&&Fa.isHandoffComplete===!1&&n(!1),g.useEffect(()=>{t!==!0&&n(!0)},[t]),g.useEffect(()=>Fa.handoff(),[]),e?!1:t}var Bp;let ht=(Bp=oe.useId)!=null?Bp:function(){let e=ho(),[t,n]=oe.useState(e?()=>Fa.nextId():null);return ze(()=>{t===null&&n(Fa.nextId())},[t]),t!=null?""+t:void 0};function Ee(e,t,...n){if(e in t){let r=t[e];return typeof r=="function"?r(...n):r}let a=new Error(`Tried to handle "${e}" but there is no handler defined. Only defined handlers are: ${Object.keys(t).map(r=>`"${r}"`).join(", ")}.`);throw Error.captureStackTrace&&Error.captureStackTrace(a,Ee),a}function hi(e){return Fa.isServer?null:e instanceof Node?e.ownerDocument:e!=null&&e.hasOwnProperty("current")&&e.current instanceof Node?e.current.ownerDocument:document}let jh=["[contentEditable=true]","[tabindex]","a[href]","area[href]","button:not([disabled])","iframe","input:not([disabled])","select:not([disabled])","textarea:not([disabled])"].map(e=>`${e}:not([tabindex='-1'])`).join(",");var ut=(e=>(e[e.First=1]="First",e[e.Previous=2]="Previous",e[e.Next=4]="Next",e[e.Last=8]="Last",e[e.WrapAround=16]="WrapAround",e[e.NoScroll=32]="NoScroll",e))(ut||{}),Da=(e=>(e[e.Error=0]="Error",e[e.Overflow=1]="Overflow",e[e.Success=2]="Success",e[e.Underflow=3]="Underflow",e))(Da||{}),dS=(e=>(e[e.Previous=-1]="Previous",e[e.Next=1]="Next",e))(dS||{});function sc(e=document.body){return e==null?[]:Array.from(e.querySelectorAll(jh)).sort((t,n)=>Math.sign((t.tabIndex||Number.MAX_SAFE_INTEGER)-(n.tabIndex||Number.MAX_SAFE_INTEGER)))}var lc=(e=>(e[e.Strict=0]="Strict",e[e.Loose=1]="Loose",e))(lc||{});function hm(e,t=0){var n;return e===((n=hi(e))==null?void 0:n.body)?!1:Ee(t,{0(){return e.matches(jh)},1(){let a=e;for(;a!==null;){if(a.matches(jh))return!0;a=a.parentElement}return!1}})}var hS=(e=>(e[e.Keyboard=0]="Keyboard",e[e.Mouse=1]="Mouse",e))(hS||{});typeof window<"u"&&typeof document<"u"&&(document.addEventListener("keydown",e=>{e.metaKey||e.altKey||e.ctrlKey||(document.documentElement.dataset.headlessuiFocusVisible="")},!0),document.addEventListener("click",e=>{e.detail===1?delete document.documentElement.dataset.headlessuiFocusVisible:e.detail===0&&(document.documentElement.dataset.headlessuiFocusVisible="")},!0));function Qr(e){e==null||e.focus({preventScroll:!0})}let fS=["textarea","input"].join(",");function mS(e){var t,n;return(n=(t=e==null?void 0:e.matches)==null?void 0:t.call(e,fS))!=null?n:!1}function fr(e,t=n=>n){return e.slice().sort((n,a)=>{let r=t(n),i=t(a);if(r===null||i===null)return 0;let o=r.compareDocumentPosition(i);return o&Node.DOCUMENT_POSITION_FOLLOWING?-1:o&Node.DOCUMENT_POSITION_PRECEDING?1:0})}function qt(e,t,{sorted:n=!0,relativeTo:a=null,skipElements:r=[]}={}){let i=Array.isArray(e)?e.length>0?e[0].ownerDocument:document:e.ownerDocument,o=Array.isArray(e)?n?fr(e):e:sc(e);r.length>0&&o.length>1&&(o=o.filter(p=>!r.includes(p))),a=a??i.activeElement;let s=(()=>{if(t&5)return 1;if(t&10)return-1;throw new Error("Missing Focus.First, Focus.Previous, Focus.Next or Focus.Last")})(),l=(()=>{if(t&1)return 0;if(t&2)return Math.max(0,o.indexOf(a))-1;if(t&4)return Math.max(0,o.indexOf(a))+1;if(t&8)return o.length-1;throw new Error("Missing Focus.First, Focus.Previous, Focus.Next or Focus.Last")})(),u=t&32?{preventScroll:!0}:{},d=0,f=o.length,m;do{if(d>=f||d+f<=0)return 0;let p=l+d;if(t&16)p=(p+f)%f;else{if(p<0)return 3;if(p>=f)return 1}m=o[p],m==null||m.focus(u),d+=s}while(m!==i.activeElement);return t&6&&mS(m)&&m.select(),2}function Dl(e,t,n){let a=Wt(t);g.useEffect(()=>{function r(i){a.current(i)}return document.addEventListener(e,r,n),()=>document.removeEventListener(e,r,n)},[e,n])}function pb(e,t,n){let a=Wt(t);g.useEffect(()=>{function r(i){a.current(i)}return window.addEventListener(e,r,n),()=>window.removeEventListener(e,r,n)},[e,n])}function uc(e,t,n=!0){let a=g.useRef(!1);g.useEffect(()=>{requestAnimationFrame(()=>{a.current=n})},[n]);function r(o,s){if(!a.current||o.defaultPrevented)return;let l=s(o);if(l===null||!l.getRootNode().contains(l)||!l.isConnected)return;let u=function d(f){return typeof f=="function"?d(f()):Array.isArray(f)||f instanceof Set?f:[f]}(e);for(let d of u){if(d===null)continue;let f=d instanceof HTMLElement?d:d.current;if(f!=null&&f.contains(l)||o.composed&&o.composedPath().includes(f))return}return!hm(l,lc.Loose)&&l.tabIndex!==-1&&o.preventDefault(),t(o,l)}let i=g.useRef(null);Dl("pointerdown",o=>{var s,l;a.current&&(i.current=((l=(s=o.composedPath)==null?void 0:s.call(o))==null?void 0:l[0])||o.target)},!0),Dl("mousedown",o=>{var s,l;a.current&&(i.current=((l=(s=o.composedPath)==null?void 0:s.call(o))==null?void 0:l[0])||o.target)},!0),Dl("click",o=>{i.current&&(r(o,()=>i.current),i.current=null)},!0),Dl("touchend",o=>r(o,()=>o.target instanceof HTMLElement?o.target:null),!0),pb("blur",o=>r(o,()=>window.document.activeElement instanceof HTMLIFrameElement?window.document.activeElement:null),!0)}function Hp(e){var t;if(e.type)return e.type;let n=(t=e.as)!=null?t:"button";if(typeof n=="string"&&n.toLowerCase()==="button")return"button"}function Js(e,t){let[n,a]=g.useState(()=>Hp(e));return ze(()=>{a(Hp(e))},[e.type,e.as]),ze(()=>{n||t.current&&t.current instanceof HTMLButtonElement&&!t.current.hasAttribute("type")&&a("button")},[n,t]),n}let gb=Symbol();function fm(e,t=!0){return Object.assign(e,{[gb]:t})}function je(...e){let t=g.useRef(e);g.useEffect(()=>{t.current=e},[e]);let n=K(a=>{for(let r of t.current)r!=null&&(typeof r=="function"?r(a):r.current=a)});return e.every(a=>a==null||(a==null?void 0:a[gb]))?void 0:n}function pS({container:e,accept:t,walk:n,enabled:a=!0}){let r=g.useRef(t),i=g.useRef(n);g.useEffect(()=>{r.current=t,i.current=n},[t,n]),ze(()=>{if(!e||!a)return;let o=hi(e);if(!o)return;let s=r.current,l=i.current,u=Object.assign(f=>s(f),{acceptNode:s}),d=o.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,u,!1);for(;d.nextNode();)l(d.currentNode)},[e,a,r,i])}function gS(e){throw new Error("Unexpected object: "+e)}var Xe=(e=>(e[e.First=0]="First",e[e.Previous=1]="Previous",e[e.Next=2]="Next",e[e.Last=3]="Last",e[e.Specific=4]="Specific",e[e.Nothing=5]="Nothing",e))(Xe||{});function yb(e,t){let n=t.resolveItems();if(n.length<=0)return null;let a=t.resolveActiveIndex(),r=a??-1,i=(()=>{switch(e.focus){case 0:return n.findIndex(o=>!t.resolveDisabled(o));case 1:{let o=n.slice().reverse().findIndex((s,l,u)=>r!==-1&&u.length-l-1>=r?!1:!t.resolveDisabled(s));return o===-1?o:n.length-1-o}case 2:return n.findIndex((o,s)=>s<=r?!1:!t.resolveDisabled(o));case 3:{let o=n.slice().reverse().findIndex(s=>!t.resolveDisabled(s));return o===-1?o:n.length-1-o}case 4:return n.findIndex(o=>t.resolveId(o)===e.id);case 5:return null;default:gS(e)}})();return i===-1?a:i}function Ru(...e){return Array.from(new Set(e.flatMap(t=>typeof t=="string"?t.split(" "):[]))).filter(Boolean).join(" ")}var Xt=(e=>(e[e.None=0]="None",e[e.RenderStrategy=1]="RenderStrategy",e[e.Static=2]="Static",e))(Xt||{}),mr=(e=>(e[e.Unmount=0]="Unmount",e[e.Hidden=1]="Hidden",e))(mr||{});function Fe({ourProps:e,theirProps:t,slot:n,defaultTag:a,features:r,visible:i=!0,name:o}){let s=bb(t,e);if(i)return Pl(s,n,a,o);let l=r??0;if(l&2){let{static:u=!1,...d}=s;if(u)return Pl(d,n,a,o)}if(l&1){let{unmount:u=!0,...d}=s;return Ee(u?0:1,{0(){return null},1(){return Pl({...d,hidden:!0,style:{display:"none"}},n,a,o)}})}return Pl(s,n,a,o)}function Pl(e,t={},n,a){let{as:r=n,children:i,refName:o="ref",...s}=dd(e,["unmount","static"]),l=e.ref!==void 0?{[o]:e.ref}:{},u=typeof i=="function"?i(t):i;"className"in s&&s.className&&typeof s.className=="function"&&(s.className=s.className(t));let d={};if(t){let f=!1,m=[];for(let[p,v]of Object.entries(t))typeof v=="boolean"&&(f=!0),v===!0&&m.push(p);f&&(d["data-headlessui-state"]=m.join(" "))}if(r===g.Fragment&&Object.keys(Lu(s)).length>0){if(!g.isValidElement(u)||Array.isArray(u)&&u.length>1)throw new Error(['Passing props on "Fragment"!',"",`The current component <${a} /> is rendering a "Fragment".`,"However we need to passthrough the following props:",Object.keys(s).map(v=>`  - ${v}`).join(`
`),"","You can apply a few solutions:",['Add an `as="..."` prop, to ensure that we render an actual element instead of a "Fragment".',"Render a single element as the child so that we can forward the props onto that element."].map(v=>`  - ${v}`).join(`
`)].join(`
`));let f=u.props,m=typeof(f==null?void 0:f.className)=="function"?(...v)=>Ru(f==null?void 0:f.className(...v),s.className):Ru(f==null?void 0:f.className,s.className),p=m?{className:m}:{};return g.cloneElement(u,Object.assign({},bb(u.props,Lu(dd(s,["ref"]))),d,l,yS(u.ref,l.ref),p))}return g.createElement(r,Object.assign({},dd(s,["ref"]),r!==g.Fragment&&l,r!==g.Fragment&&d),u)}function yS(...e){return{ref:e.every(t=>t==null)?void 0:t=>{for(let n of e)n!=null&&(typeof n=="function"?n(t):n.current=t)}}}function bb(...e){if(e.length===0)return{};if(e.length===1)return e[0];let t={},n={};for(let a of e)for(let r in a)r.startsWith("on")&&typeof a[r]=="function"?(n[r]!=null||(n[r]=[]),n[r].push(a[r])):t[r]=a[r];if(t.disabled||t["aria-disabled"])return Object.assign(t,Object.fromEntries(Object.keys(n).map(a=>[a,void 0])));for(let a in n)Object.assign(t,{[a](r,...i){let o=n[a];for(let s of o){if((r instanceof Event||(r==null?void 0:r.nativeEvent)instanceof Event)&&r.defaultPrevented)return;s(r,...i)}}});return t}function De(e){var t;return Object.assign(g.forwardRef(e),{displayName:(t=e.displayName)!=null?t:e.name})}function Lu(e){let t=Object.assign({},e);for(let n in t)t[n]===void 0&&delete t[n];return t}function dd(e,t=[]){let n=Object.assign({},e);for(let a of t)a in n&&delete n[a];return n}function fo(e){let t=e.parentElement,n=null;for(;t&&!(t instanceof HTMLFieldSetElement);)t instanceof HTMLLegendElement&&(n=t),t=t.parentElement;let a=(t==null?void 0:t.getAttribute("disabled"))==="";return a&&bS(n)?!1:a}function bS(e){if(!e)return!1;let t=e.previousElementSibling;for(;t!==null;){if(t instanceof HTMLLegendElement)return!1;t=t.previousElementSibling}return!0}function mm(e={},t=null,n=[]){for(let[a,r]of Object.entries(e))wb(n,vb(t,a),r);return n}function vb(e,t){return e?e+"["+t+"]":t}function wb(e,t,n){if(Array.isArray(n))for(let[a,r]of n.entries())wb(e,vb(t,a.toString()),r);else n instanceof Date?e.push([t,n.toISOString()]):typeof n=="boolean"?e.push([t,n?"1":"0"]):typeof n=="string"?e.push([t,n]):typeof n=="number"?e.push([t,`${n}`]):n==null?e.push([t,""]):mm(n,t,e)}let vS="div";var oa=(e=>(e[e.None=1]="None",e[e.Focusable=2]="Focusable",e[e.Hidden=4]="Hidden",e))(oa||{});function wS(e,t){let{features:n=1,...a}=e,r={ref:t,"aria-hidden":(n&2)===2?!0:void 0,style:{position:"fixed",top:1,left:1,width:1,height:0,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",borderWidth:"0",...(n&4)===4&&(n&2)!==2&&{display:"none"}}};return Fe({ourProps:r,theirProps:a,slot:{},defaultTag:vS,name:"Hidden"})}let sa=De(wS),pm=g.createContext(null);pm.displayName="OpenClosedContext";var Ve=(e=>(e[e.Open=1]="Open",e[e.Closed=2]="Closed",e[e.Closing=4]="Closing",e[e.Opening=8]="Opening",e))(Ve||{});function Rr(){return g.useContext(pm)}function Zs({value:e,children:t}){return oe.createElement(pm.Provider,{value:e},t)}var be=(e=>(e.Space=" ",e.Enter="Enter",e.Escape="Escape",e.Backspace="Backspace",e.Delete="Delete",e.ArrowLeft="ArrowLeft",e.ArrowUp="ArrowUp",e.ArrowRight="ArrowRight",e.ArrowDown="ArrowDown",e.Home="Home",e.End="End",e.PageUp="PageUp",e.PageDown="PageDown",e.Tab="Tab",e))(be||{});function kb(e,t,n){let[a,r]=g.useState(n),i=e!==void 0,o=g.useRef(i),s=g.useRef(!1),l=g.useRef(!1);return i&&!o.current&&!s.current?(s.current=!0,o.current=i,console.error("A component is changing from uncontrolled to controlled. This may be caused by the value changing from undefined to a defined value, which should not happen.")):!i&&o.current&&!l.current&&(l.current=!0,o.current=i,console.error("A component is changing from controlled to uncontrolled. This may be caused by the value changing from a defined value to undefined, which should not happen.")),[i?e:a,K(u=>(i||r(u),t==null?void 0:t(u)))]}function Ps(e,t){let n=g.useRef([]),a=K(e);g.useEffect(()=>{let r=[...n.current];for(let[i,o]of t.entries())if(n.current[i]!==o){let s=a(t,r);return n.current=t,s}},[a,...t])}function qp(e){return[e.screenX,e.screenY]}function Tb(){let e=g.useRef([-1,-1]);return{wasMoved(t){let n=qp(t);return e.current[0]===n[0]&&e.current[1]===n[1]?!1:(e.current=n,!0)},update(t){e.current=qp(t)}}}function xb(){return/iPhone/gi.test(window.navigator.platform)||/Mac/gi.test(window.navigator.platform)&&window.navigator.maxTouchPoints>0}function kS(){return/Android/gi.test(window.navigator.userAgent)}function TS(){return xb()||kS()}function $a(...e){return g.useMemo(()=>hi(...e),[...e])}var xS=(e=>(e[e.Open=0]="Open",e[e.Closed=1]="Closed",e))(xS||{}),ES=(e=>(e[e.Single=0]="Single",e[e.Multi=1]="Multi",e))(ES||{}),SS=(e=>(e[e.Pointer=0]="Pointer",e[e.Other=1]="Other",e))(SS||{}),AS=(e=>(e[e.OpenCombobox=0]="OpenCombobox",e[e.CloseCombobox=1]="CloseCombobox",e[e.GoToOption=2]="GoToOption",e[e.RegisterOption=3]="RegisterOption",e[e.UnregisterOption=4]="UnregisterOption",e[e.RegisterLabel=5]="RegisterLabel",e))(AS||{});function hd(e,t=n=>n){let n=e.activeOptionIndex!==null?e.options[e.activeOptionIndex]:null,a=fr(t(e.options.slice()),i=>i.dataRef.current.domRef.current),r=n?a.indexOf(n):null;return r===-1&&(r=null),{options:a,activeOptionIndex:r}}let CS={1(e){var t;return(t=e.dataRef.current)!=null&&t.disabled||e.comboboxState===1?e:{...e,activeOptionIndex:null,comboboxState:1}},0(e){var t;if((t=e.dataRef.current)!=null&&t.disabled||e.comboboxState===0)return e;let n=e.activeOptionIndex;if(e.dataRef.current){let{isSelected:a}=e.dataRef.current,r=e.options.findIndex(i=>a(i.dataRef.current.value));r!==-1&&(n=r)}return{...e,comboboxState:0,activeOptionIndex:n}},2(e,t){var n,a,r,i;if((n=e.dataRef.current)!=null&&n.disabled||(a=e.dataRef.current)!=null&&a.optionsRef.current&&!((r=e.dataRef.current)!=null&&r.optionsPropsRef.current.static)&&e.comboboxState===1)return e;let o=hd(e);if(o.activeOptionIndex===null){let l=o.options.findIndex(u=>!u.dataRef.current.disabled);l!==-1&&(o.activeOptionIndex=l)}let s=yb(t,{resolveItems:()=>o.options,resolveActiveIndex:()=>o.activeOptionIndex,resolveId:l=>l.id,resolveDisabled:l=>l.dataRef.current.disabled});return{...e,...o,activeOptionIndex:s,activationTrigger:(i=t.trigger)!=null?i:1}},3:(e,t)=>{var n,a;let r={id:t.id,dataRef:t.dataRef},i=hd(e,s=>[...s,r]);e.activeOptionIndex===null&&(n=e.dataRef.current)!=null&&n.isSelected(t.dataRef.current.value)&&(i.activeOptionIndex=i.options.indexOf(r));let o={...e,...i,activationTrigger:1};return(a=e.dataRef.current)!=null&&a.__demoMode&&e.dataRef.current.value===void 0&&(o.activeOptionIndex=0),o},4:(e,t)=>{let n=hd(e,a=>{let r=a.findIndex(i=>i.id===t.id);return r!==-1&&a.splice(r,1),a});return{...e,...n,activationTrigger:1}},5:(e,t)=>({...e,labelId:t.id})},gm=g.createContext(null);gm.displayName="ComboboxActionsContext";function el(e){let t=g.useContext(gm);if(t===null){let n=new Error(`<${e} /> is missing a parent <Combobox /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(n,el),n}return t}let ym=g.createContext(null);ym.displayName="ComboboxDataContext";function mo(e){let t=g.useContext(ym);if(t===null){let n=new Error(`<${e} /> is missing a parent <Combobox /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(n,mo),n}return t}function NS(e,t){return Ee(t.type,CS,e,t)}let IS=g.Fragment;function _S(e,t){let{value:n,defaultValue:a,onChange:r,form:i,name:o,by:s=(U,ae)=>U===ae,disabled:l=!1,__demoMode:u=!1,nullable:d=!1,multiple:f=!1,...m}=e,[p=f?[]:void 0,v]=kb(n,r,a),[k,T]=g.useReducer(NS,{dataRef:g.createRef(),comboboxState:u?0:1,options:[],activeOptionIndex:null,activationTrigger:1,labelId:null}),y=g.useRef(!1),b=g.useRef({static:!1,hold:!1}),x=g.useRef(null),w=g.useRef(null),O=g.useRef(null),N=g.useRef(null),R=K(typeof s=="string"?(U,ae)=>{let ne=s;return(U==null?void 0:U[ne])===(ae==null?void 0:ae[ne])}:s),D=g.useCallback(U=>Ee(P.mode,{1:()=>p.some(ae=>R(ae,U)),0:()=>R(p,U)}),[p]),P=g.useMemo(()=>({...k,optionsPropsRef:b,labelRef:x,inputRef:w,buttonRef:O,optionsRef:N,value:p,defaultValue:a,disabled:l,mode:f?1:0,get activeOptionIndex(){if(y.current&&k.activeOptionIndex===null&&k.options.length>0){let U=k.options.findIndex(ae=>!ae.dataRef.current.disabled);if(U!==-1)return U}return k.activeOptionIndex},compare:R,isSelected:D,nullable:d,__demoMode:u}),[p,a,l,f,d,u,k]),_=g.useRef(P.activeOptionIndex!==null?P.options[P.activeOptionIndex]:null);g.useEffect(()=>{let U=P.activeOptionIndex!==null?P.options[P.activeOptionIndex]:null;_.current!==U&&(_.current=U)}),ze(()=>{k.dataRef.current=P},[P]),uc([P.buttonRef,P.inputRef,P.optionsRef],()=>I.closeCombobox(),P.comboboxState===0);let S=g.useMemo(()=>({open:P.comboboxState===0,disabled:l,activeIndex:P.activeOptionIndex,activeOption:P.activeOptionIndex===null?null:P.options[P.activeOptionIndex].dataRef.current.value,value:p}),[P,l,p]),M=K(U=>{let ae=P.options.find(ne=>ne.id===U);ae&&V(ae.dataRef.current.value)}),B=K(()=>{if(P.activeOptionIndex!==null){let{dataRef:U,id:ae}=P.options[P.activeOptionIndex];V(U.current.value),I.goToOption(Xe.Specific,ae)}}),re=K(()=>{T({type:0}),y.current=!0}),Q=K(()=>{T({type:1}),y.current=!1}),ee=K((U,ae,ne)=>(y.current=!1,U===Xe.Specific?T({type:2,focus:Xe.Specific,id:ae,trigger:ne}):T({type:2,focus:U,trigger:ne}))),te=K((U,ae)=>(T({type:3,id:U,dataRef:ae}),()=>{var ne;((ne=_.current)==null?void 0:ne.id)===U&&(y.current=!0),T({type:4,id:U})})),W=K(U=>(T({type:5,id:U}),()=>T({type:5,id:null}))),V=K(U=>Ee(P.mode,{0(){return v==null?void 0:v(U)},1(){let ae=P.value.slice(),ne=ae.findIndex(Ne=>R(Ne,U));return ne===-1?ae.push(U):ae.splice(ne,1),v==null?void 0:v(ae)}})),I=g.useMemo(()=>({onChange:V,registerOption:te,registerLabel:W,goToOption:ee,closeCombobox:Q,openCombobox:re,selectActiveOption:B,selectOption:M}),[]),ce=t===null?{}:{ref:t},ue=g.useRef(null),A=Ea();return g.useEffect(()=>{ue.current&&a!==void 0&&A.addEventListener(ue.current,"reset",()=>{v==null||v(a)})},[ue,v]),oe.createElement(gm.Provider,{value:I},oe.createElement(ym.Provider,{value:P},oe.createElement(Zs,{value:Ee(P.comboboxState,{0:Ve.Open,1:Ve.Closed})},o!=null&&p!=null&&mm({[o]:p}).map(([U,ae],ne)=>oe.createElement(sa,{features:oa.Hidden,ref:ne===0?Ne=>{var Ke;ue.current=(Ke=Ne==null?void 0:Ne.closest("form"))!=null?Ke:null}:void 0,...Lu({key:U,as:"input",type:"hidden",hidden:!0,readOnly:!0,form:i,name:U,value:ae})})),Fe({ourProps:ce,theirProps:m,slot:S,defaultTag:IS,name:"Combobox"}))))}let RS="input";function LS(e,t){var n,a,r,i;let o=ht(),{id:s=`headlessui-combobox-input-${o}`,onChange:l,displayValue:u,type:d="text",...f}=e,m=mo("Combobox.Input"),p=el("Combobox.Input"),v=je(m.inputRef,t),k=$a(m.inputRef),T=g.useRef(!1),y=Ea(),b=K(()=>{p.onChange(null),m.optionsRef.current&&(m.optionsRef.current.scrollTop=0),p.goToOption(Xe.Nothing)}),x=function(){var B;return typeof u=="function"&&m.value!==void 0?(B=u(m.value))!=null?B:"":typeof m.value=="string"?m.value:""}();Ps(([B,re],[Q,ee])=>{if(T.current)return;let te=m.inputRef.current;te&&((ee===0&&re===1||B!==Q)&&(te.value=B),requestAnimationFrame(()=>{if(T.current||!te||(k==null?void 0:k.activeElement)!==te)return;let{selectionStart:W,selectionEnd:V}=te;Math.abs((V??0)-(W??0))===0&&W===0&&te.setSelectionRange(te.value.length,te.value.length)}))},[x,m.comboboxState,k]),Ps(([B],[re])=>{if(B===0&&re===1){if(T.current)return;let Q=m.inputRef.current;if(!Q)return;let ee=Q.value,{selectionStart:te,selectionEnd:W,selectionDirection:V}=Q;Q.value="",Q.value=ee,V!==null?Q.setSelectionRange(te,W,V):Q.setSelectionRange(te,W)}},[m.comboboxState]);let w=g.useRef(!1),O=K(()=>{w.current=!0}),N=K(()=>{y.nextFrame(()=>{w.current=!1})}),R=K(B=>{switch(T.current=!0,B.key){case be.Enter:if(T.current=!1,m.comboboxState!==0||w.current)return;if(B.preventDefault(),B.stopPropagation(),m.activeOptionIndex===null){p.closeCombobox();return}p.selectActiveOption(),m.mode===0&&p.closeCombobox();break;case be.ArrowDown:return T.current=!1,B.preventDefault(),B.stopPropagation(),Ee(m.comboboxState,{0:()=>{p.goToOption(Xe.Next)},1:()=>{p.openCombobox()}});case be.ArrowUp:return T.current=!1,B.preventDefault(),B.stopPropagation(),Ee(m.comboboxState,{0:()=>{p.goToOption(Xe.Previous)},1:()=>{p.openCombobox(),y.nextFrame(()=>{m.value||p.goToOption(Xe.Last)})}});case be.Home:if(B.shiftKey)break;return T.current=!1,B.preventDefault(),B.stopPropagation(),p.goToOption(Xe.First);case be.PageUp:return T.current=!1,B.preventDefault(),B.stopPropagation(),p.goToOption(Xe.First);case be.End:if(B.shiftKey)break;return T.current=!1,B.preventDefault(),B.stopPropagation(),p.goToOption(Xe.Last);case be.PageDown:return T.current=!1,B.preventDefault(),B.stopPropagation(),p.goToOption(Xe.Last);case be.Escape:return T.current=!1,m.comboboxState!==0?void 0:(B.preventDefault(),m.optionsRef.current&&!m.optionsPropsRef.current.static&&B.stopPropagation(),m.nullable&&m.mode===0&&m.value===null&&b(),p.closeCombobox());case be.Tab:if(T.current=!1,m.comboboxState!==0)return;m.mode===0&&p.selectActiveOption(),p.closeCombobox();break}}),D=K(B=>{l==null||l(B),m.nullable&&m.mode===0&&B.target.value===""&&b(),p.openCombobox()}),P=K(()=>{T.current=!1}),_=Qs(()=>{if(m.labelId)return[m.labelId].join(" ")},[m.labelId]),S=g.useMemo(()=>({open:m.comboboxState===0,disabled:m.disabled}),[m]),M={ref:v,id:s,role:"combobox",type:d,"aria-controls":(n=m.optionsRef.current)==null?void 0:n.id,"aria-expanded":m.comboboxState===0,"aria-activedescendant":m.activeOptionIndex===null||(a=m.options[m.activeOptionIndex])==null?void 0:a.id,"aria-labelledby":_,"aria-autocomplete":"list",defaultValue:(i=(r=e.defaultValue)!=null?r:m.defaultValue!==void 0?u==null?void 0:u(m.defaultValue):null)!=null?i:m.defaultValue,disabled:m.disabled,onCompositionStart:O,onCompositionEnd:N,onKeyDown:R,onChange:D,onBlur:P};return Fe({ourProps:M,theirProps:f,slot:S,defaultTag:RS,name:"Combobox.Input"})}let OS="button";function DS(e,t){var n;let a=mo("Combobox.Button"),r=el("Combobox.Button"),i=je(a.buttonRef,t),o=ht(),{id:s=`headlessui-combobox-button-${o}`,...l}=e,u=Ea(),d=K(k=>{switch(k.key){case be.ArrowDown:return k.preventDefault(),k.stopPropagation(),a.comboboxState===1&&r.openCombobox(),u.nextFrame(()=>{var T;return(T=a.inputRef.current)==null?void 0:T.focus({preventScroll:!0})});case be.ArrowUp:return k.preventDefault(),k.stopPropagation(),a.comboboxState===1&&(r.openCombobox(),u.nextFrame(()=>{a.value||r.goToOption(Xe.Last)})),u.nextFrame(()=>{var T;return(T=a.inputRef.current)==null?void 0:T.focus({preventScroll:!0})});case be.Escape:return a.comboboxState!==0?void 0:(k.preventDefault(),a.optionsRef.current&&!a.optionsPropsRef.current.static&&k.stopPropagation(),r.closeCombobox(),u.nextFrame(()=>{var T;return(T=a.inputRef.current)==null?void 0:T.focus({preventScroll:!0})}));default:return}}),f=K(k=>{if(fo(k.currentTarget))return k.preventDefault();a.comboboxState===0?r.closeCombobox():(k.preventDefault(),r.openCombobox()),u.nextFrame(()=>{var T;return(T=a.inputRef.current)==null?void 0:T.focus({preventScroll:!0})})}),m=Qs(()=>{if(a.labelId)return[a.labelId,s].join(" ")},[a.labelId,s]),p=g.useMemo(()=>({open:a.comboboxState===0,disabled:a.disabled,value:a.value}),[a]),v={ref:i,id:s,type:Js(e,a.buttonRef),tabIndex:-1,"aria-haspopup":"listbox","aria-controls":(n=a.optionsRef.current)==null?void 0:n.id,"aria-expanded":a.comboboxState===0,"aria-labelledby":m,disabled:a.disabled,onClick:f,onKeyDown:d};return Fe({ourProps:v,theirProps:l,slot:p,defaultTag:OS,name:"Combobox.Button"})}let PS="label";function MS(e,t){let n=ht(),{id:a=`headlessui-combobox-label-${n}`,...r}=e,i=mo("Combobox.Label"),o=el("Combobox.Label"),s=je(i.labelRef,t);ze(()=>o.registerLabel(a),[a]);let l=K(()=>{var d;return(d=i.inputRef.current)==null?void 0:d.focus({preventScroll:!0})}),u=g.useMemo(()=>({open:i.comboboxState===0,disabled:i.disabled}),[i]);return Fe({ourProps:{ref:s,id:a,onClick:l},theirProps:r,slot:u,defaultTag:PS,name:"Combobox.Label"})}let FS="ul",jS=Xt.RenderStrategy|Xt.Static;function BS(e,t){let n=ht(),{id:a=`headlessui-combobox-options-${n}`,hold:r=!1,...i}=e,o=mo("Combobox.Options"),s=je(o.optionsRef,t),l=Rr(),u=l!==null?(l&Ve.Open)===Ve.Open:o.comboboxState===0;ze(()=>{var p;o.optionsPropsRef.current.static=(p=e.static)!=null?p:!1},[o.optionsPropsRef,e.static]),ze(()=>{o.optionsPropsRef.current.hold=r},[o.optionsPropsRef,r]),pS({container:o.optionsRef.current,enabled:o.comboboxState===0,accept(p){return p.getAttribute("role")==="option"?NodeFilter.FILTER_REJECT:p.hasAttribute("role")?NodeFilter.FILTER_SKIP:NodeFilter.FILTER_ACCEPT},walk(p){p.setAttribute("role","none")}});let d=Qs(()=>{var p,v;return(v=o.labelId)!=null?v:(p=o.buttonRef.current)==null?void 0:p.id},[o.labelId,o.buttonRef.current]),f=g.useMemo(()=>({open:o.comboboxState===0}),[o]),m={"aria-labelledby":d,role:"listbox","aria-multiselectable":o.mode===1?!0:void 0,id:a,ref:s};return Fe({ourProps:m,theirProps:i,slot:f,defaultTag:FS,features:jS,visible:u,name:"Combobox.Options"})}let HS="li";function qS(e,t){var n,a;let r=ht(),{id:i=`headlessui-combobox-option-${r}`,disabled:o=!1,value:s,...l}=e,u=mo("Combobox.Option"),d=el("Combobox.Option"),f=u.activeOptionIndex!==null?u.options[u.activeOptionIndex].id===i:!1,m=u.isSelected(s),p=g.useRef(null),v=Wt({disabled:o,value:s,domRef:p,textValue:(a=(n=p.current)==null?void 0:n.textContent)==null?void 0:a.toLowerCase()}),k=je(t,p),T=K(()=>d.selectOption(i));ze(()=>d.registerOption(i,v),[v,i]);let y=g.useRef(!u.__demoMode);ze(()=>{if(!u.__demoMode)return;let P=Hn();return P.requestAnimationFrame(()=>{y.current=!0}),P.dispose},[]),ze(()=>{if(u.comboboxState!==0||!f||!y.current||u.activationTrigger===0)return;let P=Hn();return P.requestAnimationFrame(()=>{var _,S;(S=(_=p.current)==null?void 0:_.scrollIntoView)==null||S.call(_,{block:"nearest"})}),P.dispose},[p,f,u.comboboxState,u.activationTrigger,u.activeOptionIndex]);let b=K(P=>{if(o)return P.preventDefault();T(),u.mode===0&&d.closeCombobox(),TS()||requestAnimationFrame(()=>{var _;return(_=u.inputRef.current)==null?void 0:_.focus()})}),x=K(()=>{if(o)return d.goToOption(Xe.Nothing);d.goToOption(Xe.Specific,i)}),w=Tb(),O=K(P=>w.update(P)),N=K(P=>{w.wasMoved(P)&&(o||f||d.goToOption(Xe.Specific,i,0))}),R=K(P=>{w.wasMoved(P)&&(o||f&&(u.optionsPropsRef.current.hold||d.goToOption(Xe.Nothing)))}),D=g.useMemo(()=>({active:f,selected:m,disabled:o}),[f,m,o]);return Fe({ourProps:{id:i,ref:k,role:"option",tabIndex:o===!0?void 0:-1,"aria-disabled":o===!0?!0:void 0,"aria-selected":m,disabled:void 0,onClick:b,onFocus:x,onPointerEnter:O,onMouseEnter:O,onPointerMove:N,onMouseMove:N,onPointerLeave:R,onMouseLeave:R},theirProps:l,slot:D,defaultTag:HS,name:"Combobox.Option"})}let US=De(_S),WS=De(DS),YS=De(LS),zS=De(MS),$S=De(BS),GS=De(qS),jo=Object.assign(US,{Input:YS,Button:WS,Label:zS,Options:$S,Option:GS});var Tn=(e=>(e[e.Forwards=0]="Forwards",e[e.Backwards=1]="Backwards",e))(Tn||{});function bm(){let e=g.useRef(0);return pb("keydown",t=>{t.key==="Tab"&&(e.current=t.shiftKey?1:0)},!0),e}function po(){let e=g.useRef(!1);return ze(()=>(e.current=!0,()=>{e.current=!1}),[]),e}function vm(e,t,n,a){let r=Wt(n);g.useEffect(()=>{e=e??window;function i(o){r.current(o)}return e.addEventListener(t,i,a),()=>e.removeEventListener(t,i,a)},[e,t,a])}function VS(e){function t(){document.readyState!=="loading"&&(e(),document.removeEventListener("DOMContentLoaded",t))}typeof window<"u"&&typeof document<"u"&&(document.addEventListener("DOMContentLoaded",t),t())}function Eb(e){let t=K(e),n=g.useRef(!1);g.useEffect(()=>(n.current=!1,()=>{n.current=!0,Xs(()=>{n.current&&t()})}),[t])}function Sb(e){if(!e)return new Set;if(typeof e=="function")return new Set(e());let t=new Set;for(let n of e.current)n.current instanceof HTMLElement&&t.add(n.current);return t}let KS="div";var Ab=(e=>(e[e.None=1]="None",e[e.InitialFocus=2]="InitialFocus",e[e.TabLock=4]="TabLock",e[e.FocusLock=8]="FocusLock",e[e.RestoreFocus=16]="RestoreFocus",e[e.All=30]="All",e))(Ab||{});function QS(e,t){let n=g.useRef(null),a=je(n,t),{initialFocus:r,containers:i,features:o=30,...s}=e;ho()||(o=1);let l=$a(n);ZS({ownerDocument:l},!!(o&16));let u=eA({ownerDocument:l,container:n,initialFocus:r},!!(o&2));tA({ownerDocument:l,container:n,containers:i,previousActiveElement:u},!!(o&8));let d=bm(),f=K(k=>{let T=n.current;T&&(y=>y())(()=>{Ee(d.current,{[Tn.Forwards]:()=>{qt(T,ut.First,{skipElements:[k.relatedTarget]})},[Tn.Backwards]:()=>{qt(T,ut.Last,{skipElements:[k.relatedTarget]})}})})}),m=Ea(),p=g.useRef(!1),v={ref:a,onKeyDown(k){k.key=="Tab"&&(p.current=!0,m.requestAnimationFrame(()=>{p.current=!1}))},onBlur(k){let T=Sb(i);n.current instanceof HTMLElement&&T.add(n.current);let y=k.relatedTarget;y instanceof HTMLElement&&y.dataset.headlessuiFocusGuard!=="true"&&(Cb(T,y)||(p.current?qt(n.current,Ee(d.current,{[Tn.Forwards]:()=>ut.Next,[Tn.Backwards]:()=>ut.Previous})|ut.WrapAround,{relativeTo:k.target}):k.target instanceof HTMLElement&&Qr(k.target)))}};return oe.createElement(oe.Fragment,null,!!(o&4)&&oe.createElement(sa,{as:"button",type:"button","data-headlessui-focus-guard":!0,onFocus:f,features:oa.Focusable}),Fe({ourProps:v,theirProps:s,defaultTag:KS,name:"FocusTrap"}),!!(o&4)&&oe.createElement(sa,{as:"button",type:"button","data-headlessui-focus-guard":!0,onFocus:f,features:oa.Focusable}))}let XS=De(QS),Bo=Object.assign(XS,{features:Ab}),ur=[];VS(()=>{function e(t){t.target instanceof HTMLElement&&t.target!==document.body&&ur[0]!==t.target&&(ur.unshift(t.target),ur=ur.filter(n=>n!=null&&n.isConnected),ur.splice(10))}window.addEventListener("click",e,{capture:!0}),window.addEventListener("mousedown",e,{capture:!0}),window.addEventListener("focus",e,{capture:!0}),document.body.addEventListener("click",e,{capture:!0}),document.body.addEventListener("mousedown",e,{capture:!0}),document.body.addEventListener("focus",e,{capture:!0})});function JS(e=!0){let t=g.useRef(ur.slice());return Ps(([n],[a])=>{a===!0&&n===!1&&Xs(()=>{t.current.splice(0)}),a===!1&&n===!0&&(t.current=ur.slice())},[e,ur,t]),K(()=>{var n;return(n=t.current.find(a=>a!=null&&a.isConnected))!=null?n:null})}function ZS({ownerDocument:e},t){let n=JS(t);Ps(()=>{t||(e==null?void 0:e.activeElement)===(e==null?void 0:e.body)&&Qr(n())},[t]),Eb(()=>{t&&Qr(n())})}function eA({ownerDocument:e,container:t,initialFocus:n},a){let r=g.useRef(null),i=po();return Ps(()=>{if(!a)return;let o=t.current;o&&Xs(()=>{if(!i.current)return;let s=e==null?void 0:e.activeElement;if(n!=null&&n.current){if((n==null?void 0:n.current)===s){r.current=s;return}}else if(o.contains(s)){r.current=s;return}n!=null&&n.current?Qr(n.current):qt(o,ut.First)===Da.Error&&console.warn("There are no focusable elements inside the <FocusTrap />"),r.current=e==null?void 0:e.activeElement})},[a]),r}function tA({ownerDocument:e,container:t,containers:n,previousActiveElement:a},r){let i=po();vm(e==null?void 0:e.defaultView,"focus",o=>{if(!r||!i.current)return;let s=Sb(n);t.current instanceof HTMLElement&&s.add(t.current);let l=a.current;if(!l)return;let u=o.target;u&&u instanceof HTMLElement?Cb(s,u)?(a.current=u,Qr(u)):(o.preventDefault(),o.stopPropagation(),Qr(l)):Qr(a.current)},!0)}function Cb(e,t){for(let n of e)if(n.contains(t))return!0;return!1}let Nb=g.createContext(!1);function nA(){return g.useContext(Nb)}function Bh(e){return oe.createElement(Nb.Provider,{value:e.force},e.children)}function aA(e){let t=nA(),n=g.useContext(Ib),a=$a(e),[r,i]=g.useState(()=>{if(!t&&n!==null||Fa.isServer)return null;let o=a==null?void 0:a.getElementById("headlessui-portal-root");if(o)return o;if(a===null)return null;let s=a.createElement("div");return s.setAttribute("id","headlessui-portal-root"),a.body.appendChild(s)});return g.useEffect(()=>{r!==null&&(a!=null&&a.body.contains(r)||a==null||a.body.appendChild(r))},[r,a]),g.useEffect(()=>{t||n!==null&&i(n.current)},[n,i,t]),r}let rA=g.Fragment;function iA(e,t){let n=e,a=g.useRef(null),r=je(fm(d=>{a.current=d}),t),i=$a(a),o=aA(a),[s]=g.useState(()=>{var d;return Fa.isServer?null:(d=i==null?void 0:i.createElement("div"))!=null?d:null}),l=g.useContext(Hh),u=ho();return ze(()=>{!o||!s||o.contains(s)||(s.setAttribute("data-headlessui-portal",""),o.appendChild(s))},[o,s]),ze(()=>{if(s&&l)return l.register(s)},[l,s]),Eb(()=>{var d;!o||!s||(s instanceof Node&&o.contains(s)&&o.removeChild(s),o.childNodes.length<=0&&((d=o.parentElement)==null||d.removeChild(o)))}),u?!o||!s?null:nc.createPortal(Fe({ourProps:{ref:r},theirProps:n,defaultTag:rA,name:"Portal"}),s):null}let oA=g.Fragment,Ib=g.createContext(null);function sA(e,t){let{target:n,...a}=e,r={ref:je(t)};return oe.createElement(Ib.Provider,{value:n},Fe({ourProps:r,theirProps:a,defaultTag:oA,name:"Popover.Group"}))}let Hh=g.createContext(null);function _b(){let e=g.useContext(Hh),t=g.useRef([]),n=K(i=>(t.current.push(i),e&&e.register(i),()=>a(i))),a=K(i=>{let o=t.current.indexOf(i);o!==-1&&t.current.splice(o,1),e&&e.unregister(i)}),r=g.useMemo(()=>({register:n,unregister:a,portals:t}),[n,a,t]);return[t,g.useMemo(()=>function({children:i}){return oe.createElement(Hh.Provider,{value:r},i)},[r])]}let lA=De(iA),uA=De(sA),qh=Object.assign(lA,{Group:uA}),Rb=g.createContext(null);function Lb(){let e=g.useContext(Rb);if(e===null){let t=new Error("You used a <Description /> component, but it is not inside a relevant parent.");throw Error.captureStackTrace&&Error.captureStackTrace(t,Lb),t}return e}function cA(){let[e,t]=g.useState([]);return[e.length>0?e.join(" "):void 0,g.useMemo(()=>function(n){let a=K(i=>(t(o=>[...o,i]),()=>t(o=>{let s=o.slice(),l=s.indexOf(i);return l!==-1&&s.splice(l,1),s}))),r=g.useMemo(()=>({register:a,slot:n.slot,name:n.name,props:n.props}),[a,n.slot,n.name,n.props]);return oe.createElement(Rb.Provider,{value:r},n.children)},[t])]}let dA="p";function hA(e,t){let n=ht(),{id:a=`headlessui-description-${n}`,...r}=e,i=Lb(),o=je(t);ze(()=>i.register(a),[a,i.register]);let s={ref:o,...i.props,id:a};return Fe({ourProps:s,theirProps:r,slot:i.slot||{},defaultTag:dA,name:i.name||"Description"})}let fA=De(hA),mA=Object.assign(fA,{}),wm=g.createContext(()=>{});wm.displayName="StackContext";var Uh=(e=>(e[e.Add=0]="Add",e[e.Remove=1]="Remove",e))(Uh||{});function pA(){return g.useContext(wm)}function gA({children:e,onUpdate:t,type:n,element:a,enabled:r}){let i=pA(),o=K((...s)=>{t==null||t(...s),i(...s)});return ze(()=>{let s=r===void 0||r===!0;return s&&o(0,n,a),()=>{s&&o(1,n,a)}},[o,n,a,r]),oe.createElement(wm.Provider,{value:o},e)}function yA(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}const bA=typeof Object.is=="function"?Object.is:yA,{useState:vA,useEffect:wA,useLayoutEffect:kA,useDebugValue:TA}=Gi;function xA(e,t,n){const a=t(),[{inst:r},i]=vA({inst:{value:a,getSnapshot:t}});return kA(()=>{r.value=a,r.getSnapshot=t,fd(r)&&i({inst:r})},[e,a,t]),wA(()=>(fd(r)&&i({inst:r}),e(()=>{fd(r)&&i({inst:r})})),[e]),TA(a),a}function fd(e){const t=e.getSnapshot,n=e.value;try{const a=t();return!bA(n,a)}catch{return!0}}function EA(e,t,n){return t()}const SA=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",AA=!SA,CA=AA?EA:xA,NA="useSyncExternalStore"in Gi?(e=>e.useSyncExternalStore)(Gi):CA;function IA(e){return NA(e.subscribe,e.getSnapshot,e.getSnapshot)}function _A(e,t){let n=e(),a=new Set;return{getSnapshot(){return n},subscribe(r){return a.add(r),()=>a.delete(r)},dispatch(r,...i){let o=t[r].call(n,...i);o&&(n=o,a.forEach(s=>s()))}}}function RA(){let e;return{before({doc:t}){var n;let a=t.documentElement;e=((n=t.defaultView)!=null?n:window).innerWidth-a.clientWidth},after({doc:t,d:n}){let a=t.documentElement,r=a.clientWidth-a.offsetWidth,i=e-r;n.style(a,"paddingRight",`${i}px`)}}}function LA(){if(!xb())return{};let e;return{before(){e=window.pageYOffset},after({doc:t,d:n,meta:a}){function r(i){return a.containers.flatMap(o=>o()).some(o=>o.contains(i))}n.microTask(()=>{if(window.getComputedStyle(t.documentElement).scrollBehavior!=="auto"){let o=Hn();o.style(t.documentElement,"scroll-behavior","auto"),n.add(()=>n.microTask(()=>o.dispose()))}n.style(t.body,"marginTop",`-${e}px`),window.scrollTo(0,0);let i=null;n.addEventListener(t,"click",o=>{if(o.target instanceof HTMLElement)try{let s=o.target.closest("a");if(!s)return;let{hash:l}=new URL(s.href),u=t.querySelector(l);u&&!r(u)&&(i=u)}catch{}},!0),n.addEventListener(t,"touchmove",o=>{o.target instanceof HTMLElement&&!r(o.target)&&o.preventDefault()},{passive:!1}),n.add(()=>{window.scrollTo(0,window.pageYOffset+e),i&&i.isConnected&&(i.scrollIntoView({block:"nearest"}),i=null)})})}}}function OA(){return{before({doc:e,d:t}){t.style(e.documentElement,"overflow","hidden")}}}function DA(e){let t={};for(let n of e)Object.assign(t,n(t));return t}let zr=_A(()=>new Map,{PUSH(e,t){var n;let a=(n=this.get(e))!=null?n:{doc:e,count:0,d:Hn(),meta:new Set};return a.count++,a.meta.add(t),this.set(e,a),this},POP(e,t){let n=this.get(e);return n&&(n.count--,n.meta.delete(t)),this},SCROLL_PREVENT({doc:e,d:t,meta:n}){let a={doc:e,d:t,meta:DA(n)},r=[LA(),RA(),OA()];r.forEach(({before:i})=>i==null?void 0:i(a)),r.forEach(({after:i})=>i==null?void 0:i(a))},SCROLL_ALLOW({d:e}){e.dispose()},TEARDOWN({doc:e}){this.delete(e)}});zr.subscribe(()=>{let e=zr.getSnapshot(),t=new Map;for(let[n]of e)t.set(n,n.documentElement.style.overflow);for(let n of e.values()){let a=t.get(n.doc)==="hidden",r=n.count!==0;(r&&!a||!r&&a)&&zr.dispatch(n.count>0?"SCROLL_PREVENT":"SCROLL_ALLOW",n),n.count===0&&zr.dispatch("TEARDOWN",n)}});function PA(e,t,n){let a=IA(zr),r=e?a.get(e):void 0,i=r?r.count>0:!1;return ze(()=>{if(!(!e||!t))return zr.dispatch("PUSH",e,n),()=>zr.dispatch("POP",e,n)},[t,e]),i}let md=new Map,Ho=new Map;function Up(e,t=!0){ze(()=>{var n;if(!t)return;let a=typeof e=="function"?e():e.current;if(!a)return;function r(){var o;if(!a)return;let s=(o=Ho.get(a))!=null?o:1;if(s===1?Ho.delete(a):Ho.set(a,s-1),s!==1)return;let l=md.get(a);l&&(l["aria-hidden"]===null?a.removeAttribute("aria-hidden"):a.setAttribute("aria-hidden",l["aria-hidden"]),a.inert=l.inert,md.delete(a))}let i=(n=Ho.get(a))!=null?n:0;return Ho.set(a,i+1),i!==0||(md.set(a,{"aria-hidden":a.getAttribute("aria-hidden"),inert:a.inert}),a.setAttribute("aria-hidden","true"),a.inert=!0),r},[e,t])}function Ob({defaultContainers:e=[],portals:t,mainTreeNodeRef:n}={}){var a;let r=g.useRef((a=n==null?void 0:n.current)!=null?a:null),i=$a(r),o=K(()=>{var s;let l=[];for(let u of e)u!==null&&(u instanceof HTMLElement?l.push(u):"current"in u&&u.current instanceof HTMLElement&&l.push(u.current));if(t!=null&&t.current)for(let u of t.current)l.push(u);for(let u of(s=i==null?void 0:i.querySelectorAll("html > *, body > *"))!=null?s:[])u!==document.body&&u!==document.head&&u instanceof HTMLElement&&u.id!=="headlessui-portal-root"&&(u.contains(r.current)||l.some(d=>u.contains(d))||l.push(u));return l});return{resolveContainers:o,contains:K(s=>o().some(l=>l.contains(s))),mainTreeNodeRef:r,MainTreeNode:g.useMemo(()=>function(){return n!=null?null:oe.createElement(sa,{features:oa.Hidden,ref:r})},[r,n])}}function MA(){let e=g.useRef(null);return{mainTreeNodeRef:e,MainTreeNode:g.useMemo(()=>function(){return oe.createElement(sa,{features:oa.Hidden,ref:e})},[e])}}var FA=(e=>(e[e.Open=0]="Open",e[e.Closed=1]="Closed",e))(FA||{}),jA=(e=>(e[e.SetTitleId=0]="SetTitleId",e))(jA||{});let BA={0(e,t){return e.titleId===t.id?e:{...e,titleId:t.id}}},Ou=g.createContext(null);Ou.displayName="DialogContext";function tl(e){let t=g.useContext(Ou);if(t===null){let n=new Error(`<${e} /> is missing a parent <Dialog /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(n,tl),n}return t}function HA(e,t,n=()=>[document.body]){PA(e,t,a=>{var r;return{containers:[...(r=a.containers)!=null?r:[],n]}})}function qA(e,t){return Ee(t.type,BA,e,t)}let UA="div",WA=Xt.RenderStrategy|Xt.Static;function YA(e,t){var n;let a=ht(),{id:r=`headlessui-dialog-${a}`,open:i,onClose:o,initialFocus:s,__demoMode:l=!1,...u}=e,[d,f]=g.useState(0),m=Rr();i===void 0&&m!==null&&(i=(m&Ve.Open)===Ve.Open);let p=g.useRef(null),v=je(p,t),k=$a(p),T=e.hasOwnProperty("open")||m!==null,y=e.hasOwnProperty("onClose");if(!T&&!y)throw new Error("You have to provide an `open` and an `onClose` prop to the `Dialog` component.");if(!T)throw new Error("You provided an `onClose` prop to the `Dialog`, but forgot an `open` prop.");if(!y)throw new Error("You provided an `open` prop to the `Dialog`, but forgot an `onClose` prop.");if(typeof i!="boolean")throw new Error(`You provided an \`open\` prop to the \`Dialog\`, but the value is not a boolean. Received: ${i}`);if(typeof o!="function")throw new Error(`You provided an \`onClose\` prop to the \`Dialog\`, but the value is not a function. Received: ${o}`);let b=i?0:1,[x,w]=g.useReducer(qA,{titleId:null,descriptionId:null,panelRef:g.createRef()}),O=K(()=>o(!1)),N=K(ge=>w({type:0,id:ge})),R=ho()?l?!1:b===0:!1,D=d>1,P=g.useContext(Ou)!==null,[_,S]=_b(),{resolveContainers:M,mainTreeNodeRef:B,MainTreeNode:re}=Ob({portals:_,defaultContainers:[(n=x.panelRef.current)!=null?n:p.current]}),Q=D?"parent":"leaf",ee=m!==null?(m&Ve.Closing)===Ve.Closing:!1,te=P||ee?!1:R,W=g.useCallback(()=>{var ge,qe;return(qe=Array.from((ge=k==null?void 0:k.querySelectorAll("body > *"))!=null?ge:[]).find(ot=>ot.id==="headlessui-portal-root"?!1:ot.contains(B.current)&&ot instanceof HTMLElement))!=null?qe:null},[B]);Up(W,te);let V=D?!0:R,I=g.useCallback(()=>{var ge,qe;return(qe=Array.from((ge=k==null?void 0:k.querySelectorAll("[data-headlessui-portal]"))!=null?ge:[]).find(ot=>ot.contains(B.current)&&ot instanceof HTMLElement))!=null?qe:null},[B]);Up(I,V),uc(M,O,!(!R||D));let ue=!(D||b!==0);vm(k==null?void 0:k.defaultView,"keydown",ge=>{ue&&(ge.defaultPrevented||ge.key===be.Escape&&(ge.preventDefault(),ge.stopPropagation(),O()))}),HA(k,!(ee||b!==0||P),M),g.useEffect(()=>{if(b!==0||!p.current)return;let ge=new ResizeObserver(qe=>{for(let ot of qe){let Lt=ot.target.getBoundingClientRect();Lt.x===0&&Lt.y===0&&Lt.width===0&&Lt.height===0&&O()}});return ge.observe(p.current),()=>ge.disconnect()},[b,p,O]);let[U,ae]=cA(),ne=g.useMemo(()=>[{dialogState:b,close:O,setTitleId:N},x],[b,x,O,N]),Ne=g.useMemo(()=>({open:b===0}),[b]),Ke={ref:v,id:r,role:"dialog","aria-modal":b===0?!0:void 0,"aria-labelledby":x.titleId,"aria-describedby":U};return oe.createElement(gA,{type:"Dialog",enabled:b===0,element:p,onUpdate:K((ge,qe)=>{qe==="Dialog"&&Ee(ge,{[Uh.Add]:()=>f(ot=>ot+1),[Uh.Remove]:()=>f(ot=>ot-1)})})},oe.createElement(Bh,{force:!0},oe.createElement(qh,null,oe.createElement(Ou.Provider,{value:ne},oe.createElement(qh.Group,{target:p},oe.createElement(Bh,{force:!1},oe.createElement(ae,{slot:Ne,name:"Dialog.Description"},oe.createElement(Bo,{initialFocus:s,containers:M,features:R?Ee(Q,{parent:Bo.features.RestoreFocus,leaf:Bo.features.All&~Bo.features.FocusLock}):Bo.features.None},oe.createElement(S,null,Fe({ourProps:Ke,theirProps:u,slot:Ne,defaultTag:UA,features:WA,visible:b===0,name:"Dialog"}))))))))),oe.createElement(re,null))}let zA="div";function $A(e,t){let n=ht(),{id:a=`headlessui-dialog-overlay-${n}`,...r}=e,[{dialogState:i,close:o}]=tl("Dialog.Overlay"),s=je(t),l=K(d=>{if(d.target===d.currentTarget){if(fo(d.currentTarget))return d.preventDefault();d.preventDefault(),d.stopPropagation(),o()}}),u=g.useMemo(()=>({open:i===0}),[i]);return Fe({ourProps:{ref:s,id:a,"aria-hidden":!0,onClick:l},theirProps:r,slot:u,defaultTag:zA,name:"Dialog.Overlay"})}let GA="div";function VA(e,t){let n=ht(),{id:a=`headlessui-dialog-backdrop-${n}`,...r}=e,[{dialogState:i},o]=tl("Dialog.Backdrop"),s=je(t);g.useEffect(()=>{if(o.panelRef.current===null)throw new Error("A <Dialog.Backdrop /> component is being used, but a <Dialog.Panel /> component is missing.")},[o.panelRef]);let l=g.useMemo(()=>({open:i===0}),[i]);return oe.createElement(Bh,{force:!0},oe.createElement(qh,null,Fe({ourProps:{ref:s,id:a,"aria-hidden":!0},theirProps:r,slot:l,defaultTag:GA,name:"Dialog.Backdrop"})))}let KA="div";function QA(e,t){let n=ht(),{id:a=`headlessui-dialog-panel-${n}`,...r}=e,[{dialogState:i},o]=tl("Dialog.Panel"),s=je(t,o.panelRef),l=g.useMemo(()=>({open:i===0}),[i]),u=K(d=>{d.stopPropagation()});return Fe({ourProps:{ref:s,id:a,onClick:u},theirProps:r,slot:l,defaultTag:KA,name:"Dialog.Panel"})}let XA="h2";function JA(e,t){let n=ht(),{id:a=`headlessui-dialog-title-${n}`,...r}=e,[{dialogState:i,setTitleId:o}]=tl("Dialog.Title"),s=je(t);g.useEffect(()=>(o(a),()=>o(null)),[a,o]);let l=g.useMemo(()=>({open:i===0}),[i]);return Fe({ourProps:{ref:s,id:a},theirProps:r,slot:l,defaultTag:XA,name:"Dialog.Title"})}let ZA=De(YA),e4=De(VA),t4=De(QA),n4=De($A),a4=De(JA),na=Object.assign(ZA,{Backdrop:e4,Panel:t4,Overlay:n4,Title:a4,Description:mA});var Wp;let r4=(Wp=oe.startTransition)!=null?Wp:function(e){e()};var i4=(e=>(e[e.Open=0]="Open",e[e.Closed=1]="Closed",e))(i4||{}),o4=(e=>(e[e.ToggleDisclosure=0]="ToggleDisclosure",e[e.CloseDisclosure=1]="CloseDisclosure",e[e.SetButtonId=2]="SetButtonId",e[e.SetPanelId=3]="SetPanelId",e[e.LinkPanel=4]="LinkPanel",e[e.UnlinkPanel=5]="UnlinkPanel",e))(o4||{});let s4={0:e=>({...e,disclosureState:Ee(e.disclosureState,{0:1,1:0})}),1:e=>e.disclosureState===1?e:{...e,disclosureState:1},4(e){return e.linkedPanel===!0?e:{...e,linkedPanel:!0}},5(e){return e.linkedPanel===!1?e:{...e,linkedPanel:!1}},2(e,t){return e.buttonId===t.buttonId?e:{...e,buttonId:t.buttonId}},3(e,t){return e.panelId===t.panelId?e:{...e,panelId:t.panelId}}},km=g.createContext(null);km.displayName="DisclosureContext";function Tm(e){let t=g.useContext(km);if(t===null){let n=new Error(`<${e} /> is missing a parent <Disclosure /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(n,Tm),n}return t}let xm=g.createContext(null);xm.displayName="DisclosureAPIContext";function Db(e){let t=g.useContext(xm);if(t===null){let n=new Error(`<${e} /> is missing a parent <Disclosure /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(n,Db),n}return t}let Em=g.createContext(null);Em.displayName="DisclosurePanelContext";function l4(){return g.useContext(Em)}function u4(e,t){return Ee(t.type,s4,e,t)}let c4=g.Fragment;function d4(e,t){let{defaultOpen:n=!1,...a}=e,r=g.useRef(null),i=je(t,fm(T=>{r.current=T},e.as===void 0||e.as===g.Fragment)),o=g.useRef(null),s=g.useRef(null),l=g.useReducer(u4,{disclosureState:n?0:1,linkedPanel:!1,buttonRef:s,panelRef:o,buttonId:null,panelId:null}),[{disclosureState:u,buttonId:d},f]=l,m=K(T=>{f({type:1});let y=hi(r);if(!y||!d)return;let b=T?T instanceof HTMLElement?T:T.current instanceof HTMLElement?T.current:y.getElementById(d):y.getElementById(d);b==null||b.focus()}),p=g.useMemo(()=>({close:m}),[m]),v=g.useMemo(()=>({open:u===0,close:m}),[u,m]),k={ref:i};return oe.createElement(km.Provider,{value:l},oe.createElement(xm.Provider,{value:p},oe.createElement(Zs,{value:Ee(u,{0:Ve.Open,1:Ve.Closed})},Fe({ourProps:k,theirProps:a,slot:v,defaultTag:c4,name:"Disclosure"}))))}let h4="button";function f4(e,t){let n=ht(),{id:a=`headlessui-disclosure-button-${n}`,...r}=e,[i,o]=Tm("Disclosure.Button"),s=l4(),l=s===null?!1:s===i.panelId,u=g.useRef(null),d=je(u,t,l?null:i.buttonRef);g.useEffect(()=>{if(!l)return o({type:2,buttonId:a}),()=>{o({type:2,buttonId:null})}},[a,o,l]);let f=K(y=>{var b;if(l){if(i.disclosureState===1)return;switch(y.key){case be.Space:case be.Enter:y.preventDefault(),y.stopPropagation(),o({type:0}),(b=i.buttonRef.current)==null||b.focus();break}}else switch(y.key){case be.Space:case be.Enter:y.preventDefault(),y.stopPropagation(),o({type:0});break}}),m=K(y=>{switch(y.key){case be.Space:y.preventDefault();break}}),p=K(y=>{var b;fo(y.currentTarget)||e.disabled||(l?(o({type:0}),(b=i.buttonRef.current)==null||b.focus()):o({type:0}))}),v=g.useMemo(()=>({open:i.disclosureState===0}),[i]),k=Js(e,u),T=l?{ref:d,type:k,onKeyDown:f,onClick:p}:{ref:d,id:a,type:k,"aria-expanded":i.disclosureState===0,"aria-controls":i.linkedPanel?i.panelId:void 0,onKeyDown:f,onKeyUp:m,onClick:p};return Fe({ourProps:T,theirProps:r,slot:v,defaultTag:h4,name:"Disclosure.Button"})}let m4="div",p4=Xt.RenderStrategy|Xt.Static;function g4(e,t){let n=ht(),{id:a=`headlessui-disclosure-panel-${n}`,...r}=e,[i,o]=Tm("Disclosure.Panel"),{close:s}=Db("Disclosure.Panel"),l=je(t,i.panelRef,p=>{r4(()=>o({type:p?4:5}))});g.useEffect(()=>(o({type:3,panelId:a}),()=>{o({type:3,panelId:null})}),[a,o]);let u=Rr(),d=u!==null?(u&Ve.Open)===Ve.Open:i.disclosureState===0,f=g.useMemo(()=>({open:i.disclosureState===0,close:s}),[i,s]),m={ref:l,id:a};return oe.createElement(Em.Provider,{value:i.panelId},Fe({ourProps:m,theirProps:r,slot:f,defaultTag:m4,features:p4,visible:d,name:"Disclosure.Panel"}))}let y4=De(d4),b4=De(f4),v4=De(g4),Qe=Object.assign(y4,{Button:b4,Panel:v4}),Yp=/([\u2700-\u27BF]|[\uE000-\uF8FF]|\uD83C[\uDC00-\uDFFF]|\uD83D[\uDC00-\uDFFF]|[\u2011-\u26FF]|\uD83E[\uDD10-\uDDFF])/g;function zp(e){var t,n;let a=(t=e.innerText)!=null?t:"",r=e.cloneNode(!0);if(!(r instanceof HTMLElement))return a;let i=!1;for(let s of r.querySelectorAll('[hidden],[aria-hidden],[role="img"]'))s.remove(),i=!0;let o=i?(n=r.innerText)!=null?n:"":a;return Yp.test(o)&&(o=o.replace(Yp,"")),o}function w4(e){let t=e.getAttribute("aria-label");if(typeof t=="string")return t.trim();let n=e.getAttribute("aria-labelledby");if(n){let a=n.split(" ").map(r=>{let i=document.getElementById(r);if(i){let o=i.getAttribute("aria-label");return typeof o=="string"?o.trim():zp(i).trim()}return null}).filter(Boolean);if(a.length>0)return a.join(", ")}return zp(e).trim()}function k4(e){let t=g.useRef(""),n=g.useRef("");return K(()=>{let a=e.current;if(!a)return"";let r=a.innerText;if(t.current===r)return n.current;let i=w4(a).trim().toLowerCase();return t.current=r,n.current=i,i})}var T4=(e=>(e[e.Open=0]="Open",e[e.Closed=1]="Closed",e))(T4||{}),x4=(e=>(e[e.Single=0]="Single",e[e.Multi=1]="Multi",e))(x4||{}),E4=(e=>(e[e.Pointer=0]="Pointer",e[e.Other=1]="Other",e))(E4||{}),S4=(e=>(e[e.OpenListbox=0]="OpenListbox",e[e.CloseListbox=1]="CloseListbox",e[e.GoToOption=2]="GoToOption",e[e.Search=3]="Search",e[e.ClearSearch=4]="ClearSearch",e[e.RegisterOption=5]="RegisterOption",e[e.UnregisterOption=6]="UnregisterOption",e[e.RegisterLabel=7]="RegisterLabel",e))(S4||{});function pd(e,t=n=>n){let n=e.activeOptionIndex!==null?e.options[e.activeOptionIndex]:null,a=fr(t(e.options.slice()),i=>i.dataRef.current.domRef.current),r=n?a.indexOf(n):null;return r===-1&&(r=null),{options:a,activeOptionIndex:r}}let A4={1(e){return e.dataRef.current.disabled||e.listboxState===1?e:{...e,activeOptionIndex:null,listboxState:1}},0(e){if(e.dataRef.current.disabled||e.listboxState===0)return e;let t=e.activeOptionIndex,{isSelected:n}=e.dataRef.current,a=e.options.findIndex(r=>n(r.dataRef.current.value));return a!==-1&&(t=a),{...e,listboxState:0,activeOptionIndex:t}},2(e,t){var n;if(e.dataRef.current.disabled||e.listboxState===1)return e;let a=pd(e),r=yb(t,{resolveItems:()=>a.options,resolveActiveIndex:()=>a.activeOptionIndex,resolveId:i=>i.id,resolveDisabled:i=>i.dataRef.current.disabled});return{...e,...a,searchQuery:"",activeOptionIndex:r,activationTrigger:(n=t.trigger)!=null?n:1}},3:(e,t)=>{if(e.dataRef.current.disabled||e.listboxState===1)return e;let n=e.searchQuery!==""?0:1,a=e.searchQuery+t.value.toLowerCase(),r=(e.activeOptionIndex!==null?e.options.slice(e.activeOptionIndex+n).concat(e.options.slice(0,e.activeOptionIndex+n)):e.options).find(o=>{var s;return!o.dataRef.current.disabled&&((s=o.dataRef.current.textValue)==null?void 0:s.startsWith(a))}),i=r?e.options.indexOf(r):-1;return i===-1||i===e.activeOptionIndex?{...e,searchQuery:a}:{...e,searchQuery:a,activeOptionIndex:i,activationTrigger:1}},4(e){return e.dataRef.current.disabled||e.listboxState===1||e.searchQuery===""?e:{...e,searchQuery:""}},5:(e,t)=>{let n={id:t.id,dataRef:t.dataRef},a=pd(e,r=>[...r,n]);return e.activeOptionIndex===null&&e.dataRef.current.isSelected(t.dataRef.current.value)&&(a.activeOptionIndex=a.options.indexOf(n)),{...e,...a}},6:(e,t)=>{let n=pd(e,a=>{let r=a.findIndex(i=>i.id===t.id);return r!==-1&&a.splice(r,1),a});return{...e,...n,activationTrigger:1}},7:(e,t)=>({...e,labelId:t.id})},Sm=g.createContext(null);Sm.displayName="ListboxActionsContext";function nl(e){let t=g.useContext(Sm);if(t===null){let n=new Error(`<${e} /> is missing a parent <Listbox /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(n,nl),n}return t}let Am=g.createContext(null);Am.displayName="ListboxDataContext";function al(e){let t=g.useContext(Am);if(t===null){let n=new Error(`<${e} /> is missing a parent <Listbox /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(n,al),n}return t}function C4(e,t){return Ee(t.type,A4,e,t)}let N4=g.Fragment;function I4(e,t){let{value:n,defaultValue:a,form:r,name:i,onChange:o,by:s=(U,ae)=>U===ae,disabled:l=!1,horizontal:u=!1,multiple:d=!1,...f}=e;const m=u?"horizontal":"vertical";let p=je(t),[v=d?[]:void 0,k]=kb(n,o,a),[T,y]=g.useReducer(C4,{dataRef:g.createRef(),listboxState:1,options:[],searchQuery:"",labelId:null,activeOptionIndex:null,activationTrigger:1}),b=g.useRef({static:!1,hold:!1}),x=g.useRef(null),w=g.useRef(null),O=g.useRef(null),N=K(typeof s=="string"?(U,ae)=>{let ne=s;return(U==null?void 0:U[ne])===(ae==null?void 0:ae[ne])}:s),R=g.useCallback(U=>Ee(D.mode,{1:()=>v.some(ae=>N(ae,U)),0:()=>N(v,U)}),[v]),D=g.useMemo(()=>({...T,value:v,disabled:l,mode:d?1:0,orientation:m,compare:N,isSelected:R,optionsPropsRef:b,labelRef:x,buttonRef:w,optionsRef:O}),[v,l,d,T]);ze(()=>{T.dataRef.current=D},[D]),uc([D.buttonRef,D.optionsRef],(U,ae)=>{var ne;y({type:1}),hm(ae,lc.Loose)||(U.preventDefault(),(ne=D.buttonRef.current)==null||ne.focus())},D.listboxState===0);let P=g.useMemo(()=>({open:D.listboxState===0,disabled:l,value:v}),[D,l,v]),_=K(U=>{let ae=D.options.find(ne=>ne.id===U);ae&&te(ae.dataRef.current.value)}),S=K(()=>{if(D.activeOptionIndex!==null){let{dataRef:U,id:ae}=D.options[D.activeOptionIndex];te(U.current.value),y({type:2,focus:Xe.Specific,id:ae})}}),M=K(()=>y({type:0})),B=K(()=>y({type:1})),re=K((U,ae,ne)=>U===Xe.Specific?y({type:2,focus:Xe.Specific,id:ae,trigger:ne}):y({type:2,focus:U,trigger:ne})),Q=K((U,ae)=>(y({type:5,id:U,dataRef:ae}),()=>y({type:6,id:U}))),ee=K(U=>(y({type:7,id:U}),()=>y({type:7,id:null}))),te=K(U=>Ee(D.mode,{0(){return k==null?void 0:k(U)},1(){let ae=D.value.slice(),ne=ae.findIndex(Ne=>N(Ne,U));return ne===-1?ae.push(U):ae.splice(ne,1),k==null?void 0:k(ae)}})),W=K(U=>y({type:3,value:U})),V=K(()=>y({type:4})),I=g.useMemo(()=>({onChange:te,registerOption:Q,registerLabel:ee,goToOption:re,closeListbox:B,openListbox:M,selectActiveOption:S,selectOption:_,search:W,clearSearch:V}),[]),ce={ref:p},ue=g.useRef(null),A=Ea();return g.useEffect(()=>{ue.current&&a!==void 0&&A.addEventListener(ue.current,"reset",()=>{k==null||k(a)})},[ue,k]),oe.createElement(Sm.Provider,{value:I},oe.createElement(Am.Provider,{value:D},oe.createElement(Zs,{value:Ee(D.listboxState,{0:Ve.Open,1:Ve.Closed})},i!=null&&v!=null&&mm({[i]:v}).map(([U,ae],ne)=>oe.createElement(sa,{features:oa.Hidden,ref:ne===0?Ne=>{var Ke;ue.current=(Ke=Ne==null?void 0:Ne.closest("form"))!=null?Ke:null}:void 0,...Lu({key:U,as:"input",type:"hidden",hidden:!0,readOnly:!0,form:r,name:U,value:ae})})),Fe({ourProps:ce,theirProps:f,slot:P,defaultTag:N4,name:"Listbox"}))))}let _4="button";function R4(e,t){var n;let a=ht(),{id:r=`headlessui-listbox-button-${a}`,...i}=e,o=al("Listbox.Button"),s=nl("Listbox.Button"),l=je(o.buttonRef,t),u=Ea(),d=K(T=>{switch(T.key){case be.Space:case be.Enter:case be.ArrowDown:T.preventDefault(),s.openListbox(),u.nextFrame(()=>{o.value||s.goToOption(Xe.First)});break;case be.ArrowUp:T.preventDefault(),s.openListbox(),u.nextFrame(()=>{o.value||s.goToOption(Xe.Last)});break}}),f=K(T=>{switch(T.key){case be.Space:T.preventDefault();break}}),m=K(T=>{if(fo(T.currentTarget))return T.preventDefault();o.listboxState===0?(s.closeListbox(),u.nextFrame(()=>{var y;return(y=o.buttonRef.current)==null?void 0:y.focus({preventScroll:!0})})):(T.preventDefault(),s.openListbox())}),p=Qs(()=>{if(o.labelId)return[o.labelId,r].join(" ")},[o.labelId,r]),v=g.useMemo(()=>({open:o.listboxState===0,disabled:o.disabled,value:o.value}),[o]),k={ref:l,id:r,type:Js(e,o.buttonRef),"aria-haspopup":"listbox","aria-controls":(n=o.optionsRef.current)==null?void 0:n.id,"aria-expanded":o.listboxState===0,"aria-labelledby":p,disabled:o.disabled,onKeyDown:d,onKeyUp:f,onClick:m};return Fe({ourProps:k,theirProps:i,slot:v,defaultTag:_4,name:"Listbox.Button"})}let L4="label";function O4(e,t){let n=ht(),{id:a=`headlessui-listbox-label-${n}`,...r}=e,i=al("Listbox.Label"),o=nl("Listbox.Label"),s=je(i.labelRef,t);ze(()=>o.registerLabel(a),[a]);let l=K(()=>{var d;return(d=i.buttonRef.current)==null?void 0:d.focus({preventScroll:!0})}),u=g.useMemo(()=>({open:i.listboxState===0,disabled:i.disabled}),[i]);return Fe({ourProps:{ref:s,id:a,onClick:l},theirProps:r,slot:u,defaultTag:L4,name:"Listbox.Label"})}let D4="ul",P4=Xt.RenderStrategy|Xt.Static;function M4(e,t){var n;let a=ht(),{id:r=`headlessui-listbox-options-${a}`,...i}=e,o=al("Listbox.Options"),s=nl("Listbox.Options"),l=je(o.optionsRef,t),u=Ea(),d=Ea(),f=Rr(),m=f!==null?(f&Ve.Open)===Ve.Open:o.listboxState===0;g.useEffect(()=>{var y;let b=o.optionsRef.current;b&&o.listboxState===0&&b!==((y=hi(b))==null?void 0:y.activeElement)&&b.focus({preventScroll:!0})},[o.listboxState,o.optionsRef]);let p=K(y=>{switch(d.dispose(),y.key){case be.Space:if(o.searchQuery!=="")return y.preventDefault(),y.stopPropagation(),s.search(y.key);case be.Enter:if(y.preventDefault(),y.stopPropagation(),o.activeOptionIndex!==null){let{dataRef:b}=o.options[o.activeOptionIndex];s.onChange(b.current.value)}o.mode===0&&(s.closeListbox(),Hn().nextFrame(()=>{var b;return(b=o.buttonRef.current)==null?void 0:b.focus({preventScroll:!0})}));break;case Ee(o.orientation,{vertical:be.ArrowDown,horizontal:be.ArrowRight}):return y.preventDefault(),y.stopPropagation(),s.goToOption(Xe.Next);case Ee(o.orientation,{vertical:be.ArrowUp,horizontal:be.ArrowLeft}):return y.preventDefault(),y.stopPropagation(),s.goToOption(Xe.Previous);case be.Home:case be.PageUp:return y.preventDefault(),y.stopPropagation(),s.goToOption(Xe.First);case be.End:case be.PageDown:return y.preventDefault(),y.stopPropagation(),s.goToOption(Xe.Last);case be.Escape:return y.preventDefault(),y.stopPropagation(),s.closeListbox(),u.nextFrame(()=>{var b;return(b=o.buttonRef.current)==null?void 0:b.focus({preventScroll:!0})});case be.Tab:y.preventDefault(),y.stopPropagation();break;default:y.key.length===1&&(s.search(y.key),d.setTimeout(()=>s.clearSearch(),350));break}}),v=Qs(()=>{var y,b,x;return(x=(y=o.labelRef.current)==null?void 0:y.id)!=null?x:(b=o.buttonRef.current)==null?void 0:b.id},[o.labelRef.current,o.buttonRef.current]),k=g.useMemo(()=>({open:o.listboxState===0}),[o]),T={"aria-activedescendant":o.activeOptionIndex===null||(n=o.options[o.activeOptionIndex])==null?void 0:n.id,"aria-multiselectable":o.mode===1?!0:void 0,"aria-labelledby":v,"aria-orientation":o.orientation,id:r,onKeyDown:p,role:"listbox",tabIndex:0,ref:l};return Fe({ourProps:T,theirProps:i,slot:k,defaultTag:D4,features:P4,visible:m,name:"Listbox.Options"})}let F4="li";function j4(e,t){let n=ht(),{id:a=`headlessui-listbox-option-${n}`,disabled:r=!1,value:i,...o}=e,s=al("Listbox.Option"),l=nl("Listbox.Option"),u=s.activeOptionIndex!==null?s.options[s.activeOptionIndex].id===a:!1,d=s.isSelected(i),f=g.useRef(null),m=k4(f),p=Wt({disabled:r,value:i,domRef:f,get textValue(){return m()}}),v=je(t,f);ze(()=>{if(s.listboxState!==0||!u||s.activationTrigger===0)return;let N=Hn();return N.requestAnimationFrame(()=>{var R,D;(D=(R=f.current)==null?void 0:R.scrollIntoView)==null||D.call(R,{block:"nearest"})}),N.dispose},[f,u,s.listboxState,s.activationTrigger,s.activeOptionIndex]),ze(()=>l.registerOption(a,p),[p,a]);let k=K(N=>{if(r)return N.preventDefault();l.onChange(i),s.mode===0&&(l.closeListbox(),Hn().nextFrame(()=>{var R;return(R=s.buttonRef.current)==null?void 0:R.focus({preventScroll:!0})}))}),T=K(()=>{if(r)return l.goToOption(Xe.Nothing);l.goToOption(Xe.Specific,a)}),y=Tb(),b=K(N=>y.update(N)),x=K(N=>{y.wasMoved(N)&&(r||u||l.goToOption(Xe.Specific,a,0))}),w=K(N=>{y.wasMoved(N)&&(r||u&&l.goToOption(Xe.Nothing))}),O=g.useMemo(()=>({active:u,selected:d,disabled:r}),[u,d,r]);return Fe({ourProps:{id:a,ref:v,role:"option",tabIndex:r===!0?void 0:-1,"aria-disabled":r===!0?!0:void 0,"aria-selected":d,disabled:void 0,onClick:k,onFocus:T,onPointerEnter:b,onMouseEnter:b,onPointerMove:x,onMouseMove:x,onPointerLeave:w,onMouseLeave:w},theirProps:o,slot:O,defaultTag:F4,name:"Listbox.Option"})}let B4=De(I4),H4=De(R4),q4=De(O4),U4=De(M4),W4=De(j4),Ia=Object.assign(B4,{Button:H4,Label:q4,Options:U4,Option:W4});var Y4=(e=>(e[e.Open=0]="Open",e[e.Closed=1]="Closed",e))(Y4||{}),z4=(e=>(e[e.TogglePopover=0]="TogglePopover",e[e.ClosePopover=1]="ClosePopover",e[e.SetButton=2]="SetButton",e[e.SetButtonId=3]="SetButtonId",e[e.SetPanel=4]="SetPanel",e[e.SetPanelId=5]="SetPanelId",e))(z4||{});let $4={0:e=>{let t={...e,popoverState:Ee(e.popoverState,{0:1,1:0})};return t.popoverState===0&&(t.__demoMode=!1),t},1(e){return e.popoverState===1?e:{...e,popoverState:1}},2(e,t){return e.button===t.button?e:{...e,button:t.button}},3(e,t){return e.buttonId===t.buttonId?e:{...e,buttonId:t.buttonId}},4(e,t){return e.panel===t.panel?e:{...e,panel:t.panel}},5(e,t){return e.panelId===t.panelId?e:{...e,panelId:t.panelId}}},Cm=g.createContext(null);Cm.displayName="PopoverContext";function cc(e){let t=g.useContext(Cm);if(t===null){let n=new Error(`<${e} /> is missing a parent <Popover /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(n,cc),n}return t}let Nm=g.createContext(null);Nm.displayName="PopoverAPIContext";function Im(e){let t=g.useContext(Nm);if(t===null){let n=new Error(`<${e} /> is missing a parent <Popover /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(n,Im),n}return t}let _m=g.createContext(null);_m.displayName="PopoverGroupContext";function Pb(){return g.useContext(_m)}let dc=g.createContext(null);dc.displayName="PopoverPanelContext";function G4(){return g.useContext(dc)}function V4(e,t){return Ee(t.type,$4,e,t)}let K4="div";function Q4(e,t){var n;let{__demoMode:a=!1,...r}=e,i=g.useRef(null),o=je(t,fm(ee=>{i.current=ee})),s=g.useRef([]),l=g.useReducer(V4,{__demoMode:a,popoverState:a?0:1,buttons:s,button:null,buttonId:null,panel:null,panelId:null,beforePanelSentinel:g.createRef(),afterPanelSentinel:g.createRef()}),[{popoverState:u,button:d,buttonId:f,panel:m,panelId:p,beforePanelSentinel:v,afterPanelSentinel:k},T]=l,y=$a((n=i.current)!=null?n:d),b=g.useMemo(()=>{if(!d||!m)return!1;for(let ue of document.querySelectorAll("body > *"))if(Number(ue==null?void 0:ue.contains(d))^Number(ue==null?void 0:ue.contains(m)))return!0;let ee=sc(),te=ee.indexOf(d),W=(te+ee.length-1)%ee.length,V=(te+1)%ee.length,I=ee[W],ce=ee[V];return!m.contains(I)&&!m.contains(ce)},[d,m]),x=Wt(f),w=Wt(p),O=g.useMemo(()=>({buttonId:x,panelId:w,close:()=>T({type:1})}),[x,w,T]),N=Pb(),R=N==null?void 0:N.registerPopover,D=K(()=>{var ee;return(ee=N==null?void 0:N.isFocusWithinPopoverGroup())!=null?ee:(y==null?void 0:y.activeElement)&&((d==null?void 0:d.contains(y.activeElement))||(m==null?void 0:m.contains(y.activeElement)))});g.useEffect(()=>R==null?void 0:R(O),[R,O]);let[P,_]=_b(),S=Ob({mainTreeNodeRef:N==null?void 0:N.mainTreeNodeRef,portals:P,defaultContainers:[d,m]});vm(y==null?void 0:y.defaultView,"focus",ee=>{var te,W,V,I;ee.target!==window&&ee.target instanceof HTMLElement&&u===0&&(D()||d&&m&&(S.contains(ee.target)||(W=(te=v.current)==null?void 0:te.contains)!=null&&W.call(te,ee.target)||(I=(V=k.current)==null?void 0:V.contains)!=null&&I.call(V,ee.target)||T({type:1})))},!0),uc(S.resolveContainers,(ee,te)=>{T({type:1}),hm(te,lc.Loose)||(ee.preventDefault(),d==null||d.focus())},u===0);let M=K(ee=>{T({type:1});let te=ee?ee instanceof HTMLElement?ee:"current"in ee&&ee.current instanceof HTMLElement?ee.current:d:d;te==null||te.focus()}),B=g.useMemo(()=>({close:M,isPortalled:b}),[M,b]),re=g.useMemo(()=>({open:u===0,close:M}),[u,M]),Q={ref:o};return oe.createElement(dc.Provider,{value:null},oe.createElement(Cm.Provider,{value:l},oe.createElement(Nm.Provider,{value:B},oe.createElement(Zs,{value:Ee(u,{0:Ve.Open,1:Ve.Closed})},oe.createElement(_,null,Fe({ourProps:Q,theirProps:r,slot:re,defaultTag:K4,name:"Popover"}),oe.createElement(S.MainTreeNode,null))))))}let X4="button";function J4(e,t){let n=ht(),{id:a=`headlessui-popover-button-${n}`,...r}=e,[i,o]=cc("Popover.Button"),{isPortalled:s}=Im("Popover.Button"),l=g.useRef(null),u=`headlessui-focus-sentinel-${ht()}`,d=Pb(),f=d==null?void 0:d.closeOthers,m=G4()!==null;g.useEffect(()=>{if(!m)return o({type:3,buttonId:a}),()=>{o({type:3,buttonId:null})}},[m,a,o]);let[p]=g.useState(()=>Symbol()),v=je(l,t,m?null:S=>{if(S)i.buttons.current.push(p);else{let M=i.buttons.current.indexOf(p);M!==-1&&i.buttons.current.splice(M,1)}i.buttons.current.length>1&&console.warn("You are already using a <Popover.Button /> but only 1 <Popover.Button /> is supported."),S&&o({type:2,button:S})}),k=je(l,t),T=$a(l),y=K(S=>{var M,B,re;if(m){if(i.popoverState===1)return;switch(S.key){case be.Space:case be.Enter:S.preventDefault(),(B=(M=S.target).click)==null||B.call(M),o({type:1}),(re=i.button)==null||re.focus();break}}else switch(S.key){case be.Space:case be.Enter:S.preventDefault(),S.stopPropagation(),i.popoverState===1&&(f==null||f(i.buttonId)),o({type:0});break;case be.Escape:if(i.popoverState!==0)return f==null?void 0:f(i.buttonId);if(!l.current||T!=null&&T.activeElement&&!l.current.contains(T.activeElement))return;S.preventDefault(),S.stopPropagation(),o({type:1});break}}),b=K(S=>{m||S.key===be.Space&&S.preventDefault()}),x=K(S=>{var M,B;fo(S.currentTarget)||e.disabled||(m?(o({type:1}),(M=i.button)==null||M.focus()):(S.preventDefault(),S.stopPropagation(),i.popoverState===1&&(f==null||f(i.buttonId)),o({type:0}),(B=i.button)==null||B.focus()))}),w=K(S=>{S.preventDefault(),S.stopPropagation()}),O=i.popoverState===0,N=g.useMemo(()=>({open:O}),[O]),R=Js(e,l),D=m?{ref:k,type:R,onKeyDown:y,onClick:x}:{ref:v,id:i.buttonId,type:R,"aria-expanded":i.popoverState===0,"aria-controls":i.panel?i.panelId:void 0,onKeyDown:y,onKeyUp:b,onClick:x,onMouseDown:w},P=bm(),_=K(()=>{let S=i.panel;if(!S)return;function M(){Ee(P.current,{[Tn.Forwards]:()=>qt(S,ut.First),[Tn.Backwards]:()=>qt(S,ut.Last)})===Da.Error&&qt(sc().filter(B=>B.dataset.headlessuiFocusGuard!=="true"),Ee(P.current,{[Tn.Forwards]:ut.Next,[Tn.Backwards]:ut.Previous}),{relativeTo:i.button})}M()});return oe.createElement(oe.Fragment,null,Fe({ourProps:D,theirProps:r,slot:N,defaultTag:X4,name:"Popover.Button"}),O&&!m&&s&&oe.createElement(sa,{id:u,features:oa.Focusable,"data-headlessui-focus-guard":!0,as:"button",type:"button",onFocus:_}))}let Z4="div",e6=Xt.RenderStrategy|Xt.Static;function t6(e,t){let n=ht(),{id:a=`headlessui-popover-overlay-${n}`,...r}=e,[{popoverState:i},o]=cc("Popover.Overlay"),s=je(t),l=Rr(),u=l!==null?(l&Ve.Open)===Ve.Open:i===0,d=K(m=>{if(fo(m.currentTarget))return m.preventDefault();o({type:1})}),f=g.useMemo(()=>({open:i===0}),[i]);return Fe({ourProps:{ref:s,id:a,"aria-hidden":!0,onClick:d},theirProps:r,slot:f,defaultTag:Z4,features:e6,visible:u,name:"Popover.Overlay"})}let n6="div",a6=Xt.RenderStrategy|Xt.Static;function r6(e,t){let n=ht(),{id:a=`headlessui-popover-panel-${n}`,focus:r=!1,...i}=e,[o,s]=cc("Popover.Panel"),{close:l,isPortalled:u}=Im("Popover.Panel"),d=`headlessui-focus-sentinel-before-${ht()}`,f=`headlessui-focus-sentinel-after-${ht()}`,m=g.useRef(null),p=je(m,t,R=>{s({type:4,panel:R})}),v=$a(m);ze(()=>(s({type:5,panelId:a}),()=>{s({type:5,panelId:null})}),[a,s]);let k=Rr(),T=k!==null?(k&Ve.Open)===Ve.Open:o.popoverState===0,y=K(R=>{var D;switch(R.key){case be.Escape:if(o.popoverState!==0||!m.current||v!=null&&v.activeElement&&!m.current.contains(v.activeElement))return;R.preventDefault(),R.stopPropagation(),s({type:1}),(D=o.button)==null||D.focus();break}});g.useEffect(()=>{var R;e.static||o.popoverState===1&&((R=e.unmount)==null||R)&&s({type:4,panel:null})},[o.popoverState,e.unmount,e.static,s]),g.useEffect(()=>{if(o.__demoMode||!r||o.popoverState!==0||!m.current)return;let R=v==null?void 0:v.activeElement;m.current.contains(R)||qt(m.current,ut.First)},[o.__demoMode,r,m,o.popoverState]);let b=g.useMemo(()=>({open:o.popoverState===0,close:l}),[o,l]),x={ref:p,id:a,onKeyDown:y,onBlur:r&&o.popoverState===0?R=>{var D,P,_,S,M;let B=R.relatedTarget;B&&m.current&&((D=m.current)!=null&&D.contains(B)||(s({type:1}),((_=(P=o.beforePanelSentinel.current)==null?void 0:P.contains)!=null&&_.call(P,B)||(M=(S=o.afterPanelSentinel.current)==null?void 0:S.contains)!=null&&M.call(S,B))&&B.focus({preventScroll:!0})))}:void 0,tabIndex:-1},w=bm(),O=K(()=>{let R=m.current;if(!R)return;function D(){Ee(w.current,{[Tn.Forwards]:()=>{var P;qt(R,ut.First)===Da.Error&&((P=o.afterPanelSentinel.current)==null||P.focus())},[Tn.Backwards]:()=>{var P;(P=o.button)==null||P.focus({preventScroll:!0})}})}D()}),N=K(()=>{let R=m.current;if(!R)return;function D(){Ee(w.current,{[Tn.Forwards]:()=>{var P;if(!o.button)return;let _=sc(),S=_.indexOf(o.button),M=_.slice(0,S+1),B=[..._.slice(S+1),...M];for(let re of B.slice())if(re.dataset.headlessuiFocusGuard==="true"||(P=o.panel)!=null&&P.contains(re)){let Q=B.indexOf(re);Q!==-1&&B.splice(Q,1)}qt(B,ut.First,{sorted:!1})},[Tn.Backwards]:()=>{var P;qt(R,ut.Previous)===Da.Error&&((P=o.button)==null||P.focus())}})}D()});return oe.createElement(dc.Provider,{value:a},T&&u&&oe.createElement(sa,{id:d,ref:o.beforePanelSentinel,features:oa.Focusable,"data-headlessui-focus-guard":!0,as:"button",type:"button",onFocus:O}),Fe({ourProps:x,theirProps:i,slot:b,defaultTag:n6,features:a6,visible:T,name:"Popover.Panel"}),T&&u&&oe.createElement(sa,{id:f,ref:o.afterPanelSentinel,features:oa.Focusable,"data-headlessui-focus-guard":!0,as:"button",type:"button",onFocus:N}))}let i6="div";function o6(e,t){let n=g.useRef(null),a=je(n,t),[r,i]=g.useState([]),o=MA(),s=K(k=>{i(T=>{let y=T.indexOf(k);if(y!==-1){let b=T.slice();return b.splice(y,1),b}return T})}),l=K(k=>(i(T=>[...T,k]),()=>s(k))),u=K(()=>{var k;let T=hi(n);if(!T)return!1;let y=T.activeElement;return(k=n.current)!=null&&k.contains(y)?!0:r.some(b=>{var x,w;return((x=T.getElementById(b.buttonId.current))==null?void 0:x.contains(y))||((w=T.getElementById(b.panelId.current))==null?void 0:w.contains(y))})}),d=K(k=>{for(let T of r)T.buttonId.current!==k&&T.close()}),f=g.useMemo(()=>({registerPopover:l,unregisterPopover:s,isFocusWithinPopoverGroup:u,closeOthers:d,mainTreeNodeRef:o.mainTreeNodeRef}),[l,s,u,d,o.mainTreeNodeRef]),m=g.useMemo(()=>({}),[]),p=e,v={ref:a};return oe.createElement(_m.Provider,{value:f},Fe({ourProps:v,theirProps:p,slot:m,defaultTag:i6,name:"Popover.Group"}),oe.createElement(o.MainTreeNode,null))}let s6=De(Q4),l6=De(J4),u6=De(t6),c6=De(r6),d6=De(o6),gd=Object.assign(s6,{Button:l6,Overlay:u6,Panel:c6,Group:d6});function h6(e=0){let[t,n]=g.useState(e),a=po(),r=g.useCallback(l=>{a.current&&n(u=>u|l)},[t,a]),i=g.useCallback(l=>!!(t&l),[t]),o=g.useCallback(l=>{a.current&&n(u=>u&~l)},[n,a]),s=g.useCallback(l=>{a.current&&n(u=>u^l)},[n]);return{flags:t,addFlag:r,hasFlag:i,removeFlag:o,toggleFlag:s}}function f6({onFocus:e}){let[t,n]=g.useState(!0),a=po();return t?oe.createElement(sa,{as:"button",type:"button",features:oa.Focusable,onFocus:r=>{r.preventDefault();let i,o=50;function s(){if(o--<=0){i&&cancelAnimationFrame(i);return}if(e()){if(cancelAnimationFrame(i),!a.current)return;n(!1);return}i=requestAnimationFrame(s)}i=requestAnimationFrame(s)}}):null}const Mb=g.createContext(null);function m6(){return{groups:new Map,get(e,t){var n;let a=this.groups.get(e);a||(a=new Map,this.groups.set(e,a));let r=(n=a.get(t))!=null?n:0;a.set(t,r+1);let i=Array.from(a.keys()).indexOf(t);function o(){let s=a.get(t);s>1?a.set(t,s-1):a.delete(t)}return[i,o]}}}function p6({children:e}){let t=g.useRef(m6());return g.createElement(Mb.Provider,{value:t},e)}function Fb(e){let t=g.useContext(Mb);if(!t)throw new Error("You must wrap your component in a <StableCollection>");let n=g6(),[a,r]=t.current.get(e,n);return g.useEffect(()=>r,[]),a}function g6(){var e,t,n;let a=(n=(t=(e=g.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED)==null?void 0:e.ReactCurrentOwner)==null?void 0:t.current)!=null?n:null;if(!a)return Symbol();let r=[],i=a;for(;i;)r.push(i.index),i=i.return;return"$."+r.join(".")}var y6=(e=>(e[e.Forwards=0]="Forwards",e[e.Backwards=1]="Backwards",e))(y6||{}),b6=(e=>(e[e.Less=-1]="Less",e[e.Equal=0]="Equal",e[e.Greater=1]="Greater",e))(b6||{}),v6=(e=>(e[e.SetSelectedIndex=0]="SetSelectedIndex",e[e.RegisterTab=1]="RegisterTab",e[e.UnregisterTab=2]="UnregisterTab",e[e.RegisterPanel=3]="RegisterPanel",e[e.UnregisterPanel=4]="UnregisterPanel",e))(v6||{});let w6={0(e,t){var n;let a=fr(e.tabs,d=>d.current),r=fr(e.panels,d=>d.current),i=a.filter(d=>{var f;return!((f=d.current)!=null&&f.hasAttribute("disabled"))}),o={...e,tabs:a,panels:r};if(t.index<0||t.index>a.length-1){let d=Ee(Math.sign(t.index-e.selectedIndex),{[-1]:()=>1,0:()=>Ee(Math.sign(t.index),{[-1]:()=>0,0:()=>0,1:()=>1}),1:()=>0});if(i.length===0)return o;let f=Ee(d,{0:()=>a.indexOf(i[0]),1:()=>a.indexOf(i[i.length-1])});return{...o,selectedIndex:f===-1?e.selectedIndex:f}}let s=a.slice(0,t.index),l=[...a.slice(t.index),...s].find(d=>i.includes(d));if(!l)return o;let u=(n=a.indexOf(l))!=null?n:e.selectedIndex;return u===-1&&(u=e.selectedIndex),{...o,selectedIndex:u}},1(e,t){var n;if(e.tabs.includes(t.tab))return e;let a=e.tabs[e.selectedIndex],r=fr([...e.tabs,t.tab],o=>o.current),i=(n=r.indexOf(a))!=null?n:e.selectedIndex;return i===-1&&(i=e.selectedIndex),{...e,tabs:r,selectedIndex:i}},2(e,t){return{...e,tabs:e.tabs.filter(n=>n!==t.tab)}},3(e,t){return e.panels.includes(t.panel)?e:{...e,panels:fr([...e.panels,t.panel],n=>n.current)}},4(e,t){return{...e,panels:e.panels.filter(n=>n!==t.panel)}}},Rm=g.createContext(null);Rm.displayName="TabsDataContext";function to(e){let t=g.useContext(Rm);if(t===null){let n=new Error(`<${e} /> is missing a parent <Tab.Group /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(n,to),n}return t}let Lm=g.createContext(null);Lm.displayName="TabsActionsContext";function Om(e){let t=g.useContext(Lm);if(t===null){let n=new Error(`<${e} /> is missing a parent <Tab.Group /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(n,Om),n}return t}function k6(e,t){return Ee(t.type,w6,e,t)}let T6=g.Fragment;function x6(e,t){let{defaultIndex:n=0,vertical:a=!1,manual:r=!1,onChange:i,selectedIndex:o=null,...s}=e;const l=a?"vertical":"horizontal",u=r?"manual":"auto";let d=o!==null,f=je(t),[m,p]=g.useReducer(k6,{selectedIndex:o??n,tabs:[],panels:[]}),v=g.useMemo(()=>({selectedIndex:m.selectedIndex}),[m.selectedIndex]),k=Wt(i||(()=>{})),T=Wt(m.tabs),y=g.useMemo(()=>({orientation:l,activation:u,...m}),[l,u,m]),b=K(D=>(p({type:1,tab:D}),()=>p({type:2,tab:D}))),x=K(D=>(p({type:3,panel:D}),()=>p({type:4,panel:D}))),w=K(D=>{O.current!==D&&k.current(D),d||p({type:0,index:D})}),O=Wt(d?e.selectedIndex:m.selectedIndex),N=g.useMemo(()=>({registerTab:b,registerPanel:x,change:w}),[]);ze(()=>{p({type:0,index:o??n})},[o]),ze(()=>{if(O.current===void 0||m.tabs.length<=0)return;let D=fr(m.tabs,P=>P.current);D.some((P,_)=>m.tabs[_]!==P)&&w(D.indexOf(m.tabs[O.current]))});let R={ref:f};return oe.createElement(p6,null,oe.createElement(Lm.Provider,{value:N},oe.createElement(Rm.Provider,{value:y},y.tabs.length<=0&&oe.createElement(f6,{onFocus:()=>{var D,P;for(let _ of T.current)if(((D=_.current)==null?void 0:D.tabIndex)===0)return(P=_.current)==null||P.focus(),!0;return!1}}),Fe({ourProps:R,theirProps:s,slot:v,defaultTag:T6,name:"Tabs"}))))}let E6="div";function S6(e,t){let{orientation:n,selectedIndex:a}=to("Tab.List"),r=je(t);return Fe({ourProps:{ref:r,role:"tablist","aria-orientation":n},theirProps:e,slot:{selectedIndex:a},defaultTag:E6,name:"Tabs.List"})}let A6="button";function C6(e,t){var n,a;let r=ht(),{id:i=`headlessui-tabs-tab-${r}`,...o}=e,{orientation:s,activation:l,selectedIndex:u,tabs:d,panels:f}=to("Tab"),m=Om("Tab"),p=to("Tab"),v=g.useRef(null),k=je(v,t);ze(()=>m.registerTab(v),[m,v]);let T=Fb("tabs"),y=d.indexOf(v);y===-1&&(y=T);let b=y===u,x=K(_=>{var S;let M=_();if(M===Da.Success&&l==="auto"){let B=(S=hi(v))==null?void 0:S.activeElement,re=p.tabs.findIndex(Q=>Q.current===B);re!==-1&&m.change(re)}return M}),w=K(_=>{let S=d.map(M=>M.current).filter(Boolean);if(_.key===be.Space||_.key===be.Enter){_.preventDefault(),_.stopPropagation(),m.change(y);return}switch(_.key){case be.Home:case be.PageUp:return _.preventDefault(),_.stopPropagation(),x(()=>qt(S,ut.First));case be.End:case be.PageDown:return _.preventDefault(),_.stopPropagation(),x(()=>qt(S,ut.Last))}if(x(()=>Ee(s,{vertical(){return _.key===be.ArrowUp?qt(S,ut.Previous|ut.WrapAround):_.key===be.ArrowDown?qt(S,ut.Next|ut.WrapAround):Da.Error},horizontal(){return _.key===be.ArrowLeft?qt(S,ut.Previous|ut.WrapAround):_.key===be.ArrowRight?qt(S,ut.Next|ut.WrapAround):Da.Error}}))===Da.Success)return _.preventDefault()}),O=g.useRef(!1),N=K(()=>{var _;O.current||(O.current=!0,(_=v.current)==null||_.focus({preventScroll:!0}),m.change(y),Xs(()=>{O.current=!1}))}),R=K(_=>{_.preventDefault()}),D=g.useMemo(()=>({selected:b}),[b]),P={ref:k,onKeyDown:w,onMouseDown:R,onClick:N,id:i,role:"tab",type:Js(e,v),"aria-controls":(a=(n=f[y])==null?void 0:n.current)==null?void 0:a.id,"aria-selected":b,tabIndex:b?0:-1};return Fe({ourProps:P,theirProps:o,slot:D,defaultTag:A6,name:"Tabs.Tab"})}let N6="div";function I6(e,t){let{selectedIndex:n}=to("Tab.Panels"),a=je(t),r=g.useMemo(()=>({selectedIndex:n}),[n]);return Fe({ourProps:{ref:a},theirProps:e,slot:r,defaultTag:N6,name:"Tabs.Panels"})}let _6="div",R6=Xt.RenderStrategy|Xt.Static;function L6(e,t){var n,a,r,i;let o=ht(),{id:s=`headlessui-tabs-panel-${o}`,tabIndex:l=0,...u}=e,{selectedIndex:d,tabs:f,panels:m}=to("Tab.Panel"),p=Om("Tab.Panel"),v=g.useRef(null),k=je(v,t);ze(()=>p.registerPanel(v),[p,v]);let T=Fb("panels"),y=m.indexOf(v);y===-1&&(y=T);let b=y===d,x=g.useMemo(()=>({selected:b}),[b]),w={ref:k,id:s,role:"tabpanel","aria-labelledby":(a=(n=f[y])==null?void 0:n.current)==null?void 0:a.id,tabIndex:b?l:-1};return!b&&((r=u.unmount)==null||r)&&!((i=u.static)!=null&&i)?oe.createElement(sa,{as:"span",...w}):Fe({ourProps:w,theirProps:u,slot:x,defaultTag:_6,features:R6,visible:b,name:"Tabs.Panel"})}let O6=De(C6),D6=De(x6),P6=De(S6),M6=De(I6),F6=De(L6),pe=Object.assign(O6,{Group:D6,List:P6,Panels:M6,Panel:F6});function j6(e){let t={called:!1};return(...n)=>{if(!t.called)return t.called=!0,e(...n)}}function yd(e,...t){e&&t.length>0&&e.classList.add(...t)}function bd(e,...t){e&&t.length>0&&e.classList.remove(...t)}function B6(e,t){let n=Hn();if(!e)return n.dispose;let{transitionDuration:a,transitionDelay:r}=getComputedStyle(e),[i,o]=[a,r].map(l=>{let[u=0]=l.split(",").filter(Boolean).map(d=>d.includes("ms")?parseFloat(d):parseFloat(d)*1e3).sort((d,f)=>f-d);return u}),s=i+o;if(s!==0){n.group(u=>{u.setTimeout(()=>{t(),u.dispose()},s),u.addEventListener(e,"transitionrun",d=>{d.target===d.currentTarget&&u.dispose()})});let l=n.addEventListener(e,"transitionend",u=>{u.target===u.currentTarget&&(t(),l())})}else t();return n.add(()=>t()),n.dispose}function H6(e,t,n,a){let r=n?"enter":"leave",i=Hn(),o=a!==void 0?j6(a):()=>{};r==="enter"&&(e.removeAttribute("hidden"),e.style.display="");let s=Ee(r,{enter:()=>t.enter,leave:()=>t.leave}),l=Ee(r,{enter:()=>t.enterTo,leave:()=>t.leaveTo}),u=Ee(r,{enter:()=>t.enterFrom,leave:()=>t.leaveFrom});return bd(e,...t.base,...t.enter,...t.enterTo,...t.enterFrom,...t.leave,...t.leaveFrom,...t.leaveTo,...t.entered),yd(e,...t.base,...s,...u),i.nextFrame(()=>{bd(e,...t.base,...s,...u),yd(e,...t.base,...s,...l),B6(e,()=>(bd(e,...t.base,...s),yd(e,...t.base,...t.entered),o()))}),i.dispose}function q6({immediate:e,container:t,direction:n,classes:a,onStart:r,onStop:i}){let o=po(),s=Ea(),l=Wt(n);ze(()=>{e&&(l.current="enter")},[e]),ze(()=>{let u=Hn();s.add(u.dispose);let d=t.current;if(d&&l.current!=="idle"&&o.current)return u.dispose(),r.current(l.current),u.add(H6(d,a.current,l.current==="enter",()=>{u.dispose(),i.current(l.current)})),u.dispose},[n])}function er(e=""){return e.split(" ").filter(t=>t.trim().length>1)}let hc=g.createContext(null);hc.displayName="TransitionContext";var U6=(e=>(e.Visible="visible",e.Hidden="hidden",e))(U6||{});function W6(){let e=g.useContext(hc);if(e===null)throw new Error("A <Transition.Child /> is used but it is missing a parent <Transition /> or <Transition.Root />.");return e}function Y6(){let e=g.useContext(fc);if(e===null)throw new Error("A <Transition.Child /> is used but it is missing a parent <Transition /> or <Transition.Root />.");return e}let fc=g.createContext(null);fc.displayName="NestingContext";function mc(e){return"children"in e?mc(e.children):e.current.filter(({el:t})=>t.current!==null).filter(({state:t})=>t==="visible").length>0}function jb(e,t){let n=Wt(e),a=g.useRef([]),r=po(),i=Ea(),o=K((p,v=mr.Hidden)=>{let k=a.current.findIndex(({el:T})=>T===p);k!==-1&&(Ee(v,{[mr.Unmount](){a.current.splice(k,1)},[mr.Hidden](){a.current[k].state="hidden"}}),i.microTask(()=>{var T;!mc(a)&&r.current&&((T=n.current)==null||T.call(n))}))}),s=K(p=>{let v=a.current.find(({el:k})=>k===p);return v?v.state!=="visible"&&(v.state="visible"):a.current.push({el:p,state:"visible"}),()=>o(p,mr.Unmount)}),l=g.useRef([]),u=g.useRef(Promise.resolve()),d=g.useRef({enter:[],leave:[],idle:[]}),f=K((p,v,k)=>{l.current.splice(0),t&&(t.chains.current[v]=t.chains.current[v].filter(([T])=>T!==p)),t==null||t.chains.current[v].push([p,new Promise(T=>{l.current.push(T)})]),t==null||t.chains.current[v].push([p,new Promise(T=>{Promise.all(d.current[v].map(([y,b])=>b)).then(()=>T())})]),v==="enter"?u.current=u.current.then(()=>t==null?void 0:t.wait.current).then(()=>k(v)):k(v)}),m=K((p,v,k)=>{Promise.all(d.current[v].splice(0).map(([T,y])=>y)).then(()=>{var T;(T=l.current.shift())==null||T()}).then(()=>k(v))});return g.useMemo(()=>({children:a,register:s,unregister:o,onStart:f,onStop:m,wait:u,chains:d}),[s,o,a,f,m,d,u])}function z6(){}let $6=["beforeEnter","afterEnter","beforeLeave","afterLeave"];function $p(e){var t;let n={};for(let a of $6)n[a]=(t=e[a])!=null?t:z6;return n}function G6(e){let t=g.useRef($p(e));return g.useEffect(()=>{t.current=$p(e)},[e]),t}let V6="div",Bb=Xt.RenderStrategy;function K6(e,t){var n,a;let{beforeEnter:r,afterEnter:i,beforeLeave:o,afterLeave:s,enter:l,enterFrom:u,enterTo:d,entered:f,leave:m,leaveFrom:p,leaveTo:v,...k}=e,T=g.useRef(null),y=je(T,t),b=(n=k.unmount)==null||n?mr.Unmount:mr.Hidden,{show:x,appear:w,initial:O}=W6(),[N,R]=g.useState(x?"visible":"hidden"),D=Y6(),{register:P,unregister:_}=D;g.useEffect(()=>P(T),[P,T]),g.useEffect(()=>{if(b===mr.Hidden&&T.current){if(x&&N!=="visible"){R("visible");return}return Ee(N,{hidden:()=>_(T),visible:()=>P(T)})}},[N,T,P,_,x,b]);let S=Wt({base:er(k.className),enter:er(l),enterFrom:er(u),enterTo:er(d),entered:er(f),leave:er(m),leaveFrom:er(p),leaveTo:er(v)}),M=G6({beforeEnter:r,afterEnter:i,beforeLeave:o,afterLeave:s}),B=ho();g.useEffect(()=>{if(B&&N==="visible"&&T.current===null)throw new Error("Did you forget to passthrough the `ref` to the actual DOM node?")},[T,N,B]);let re=O&&!w,Q=w&&x&&O,ee=!B||re?"idle":x?"enter":"leave",te=h6(0),W=K(A=>Ee(A,{enter:()=>{te.addFlag(Ve.Opening),M.current.beforeEnter()},leave:()=>{te.addFlag(Ve.Closing),M.current.beforeLeave()},idle:()=>{}})),V=K(A=>Ee(A,{enter:()=>{te.removeFlag(Ve.Opening),M.current.afterEnter()},leave:()=>{te.removeFlag(Ve.Closing),M.current.afterLeave()},idle:()=>{}})),I=jb(()=>{R("hidden"),_(T)},D);q6({immediate:Q,container:T,classes:S,direction:ee,onStart:Wt(A=>{I.onStart(T,A,W)}),onStop:Wt(A=>{I.onStop(T,A,V),A==="leave"&&!mc(I)&&(R("hidden"),_(T))})});let ce=k,ue={ref:y};return Q?ce={...ce,className:Ru(k.className,...S.current.enter,...S.current.enterFrom)}:(ce.className=Ru(k.className,(a=T.current)==null?void 0:a.className),ce.className===""&&delete ce.className),oe.createElement(fc.Provider,{value:I},oe.createElement(Zs,{value:Ee(N,{visible:Ve.Open,hidden:Ve.Closed})|te.flags},Fe({ourProps:ue,theirProps:ce,defaultTag:V6,features:Bb,visible:N==="visible",name:"Transition.Child"})))}function Q6(e,t){let{show:n,appear:a=!1,unmount:r=!0,...i}=e,o=g.useRef(null),s=je(o,t);ho();let l=Rr();if(n===void 0&&l!==null&&(n=(l&Ve.Open)===Ve.Open),![!0,!1].includes(n))throw new Error("A <Transition /> is used but it is missing a `show={true | false}` prop.");let[u,d]=g.useState(n?"visible":"hidden"),f=jb(()=>{d("hidden")}),[m,p]=g.useState(!0),v=g.useRef([n]);ze(()=>{m!==!1&&v.current[v.current.length-1]!==n&&(v.current.push(n),p(!1))},[v,n]);let k=g.useMemo(()=>({show:n,appear:a,initial:m}),[n,a,m]);g.useEffect(()=>{if(n)d("visible");else if(!mc(f))d("hidden");else{let x=o.current;if(!x)return;let w=x.getBoundingClientRect();w.x===0&&w.y===0&&w.width===0&&w.height===0&&d("hidden")}},[n,f]);let T={unmount:r},y=K(()=>{var x;m&&p(!1),(x=e.beforeEnter)==null||x.call(e)}),b=K(()=>{var x;m&&p(!1),(x=e.beforeLeave)==null||x.call(e)});return oe.createElement(fc.Provider,{value:f},oe.createElement(hc.Provider,{value:k},Fe({ourProps:{...T,as:g.Fragment,children:oe.createElement(Hb,{ref:s,...T,...i,beforeEnter:y,beforeLeave:b})},theirProps:{},defaultTag:g.Fragment,features:Bb,visible:u==="visible",name:"Transition"})))}function X6(e,t){let n=g.useContext(hc)!==null,a=Rr()!==null;return oe.createElement(oe.Fragment,null,!n&&a?oe.createElement(Wh,{ref:t,...e}):oe.createElement(Hb,{ref:t,...e}))}let Wh=De(Q6),Hb=De(K6),J6=De(X6),aa=Object.assign(Wh,{Child:J6,Root:Wh});function Z6({title:e,titleId:t,...n},a){return g.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true",ref:a,"aria-labelledby":t},n),e?g.createElement("title",{id:t},e):null,g.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3.75 6.75h16.5M3.75 12h16.5m-16.5 5.25h16.5"}))}const eC=g.forwardRef(Z6),tC=eC;function nC({title:e,titleId:t,...n},a){return g.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true",ref:a,"aria-labelledby":t},n),e?g.createElement("title",{id:t},e):null,g.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18L18 6M6 6l12 12"}))}const aC=g.forwardRef(nC),rC=aC,iC="data:image/svg+xml,%3csvg%20width='800px'%20height='800px'%20viewBox='0%20-28.5%20256%20256'%20version='1.1'%20xmlns='http://www.w3.org/2000/svg'%20xmlns:xlink='http://www.w3.org/1999/xlink'%20preserveAspectRatio='xMidYMid'%3e%3cg%3e%3cpath%20d='M216.856339,16.5966031%20C200.285002,8.84328665%20182.566144,3.2084988%20164.041564,0%20C161.766523,4.11318106%20159.108624,9.64549908%20157.276099,14.0464379%20C137.583995,11.0849896%20118.072967,11.0849896%2098.7430163,14.0464379%20C96.9108417,9.64549908%2094.1925838,4.11318106%2091.8971895,0%20C73.3526068,3.2084988%2055.6133949,8.86399117%2039.0420583,16.6376612%20C5.61752293,67.146514%20-3.4433191,116.400813%201.08711069,164.955721%20C23.2560196,181.510915%2044.7403634,191.567697%2065.8621325,198.148576%20C71.0772151,190.971126%2075.7283628,183.341335%2079.7352139,175.300261%20C72.104019,172.400575%2064.7949724,168.822202%2057.8887866,164.667963%20C59.7209612,163.310589%2061.5131304,161.891452%2063.2445898,160.431257%20C105.36741,180.133187%20151.134928,180.133187%20192.754523,160.431257%20C194.506336,161.891452%20196.298154,163.310589%20198.110326,164.667963%20C191.183787,168.842556%20183.854737,172.420929%20176.223542,175.320965%20C180.230393,183.341335%20184.861538,190.991831%20190.096624,198.16893%20C211.238746,191.588051%20232.743023,181.531619%20254.911949,164.955721%20C260.227747,108.668201%20245.831087,59.8662432%20216.856339,16.5966031%20Z%20M85.4738752,135.09489%20C72.8290281,135.09489%2062.4592217,123.290155%2062.4592217,108.914901%20C62.4592217,94.5396472%2072.607595,82.7145587%2085.4738752,82.7145587%20C98.3405064,82.7145587%20108.709962,94.5189427%20108.488529,108.914901%20C108.508531,123.290155%2098.3405064,135.09489%2085.4738752,135.09489%20Z%20M170.525237,135.09489%20C157.88039,135.09489%20147.510584,123.290155%20147.510584,108.914901%20C147.510584,94.5396472%20157.658606,82.7145587%20170.525237,82.7145587%20C183.391518,82.7145587%20193.761324,94.5189427%20193.539891,108.914901%20C193.539891,123.290155%20183.391518,135.09489%20170.525237,135.09489%20Z'%20fill='%23fbf8f0'%20fill-rule='nonzero'%3e%3c/path%3e%3c/g%3e%3c/svg%3e",oC="data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20fill='none'%20viewBox='0%200%2024%2024'%20strokeWidth={1.5}%20stroke='currentColor'%20className='w-6%20h-6%20animate-spin'%20%3e%3cpath%20strokeLinecap='round'%20strokeLinejoin='round'%20d='M16.023%209.348h4.992v-.001M2.985%2019.644v-4.992m0%200h4.992m-4.993%200l3.181%203.183a8.25%208.25%200%200013.803-3.7M4.031%209.865a8.25%208.25%200%200113.803-3.7l3.181%203.182m0-4.991v4.99'%20/%3e%3c/svg%3e",sC=c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-6 h-6",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 9V5.25A2.25 2.25 0 0013.5 3h-6a2.25 2.25 0 00-2.25 2.25v13.5A2.25 2.25 0 007.5 21h6a2.25 2.25 0 002.25-2.25V15M12 9l-3 3m0 0l3 3m-3-3h12.75"})}),lC=c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-6 h-6",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 6a3.75 3.75 0 11-7.5 0 3.75 3.75 0 017.5 0zM4.501 20.118a7.5 7.5 0 0114.998 0A17.933 17.933 0 0112 21.75c-2.676 0-5.216-.584-7.499-1.632z"})}),uC=c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-6 h-6",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M11.42 15.17 17.25 21A2.652 2.652 0 0 0 21 17.25l-5.877-5.877M11.42 15.17l2.496-3.03c.317-.384.74-.626 1.208-.766M11.42 15.17l-4.655 5.653a2.548 2.548 0 1 1-3.586-3.586l6.837-5.63m5.108-.233c.55-.164 1.163-.188 1.743-.14a4.5 4.5 0 0 0 4.486-6.336l-3.276 3.277a3.004 3.004 0 0 1-2.25-2.25l3.276-3.276a4.5 4.5 0 0 0-6.336 4.486c.091 1.076-.071 2.264-.904 2.95l-.102.085m-1.745 1.437L5.909 7.5H4.5L2.25 3.75l1.5-1.5L7.5 4.5v1.409l4.26 4.26m-1.745 1.437 1.745-1.437m6.615 8.206L15.75 15.75M4.867 19.125h.008v.008h-.008v-.008Z"})});function Gp(){const[e,t]=g.useState(""),{auth:n,authLoading:a}=g.useContext(dm),{UsersService:r}=di(),i=sm();g.useEffect(()=>{async function l(){const u=await r.login();t(u.url)}l()},[r]);function o(){const l=window.location.pathname;window.localStorage.setItem("loginCallbackDestination",l),window.location.href=e}function s(){async function l(){await r.logout(),i("/",{replace:!0})}l()}return c.jsx(c.Fragment,{children:c.jsx(gd,{className:"h-12 w-40 px-4 rounded-full bg-blurple cursor-pointer ",children:n.isAuthenticated?c.jsxs(c.Fragment,{children:[c.jsxs(gd.Button,{className:"h-full w-full rounded-full grid grid-cols-3 items-center overflow-hidden",children:[c.jsx("img",{className:"h-10 w-10 flex-none rounded-full bg-light",src:n.avatarUrl,alt:"user's discord avatar"}),c.jsx("span",{className:"text-lg col-span-2",children:n.username})]}),c.jsx(aa,{as:g.Fragment,enter:"transition ease-out duration-200",enterFrom:"opacity-0 translate-y-1",enterTo:"opacity-100 translate-y-0",leave:"transition ease-in duration-150",leaveFrom:"opacity-100 translate-y-0",leaveTo:"opacity-0 translate-y-1",children:c.jsx(gd.Panel,{className:"relative z-10 mt-3 right-3 px-2 w-40 h-20 rounded-lg bg-light-100 dark:bg-dark-100",children:c.jsxs("div",{className:"grid h-20 content-evenly grid-cols-1",children:[n.admin&&c.jsx(c.Fragment,{children:c.jsx(hn,{to:"/update-db",replace:!0,className:"h-8 w-full",children:c.jsx(G,{leftIcon:uC,variant:"soul",className:"h-8 rounded-lg",children:"Tools"})})}),c.jsx(G,{leftIcon:sC,variant:"body",className:"h-8 rounded-lg",children:"Profile"}),c.jsx(G,{leftIcon:lC,variant:"mind",className:"h-8 rounded-lg",onClick:s,children:"Log out"})]})})})]}):c.jsx(c.Fragment,{children:c.jsx("button",{onClick:o,className:"h-full w-full grid grid-cols-3 items-center overflow-hidden ",children:a?c.jsxs(c.Fragment,{children:[c.jsx("img",{className:"h-10 w-10 flex-none",src:oC,alt:"loading spinner"}),c.jsx("span",{className:"text-lg col-span-2 text-light",children:"Loading..."})]}):c.jsxs(c.Fragment,{children:[c.jsx("img",{className:"h-10 w-10 flex-none",src:iC,alt:"user's discord avatar"}),c.jsx("span",{className:"text-lg col-span-2 text-light hover:opacity-70",children:"Login"})]})})})})})}const Vp="data:image/svg+xml,%3csvg%20style='height:%20512px;%20width:%20512px;'%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%20512%20512'%3e%3cg%20class=''%20style=''%20transform='translate(0,0)'%3e%3cpath%20d='m433%20344.6-16.6-5C399.1%20394%20357.8%20436%20303.7%20445c-82.1%2014-161.3-51.8-177.6-146.4-16.2-94.6%2036.5-183.3%20118.6-197.4%2054-9.3%20107%2016.4%20141.4%2061.9l14.3-10.3c-41-59.4-107.4-93-174.9-81.4C128.1%2088.1%2064%20192.9%2083.4%20305.9%20102.8%20419%20198.2%20496%20295.5%20480c67.5-12%20119-66%20137.5-135.4zm-58.6-1.2c-18.7%206.7-35.9%2010.9-49%2013.5-2.1%205.4-4.6%2010.3-7.4%2014.7-8.5%2013.2-19.7%2021.9-33.2%2022.8-10.1.7-20.2-3-29.5-9.8l-11.2%2013.6c17.8%2016.8%2038.2%2025.8%2058.5%2023.8%2021.5-1%2040-14%2053.5-34.1%208-12.2%2014.3-27.3%2018.3-44.5zm-304.6-21c-4.5%203.2-8%206.2-10.4%209-5.3%206.1-6.6%2012.1-5.4%2017%201%204.4%204%208.5%209.7%2011.5%204.3%202.2%2010.6%204%2018.7%205-5.7-13.8-9.8-28.1-12.6-42.5zm97%2012.4c3.7%209.2%207.8%2017.5%2011.9%2024.8%2028-4.1%2059.4-10.2%2092.2-18C348.7%20323%20414.3%20299.1%20445%20280c9-5.7%2016-11.1%2019-15.9%204-5.2%205-10.2%204-14.6-2-4.9-6-9.7-13-12.8-10-4.2-30-5.8-57.1-4.3l.6%2017.6c11.2-.1%2020.4.5%2026.5%202%202%20.4%204%201%205%201.5%200%20.2%200%20.3-1%20.4-2%202.7-6%205.6-10.8%208.7-27.2%2016.8-85%2037.5-153.3%2053.8-35.8%208.6-69.5%2014.8-98.1%2018.4zm54.4-49.1c-35-13.5-51.6-45.7-51.6-45.7%2030.5-21.6%2057.1-26.1%2079.2-17.9%2022.1%208.2%2039.7%2029%2052.2%2058.1-13.2%205.9-25.3%209.3-36.4%2010.6%203.4-8.5%203.3-20-.9-31.5-7.2-19.1-23.5-30.7-36.4-25.9-12.9%204.8-17.6%2024.3-10.4%2043.4%201.2%203.2%202.6%206.2%204.3%208.9zm111.4-15.1%2043.1-14.9c-7.9-44.1-27.1-81.9-50.9-105.3-18.4-18-39.6-27.6-60.7-26.1-33.9%202.3-60.8%2032.8-71.6%2078l22-5.9c8.7-18.7%2021.8-31.1%2038.4-32.2%2013.9-1%2027.5%206.2%2039.6%2018.4%2019.2%2019.3%2034.3%2051.2%2040.1%2088zm28-188.6s26.6-6.1-1-49l119.4-.7S466%2070.6%20426%2063c70%2014.9%2012%2045-23.4%2015%2042.4%2047.1-5.2%2044.6-42%204zm-219.2%200s-26.6-6.1%201-49l-119.5-.7S36.1%2070.6%2076.4%2063c-70.8%2014.9-12%2045%2023%2015-42.7%2047.1%205.2%2044.6%2042%204z'%20fill='%23ffffff'%20fill-opacity='1'%3e%3c/path%3e%3c/g%3e%3c/svg%3e",Kp=[{name:"Home",href:"/",color:"dark:hover:text-body-700 dark:text-body-600 hover:underline"},{name:"Rulebook",href:"rulebook",color:"dark:hover:text-soul-700 dark:text-soul-600 hover:underline"},{name:"Character Sheet",href:"character-sheet",color:"dark:hover:text-mind-700 dark:text-mind-600 hover:underline"}];function Qp(...e){return e.filter(Boolean).join(" ")}function cC(){const[e,t]=g.useState(!1);return c.jsxs("header",{className:"header-bg-gradient dark:bg-dark-600",children:[c.jsxs("nav",{className:"mx-auto flex max-w-7xl items-center justify-between md:justify-start md:gap-x-12 px-8 py-4 md-px-8","aria-label":"Global",children:[c.jsx("div",{className:"flex ",children:c.jsxs("a",{href:"/rpg-hell-frontend",className:"-m-1.5 p-1.5",children:[c.jsx("span",{className:"sr-only",children:"RPG Hell"}),c.jsx("img",{className:"h-12 w-auto",src:Vp,alt:"temporary logo"})]})}),c.jsx("div",{className:"flex md:hidden",children:c.jsxs("button",{type:"button",className:"-m-2.5 inline-flex items-center justify-center rounded-md p-2.5 text-gray-700",onClick:()=>t(!0),children:[c.jsx("span",{className:"sr-only",children:"Open main menu"}),c.jsx(tC,{className:"h-6 w-6","aria-hidden":"true"})]})}),c.jsx("div",{className:"hidden md:flex md:gap-x-12",children:Kp.map((n,a)=>c.jsx(hn,{to:n.href,children:c.jsx("span",{className:Qp(n.color,"text-gray-300 hover:text-gray-300 text-lg"),children:n.name})},a))}),c.jsx("div",{className:"hidden md:flex md:flex-1 md:justify-end",children:c.jsx(Gp,{})})]}),c.jsxs(na,{as:"div",className:"md:hidden",open:e,onClose:t,children:[c.jsx("div",{className:"fixed inset-0 z-10"}),c.jsxs(na.Panel,{className:"bg-body-900 dark:bg-dark fixed inset-y-0 right-0 z-10 w-full overflow-y-auto bg-dark-900 px-6 py-6 sm:max-w-sm sm:ring-1 sm:ring-gray-900/10",children:[c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("a",{href:"/rpg-hell-frontend",className:"-m-1.5 p-1.5",children:[c.jsx("span",{className:"sr-only",children:"Your Company"}),c.jsx("img",{className:"h-12 w-auto",src:Vp,alt:"temporary logo"})]}),c.jsxs("button",{type:"button",className:"-m-2.5 rounded-md p-2.5 text-gray-700",onClick:()=>t(!1),children:[c.jsx("span",{className:"sr-only",children:"Close menu"}),c.jsx(rC,{className:"h-6 w-6","aria-hidden":"true"})]})]}),c.jsx("div",{className:"mt-6 flow-root",children:c.jsxs("div",{className:"-my-6 divide-y divide-gray-500/10",children:[c.jsx("div",{className:"space-y-2 py-6",children:Kp.map((n,a)=>c.jsx(hn,{to:n.href,children:c.jsx("span",{className:Qp(n.color,"-mx-3 block rounded-lg px-3 py-2 text-base font-semibold leading-7 hover:bg-gray-50"),children:n.name})},a))}),c.jsx("div",{className:"py-6",children:c.jsx(Gp,{})})]})})]})]})]})}const qb=c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",className:"w-6 h-6",children:c.jsx("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M16.5 6v.75m0 3v.75m0 3v.75m0 3V18m-9-5.25h5.25M7.5 15h3M3.375 5.25c-.621 0-1.125.504-1.125 1.125v3.026a2.999 2.999 0 0 1 0 5.198v3.026c0 .621.504 1.125 1.125 1.125h17.25c.621 0 1.125-.504 1.125-1.125v-3.026a2.999 2.999 0 0 1 0-5.198V6.375c0-.621-.504-1.125-1.125-1.125H3.375Z"})}),Ub=c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-6 h-6",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 10.5V6a3.75 3.75 0 1 0-7.5 0v4.5m11.356-1.993 1.263 12c.07.665-.45 1.243-1.119 1.243H4.25a1.125 1.125 0 0 1-1.12-1.243l1.264-12A1.125 1.125 0 0 1 5.513 7.5h12.974c.576 0 1.059.435 1.119 1.007ZM8.625 10.5a.375.375 0 1 1-.75 0 .375.375 0 0 1 .75 0Zm7.5 0a.375.375 0 1 1-.75 0 .375.375 0 0 1 .75 0Z"})}),Wb=c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",className:"w-6 h-6",children:c.jsx("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M9.813 15.904 9 18.75l-.813-2.846a4.5 4.5 0 0 0-3.09-3.09L2.25 12l2.846-.813a4.5 4.5 0 0 0 3.09-3.09L9 5.25l.813 2.846a4.5 4.5 0 0 0 3.09 3.09L15.75 12l-2.846.813a4.5 4.5 0 0 0-3.09 3.09ZM18.259 8.715 18 9.75l-.259-1.035a3.375 3.375 0 0 0-2.455-2.456L14.25 6l1.036-.259a3.375 3.375 0 0 0 2.455-2.456L18 2.25l.259 1.035a3.375 3.375 0 0 0 2.456 2.456L21.75 6l-1.035.259a3.375 3.375 0 0 0-2.456 2.456ZM16.894 20.567 16.5 21.75l-.394-1.183a2.25 2.25 0 0 0-1.423-1.423L13.5 18.75l1.183-.394a2.25 2.25 0 0 0 1.423-1.423l.394-1.183.394 1.183a2.25 2.25 0 0 0 1.423 1.423l1.183.394-1.183.394a2.25 2.25 0 0 0-1.423 1.423Z"})}),wa=c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-6 h-6",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m19.5 8.25-7.5 7.5-7.5-7.5"})}),oi=c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-6 h-6",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M17.593 3.322c1.1.128 1.907 1.077 1.907 2.185V21L12 17.25 4.5 21V5.507c0-1.108.806-2.057 1.907-2.185a48.507 48.507 0 0 1 11.186 0Z"})}),si=c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-6 h-6",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m3 3 1.664 1.664M21 21l-1.5-1.5m-5.485-1.242L12 17.25 4.5 21V8.742m.164-4.078a2.15 2.15 0 0 1 1.743-1.342 48.507 48.507 0 0 1 11.186 0c1.1.128 1.907 1.077 1.907 2.185V19.5M4.664 4.664 19.5 19.5"})}),Dm=c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",className:"w-6 h-6",children:c.jsx("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 12.75c1.148 0 2.278.08 3.383.237 1.037.146 1.866.966 1.866 2.013 0 3.728-2.35 6.75-5.25 6.75S6.75 18.728 6.75 15c0-1.046.83-1.867 1.866-2.013A24.204 24.204 0 0 1 12 12.75Zm0 0c2.883 0 5.647.508 8.207 1.44a23.91 23.91 0 0 1-1.152 6.06M12 12.75c-2.883 0-5.647.508-8.208 1.44.125 2.104.52 4.136 1.153 6.06M12 12.75a2.25 2.25 0 0 0 2.248-2.354M12 12.75a2.25 2.25 0 0 1-2.248-2.354M12 8.25c.995 0 1.971-.08 2.922-.236.403-.066.74-.358.795-.762a3.778 3.778 0 0 0-.399-2.25M12 8.25c-.995 0-1.97-.08-2.922-.236-.402-.066-.74-.358-.795-.762a3.734 3.734 0 0 1 .4-2.253M12 8.25a2.25 2.25 0 0 0-2.248 2.146M12 8.25a2.25 2.25 0 0 1 2.248 2.146M8.683 5a6.032 6.032 0 0 1-1.155-1.002c.07-.63.27-1.222.574-1.747m.581 2.749A3.75 3.75 0 0 1 15.318 5m0 0c.427-.283.815-.62 1.155-.999a4.471 4.471 0 0 0-.575-1.752M4.921 6a24.048 24.048 0 0 0-.392 3.314c1.668.546 3.416.914 5.223 1.082M19.08 6c.205 1.08.337 2.187.392 3.314a23.882 23.882 0 0 1-5.223 1.082"})}),dC=c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",className:"w-6 h-6",children:c.jsx("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M11.42 15.17 17.25 21A2.652 2.652 0 0 0 21 17.25l-5.877-5.877M11.42 15.17l2.496-3.03c.317-.384.74-.626 1.208-.766M11.42 15.17l-4.655 5.653a2.548 2.548 0 1 1-3.586-3.586l6.837-5.63m5.108-.233c.55-.164 1.163-.188 1.743-.14a4.5 4.5 0 0 0 4.486-6.336l-3.276 3.277a3.004 3.004 0 0 1-2.25-2.25l3.276-3.276a4.5 4.5 0 0 0-6.336 4.486c.091 1.076-.071 2.264-.904 2.95l-.102.085m-1.745 1.437L5.909 7.5H4.5L2.25 3.75l1.5-1.5L7.5 4.5v1.409l4.26 4.26m-1.745 1.437 1.745-1.437m6.615 8.206L15.75 15.75M4.867 19.125h.008v.008h-.008v-.008Z"})}),ba=c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",className:"w-6 h-6",children:c.jsx("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 4.5v15m7.5-7.5h-15"})}),va=c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",className:"w-6 h-6",children:c.jsx("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M5 12h14"})});function Ko(e,t){const n=window.localStorage.getItem(e);return n?n.split(";|;").map(i=>{const o=t.find(s=>s.name==i);return o||{name:"Error",effect:`Object "${i}" not found. It either has been edited or deleted. please search for it and remove this entry.`}}):[]}function Er(e,t){return e.split(";|;").map(r=>{const i=t.find(o=>o.name==r);return i||{name:"Error",effect:`Object "${r}" not found. It either has been edited or deleted. please search for it and remove this entry.`}})}function dt(...e){return e.filter(Boolean).join(" ")}function pc(e,t,n){var a=document.createElement("a"),r=new Blob([e],{type:n});a.href=URL.createObjectURL(r),a.download=t,a.click(),URL.revokeObjectURL(a.href)}function hC(e){const t=e.filter(r=>r!=="");function n(r){if(r.length<=1)return[r];const i=[];for(let o=0;o<r.length;o++){const s=r[o],l=r.slice(0,o).concat(r.slice(o+1)),u=n(l);for(const d of u)i.push([s,...d])}return i}return n(t).map(r=>r.join(".*")).join("|")}const fC=()=>{const[e,t]=g.useState(!1),n=()=>{const r=document.documentElement.scrollTop;r>300?t(!0):r<=300&&t(!1)},a=()=>{window.scrollTo({top:0,behavior:"smooth"})};return window.addEventListener("scroll",n),c.jsx(G,{variant:"subtle",leftIcon:wa,className:dt("bottom-10 right-14 rounded-full w-10 h-10 rotate-180 transform",e?"fixed ":"hidden"),onClick:a})};function mC({title:e,titleId:t,...n},a){return g.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",ref:a,"aria-labelledby":t},n),e?g.createElement("title",{id:t},e):null,g.createElement("path",{fillRule:"evenodd",d:"M16.704 4.153a.75.75 0 01.143 1.052l-8 10.5a.75.75 0 01-1.127.075l-4.5-4.5a.75.75 0 011.06-1.06l3.894 3.893 7.48-9.817a.75.75 0 011.05-.143z",clipRule:"evenodd"}))}const pC=g.forwardRef(mC),gC=pC;function yC({title:e,titleId:t,...n},a){return g.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",ref:a,"aria-labelledby":t},n),e?g.createElement("title",{id:t},e):null,g.createElement("path",{fillRule:"evenodd",d:"M5.23 7.21a.75.75 0 011.06.02L10 11.168l3.71-3.938a.75.75 0 111.08 1.04l-4.25 4.5a.75.75 0 01-1.08 0l-4.25-4.5a.75.75 0 01.02-1.06z",clipRule:"evenodd"}))}const bC=g.forwardRef(yC),vC=bC;function wC({title:e,titleId:t,...n},a){return g.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",ref:a,"aria-labelledby":t},n),e?g.createElement("title",{id:t},e):null,g.createElement("path",{fillRule:"evenodd",d:"M10 3a.75.75 0 01.55.24l3.25 3.5a.75.75 0 11-1.1 1.02L10 4.852 7.3 7.76a.75.75 0 01-1.1-1.02l3.25-3.5A.75.75 0 0110 3zm-3.76 9.2a.75.75 0 011.06.04l2.7 2.908 2.7-2.908a.75.75 0 111.1 1.02l-3.25 3.5a.75.75 0 01-1.1 0l-3.25-3.5a.75.75 0 01.04-1.06z",clipRule:"evenodd"}))}const kC=g.forwardRef(wC),Yh=kC;function TC({title:e,titleId:t,...n},a){return g.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",ref:a,"aria-labelledby":t},n),e?g.createElement("title",{id:t},e):null,g.createElement("path",{fillRule:"evenodd",d:"M2.628 1.601C5.028 1.206 7.49 1 10 1s4.973.206 7.372.601a.75.75 0 01.628.74v2.288a2.25 2.25 0 01-.659 1.59l-4.682 4.683a2.25 2.25 0 00-.659 1.59v3.037c0 .684-.31 1.33-.844 1.757l-1.937 1.55A.75.75 0 018 18.25v-5.757a2.25 2.25 0 00-.659-1.591L2.659 6.22A2.25 2.25 0 012 4.629V2.34a.75.75 0 01.628-.74z",clipRule:"evenodd"}))}const xC=g.forwardRef(TC),EC=xC;function SC({title:e,titleId:t,...n},a){return g.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",ref:a,"aria-labelledby":t},n),e?g.createElement("title",{id:t},e):null,g.createElement("path",{fillRule:"evenodd",d:"M9 3.5a5.5 5.5 0 100 11 5.5 5.5 0 000-11zM2 9a7 7 0 1112.452 4.391l3.328 3.329a.75.75 0 11-1.06 1.06l-3.329-3.328A7 7 0 012 9z",clipRule:"evenodd"}))}const AC=g.forwardRef(SC),Yb=AC;function CC({title:e,titleId:t,...n},a){return g.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",ref:a,"aria-labelledby":t},n),e?g.createElement("title",{id:t},e):null,g.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.28 7.22a.75.75 0 00-1.06 1.06L8.94 10l-1.72 1.72a.75.75 0 101.06 1.06L10 11.06l1.72 1.72a.75.75 0 101.06-1.06L11.06 10l1.72-1.72a.75.75 0 00-1.06-1.06L10 8.94 8.28 7.22z",clipRule:"evenodd"}))}const NC=g.forwardRef(CC),IC=NC;function _C({title:e,titleId:t,...n},a){return g.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",ref:a,"aria-labelledby":t},n),e?g.createElement("title",{id:t},e):null,g.createElement("path",{d:"M6.28 5.22a.75.75 0 00-1.06 1.06L8.94 10l-3.72 3.72a.75.75 0 101.06 1.06L10 11.06l3.72 3.72a.75.75 0 101.06-1.06L11.06 10l3.72-3.72a.75.75 0 00-1.06-1.06L10 8.94 6.28 5.22z"}))}const RC=g.forwardRef(_C),rl=RC,zh=c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"#ffffff","fill-opacity":"1",viewBox:"0 0 512 512","stroke-width":"1.5",stroke:"currentColor",className:"w-6 h-6",children:c.jsx("path",{d:"M138.798 35.342L28.73 114.268l95.777 29.095 111.305-87.09-97.014-20.93zm112.986 31.082l-118.047 89.96 51.07 131.102 8.534-7.455 4.23-15.708a18.338 13.102 76.863 0 1-9.08-20.45 18.338 13.102 76.863 0 1 10.997-13.727 18.338 13.102 76.863 0 1 3.62.53 18.338 13.102 76.863 0 1 3.113 1.544l7.94-29.48a9 9 0 0 1 .353-1.04 9 9 0 0 1 .058-.128 9 9 0 0 1 .32-.685 9 9 0 0 1 .09-.153 9 9 0 0 1 .37-.625 9 9 0 0 1 .534-.723 9 9 0 0 1 .066-.074 9 9 0 0 1 .54-.594 9 9 0 0 1 .65-.593 9 9 0 0 1 .004-.002 9 9 0 0 1 .46-.342 9 9 0 0 1 .266-.197 9 9 0 0 1 .502-.3 9 9 0 0 1 .27-.157 9 9 0 0 1 .44-.208 9 9 0 0 1 .38-.178 9 9 0 0 1 .437-.152 9 9 0 0 1 .41-.143 9 9 0 0 1 .404-.1 9 9 0 0 1 .47-.114 9 9 0 0 1 .51-.07 9 9 0 0 1 .37-.05 9 9 0 0 1 .01 0 9 9 0 0 1 .01-.003l33.624-2.873a18.338 13.102 76.863 0 1 10.326-9.777 18.338 13.102 76.863 0 1 3.622.53 18.338 13.102 76.863 0 1 8.527 7.327l13.043-1.113-39.442-123.783zM137.25 74.03a9.8 19.77 77.916 0 1 12.798 8.734 9.8 19.77 77.916 0 1-21.938 11.998 9.8 19.77 77.916 0 1-16.57-8.602 9.8 19.77 77.916 0 1 21.938-12 9.8 19.77 77.916 0 1 3.77-.13zm100.228 23.517a18.338 13.102 76.863 0 1 .002 0 18.338 13.102 76.863 0 1 3.62.53 18.338 13.102 76.863 0 1 12.112 21.94 18.338 13.102 76.863 0 1-14.617 13.196 18.338 13.102 76.863 0 1-12.114-21.94 18.338 13.102 76.863 0 1 10.998-13.726zM24.22 131.71l46.992 114.124 94.236 40.38-45.988-125.57-95.24-28.935zm147.886 17.43a18.338 13.102 76.863 0 1 3.622.528 18.338 13.102 76.863 0 1 12.11 21.94 18.338 13.102 76.863 0 1-14.616 13.197 18.338 13.102 76.863 0 1-12.112-21.94 18.338 13.102 76.863 0 1 10.996-13.726zm-75.123 13.016a19.454 9.134 59.254 0 1 16.955 15.078 19.454 9.134 59.254 0 1-.425 19.485A19.454 9.134 59.254 0 1 95.6 181.78a19.454 9.134 59.254 0 1 .424-19.48 19.454 9.134 59.254 0 1 .96-.144zm263.393 40.21l-112.102 9.577 113.762 79.926 113.598-16.956-115.258-72.55zM70.82 212.022A19.454 9.134 59.254 0 1 87.777 227.1a19.454 9.134 59.254 0 1-.425 19.484 19.454 9.134 59.254 0 1-17.913-14.938 19.454 9.134 59.254 0 1 .425-19.482 19.454 9.134 59.254 0 1 .96-.14zm157.378 7.813L186.66 374.023l115.616 99.454 47.147-168.47-121.225-85.17zm126.987 11.168a21.76 8.898 15.267 0 1 19.693 4.783 21.76 8.898 15.267 0 1 7.607 14.244 21.76 8.898 15.267 0 1-28.886-3.182 21.76 8.898 15.267 0 1-7.61-14.244 21.76 8.898 15.267 0 1 9.195-1.6zM487.78 291.3L366.9 309.343l-46.823 167.316 116.297-31.77L487.78 291.3zm-181.808 10.8a25.834 15.573 84.277 0 1 4.238.943 25.834 15.573 84.277 0 1 12.873 31.72 25.834 15.573 84.277 0 1-18.105 17.893 25.834 15.573 84.277 0 1-12.874-31.72 25.834 15.573 84.277 0 1 13.868-18.836zm154.086 11.636a13.237 21.96 28.62 0 1 7.673 4.13 13.237 21.96 28.62 0 1-6.176 28.435 13.237 21.96 28.62 0 1-21.287 3.878 13.237 21.96 28.62 0 1 6.175-28.434 13.237 21.96 28.62 0 1 13.616-8.008zM391.362 324.4a13.237 21.96 28.62 0 1 7.672 4.13 13.237 21.96 28.62 0 1-6.176 28.435 13.237 21.96 28.62 0 1-21.287 3.877 13.237 21.96 28.62 0 1 6.177-28.434 13.237 21.96 28.62 0 1 13.615-8.008zm-173.996 13.305a25.834 15.573 84.277 0 1 4.24.945 25.834 15.573 84.277 0 1 12.872 31.72 25.834 15.573 84.277 0 1-18.106 17.894 25.834 15.573 84.277 0 1-12.873-31.72 25.834 15.573 84.277 0 1 13.866-18.84zm212.278 60.87a13.237 21.96 28.62 0 1 7.67 4.13 13.237 21.96 28.62 0 1-6.174 28.434 13.237 21.96 28.62 0 1-21.287 3.876 13.237 21.96 28.62 0 1 6.175-28.434 13.237 21.96 28.62 0 1 13.616-8.008zm-70.332 19.488a13.237 21.96 28.62 0 1 7.67 4.132 13.237 21.96 28.62 0 1-6.174 28.434 13.237 21.96 28.62 0 1-21.287 3.874 13.237 21.96 28.62 0 1 6.176-28.434 13.237 21.96 28.62 0 1 13.616-8.007z"})}),zb="data:image/svg+xml,%3csvg%20style='height:%20512px;%20width:%20512px;'%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%20512%20512'%3e%3cg%20class=''%20style=''%20transform='translate(0,0)'%3e%3cpath%20d='M74.5%2036A38.5%2038.5%200%200%200%2036%2074.5v363A38.5%2038.5%200%200%200%2074.5%20476h363a38.5%2038.5%200%200%200%2038.5-38.5v-363A38.5%2038.5%200%200%200%20437.5%2036h-363zM256%20206a50%2050%200%200%201%200%20100%2050%2050%200%200%201%200-100z'%20fill='%23ffffff'%20fill-opacity='1'%3e%3c/path%3e%3c/g%3e%3c/svg%3e",$b="data:image/svg+xml,%3csvg%20style='height:%20512px;%20width:%20512px;'%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%20512%20512'%3e%3cg%20class=''%20style=''%20transform='translate(0,0)'%3e%3cpath%20d='M74.5%2036A38.5%2038.5%200%200%200%2036%2074.5v363A38.5%2038.5%200%200%200%2074.5%20476h363a38.5%2038.5%200%200%200%2038.5-38.5v-363A38.5%2038.5%200%200%200%20437.5%2036h-363zm316.97%2036.03A50%2050%200%200%201%20440%20122a50%2050%200%200%201-100%200%2050%2050%200%200%201%2051.47-49.97zm-268%20268A50%2050%200%200%201%20172%20390a50%2050%200%200%201-100%200%2050%2050%200%200%201%2051.47-49.97z'%20fill='%23ffffff'%20fill-opacity='1'%3e%3c/path%3e%3c/g%3e%3c/svg%3e",Gb="data:image/svg+xml,%3csvg%20style='height:%20512px;%20width:%20512px;'%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%20512%20512'%3e%3cg%20class=''%20style=''%20transform='translate(0,0)'%3e%3cpath%20d='M74.5%2036A38.5%2038.5%200%200%200%2036%2074.5v363A38.5%2038.5%200%200%200%2074.5%20476h363a38.5%2038.5%200%200%200%2038.5-38.5v-363A38.5%2038.5%200%200%200%20437.5%2036h-363zm316.97%2036.03A50%2050%200%200%201%20440%20122a50%2050%200%200%201-100%200%2050%2050%200%200%201%2051.47-49.97zM256%20206a50%2050%200%200%201%200%20100%2050%2050%200%200%201%200-100zM123.47%20340.03A50%2050%200%200%201%20172%20390a50%2050%200%200%201-100%200%2050%2050%200%200%201%2051.47-49.97z'%20fill='%23ffffff'%20fill-opacity='1'%3e%3c/path%3e%3c/g%3e%3c/svg%3e",Vb="data:image/svg+xml,%3csvg%20style='height:%20512px;%20width:%20512px;'%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%20512%20512'%3e%3cg%20class=''%20style=''%20transform='translate(0,0)'%3e%3cpath%20d='M74.5%2036A38.5%2038.5%200%200%200%2036%2074.5v363A38.5%2038.5%200%200%200%2074.5%20476h363a38.5%2038.5%200%200%200%2038.5-38.5v-363A38.5%2038.5%200%200%200%20437.5%2036h-363zm48.97%2036.03A50%2050%200%200%201%20172%20122a50%2050%200%200%201-100%200%2050%2050%200%200%201%2051.47-49.97zm268%200A50%2050%200%200%201%20440%20122a50%2050%200%200%201-100%200%2050%2050%200%200%201%2051.47-49.97zm-268%20268A50%2050%200%200%201%20172%20390a50%2050%200%200%201-100%200%2050%2050%200%200%201%2051.47-49.97zm268%200A50%2050%200%200%201%20440%20390a50%2050%200%200%201-100%200%2050%2050%200%200%201%2051.47-49.97z'%20fill='%23ffffff'%20fill-opacity='1'%3e%3c/path%3e%3c/g%3e%3c/svg%3e",Kb="data:image/svg+xml,%3csvg%20style='height:%20512px;%20width:%20512px;'%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%20512%20512'%3e%3cg%20class=''%20style=''%20transform='translate(0,0)'%3e%3cpath%20d='M74.5%2036A38.5%2038.5%200%200%200%2036%2074.5v363A38.5%2038.5%200%200%200%2074.5%20476h363a38.5%2038.5%200%200%200%2038.5-38.5v-363A38.5%2038.5%200%200%200%20437.5%2036h-363zm48.97%2036.03A50%2050%200%200%201%20172%20122a50%2050%200%200%201-100%200%2050%2050%200%200%201%2051.47-49.97zm268%200A50%2050%200%200%201%20440%20122a50%2050%200%200%201-100%200%2050%2050%200%200%201%2051.47-49.97zM256%20206a50%2050%200%200%201%200%20100%2050%2050%200%200%201%200-100zM123.47%20340.03A50%2050%200%200%201%20172%20390a50%2050%200%200%201-100%200%2050%2050%200%200%201%2051.47-49.97zm268%200A50%2050%200%200%201%20440%20390a50%2050%200%200%201-100%200%2050%2050%200%200%201%2051.47-49.97z'%20fill='%23ffffff'%20fill-opacity='1'%3e%3c/path%3e%3c/g%3e%3c/svg%3e",Qb="data:image/svg+xml,%3csvg%20style='height:%20512px;%20width:%20512px;'%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%20512%20512'%3e%3cg%20class=''%20style=''%20transform='translate(0,0)'%3e%3cpath%20d='M74.5%2036A38.5%2038.5%200%200%200%2036%2074.5v363A38.5%2038.5%200%200%200%2074.5%20476h363a38.5%2038.5%200%200%200%2038.5-38.5v-363A38.5%2038.5%200%200%200%20437.5%2036h-363zm48.97%2036.03A50%2050%200%200%201%20172%20122a50%2050%200%200%201-100%200%2050%2050%200%200%201%2051.47-49.97zm268%200A50%2050%200%200%201%20440%20122a50%2050%200%200%201-100%200%2050%2050%200%200%201%2051.47-49.97zM122%20206a50%2050%200%200%201%200%20100%2050%2050%200%200%201%200-100zm268%200a50%2050%200%200%201%200%20100%2050%2050%200%200%201%200-100zM123.47%20340.03A50%2050%200%200%201%20172%20390a50%2050%200%200%201-100%200%2050%2050%200%200%201%2051.47-49.97zm268%200A50%2050%200%200%201%20440%20390a50%2050%200%200%201-100%200%2050%2050%200%200%201%2051.47-49.97z'%20fill='%23ffffff'%20fill-opacity='1'%3e%3c/path%3e%3c/g%3e%3c/svg%3e",Xb="data:image/svg+xml,%3csvg%20style='height:%20512px;%20width:%20512px;'%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%20512%20512'%3e%3cg%20class=''%20style=''%20transform='translate(0,0)'%3e%3cpath%20d='M255.76%2044.764c-6.176%200-12.353%201.384-17.137%204.152L85.87%20137.276c-9.57%205.536-9.57%2014.29%200%2019.826l152.753%2088.36c9.57%205.536%2024.703%205.536%2034.272%200l152.753-88.36c9.57-5.535%209.57-14.29%200-19.825l-152.753-88.36c-4.785-2.77-10.96-4.153-17.135-4.153zm.926%2082.855a31.953%2018.96%200%200%201%2022.127%2032.362%2031.953%2018.96%200%201%201-45.188-26.812%2031.953%2018.96%200%200%201%2023.06-5.55zM75.67%20173.84c-5.753-.155-9.664%204.336-9.664%2012.28v157.696c0%2011.052%207.57%2024.163%2017.14%2029.69l146.93%2084.848c9.57%205.526%2017.14%201.156%2017.14-9.895V290.76c0-11.052-7.57-24.16-17.14-29.688l-146.93-84.847c-2.69-1.555-5.225-2.327-7.476-2.387zm360.773.002c-2.25.06-4.783.83-7.474%202.385l-146.935%2084.847c-9.57%205.527-17.14%2018.638-17.14%2029.69v157.7c0%2011.05%207.57%2015.418%2017.14%209.89L428.97%20373.51c9.57-5.527%2017.137-18.636%2017.137-29.688v-157.7c0-7.942-3.91-12.432-9.664-12.278zM89.297%20195.77a31.236%2018.008%2058.094%200%201%2033.818%2041.183%2031.236%2018.008%2058.094%201%201-45-25.98%2031.236%2018.008%2058.094%200%201%2011.182-15.203zm221.52%2064.664A18.008%2031.236%2031.906%200%201%20322%20275.637a18.008%2031.236%2031.906%200%201-45%2025.98%2018.008%2031.236%2031.906%200%201%2033.818-41.183zM145.296%20289.1a31.236%2018.008%2058.094%200%201%2033.818%2041.183%2031.236%2018.008%2058.094%200%201-45-25.98%2031.236%2018.008%2058.094%200%201%2011.182-15.203zm277.523%2029.38A18.008%2031.236%2031.906%200%201%20434%20333.684a18.008%2031.236%2031.906%200%201-45%2025.98%2018.008%2031.236%2031.906%200%201%2033.818-41.184zm-221.52%2064.663a31.236%2018.008%2058.094%200%201%2033.817%2041.183%2031.236%2018.008%2058.094%201%201-45-25.98%2031.236%2018.008%2058.094%200%201%2011.182-15.203z'%20fill='%23ffffff'%20fill-opacity='1'%3e%3c/path%3e%3c/g%3e%3c/svg%3e",Jb="/rpg-hell-frontend/assets/dice roll-SnekiEht.gif",LC=[zb,$b,Gb,Vb,Kb,Qb,Jb],Xp=["body","mind","soul","nature"];function OC(e){let t=[];for(let n=0;n<e;n++){const a=Math.floor(Math.random()*6);t.push(a)}return t.sort((n,a)=>a-n),t}function DC({startingDice:e=[0,0],startingBonus:t=0,startOpen:n=!1}){const[a,r]=g.useState(e),[i,o]=g.useState(t),[s,l]=g.useState(n),[u,d]=g.useState("body");function f(){l(!1)}function m(){l(!0),d(Xp[Math.floor(Math.random()*Xp.length)])}return c.jsxs(c.Fragment,{children:[c.jsx(G,{variant:"gradient",leftIcon:zh,className:"m-2 bottom-10 left-14 rounded-full w-10 h-10 transform fixed",onClick:m}),c.jsx(aa,{appear:!0,show:s,as:g.Fragment,children:c.jsxs(na,{as:"div",className:"relative z-10",onClose:f,children:[c.jsx(aa.Child,{as:g.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0",enterTo:"opacity-100",leave:"ease-in duration-200",leaveFrom:"opacity-100",leaveTo:"opacity-0",children:c.jsx("div",{className:"fixed inset-0 bg-black/25"})}),c.jsx("div",{className:"fixed inset-0 overflow-y-auto",children:c.jsx("div",{className:"flex items-center justify-center p-4 pt-6 text-center",children:c.jsx(aa.Child,{as:g.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0 scale-95",enterTo:"opacity-100 scale-100",leave:"ease-in duration-200",leaveFrom:"opacity-100 scale-100",leaveTo:"opacity-0 scale-95",children:c.jsxs(na.Panel,{className:"w-[60%] lg:w-[30%] h-[50%] transform overflow-hidden rounded-2xl p-6 pt-0 text-left align-middle shadow-xl transition-all bg-light dark:bg-dark",children:[c.jsxs(na.Title,{as:"div",className:"text-lg font-medium leading-6 flex flex-row justify-between",children:[c.jsx("h3",{className:"capitalize",children:"Roll The Dice!"}),c.jsx("div",{className:"mt-4",children:c.jsx(rl,{className:"h-6 w-6 opacity-50 cursor-pointer",onClick:f})})]}),c.jsx("div",{className:"flex m-4 bg-dark-400 rounded-md justify-center",children:c.jsx("div",{className:xr("flex row items-center flex-wrap justify-center",a.length<5?"w-[50%]":a.length<7?"w-[60%]":a.length<9?"w-[80%]":"w-[100%]"),children:a.map((p,v)=>c.jsx("img",{className:xr("w-auto m-4",a.length<3?"h-20":"h-16"),src:LC[p],alt:(p+1).toString(),onClick:()=>{a.length!=1&&r(k=>k.filter((T,y)=>y!==v))}},v))})}),c.jsxs("h1",{children:["Total: ",a.reduce((p,v)=>p+v+1)+1!=a.length*7?a.reduce((p,v)=>p+v+1)+1+i:"?"]})," ",c.jsxs("div",{className:"flex row items-center justify-around m-4 flex-wrap",children:[c.jsx(G,{leftIcon:zh,variant:u,className:"m-2",onClick:()=>{r(new Array(a.length).fill(6)),setTimeout(()=>{r(OC(a.length))},500)},children:"Roll Dice"}),c.jsx("input",{placeholder:"Bonus",name:"Bonus",className:"rounded-lg bg-body-700/40 p-2 active:ring-2 active:ring-dark-700 dark:bg-soul-700/10 dark:active:ring-light-600",onChange:p=>o(Number(p.target.value))}),c.jsx("img",{className:"h-16 w-auto m-2 bg-dark rounded-full",src:Xb,alt:"Add Dice",onClick:()=>{r(p=>[...p,Math.floor(Math.random()*6)].sort((v,k)=>k-v))}})]})]})})})})]})})]})}function PC(){return c.jsx(c.Fragment,{children:c.jsx("div",{children:c.jsxs(oS,{children:[c.jsx(cC,{}),c.jsx("div",{className:"max-w-7xl mx-auto p-2 md:p-8 text-center",children:c.jsx(q3,{})}),c.jsx(fC,{}),c.jsx(DC,{})]})})})}function MC(){return c.jsxs(c.Fragment,{children:[c.jsx("div",{children:"Error 404 im not good at this "}),c.jsx(hn,{to:"..",children:c.jsx(G,{variant:"dark",children:"Back"})})]})}function FC(){return c.jsx(H3,{to:"/",replace:!0})}function jC(){return window.location.assign("https://www.youtube.com/watch?v=dQw4w9WgXcQ"),c.jsx(c.Fragment,{})}function Jp(e){const t=[],n=String(e||"");let a=n.indexOf(","),r=0,i=!1;for(;!i;){a===-1&&(a=n.length,i=!0);const o=n.slice(r,a).trim();(o||!i)&&t.push(o),r=a+1,a=n.indexOf(",",r)}return t}function Zb(e,t){const n=t||{};return(e[e.length-1]===""?[...e,""]:e).join((n.padRight?" ":"")+","+(n.padLeft===!1?"":" ")).trim()}const BC=/^[$_\p{ID_Start}][$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,HC=/^[$_\p{ID_Start}][-$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,qC={};function Zp(e,t){return((t||qC).jsx?HC:BC).test(e)}const UC=/[ \t\n\f\r]/g;function WC(e){return typeof e=="object"?e.type==="text"?eg(e.value):!1:eg(e)}function eg(e){return e.replace(UC,"")===""}class il{constructor(t,n,a){this.property=t,this.normal=n,a&&(this.space=a)}}il.prototype.property={};il.prototype.normal={};il.prototype.space=null;function ev(e,t){const n={},a={};let r=-1;for(;++r<e.length;)Object.assign(n,e[r].property),Object.assign(a,e[r].normal);return new il(n,a,t)}function Ms(e){return e.toLowerCase()}class qn{constructor(t,n){this.property=t,this.attribute=n}}qn.prototype.space=null;qn.prototype.boolean=!1;qn.prototype.booleanish=!1;qn.prototype.overloadedBoolean=!1;qn.prototype.number=!1;qn.prototype.commaSeparated=!1;qn.prototype.spaceSeparated=!1;qn.prototype.commaOrSpaceSeparated=!1;qn.prototype.mustUseProperty=!1;qn.prototype.defined=!1;let YC=0;const Se=fi(),Ct=fi(),tv=fi(),Z=fi(),rt=fi(),zi=fi(),bn=fi();function fi(){return 2**++YC}const $h=Object.freeze(Object.defineProperty({__proto__:null,boolean:Se,booleanish:Ct,commaOrSpaceSeparated:bn,commaSeparated:zi,number:Z,overloadedBoolean:tv,spaceSeparated:rt},Symbol.toStringTag,{value:"Module"})),vd=Object.keys($h);class Pm extends qn{constructor(t,n,a,r){let i=-1;if(super(t,n),tg(this,"space",r),typeof a=="number")for(;++i<vd.length;){const o=vd[i];tg(this,vd[i],(a&$h[o])===$h[o])}}}Pm.prototype.defined=!0;function tg(e,t,n){n&&(e[t]=n)}const zC={}.hasOwnProperty;function go(e){const t={},n={};let a;for(a in e.properties)if(zC.call(e.properties,a)){const r=e.properties[a],i=new Pm(a,e.transform(e.attributes||{},a),r,e.space);e.mustUseProperty&&e.mustUseProperty.includes(a)&&(i.mustUseProperty=!0),t[a]=i,n[Ms(a)]=a,n[Ms(i.attribute)]=a}return new il(t,n,e.space)}const nv=go({space:"xlink",transform(e,t){return"xlink:"+t.slice(5).toLowerCase()},properties:{xLinkActuate:null,xLinkArcRole:null,xLinkHref:null,xLinkRole:null,xLinkShow:null,xLinkTitle:null,xLinkType:null}}),av=go({space:"xml",transform(e,t){return"xml:"+t.slice(3).toLowerCase()},properties:{xmlLang:null,xmlBase:null,xmlSpace:null}});function rv(e,t){return t in e?e[t]:t}function iv(e,t){return rv(e,t.toLowerCase())}const ov=go({space:"xmlns",attributes:{xmlnsxlink:"xmlns:xlink"},transform:iv,properties:{xmlns:null,xmlnsXLink:null}}),sv=go({transform(e,t){return t==="role"?t:"aria-"+t.slice(4).toLowerCase()},properties:{ariaActiveDescendant:null,ariaAtomic:Ct,ariaAutoComplete:null,ariaBusy:Ct,ariaChecked:Ct,ariaColCount:Z,ariaColIndex:Z,ariaColSpan:Z,ariaControls:rt,ariaCurrent:null,ariaDescribedBy:rt,ariaDetails:null,ariaDisabled:Ct,ariaDropEffect:rt,ariaErrorMessage:null,ariaExpanded:Ct,ariaFlowTo:rt,ariaGrabbed:Ct,ariaHasPopup:null,ariaHidden:Ct,ariaInvalid:null,ariaKeyShortcuts:null,ariaLabel:null,ariaLabelledBy:rt,ariaLevel:Z,ariaLive:null,ariaModal:Ct,ariaMultiLine:Ct,ariaMultiSelectable:Ct,ariaOrientation:null,ariaOwns:rt,ariaPlaceholder:null,ariaPosInSet:Z,ariaPressed:Ct,ariaReadOnly:Ct,ariaRelevant:null,ariaRequired:Ct,ariaRoleDescription:rt,ariaRowCount:Z,ariaRowIndex:Z,ariaRowSpan:Z,ariaSelected:Ct,ariaSetSize:Z,ariaSort:null,ariaValueMax:Z,ariaValueMin:Z,ariaValueNow:Z,ariaValueText:null,role:null}}),$C=go({space:"html",attributes:{acceptcharset:"accept-charset",classname:"class",htmlfor:"for",httpequiv:"http-equiv"},transform:iv,mustUseProperty:["checked","multiple","muted","selected"],properties:{abbr:null,accept:zi,acceptCharset:rt,accessKey:rt,action:null,allow:null,allowFullScreen:Se,allowPaymentRequest:Se,allowUserMedia:Se,alt:null,as:null,async:Se,autoCapitalize:null,autoComplete:rt,autoFocus:Se,autoPlay:Se,blocking:rt,capture:Se,charSet:null,checked:Se,cite:null,className:rt,cols:Z,colSpan:null,content:null,contentEditable:Ct,controls:Se,controlsList:rt,coords:Z|zi,crossOrigin:null,data:null,dateTime:null,decoding:null,default:Se,defer:Se,dir:null,dirName:null,disabled:Se,download:tv,draggable:Ct,encType:null,enterKeyHint:null,fetchPriority:null,form:null,formAction:null,formEncType:null,formMethod:null,formNoValidate:Se,formTarget:null,headers:rt,height:Z,hidden:Se,high:Z,href:null,hrefLang:null,htmlFor:rt,httpEquiv:rt,id:null,imageSizes:null,imageSrcSet:null,inert:Se,inputMode:null,integrity:null,is:null,isMap:Se,itemId:null,itemProp:rt,itemRef:rt,itemScope:Se,itemType:rt,kind:null,label:null,lang:null,language:null,list:null,loading:null,loop:Se,low:Z,manifest:null,max:null,maxLength:Z,media:null,method:null,min:null,minLength:Z,multiple:Se,muted:Se,name:null,nonce:null,noModule:Se,noValidate:Se,onAbort:null,onAfterPrint:null,onAuxClick:null,onBeforeMatch:null,onBeforePrint:null,onBeforeToggle:null,onBeforeUnload:null,onBlur:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onContextLost:null,onContextMenu:null,onContextRestored:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnded:null,onError:null,onFocus:null,onFormData:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLanguageChange:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadEnd:null,onLoadStart:null,onMessage:null,onMessageError:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRejectionHandled:null,onReset:null,onResize:null,onScroll:null,onScrollEnd:null,onSecurityPolicyViolation:null,onSeeked:null,onSeeking:null,onSelect:null,onSlotChange:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnhandledRejection:null,onUnload:null,onVolumeChange:null,onWaiting:null,onWheel:null,open:Se,optimum:Z,pattern:null,ping:rt,placeholder:null,playsInline:Se,popover:null,popoverTarget:null,popoverTargetAction:null,poster:null,preload:null,readOnly:Se,referrerPolicy:null,rel:rt,required:Se,reversed:Se,rows:Z,rowSpan:Z,sandbox:rt,scope:null,scoped:Se,seamless:Se,selected:Se,shadowRootDelegatesFocus:Se,shadowRootMode:null,shape:null,size:Z,sizes:null,slot:null,span:Z,spellCheck:Ct,src:null,srcDoc:null,srcLang:null,srcSet:null,start:Z,step:null,style:null,tabIndex:Z,target:null,title:null,translate:null,type:null,typeMustMatch:Se,useMap:null,value:Ct,width:Z,wrap:null,align:null,aLink:null,archive:rt,axis:null,background:null,bgColor:null,border:Z,borderColor:null,bottomMargin:Z,cellPadding:null,cellSpacing:null,char:null,charOff:null,classId:null,clear:null,code:null,codeBase:null,codeType:null,color:null,compact:Se,declare:Se,event:null,face:null,frame:null,frameBorder:null,hSpace:Z,leftMargin:Z,link:null,longDesc:null,lowSrc:null,marginHeight:Z,marginWidth:Z,noResize:Se,noHref:Se,noShade:Se,noWrap:Se,object:null,profile:null,prompt:null,rev:null,rightMargin:Z,rules:null,scheme:null,scrolling:Ct,standby:null,summary:null,text:null,topMargin:Z,valueType:null,version:null,vAlign:null,vLink:null,vSpace:Z,allowTransparency:null,autoCorrect:null,autoSave:null,disablePictureInPicture:Se,disableRemotePlayback:Se,prefix:null,property:null,results:Z,security:null,unselectable:null}}),GC=go({space:"svg",attributes:{accentHeight:"accent-height",alignmentBaseline:"alignment-baseline",arabicForm:"arabic-form",baselineShift:"baseline-shift",capHeight:"cap-height",className:"class",clipPath:"clip-path",clipRule:"clip-rule",colorInterpolation:"color-interpolation",colorInterpolationFilters:"color-interpolation-filters",colorProfile:"color-profile",colorRendering:"color-rendering",crossOrigin:"crossorigin",dataType:"datatype",dominantBaseline:"dominant-baseline",enableBackground:"enable-background",fillOpacity:"fill-opacity",fillRule:"fill-rule",floodColor:"flood-color",floodOpacity:"flood-opacity",fontFamily:"font-family",fontSize:"font-size",fontSizeAdjust:"font-size-adjust",fontStretch:"font-stretch",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",glyphName:"glyph-name",glyphOrientationHorizontal:"glyph-orientation-horizontal",glyphOrientationVertical:"glyph-orientation-vertical",hrefLang:"hreflang",horizAdvX:"horiz-adv-x",horizOriginX:"horiz-origin-x",horizOriginY:"horiz-origin-y",imageRendering:"image-rendering",letterSpacing:"letter-spacing",lightingColor:"lighting-color",markerEnd:"marker-end",markerMid:"marker-mid",markerStart:"marker-start",navDown:"nav-down",navDownLeft:"nav-down-left",navDownRight:"nav-down-right",navLeft:"nav-left",navNext:"nav-next",navPrev:"nav-prev",navRight:"nav-right",navUp:"nav-up",navUpLeft:"nav-up-left",navUpRight:"nav-up-right",onAbort:"onabort",onActivate:"onactivate",onAfterPrint:"onafterprint",onBeforePrint:"onbeforeprint",onBegin:"onbegin",onCancel:"oncancel",onCanPlay:"oncanplay",onCanPlayThrough:"oncanplaythrough",onChange:"onchange",onClick:"onclick",onClose:"onclose",onCopy:"oncopy",onCueChange:"oncuechange",onCut:"oncut",onDblClick:"ondblclick",onDrag:"ondrag",onDragEnd:"ondragend",onDragEnter:"ondragenter",onDragExit:"ondragexit",onDragLeave:"ondragleave",onDragOver:"ondragover",onDragStart:"ondragstart",onDrop:"ondrop",onDurationChange:"ondurationchange",onEmptied:"onemptied",onEnd:"onend",onEnded:"onended",onError:"onerror",onFocus:"onfocus",onFocusIn:"onfocusin",onFocusOut:"onfocusout",onHashChange:"onhashchange",onInput:"oninput",onInvalid:"oninvalid",onKeyDown:"onkeydown",onKeyPress:"onkeypress",onKeyUp:"onkeyup",onLoad:"onload",onLoadedData:"onloadeddata",onLoadedMetadata:"onloadedmetadata",onLoadStart:"onloadstart",onMessage:"onmessage",onMouseDown:"onmousedown",onMouseEnter:"onmouseenter",onMouseLeave:"onmouseleave",onMouseMove:"onmousemove",onMouseOut:"onmouseout",onMouseOver:"onmouseover",onMouseUp:"onmouseup",onMouseWheel:"onmousewheel",onOffline:"onoffline",onOnline:"ononline",onPageHide:"onpagehide",onPageShow:"onpageshow",onPaste:"onpaste",onPause:"onpause",onPlay:"onplay",onPlaying:"onplaying",onPopState:"onpopstate",onProgress:"onprogress",onRateChange:"onratechange",onRepeat:"onrepeat",onReset:"onreset",onResize:"onresize",onScroll:"onscroll",onSeeked:"onseeked",onSeeking:"onseeking",onSelect:"onselect",onShow:"onshow",onStalled:"onstalled",onStorage:"onstorage",onSubmit:"onsubmit",onSuspend:"onsuspend",onTimeUpdate:"ontimeupdate",onToggle:"ontoggle",onUnload:"onunload",onVolumeChange:"onvolumechange",onWaiting:"onwaiting",onZoom:"onzoom",overlinePosition:"overline-position",overlineThickness:"overline-thickness",paintOrder:"paint-order",panose1:"panose-1",pointerEvents:"pointer-events",referrerPolicy:"referrerpolicy",renderingIntent:"rendering-intent",shapeRendering:"shape-rendering",stopColor:"stop-color",stopOpacity:"stop-opacity",strikethroughPosition:"strikethrough-position",strikethroughThickness:"strikethrough-thickness",strokeDashArray:"stroke-dasharray",strokeDashOffset:"stroke-dashoffset",strokeLineCap:"stroke-linecap",strokeLineJoin:"stroke-linejoin",strokeMiterLimit:"stroke-miterlimit",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",tabIndex:"tabindex",textAnchor:"text-anchor",textDecoration:"text-decoration",textRendering:"text-rendering",transformOrigin:"transform-origin",typeOf:"typeof",underlinePosition:"underline-position",underlineThickness:"underline-thickness",unicodeBidi:"unicode-bidi",unicodeRange:"unicode-range",unitsPerEm:"units-per-em",vAlphabetic:"v-alphabetic",vHanging:"v-hanging",vIdeographic:"v-ideographic",vMathematical:"v-mathematical",vectorEffect:"vector-effect",vertAdvY:"vert-adv-y",vertOriginX:"vert-origin-x",vertOriginY:"vert-origin-y",wordSpacing:"word-spacing",writingMode:"writing-mode",xHeight:"x-height",playbackOrder:"playbackorder",timelineBegin:"timelinebegin"},transform:rv,properties:{about:bn,accentHeight:Z,accumulate:null,additive:null,alignmentBaseline:null,alphabetic:Z,amplitude:Z,arabicForm:null,ascent:Z,attributeName:null,attributeType:null,azimuth:Z,bandwidth:null,baselineShift:null,baseFrequency:null,baseProfile:null,bbox:null,begin:null,bias:Z,by:null,calcMode:null,capHeight:Z,className:rt,clip:null,clipPath:null,clipPathUnits:null,clipRule:null,color:null,colorInterpolation:null,colorInterpolationFilters:null,colorProfile:null,colorRendering:null,content:null,contentScriptType:null,contentStyleType:null,crossOrigin:null,cursor:null,cx:null,cy:null,d:null,dataType:null,defaultAction:null,descent:Z,diffuseConstant:Z,direction:null,display:null,dur:null,divisor:Z,dominantBaseline:null,download:Se,dx:null,dy:null,edgeMode:null,editable:null,elevation:Z,enableBackground:null,end:null,event:null,exponent:Z,externalResourcesRequired:null,fill:null,fillOpacity:Z,fillRule:null,filter:null,filterRes:null,filterUnits:null,floodColor:null,floodOpacity:null,focusable:null,focusHighlight:null,fontFamily:null,fontSize:null,fontSizeAdjust:null,fontStretch:null,fontStyle:null,fontVariant:null,fontWeight:null,format:null,fr:null,from:null,fx:null,fy:null,g1:zi,g2:zi,glyphName:zi,glyphOrientationHorizontal:null,glyphOrientationVertical:null,glyphRef:null,gradientTransform:null,gradientUnits:null,handler:null,hanging:Z,hatchContentUnits:null,hatchUnits:null,height:null,href:null,hrefLang:null,horizAdvX:Z,horizOriginX:Z,horizOriginY:Z,id:null,ideographic:Z,imageRendering:null,initialVisibility:null,in:null,in2:null,intercept:Z,k:Z,k1:Z,k2:Z,k3:Z,k4:Z,kernelMatrix:bn,kernelUnitLength:null,keyPoints:null,keySplines:null,keyTimes:null,kerning:null,lang:null,lengthAdjust:null,letterSpacing:null,lightingColor:null,limitingConeAngle:Z,local:null,markerEnd:null,markerMid:null,markerStart:null,markerHeight:null,markerUnits:null,markerWidth:null,mask:null,maskContentUnits:null,maskUnits:null,mathematical:null,max:null,media:null,mediaCharacterEncoding:null,mediaContentEncodings:null,mediaSize:Z,mediaTime:null,method:null,min:null,mode:null,name:null,navDown:null,navDownLeft:null,navDownRight:null,navLeft:null,navNext:null,navPrev:null,navRight:null,navUp:null,navUpLeft:null,navUpRight:null,numOctaves:null,observer:null,offset:null,onAbort:null,onActivate:null,onAfterPrint:null,onBeforePrint:null,onBegin:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnd:null,onEnded:null,onError:null,onFocus:null,onFocusIn:null,onFocusOut:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadStart:null,onMessage:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onMouseWheel:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRepeat:null,onReset:null,onResize:null,onScroll:null,onSeeked:null,onSeeking:null,onSelect:null,onShow:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnload:null,onVolumeChange:null,onWaiting:null,onZoom:null,opacity:null,operator:null,order:null,orient:null,orientation:null,origin:null,overflow:null,overlay:null,overlinePosition:Z,overlineThickness:Z,paintOrder:null,panose1:null,path:null,pathLength:Z,patternContentUnits:null,patternTransform:null,patternUnits:null,phase:null,ping:rt,pitch:null,playbackOrder:null,pointerEvents:null,points:null,pointsAtX:Z,pointsAtY:Z,pointsAtZ:Z,preserveAlpha:null,preserveAspectRatio:null,primitiveUnits:null,propagate:null,property:bn,r:null,radius:null,referrerPolicy:null,refX:null,refY:null,rel:bn,rev:bn,renderingIntent:null,repeatCount:null,repeatDur:null,requiredExtensions:bn,requiredFeatures:bn,requiredFonts:bn,requiredFormats:bn,resource:null,restart:null,result:null,rotate:null,rx:null,ry:null,scale:null,seed:null,shapeRendering:null,side:null,slope:null,snapshotTime:null,specularConstant:Z,specularExponent:Z,spreadMethod:null,spacing:null,startOffset:null,stdDeviation:null,stemh:null,stemv:null,stitchTiles:null,stopColor:null,stopOpacity:null,strikethroughPosition:Z,strikethroughThickness:Z,string:null,stroke:null,strokeDashArray:bn,strokeDashOffset:null,strokeLineCap:null,strokeLineJoin:null,strokeMiterLimit:Z,strokeOpacity:Z,strokeWidth:null,style:null,surfaceScale:Z,syncBehavior:null,syncBehaviorDefault:null,syncMaster:null,syncTolerance:null,syncToleranceDefault:null,systemLanguage:bn,tabIndex:Z,tableValues:null,target:null,targetX:Z,targetY:Z,textAnchor:null,textDecoration:null,textRendering:null,textLength:null,timelineBegin:null,title:null,transformBehavior:null,type:null,typeOf:bn,to:null,transform:null,transformOrigin:null,u1:null,u2:null,underlinePosition:Z,underlineThickness:Z,unicode:null,unicodeBidi:null,unicodeRange:null,unitsPerEm:Z,values:null,vAlphabetic:Z,vMathematical:Z,vectorEffect:null,vHanging:Z,vIdeographic:Z,version:null,vertAdvY:Z,vertOriginX:Z,vertOriginY:Z,viewBox:null,viewTarget:null,visibility:null,width:null,widths:null,wordSpacing:null,writingMode:null,x:null,x1:null,x2:null,xChannelSelector:null,xHeight:Z,y:null,y1:null,y2:null,yChannelSelector:null,z:null,zoomAndPan:null}}),VC=/^data[-\w.:]+$/i,ng=/-[a-z]/g,KC=/[A-Z]/g;function gc(e,t){const n=Ms(t);let a=t,r=qn;if(n in e.normal)return e.property[e.normal[n]];if(n.length>4&&n.slice(0,4)==="data"&&VC.test(t)){if(t.charAt(4)==="-"){const i=t.slice(5).replace(ng,XC);a="data"+i.charAt(0).toUpperCase()+i.slice(1)}else{const i=t.slice(4);if(!ng.test(i)){let o=i.replace(KC,QC);o.charAt(0)!=="-"&&(o="-"+o),t="data"+o}}r=Pm}return new r(a,t)}function QC(e){return"-"+e.toLowerCase()}function XC(e){return e.charAt(1).toUpperCase()}const JC={classId:"classID",dataType:"datatype",itemId:"itemID",strokeDashArray:"strokeDasharray",strokeDashOffset:"strokeDashoffset",strokeLineCap:"strokeLinecap",strokeLineJoin:"strokeLinejoin",strokeMiterLimit:"strokeMiterlimit",typeOf:"typeof",xLinkActuate:"xlinkActuate",xLinkArcRole:"xlinkArcrole",xLinkHref:"xlinkHref",xLinkRole:"xlinkRole",xLinkShow:"xlinkShow",xLinkTitle:"xlinkTitle",xLinkType:"xlinkType",xmlnsXLink:"xmlnsXlink"},ol=ev([av,nv,ov,sv,$C],"html"),Lr=ev([av,nv,ov,sv,GC],"svg");function ag(e){const t=String(e||"").trim();return t?t.split(/[ \t\n\r\f]+/g):[]}function lv(e){return e.join(" ").trim()}var uv={},rg=/\/\*[^*]*\*+([^/*][^*]*\*+)*\//g,ZC=/\n/g,e5=/^\s*/,t5=/^(\*?[-#/*\\\w]+(\[[0-9a-z_-]+\])?)\s*/,n5=/^:\s*/,a5=/^((?:'(?:\\'|.)*?'|"(?:\\"|.)*?"|\([^)]*?\)|[^};])+)/,r5=/^[;\s]*/,i5=/^\s+|\s+$/g,o5=`
`,ig="/",og="*",jr="",s5="comment",l5="declaration",u5=function(e,t){if(typeof e!="string")throw new TypeError("First argument must be a string");if(!e)return[];t=t||{};var n=1,a=1;function r(v){var k=v.match(ZC);k&&(n+=k.length);var T=v.lastIndexOf(o5);a=~T?v.length-T:a+v.length}function i(){var v={line:n,column:a};return function(k){return k.position=new o(v),u(),k}}function o(v){this.start=v,this.end={line:n,column:a},this.source=t.source}o.prototype.content=e;function s(v){var k=new Error(t.source+":"+n+":"+a+": "+v);if(k.reason=v,k.filename=t.source,k.line=n,k.column=a,k.source=e,!t.silent)throw k}function l(v){var k=v.exec(e);if(k){var T=k[0];return r(T),e=e.slice(T.length),k}}function u(){l(e5)}function d(v){var k;for(v=v||[];k=f();)k!==!1&&v.push(k);return v}function f(){var v=i();if(!(ig!=e.charAt(0)||og!=e.charAt(1))){for(var k=2;jr!=e.charAt(k)&&(og!=e.charAt(k)||ig!=e.charAt(k+1));)++k;if(k+=2,jr===e.charAt(k-1))return s("End of comment missing");var T=e.slice(2,k-2);return a+=2,r(T),e=e.slice(k),a+=2,v({type:s5,comment:T})}}function m(){var v=i(),k=l(t5);if(k){if(f(),!l(n5))return s("property missing ':'");var T=l(a5),y=v({type:l5,property:sg(k[0].replace(rg,jr)),value:T?sg(T[0].replace(rg,jr)):jr});return l(r5),y}}function p(){var v=[];d(v);for(var k;k=m();)k!==!1&&(v.push(k),d(v));return v}return u(),p()};function sg(e){return e?e.replace(i5,jr):jr}var c5=s0&&s0.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(uv,"__esModule",{value:!0});var d5=c5(u5);function h5(e,t){var n=null;if(!e||typeof e!="string")return n;var a=(0,d5.default)(e),r=typeof t=="function";return a.forEach(function(i){if(i.type==="declaration"){var o=i.property,s=i.value;r?t(o,s,i):s&&(n=n||{},n[o]=s)}}),n}var lg=uv.default=h5;const f5=lg.default||lg,yc=cv("end"),Sa=cv("start");function cv(e){return t;function t(n){const a=n&&n.position&&n.position[e]||{};if(typeof a.line=="number"&&a.line>0&&typeof a.column=="number"&&a.column>0)return{line:a.line,column:a.column,offset:typeof a.offset=="number"&&a.offset>-1?a.offset:void 0}}}function m5(e){const t=Sa(e),n=yc(e);if(t&&n)return{start:t,end:n}}function ls(e){return!e||typeof e!="object"?"":"position"in e||"type"in e?ug(e.position):"start"in e||"end"in e?ug(e):"line"in e||"column"in e?Gh(e):""}function Gh(e){return cg(e&&e.line)+":"+cg(e&&e.column)}function ug(e){return Gh(e&&e.start)+"-"+Gh(e&&e.end)}function cg(e){return e&&typeof e=="number"?e:1}class Jt extends Error{constructor(t,n,a){super(),typeof n=="string"&&(a=n,n=void 0);let r="",i={},o=!1;if(n&&("line"in n&&"column"in n?i={place:n}:"start"in n&&"end"in n?i={place:n}:"type"in n?i={ancestors:[n],place:n.position}:i={...n}),typeof t=="string"?r=t:!i.cause&&t&&(o=!0,r=t.message,i.cause=t),!i.ruleId&&!i.source&&typeof a=="string"){const l=a.indexOf(":");l===-1?i.ruleId=a:(i.source=a.slice(0,l),i.ruleId=a.slice(l+1))}if(!i.place&&i.ancestors&&i.ancestors){const l=i.ancestors[i.ancestors.length-1];l&&(i.place=l.position)}const s=i.place&&"start"in i.place?i.place.start:i.place;this.ancestors=i.ancestors||void 0,this.cause=i.cause||void 0,this.column=s?s.column:void 0,this.fatal=void 0,this.file,this.message=r,this.line=s?s.line:void 0,this.name=ls(i.place)||"1:1",this.place=i.place||void 0,this.reason=this.message,this.ruleId=i.ruleId||void 0,this.source=i.source||void 0,this.stack=o&&i.cause&&typeof i.cause.stack=="string"?i.cause.stack:"",this.actual,this.expected,this.note,this.url}}Jt.prototype.file="";Jt.prototype.name="";Jt.prototype.reason="";Jt.prototype.message="";Jt.prototype.stack="";Jt.prototype.column=void 0;Jt.prototype.line=void 0;Jt.prototype.ancestors=void 0;Jt.prototype.cause=void 0;Jt.prototype.fatal=void 0;Jt.prototype.place=void 0;Jt.prototype.ruleId=void 0;Jt.prototype.source=void 0;const Mm={}.hasOwnProperty,p5=new Map,g5=/[A-Z]/g,y5=/-([a-z])/g,b5=new Set(["table","tbody","thead","tfoot","tr"]),v5=new Set(["td","th"]),dv="https://github.com/syntax-tree/hast-util-to-jsx-runtime";function w5(e,t){if(!t||t.Fragment===void 0)throw new TypeError("Expected `Fragment` in options");const n=t.filePath||void 0;let a;if(t.development){if(typeof t.jsxDEV!="function")throw new TypeError("Expected `jsxDEV` in options when `development: true`");a=N5(n,t.jsxDEV)}else{if(typeof t.jsx!="function")throw new TypeError("Expected `jsx` in production options");if(typeof t.jsxs!="function")throw new TypeError("Expected `jsxs` in production options");a=C5(n,t.jsx,t.jsxs)}const r={Fragment:t.Fragment,ancestors:[],components:t.components||{},create:a,elementAttributeNameCase:t.elementAttributeNameCase||"react",evaluater:t.createEvaluater?t.createEvaluater():void 0,filePath:n,ignoreInvalidStyle:t.ignoreInvalidStyle||!1,passKeys:t.passKeys!==!1,passNode:t.passNode||!1,schema:t.space==="svg"?Lr:ol,stylePropertyNameCase:t.stylePropertyNameCase||"dom",tableCellAlignToStyle:t.tableCellAlignToStyle!==!1},i=hv(r,e,void 0);return i&&typeof i!="string"?i:r.create(e,r.Fragment,{children:i||void 0},void 0)}function hv(e,t,n){if(t.type==="element")return k5(e,t,n);if(t.type==="mdxFlowExpression"||t.type==="mdxTextExpression")return T5(e,t);if(t.type==="mdxJsxFlowElement"||t.type==="mdxJsxTextElement")return E5(e,t,n);if(t.type==="mdxjsEsm")return x5(e,t);if(t.type==="root")return S5(e,t,n);if(t.type==="text")return A5(e,t)}function k5(e,t,n){const a=e.schema;let r=a;t.tagName.toLowerCase()==="svg"&&a.space==="html"&&(r=Lr,e.schema=r),e.ancestors.push(t);const i=mv(e,t.tagName,!1),o=I5(e,t);let s=jm(e,t);return b5.has(t.tagName)&&(s=s.filter(function(l){return typeof l=="string"?!WC(l):!0})),fv(e,o,i,t),Fm(o,s),e.ancestors.pop(),e.schema=a,e.create(t,i,o,n)}function T5(e,t){if(t.data&&t.data.estree&&e.evaluater){const a=t.data.estree.body[0];return a.type,e.evaluater.evaluateExpression(a.expression)}Fs(e,t.position)}function x5(e,t){if(t.data&&t.data.estree&&e.evaluater)return e.evaluater.evaluateProgram(t.data.estree);Fs(e,t.position)}function E5(e,t,n){const a=e.schema;let r=a;t.name==="svg"&&a.space==="html"&&(r=Lr,e.schema=r),e.ancestors.push(t);const i=t.name===null?e.Fragment:mv(e,t.name,!0),o=_5(e,t),s=jm(e,t);return fv(e,o,i,t),Fm(o,s),e.ancestors.pop(),e.schema=a,e.create(t,i,o,n)}function S5(e,t,n){const a={};return Fm(a,jm(e,t)),e.create(t,e.Fragment,a,n)}function A5(e,t){return t.value}function fv(e,t,n,a){typeof n!="string"&&n!==e.Fragment&&e.passNode&&(t.node=a)}function Fm(e,t){if(t.length>0){const n=t.length>1?t:t[0];n&&(e.children=n)}}function C5(e,t,n){return a;function a(r,i,o,s){const u=Array.isArray(o.children)?n:t;return s?u(i,o,s):u(i,o)}}function N5(e,t){return n;function n(a,r,i,o){const s=Array.isArray(i.children),l=Sa(a);return t(r,i,o,s,{columnNumber:l?l.column-1:void 0,fileName:e,lineNumber:l?l.line:void 0},void 0)}}function I5(e,t){const n={};let a,r;for(r in t.properties)if(r!=="children"&&Mm.call(t.properties,r)){const i=R5(e,r,t.properties[r]);if(i){const[o,s]=i;e.tableCellAlignToStyle&&o==="align"&&typeof s=="string"&&v5.has(t.tagName)?a=s:n[o]=s}}if(a){const i=n.style||(n.style={});i[e.stylePropertyNameCase==="css"?"text-align":"textAlign"]=a}return n}function _5(e,t){const n={};for(const a of t.attributes)if(a.type==="mdxJsxExpressionAttribute")if(a.data&&a.data.estree&&e.evaluater){const i=a.data.estree.body[0];i.type;const o=i.expression;o.type;const s=o.properties[0];s.type,Object.assign(n,e.evaluater.evaluateExpression(s.argument))}else Fs(e,t.position);else{const r=a.name;let i;if(a.value&&typeof a.value=="object")if(a.value.data&&a.value.data.estree&&e.evaluater){const s=a.value.data.estree.body[0];s.type,i=e.evaluater.evaluateExpression(s.expression)}else Fs(e,t.position);else i=a.value===null?!0:a.value;n[r]=i}return n}function jm(e,t){const n=[];let a=-1;const r=e.passKeys?new Map:p5;for(;++a<t.children.length;){const i=t.children[a];let o;if(e.passKeys){const l=i.type==="element"?i.tagName:i.type==="mdxJsxFlowElement"||i.type==="mdxJsxTextElement"?i.name:void 0;if(l){const u=r.get(l)||0;o=l+"-"+u,r.set(l,u+1)}}const s=hv(e,i,o);s!==void 0&&n.push(s)}return n}function R5(e,t,n){const a=gc(e.schema,t);if(!(n==null||typeof n=="number"&&Number.isNaN(n))){if(Array.isArray(n)&&(n=a.commaSeparated?Zb(n):lv(n)),a.property==="style"){let r=typeof n=="object"?n:L5(e,String(n));return e.stylePropertyNameCase==="css"&&(r=O5(r)),["style",r]}return[e.elementAttributeNameCase==="react"&&a.space?JC[a.property]||a.property:a.attribute,n]}}function L5(e,t){const n={};try{f5(t,a)}catch(r){if(!e.ignoreInvalidStyle){const i=r,o=new Jt("Cannot parse `style` attribute",{ancestors:e.ancestors,cause:i,ruleId:"style",source:"hast-util-to-jsx-runtime"});throw o.file=e.filePath||void 0,o.url=dv+"#cannot-parse-style-attribute",o}}return n;function a(r,i){let o=r;o.slice(0,2)!=="--"&&(o.slice(0,4)==="-ms-"&&(o="ms-"+o.slice(4)),o=o.replace(y5,P5)),n[o]=i}}function mv(e,t,n){let a;if(!n)a={type:"Literal",value:t};else if(t.includes(".")){const r=t.split(".");let i=-1,o;for(;++i<r.length;){const s=Zp(r[i])?{type:"Identifier",name:r[i]}:{type:"Literal",value:r[i]};o=o?{type:"MemberExpression",object:o,property:s,computed:!!(i&&s.type==="Literal"),optional:!1}:s}a=o}else a=Zp(t)&&!/^[a-z]/.test(t)?{type:"Identifier",name:t}:{type:"Literal",value:t};if(a.type==="Literal"){const r=a.value;return Mm.call(e.components,r)?e.components[r]:r}if(e.evaluater)return e.evaluater.evaluateExpression(a);Fs(e)}function Fs(e,t){const n=new Jt("Cannot handle MDX estrees without `createEvaluater`",{ancestors:e.ancestors,place:t,ruleId:"mdx-estree",source:"hast-util-to-jsx-runtime"});throw n.file=e.filePath||void 0,n.url=dv+"#cannot-handle-mdx-estrees-without-createevaluater",n}function O5(e){const t={};let n;for(n in e)Mm.call(e,n)&&(t[D5(n)]=e[n]);return t}function D5(e){let t=e.replace(g5,M5);return t.slice(0,3)==="ms-"&&(t="-"+t),t}function P5(e,t){return t.toUpperCase()}function M5(e){return"-"+e.toLowerCase()}const wd={action:["form"],cite:["blockquote","del","ins","q"],data:["object"],formAction:["button","input"],href:["a","area","base","link"],icon:["menuitem"],itemId:null,manifest:["html"],ping:["a","area"],poster:["video"],src:["audio","embed","iframe","img","input","script","source","track","video"]},F5={};function Bm(e,t){const n=t||F5,a=typeof n.includeImageAlt=="boolean"?n.includeImageAlt:!0,r=typeof n.includeHtml=="boolean"?n.includeHtml:!0;return pv(e,a,r)}function pv(e,t,n){if(j5(e)){if("value"in e)return e.type==="html"&&!n?"":e.value;if(t&&"alt"in e&&e.alt)return e.alt;if("children"in e)return dg(e.children,t,n)}return Array.isArray(e)?dg(e,t,n):""}function dg(e,t,n){const a=[];let r=-1;for(;++r<e.length;)a[r]=pv(e[r],t,n);return a.join("")}function j5(e){return!!(e&&typeof e=="object")}const hg=document.createElement("i");function Hm(e){const t="&"+e+";";hg.innerHTML=t;const n=hg.textContent;return n.charCodeAt(n.length-1)===59&&e!=="semi"||n===t?!1:n}function En(e,t,n,a){const r=e.length;let i=0,o;if(t<0?t=-t>r?0:r+t:t=t>r?r:t,n=n>0?n:0,a.length<1e4)o=Array.from(a),o.unshift(t,n),e.splice(...o);else for(n&&e.splice(t,n);i<a.length;)o=a.slice(i,i+1e4),o.unshift(t,0),e.splice(...o),i+=1e4,t+=1e4}function Pn(e,t){return e.length>0?(En(e,e.length,0,t),e):t}const fg={}.hasOwnProperty;function gv(e){const t={};let n=-1;for(;++n<e.length;)B5(t,e[n]);return t}function B5(e,t){let n;for(n in t){const r=(fg.call(e,n)?e[n]:void 0)||(e[n]={}),i=t[n];let o;if(i)for(o in i){fg.call(r,o)||(r[o]=[]);const s=i[o];H5(r[o],Array.isArray(s)?s:s?[s]:[])}}}function H5(e,t){let n=-1;const a=[];for(;++n<t.length;)(t[n].add==="after"?e:a).push(t[n]);En(e,0,0,a)}function yv(e,t){const n=Number.parseInt(e,t);return n<9||n===11||n>13&&n<32||n>126&&n<160||n>55295&&n<57344||n>64975&&n<65008||(n&65535)===65535||(n&65535)===65534||n>1114111?"":String.fromCodePoint(n)}function ra(e){return e.replace(/[\t\n\r ]+/g," ").replace(/^ | $/g,"").toLowerCase().toUpperCase()}const q5=Or(new RegExp("\\p{P}","u")),nn=Or(/[A-Za-z]/),Kt=Or(/[\dA-Za-z]/),U5=Or(/[#-'*+\--9=?A-Z^-~]/);function Du(e){return e!==null&&(e<32||e===127)}const Vh=Or(/\d/),W5=Or(/[\dA-Fa-f]/),bv=Or(/[!-/:-@[-`{-~]/);function we(e){return e!==null&&e<-2}function tt(e){return e!==null&&(e<0||e===32)}function Oe(e){return e===-2||e===-1||e===32}function bc(e){return bv(e)||q5(e)}const li=Or(/\s/);function Or(e){return t;function t(n){return n!==null&&n>-1&&e.test(String.fromCharCode(n))}}function yo(e){const t=[];let n=-1,a=0,r=0;for(;++n<e.length;){const i=e.charCodeAt(n);let o="";if(i===37&&Kt(e.charCodeAt(n+1))&&Kt(e.charCodeAt(n+2)))r=2;else if(i<128)/[!#$&-;=?-Z_a-z~]/.test(String.fromCharCode(i))||(o=String.fromCharCode(i));else if(i>55295&&i<57344){const s=e.charCodeAt(n+1);i<56320&&s>56319&&s<57344?(o=String.fromCharCode(i,s),r=1):o=""}else o=String.fromCharCode(i);o&&(t.push(e.slice(a,n),encodeURIComponent(o)),a=n+r+1,o=""),r&&(n+=r,r=0)}return t.join("")+e.slice(a)}function He(e,t,n,a){const r=a?a-1:Number.POSITIVE_INFINITY;let i=0;return o;function o(l){return Oe(l)?(e.enter(n),s(l)):t(l)}function s(l){return Oe(l)&&i++<r?(e.consume(l),s):(e.exit(n),t(l))}}const Y5={tokenize:z5};function z5(e){const t=e.attempt(this.parser.constructs.contentInitial,a,r);let n;return t;function a(s){if(s===null){e.consume(s);return}return e.enter("lineEnding"),e.consume(s),e.exit("lineEnding"),He(e,t,"linePrefix")}function r(s){return e.enter("paragraph"),i(s)}function i(s){const l=e.enter("chunkText",{contentType:"text",previous:n});return n&&(n.next=l),n=l,o(s)}function o(s){if(s===null){e.exit("chunkText"),e.exit("paragraph"),e.consume(s);return}return we(s)?(e.consume(s),e.exit("chunkText"),i):(e.consume(s),o)}}const $5={tokenize:G5},mg={tokenize:V5};function G5(e){const t=this,n=[];let a=0,r,i,o;return s;function s(x){if(a<n.length){const w=n[a];return t.containerState=w[1],e.attempt(w[0].continuation,l,u)(x)}return u(x)}function l(x){if(a++,t.containerState._closeFlow){t.containerState._closeFlow=void 0,r&&b();const w=t.events.length;let O=w,N;for(;O--;)if(t.events[O][0]==="exit"&&t.events[O][1].type==="chunkFlow"){N=t.events[O][1].end;break}y(a);let R=w;for(;R<t.events.length;)t.events[R][1].end=Object.assign({},N),R++;return En(t.events,O+1,0,t.events.slice(w)),t.events.length=R,u(x)}return s(x)}function u(x){if(a===n.length){if(!r)return m(x);if(r.currentConstruct&&r.currentConstruct.concrete)return v(x);t.interrupt=!!(r.currentConstruct&&!r._gfmTableDynamicInterruptHack)}return t.containerState={},e.check(mg,d,f)(x)}function d(x){return r&&b(),y(a),m(x)}function f(x){return t.parser.lazy[t.now().line]=a!==n.length,o=t.now().offset,v(x)}function m(x){return t.containerState={},e.attempt(mg,p,v)(x)}function p(x){return a++,n.push([t.currentConstruct,t.containerState]),m(x)}function v(x){if(x===null){r&&b(),y(0),e.consume(x);return}return r=r||t.parser.flow(t.now()),e.enter("chunkFlow",{contentType:"flow",previous:i,_tokenizer:r}),k(x)}function k(x){if(x===null){T(e.exit("chunkFlow"),!0),y(0),e.consume(x);return}return we(x)?(e.consume(x),T(e.exit("chunkFlow")),a=0,t.interrupt=void 0,s):(e.consume(x),k)}function T(x,w){const O=t.sliceStream(x);if(w&&O.push(null),x.previous=i,i&&(i.next=x),i=x,r.defineSkip(x.start),r.write(O),t.parser.lazy[x.start.line]){let N=r.events.length;for(;N--;)if(r.events[N][1].start.offset<o&&(!r.events[N][1].end||r.events[N][1].end.offset>o))return;const R=t.events.length;let D=R,P,_;for(;D--;)if(t.events[D][0]==="exit"&&t.events[D][1].type==="chunkFlow"){if(P){_=t.events[D][1].end;break}P=!0}for(y(a),N=R;N<t.events.length;)t.events[N][1].end=Object.assign({},_),N++;En(t.events,D+1,0,t.events.slice(R)),t.events.length=N}}function y(x){let w=n.length;for(;w-- >x;){const O=n[w];t.containerState=O[1],O[0].exit.call(t,e)}n.length=x}function b(){r.write([null]),i=void 0,r=void 0,t.containerState._closeFlow=void 0}}function V5(e,t,n){return He(e,e.attempt(this.parser.constructs.document,t,n),"linePrefix",this.parser.constructs.disable.null.includes("codeIndented")?void 0:4)}function Pu(e){if(e===null||tt(e)||li(e))return 1;if(bc(e))return 2}function vc(e,t,n){const a=[];let r=-1;for(;++r<e.length;){const i=e[r].resolveAll;i&&!a.includes(i)&&(t=i(t,n),a.push(i))}return t}const Kh={name:"attention",tokenize:Q5,resolveAll:K5};function K5(e,t){let n=-1,a,r,i,o,s,l,u,d;for(;++n<e.length;)if(e[n][0]==="enter"&&e[n][1].type==="attentionSequence"&&e[n][1]._close){for(a=n;a--;)if(e[a][0]==="exit"&&e[a][1].type==="attentionSequence"&&e[a][1]._open&&t.sliceSerialize(e[a][1]).charCodeAt(0)===t.sliceSerialize(e[n][1]).charCodeAt(0)){if((e[a][1]._close||e[n][1]._open)&&(e[n][1].end.offset-e[n][1].start.offset)%3&&!((e[a][1].end.offset-e[a][1].start.offset+e[n][1].end.offset-e[n][1].start.offset)%3))continue;l=e[a][1].end.offset-e[a][1].start.offset>1&&e[n][1].end.offset-e[n][1].start.offset>1?2:1;const f=Object.assign({},e[a][1].end),m=Object.assign({},e[n][1].start);pg(f,-l),pg(m,l),o={type:l>1?"strongSequence":"emphasisSequence",start:f,end:Object.assign({},e[a][1].end)},s={type:l>1?"strongSequence":"emphasisSequence",start:Object.assign({},e[n][1].start),end:m},i={type:l>1?"strongText":"emphasisText",start:Object.assign({},e[a][1].end),end:Object.assign({},e[n][1].start)},r={type:l>1?"strong":"emphasis",start:Object.assign({},o.start),end:Object.assign({},s.end)},e[a][1].end=Object.assign({},o.start),e[n][1].start=Object.assign({},s.end),u=[],e[a][1].end.offset-e[a][1].start.offset&&(u=Pn(u,[["enter",e[a][1],t],["exit",e[a][1],t]])),u=Pn(u,[["enter",r,t],["enter",o,t],["exit",o,t],["enter",i,t]]),u=Pn(u,vc(t.parser.constructs.insideSpan.null,e.slice(a+1,n),t)),u=Pn(u,[["exit",i,t],["enter",s,t],["exit",s,t],["exit",r,t]]),e[n][1].end.offset-e[n][1].start.offset?(d=2,u=Pn(u,[["enter",e[n][1],t],["exit",e[n][1],t]])):d=0,En(e,a-1,n-a+3,u),n=a+u.length-d-2;break}}for(n=-1;++n<e.length;)e[n][1].type==="attentionSequence"&&(e[n][1].type="data");return e}function Q5(e,t){const n=this.parser.constructs.attentionMarkers.null,a=this.previous,r=Pu(a);let i;return o;function o(l){return i=l,e.enter("attentionSequence"),s(l)}function s(l){if(l===i)return e.consume(l),s;const u=e.exit("attentionSequence"),d=Pu(l),f=!d||d===2&&r||n.includes(l),m=!r||r===2&&d||n.includes(a);return u._open=!!(i===42?f:f&&(r||!m)),u._close=!!(i===42?m:m&&(d||!f)),t(l)}}function pg(e,t){e.column+=t,e.offset+=t,e._bufferIndex+=t}const X5={name:"autolink",tokenize:J5};function J5(e,t,n){let a=0;return r;function r(p){return e.enter("autolink"),e.enter("autolinkMarker"),e.consume(p),e.exit("autolinkMarker"),e.enter("autolinkProtocol"),i}function i(p){return nn(p)?(e.consume(p),o):u(p)}function o(p){return p===43||p===45||p===46||Kt(p)?(a=1,s(p)):u(p)}function s(p){return p===58?(e.consume(p),a=0,l):(p===43||p===45||p===46||Kt(p))&&a++<32?(e.consume(p),s):(a=0,u(p))}function l(p){return p===62?(e.exit("autolinkProtocol"),e.enter("autolinkMarker"),e.consume(p),e.exit("autolinkMarker"),e.exit("autolink"),t):p===null||p===32||p===60||Du(p)?n(p):(e.consume(p),l)}function u(p){return p===64?(e.consume(p),d):U5(p)?(e.consume(p),u):n(p)}function d(p){return Kt(p)?f(p):n(p)}function f(p){return p===46?(e.consume(p),a=0,d):p===62?(e.exit("autolinkProtocol").type="autolinkEmail",e.enter("autolinkMarker"),e.consume(p),e.exit("autolinkMarker"),e.exit("autolink"),t):m(p)}function m(p){if((p===45||Kt(p))&&a++<63){const v=p===45?m:f;return e.consume(p),v}return n(p)}}const sl={tokenize:Z5,partial:!0};function Z5(e,t,n){return a;function a(i){return Oe(i)?He(e,r,"linePrefix")(i):r(i)}function r(i){return i===null||we(i)?t(i):n(i)}}const vv={name:"blockQuote",tokenize:eN,continuation:{tokenize:tN},exit:nN};function eN(e,t,n){const a=this;return r;function r(o){if(o===62){const s=a.containerState;return s.open||(e.enter("blockQuote",{_container:!0}),s.open=!0),e.enter("blockQuotePrefix"),e.enter("blockQuoteMarker"),e.consume(o),e.exit("blockQuoteMarker"),i}return n(o)}function i(o){return Oe(o)?(e.enter("blockQuotePrefixWhitespace"),e.consume(o),e.exit("blockQuotePrefixWhitespace"),e.exit("blockQuotePrefix"),t):(e.exit("blockQuotePrefix"),t(o))}}function tN(e,t,n){const a=this;return r;function r(o){return Oe(o)?He(e,i,"linePrefix",a.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(o):i(o)}function i(o){return e.attempt(vv,t,n)(o)}}function nN(e){e.exit("blockQuote")}const wv={name:"characterEscape",tokenize:aN};function aN(e,t,n){return a;function a(i){return e.enter("characterEscape"),e.enter("escapeMarker"),e.consume(i),e.exit("escapeMarker"),r}function r(i){return bv(i)?(e.enter("characterEscapeValue"),e.consume(i),e.exit("characterEscapeValue"),e.exit("characterEscape"),t):n(i)}}const kv={name:"characterReference",tokenize:rN};function rN(e,t,n){const a=this;let r=0,i,o;return s;function s(f){return e.enter("characterReference"),e.enter("characterReferenceMarker"),e.consume(f),e.exit("characterReferenceMarker"),l}function l(f){return f===35?(e.enter("characterReferenceMarkerNumeric"),e.consume(f),e.exit("characterReferenceMarkerNumeric"),u):(e.enter("characterReferenceValue"),i=31,o=Kt,d(f))}function u(f){return f===88||f===120?(e.enter("characterReferenceMarkerHexadecimal"),e.consume(f),e.exit("characterReferenceMarkerHexadecimal"),e.enter("characterReferenceValue"),i=6,o=W5,d):(e.enter("characterReferenceValue"),i=7,o=Vh,d(f))}function d(f){if(f===59&&r){const m=e.exit("characterReferenceValue");return o===Kt&&!Hm(a.sliceSerialize(m))?n(f):(e.enter("characterReferenceMarker"),e.consume(f),e.exit("characterReferenceMarker"),e.exit("characterReference"),t)}return o(f)&&r++<i?(e.consume(f),d):n(f)}}const gg={tokenize:oN,partial:!0},yg={name:"codeFenced",tokenize:iN,concrete:!0};function iN(e,t,n){const a=this,r={tokenize:O,partial:!0};let i=0,o=0,s;return l;function l(N){return u(N)}function u(N){const R=a.events[a.events.length-1];return i=R&&R[1].type==="linePrefix"?R[2].sliceSerialize(R[1],!0).length:0,s=N,e.enter("codeFenced"),e.enter("codeFencedFence"),e.enter("codeFencedFenceSequence"),d(N)}function d(N){return N===s?(o++,e.consume(N),d):o<3?n(N):(e.exit("codeFencedFenceSequence"),Oe(N)?He(e,f,"whitespace")(N):f(N))}function f(N){return N===null||we(N)?(e.exit("codeFencedFence"),a.interrupt?t(N):e.check(gg,k,w)(N)):(e.enter("codeFencedFenceInfo"),e.enter("chunkString",{contentType:"string"}),m(N))}function m(N){return N===null||we(N)?(e.exit("chunkString"),e.exit("codeFencedFenceInfo"),f(N)):Oe(N)?(e.exit("chunkString"),e.exit("codeFencedFenceInfo"),He(e,p,"whitespace")(N)):N===96&&N===s?n(N):(e.consume(N),m)}function p(N){return N===null||we(N)?f(N):(e.enter("codeFencedFenceMeta"),e.enter("chunkString",{contentType:"string"}),v(N))}function v(N){return N===null||we(N)?(e.exit("chunkString"),e.exit("codeFencedFenceMeta"),f(N)):N===96&&N===s?n(N):(e.consume(N),v)}function k(N){return e.attempt(r,w,T)(N)}function T(N){return e.enter("lineEnding"),e.consume(N),e.exit("lineEnding"),y}function y(N){return i>0&&Oe(N)?He(e,b,"linePrefix",i+1)(N):b(N)}function b(N){return N===null||we(N)?e.check(gg,k,w)(N):(e.enter("codeFlowValue"),x(N))}function x(N){return N===null||we(N)?(e.exit("codeFlowValue"),b(N)):(e.consume(N),x)}function w(N){return e.exit("codeFenced"),t(N)}function O(N,R,D){let P=0;return _;function _(Q){return N.enter("lineEnding"),N.consume(Q),N.exit("lineEnding"),S}function S(Q){return N.enter("codeFencedFence"),Oe(Q)?He(N,M,"linePrefix",a.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(Q):M(Q)}function M(Q){return Q===s?(N.enter("codeFencedFenceSequence"),B(Q)):D(Q)}function B(Q){return Q===s?(P++,N.consume(Q),B):P>=o?(N.exit("codeFencedFenceSequence"),Oe(Q)?He(N,re,"whitespace")(Q):re(Q)):D(Q)}function re(Q){return Q===null||we(Q)?(N.exit("codeFencedFence"),R(Q)):D(Q)}}}function oN(e,t,n){const a=this;return r;function r(o){return o===null?n(o):(e.enter("lineEnding"),e.consume(o),e.exit("lineEnding"),i)}function i(o){return a.parser.lazy[a.now().line]?n(o):t(o)}}const kd={name:"codeIndented",tokenize:lN},sN={tokenize:uN,partial:!0};function lN(e,t,n){const a=this;return r;function r(u){return e.enter("codeIndented"),He(e,i,"linePrefix",5)(u)}function i(u){const d=a.events[a.events.length-1];return d&&d[1].type==="linePrefix"&&d[2].sliceSerialize(d[1],!0).length>=4?o(u):n(u)}function o(u){return u===null?l(u):we(u)?e.attempt(sN,o,l)(u):(e.enter("codeFlowValue"),s(u))}function s(u){return u===null||we(u)?(e.exit("codeFlowValue"),o(u)):(e.consume(u),s)}function l(u){return e.exit("codeIndented"),t(u)}}function uN(e,t,n){const a=this;return r;function r(o){return a.parser.lazy[a.now().line]?n(o):we(o)?(e.enter("lineEnding"),e.consume(o),e.exit("lineEnding"),r):He(e,i,"linePrefix",5)(o)}function i(o){const s=a.events[a.events.length-1];return s&&s[1].type==="linePrefix"&&s[2].sliceSerialize(s[1],!0).length>=4?t(o):we(o)?r(o):n(o)}}const cN={name:"codeText",tokenize:fN,resolve:dN,previous:hN};function dN(e){let t=e.length-4,n=3,a,r;if((e[n][1].type==="lineEnding"||e[n][1].type==="space")&&(e[t][1].type==="lineEnding"||e[t][1].type==="space")){for(a=n;++a<t;)if(e[a][1].type==="codeTextData"){e[n][1].type="codeTextPadding",e[t][1].type="codeTextPadding",n+=2,t-=2;break}}for(a=n-1,t++;++a<=t;)r===void 0?a!==t&&e[a][1].type!=="lineEnding"&&(r=a):(a===t||e[a][1].type==="lineEnding")&&(e[r][1].type="codeTextData",a!==r+2&&(e[r][1].end=e[a-1][1].end,e.splice(r+2,a-r-2),t-=a-r-2,a=r+2),r=void 0);return e}function hN(e){return e!==96||this.events[this.events.length-1][1].type==="characterEscape"}function fN(e,t,n){let a=0,r,i;return o;function o(f){return e.enter("codeText"),e.enter("codeTextSequence"),s(f)}function s(f){return f===96?(e.consume(f),a++,s):(e.exit("codeTextSequence"),l(f))}function l(f){return f===null?n(f):f===32?(e.enter("space"),e.consume(f),e.exit("space"),l):f===96?(i=e.enter("codeTextSequence"),r=0,d(f)):we(f)?(e.enter("lineEnding"),e.consume(f),e.exit("lineEnding"),l):(e.enter("codeTextData"),u(f))}function u(f){return f===null||f===32||f===96||we(f)?(e.exit("codeTextData"),l(f)):(e.consume(f),u)}function d(f){return f===96?(e.consume(f),r++,d):r===a?(e.exit("codeTextSequence"),e.exit("codeText"),t(f)):(i.type="codeTextData",u(f))}}function Tv(e){const t={};let n=-1,a,r,i,o,s,l,u;for(;++n<e.length;){for(;n in t;)n=t[n];if(a=e[n],n&&a[1].type==="chunkFlow"&&e[n-1][1].type==="listItemPrefix"&&(l=a[1]._tokenizer.events,i=0,i<l.length&&l[i][1].type==="lineEndingBlank"&&(i+=2),i<l.length&&l[i][1].type==="content"))for(;++i<l.length&&l[i][1].type!=="content";)l[i][1].type==="chunkText"&&(l[i][1]._isInFirstContentOfListItem=!0,i++);if(a[0]==="enter")a[1].contentType&&(Object.assign(t,mN(e,n)),n=t[n],u=!0);else if(a[1]._container){for(i=n,r=void 0;i--&&(o=e[i],o[1].type==="lineEnding"||o[1].type==="lineEndingBlank");)o[0]==="enter"&&(r&&(e[r][1].type="lineEndingBlank"),o[1].type="lineEnding",r=i);r&&(a[1].end=Object.assign({},e[r][1].start),s=e.slice(r,n),s.unshift(a),En(e,r,n-r+1,s))}}return!u}function mN(e,t){const n=e[t][1],a=e[t][2];let r=t-1;const i=[],o=n._tokenizer||a.parser[n.contentType](n.start),s=o.events,l=[],u={};let d,f,m=-1,p=n,v=0,k=0;const T=[k];for(;p;){for(;e[++r][1]!==p;);i.push(r),p._tokenizer||(d=a.sliceStream(p),p.next||d.push(null),f&&o.defineSkip(p.start),p._isInFirstContentOfListItem&&(o._gfmTasklistFirstContentOfListItem=!0),o.write(d),p._isInFirstContentOfListItem&&(o._gfmTasklistFirstContentOfListItem=void 0)),f=p,p=p.next}for(p=n;++m<s.length;)s[m][0]==="exit"&&s[m-1][0]==="enter"&&s[m][1].type===s[m-1][1].type&&s[m][1].start.line!==s[m][1].end.line&&(k=m+1,T.push(k),p._tokenizer=void 0,p.previous=void 0,p=p.next);for(o.events=[],p?(p._tokenizer=void 0,p.previous=void 0):T.pop(),m=T.length;m--;){const y=s.slice(T[m],T[m+1]),b=i.pop();l.unshift([b,b+y.length-1]),En(e,b,2,y)}for(m=-1;++m<l.length;)u[v+l[m][0]]=v+l[m][1],v+=l[m][1]-l[m][0]-1;return u}const pN={tokenize:bN,resolve:yN},gN={tokenize:vN,partial:!0};function yN(e){return Tv(e),e}function bN(e,t){let n;return a;function a(s){return e.enter("content"),n=e.enter("chunkContent",{contentType:"content"}),r(s)}function r(s){return s===null?i(s):we(s)?e.check(gN,o,i)(s):(e.consume(s),r)}function i(s){return e.exit("chunkContent"),e.exit("content"),t(s)}function o(s){return e.consume(s),e.exit("chunkContent"),n.next=e.enter("chunkContent",{contentType:"content",previous:n}),n=n.next,r}}function vN(e,t,n){const a=this;return r;function r(o){return e.exit("chunkContent"),e.enter("lineEnding"),e.consume(o),e.exit("lineEnding"),He(e,i,"linePrefix")}function i(o){if(o===null||we(o))return n(o);const s=a.events[a.events.length-1];return!a.parser.constructs.disable.null.includes("codeIndented")&&s&&s[1].type==="linePrefix"&&s[2].sliceSerialize(s[1],!0).length>=4?t(o):e.interrupt(a.parser.constructs.flow,n,t)(o)}}function xv(e,t,n,a,r,i,o,s,l){const u=l||Number.POSITIVE_INFINITY;let d=0;return f;function f(y){return y===60?(e.enter(a),e.enter(r),e.enter(i),e.consume(y),e.exit(i),m):y===null||y===32||y===41||Du(y)?n(y):(e.enter(a),e.enter(o),e.enter(s),e.enter("chunkString",{contentType:"string"}),k(y))}function m(y){return y===62?(e.enter(i),e.consume(y),e.exit(i),e.exit(r),e.exit(a),t):(e.enter(s),e.enter("chunkString",{contentType:"string"}),p(y))}function p(y){return y===62?(e.exit("chunkString"),e.exit(s),m(y)):y===null||y===60||we(y)?n(y):(e.consume(y),y===92?v:p)}function v(y){return y===60||y===62||y===92?(e.consume(y),p):p(y)}function k(y){return!d&&(y===null||y===41||tt(y))?(e.exit("chunkString"),e.exit(s),e.exit(o),e.exit(a),t(y)):d<u&&y===40?(e.consume(y),d++,k):y===41?(e.consume(y),d--,k):y===null||y===32||y===40||Du(y)?n(y):(e.consume(y),y===92?T:k)}function T(y){return y===40||y===41||y===92?(e.consume(y),k):k(y)}}function Ev(e,t,n,a,r,i){const o=this;let s=0,l;return u;function u(p){return e.enter(a),e.enter(r),e.consume(p),e.exit(r),e.enter(i),d}function d(p){return s>999||p===null||p===91||p===93&&!l||p===94&&!s&&"_hiddenFootnoteSupport"in o.parser.constructs?n(p):p===93?(e.exit(i),e.enter(r),e.consume(p),e.exit(r),e.exit(a),t):we(p)?(e.enter("lineEnding"),e.consume(p),e.exit("lineEnding"),d):(e.enter("chunkString",{contentType:"string"}),f(p))}function f(p){return p===null||p===91||p===93||we(p)||s++>999?(e.exit("chunkString"),d(p)):(e.consume(p),l||(l=!Oe(p)),p===92?m:f)}function m(p){return p===91||p===92||p===93?(e.consume(p),s++,f):f(p)}}function Sv(e,t,n,a,r,i){let o;return s;function s(m){return m===34||m===39||m===40?(e.enter(a),e.enter(r),e.consume(m),e.exit(r),o=m===40?41:m,l):n(m)}function l(m){return m===o?(e.enter(r),e.consume(m),e.exit(r),e.exit(a),t):(e.enter(i),u(m))}function u(m){return m===o?(e.exit(i),l(o)):m===null?n(m):we(m)?(e.enter("lineEnding"),e.consume(m),e.exit("lineEnding"),He(e,u,"linePrefix")):(e.enter("chunkString",{contentType:"string"}),d(m))}function d(m){return m===o||m===null||we(m)?(e.exit("chunkString"),u(m)):(e.consume(m),m===92?f:d)}function f(m){return m===o||m===92?(e.consume(m),d):d(m)}}function us(e,t){let n;return a;function a(r){return we(r)?(e.enter("lineEnding"),e.consume(r),e.exit("lineEnding"),n=!0,a):Oe(r)?He(e,a,n?"linePrefix":"lineSuffix")(r):t(r)}}const wN={name:"definition",tokenize:TN},kN={tokenize:xN,partial:!0};function TN(e,t,n){const a=this;let r;return i;function i(p){return e.enter("definition"),o(p)}function o(p){return Ev.call(a,e,s,n,"definitionLabel","definitionLabelMarker","definitionLabelString")(p)}function s(p){return r=ra(a.sliceSerialize(a.events[a.events.length-1][1]).slice(1,-1)),p===58?(e.enter("definitionMarker"),e.consume(p),e.exit("definitionMarker"),l):n(p)}function l(p){return tt(p)?us(e,u)(p):u(p)}function u(p){return xv(e,d,n,"definitionDestination","definitionDestinationLiteral","definitionDestinationLiteralMarker","definitionDestinationRaw","definitionDestinationString")(p)}function d(p){return e.attempt(kN,f,f)(p)}function f(p){return Oe(p)?He(e,m,"whitespace")(p):m(p)}function m(p){return p===null||we(p)?(e.exit("definition"),a.parser.defined.push(r),t(p)):n(p)}}function xN(e,t,n){return a;function a(s){return tt(s)?us(e,r)(s):n(s)}function r(s){return Sv(e,i,n,"definitionTitle","definitionTitleMarker","definitionTitleString")(s)}function i(s){return Oe(s)?He(e,o,"whitespace")(s):o(s)}function o(s){return s===null||we(s)?t(s):n(s)}}const EN={name:"hardBreakEscape",tokenize:SN};function SN(e,t,n){return a;function a(i){return e.enter("hardBreakEscape"),e.consume(i),r}function r(i){return we(i)?(e.exit("hardBreakEscape"),t(i)):n(i)}}const AN={name:"headingAtx",tokenize:NN,resolve:CN};function CN(e,t){let n=e.length-2,a=3,r,i;return e[a][1].type==="whitespace"&&(a+=2),n-2>a&&e[n][1].type==="whitespace"&&(n-=2),e[n][1].type==="atxHeadingSequence"&&(a===n-1||n-4>a&&e[n-2][1].type==="whitespace")&&(n-=a+1===n?2:4),n>a&&(r={type:"atxHeadingText",start:e[a][1].start,end:e[n][1].end},i={type:"chunkText",start:e[a][1].start,end:e[n][1].end,contentType:"text"},En(e,a,n-a+1,[["enter",r,t],["enter",i,t],["exit",i,t],["exit",r,t]])),e}function NN(e,t,n){let a=0;return r;function r(d){return e.enter("atxHeading"),i(d)}function i(d){return e.enter("atxHeadingSequence"),o(d)}function o(d){return d===35&&a++<6?(e.consume(d),o):d===null||tt(d)?(e.exit("atxHeadingSequence"),s(d)):n(d)}function s(d){return d===35?(e.enter("atxHeadingSequence"),l(d)):d===null||we(d)?(e.exit("atxHeading"),t(d)):Oe(d)?He(e,s,"whitespace")(d):(e.enter("atxHeadingText"),u(d))}function l(d){return d===35?(e.consume(d),l):(e.exit("atxHeadingSequence"),s(d))}function u(d){return d===null||d===35||tt(d)?(e.exit("atxHeadingText"),s(d)):(e.consume(d),u)}}const IN=["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hr","html","iframe","legend","li","link","main","menu","menuitem","nav","noframes","ol","optgroup","option","p","param","search","section","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"],bg=["pre","script","style","textarea"],_N={name:"htmlFlow",tokenize:DN,resolveTo:ON,concrete:!0},RN={tokenize:MN,partial:!0},LN={tokenize:PN,partial:!0};function ON(e){let t=e.length;for(;t--&&!(e[t][0]==="enter"&&e[t][1].type==="htmlFlow"););return t>1&&e[t-2][1].type==="linePrefix"&&(e[t][1].start=e[t-2][1].start,e[t+1][1].start=e[t-2][1].start,e.splice(t-2,2)),e}function DN(e,t,n){const a=this;let r,i,o,s,l;return u;function u(A){return d(A)}function d(A){return e.enter("htmlFlow"),e.enter("htmlFlowData"),e.consume(A),f}function f(A){return A===33?(e.consume(A),m):A===47?(e.consume(A),i=!0,k):A===63?(e.consume(A),r=3,a.interrupt?t:I):nn(A)?(e.consume(A),o=String.fromCharCode(A),T):n(A)}function m(A){return A===45?(e.consume(A),r=2,p):A===91?(e.consume(A),r=5,s=0,v):nn(A)?(e.consume(A),r=4,a.interrupt?t:I):n(A)}function p(A){return A===45?(e.consume(A),a.interrupt?t:I):n(A)}function v(A){const U="CDATA[";return A===U.charCodeAt(s++)?(e.consume(A),s===U.length?a.interrupt?t:M:v):n(A)}function k(A){return nn(A)?(e.consume(A),o=String.fromCharCode(A),T):n(A)}function T(A){if(A===null||A===47||A===62||tt(A)){const U=A===47,ae=o.toLowerCase();return!U&&!i&&bg.includes(ae)?(r=1,a.interrupt?t(A):M(A)):IN.includes(o.toLowerCase())?(r=6,U?(e.consume(A),y):a.interrupt?t(A):M(A)):(r=7,a.interrupt&&!a.parser.lazy[a.now().line]?n(A):i?b(A):x(A))}return A===45||Kt(A)?(e.consume(A),o+=String.fromCharCode(A),T):n(A)}function y(A){return A===62?(e.consume(A),a.interrupt?t:M):n(A)}function b(A){return Oe(A)?(e.consume(A),b):_(A)}function x(A){return A===47?(e.consume(A),_):A===58||A===95||nn(A)?(e.consume(A),w):Oe(A)?(e.consume(A),x):_(A)}function w(A){return A===45||A===46||A===58||A===95||Kt(A)?(e.consume(A),w):O(A)}function O(A){return A===61?(e.consume(A),N):Oe(A)?(e.consume(A),O):x(A)}function N(A){return A===null||A===60||A===61||A===62||A===96?n(A):A===34||A===39?(e.consume(A),l=A,R):Oe(A)?(e.consume(A),N):D(A)}function R(A){return A===l?(e.consume(A),l=null,P):A===null||we(A)?n(A):(e.consume(A),R)}function D(A){return A===null||A===34||A===39||A===47||A===60||A===61||A===62||A===96||tt(A)?O(A):(e.consume(A),D)}function P(A){return A===47||A===62||Oe(A)?x(A):n(A)}function _(A){return A===62?(e.consume(A),S):n(A)}function S(A){return A===null||we(A)?M(A):Oe(A)?(e.consume(A),S):n(A)}function M(A){return A===45&&r===2?(e.consume(A),ee):A===60&&r===1?(e.consume(A),te):A===62&&r===4?(e.consume(A),ce):A===63&&r===3?(e.consume(A),I):A===93&&r===5?(e.consume(A),V):we(A)&&(r===6||r===7)?(e.exit("htmlFlowData"),e.check(RN,ue,B)(A)):A===null||we(A)?(e.exit("htmlFlowData"),B(A)):(e.consume(A),M)}function B(A){return e.check(LN,re,ue)(A)}function re(A){return e.enter("lineEnding"),e.consume(A),e.exit("lineEnding"),Q}function Q(A){return A===null||we(A)?B(A):(e.enter("htmlFlowData"),M(A))}function ee(A){return A===45?(e.consume(A),I):M(A)}function te(A){return A===47?(e.consume(A),o="",W):M(A)}function W(A){if(A===62){const U=o.toLowerCase();return bg.includes(U)?(e.consume(A),ce):M(A)}return nn(A)&&o.length<8?(e.consume(A),o+=String.fromCharCode(A),W):M(A)}function V(A){return A===93?(e.consume(A),I):M(A)}function I(A){return A===62?(e.consume(A),ce):A===45&&r===2?(e.consume(A),I):M(A)}function ce(A){return A===null||we(A)?(e.exit("htmlFlowData"),ue(A)):(e.consume(A),ce)}function ue(A){return e.exit("htmlFlow"),t(A)}}function PN(e,t,n){const a=this;return r;function r(o){return we(o)?(e.enter("lineEnding"),e.consume(o),e.exit("lineEnding"),i):n(o)}function i(o){return a.parser.lazy[a.now().line]?n(o):t(o)}}function MN(e,t,n){return a;function a(r){return e.enter("lineEnding"),e.consume(r),e.exit("lineEnding"),e.attempt(sl,t,n)}}const FN={name:"htmlText",tokenize:jN};function jN(e,t,n){const a=this;let r,i,o;return s;function s(I){return e.enter("htmlText"),e.enter("htmlTextData"),e.consume(I),l}function l(I){return I===33?(e.consume(I),u):I===47?(e.consume(I),O):I===63?(e.consume(I),x):nn(I)?(e.consume(I),D):n(I)}function u(I){return I===45?(e.consume(I),d):I===91?(e.consume(I),i=0,v):nn(I)?(e.consume(I),b):n(I)}function d(I){return I===45?(e.consume(I),p):n(I)}function f(I){return I===null?n(I):I===45?(e.consume(I),m):we(I)?(o=f,te(I)):(e.consume(I),f)}function m(I){return I===45?(e.consume(I),p):f(I)}function p(I){return I===62?ee(I):I===45?m(I):f(I)}function v(I){const ce="CDATA[";return I===ce.charCodeAt(i++)?(e.consume(I),i===ce.length?k:v):n(I)}function k(I){return I===null?n(I):I===93?(e.consume(I),T):we(I)?(o=k,te(I)):(e.consume(I),k)}function T(I){return I===93?(e.consume(I),y):k(I)}function y(I){return I===62?ee(I):I===93?(e.consume(I),y):k(I)}function b(I){return I===null||I===62?ee(I):we(I)?(o=b,te(I)):(e.consume(I),b)}function x(I){return I===null?n(I):I===63?(e.consume(I),w):we(I)?(o=x,te(I)):(e.consume(I),x)}function w(I){return I===62?ee(I):x(I)}function O(I){return nn(I)?(e.consume(I),N):n(I)}function N(I){return I===45||Kt(I)?(e.consume(I),N):R(I)}function R(I){return we(I)?(o=R,te(I)):Oe(I)?(e.consume(I),R):ee(I)}function D(I){return I===45||Kt(I)?(e.consume(I),D):I===47||I===62||tt(I)?P(I):n(I)}function P(I){return I===47?(e.consume(I),ee):I===58||I===95||nn(I)?(e.consume(I),_):we(I)?(o=P,te(I)):Oe(I)?(e.consume(I),P):ee(I)}function _(I){return I===45||I===46||I===58||I===95||Kt(I)?(e.consume(I),_):S(I)}function S(I){return I===61?(e.consume(I),M):we(I)?(o=S,te(I)):Oe(I)?(e.consume(I),S):P(I)}function M(I){return I===null||I===60||I===61||I===62||I===96?n(I):I===34||I===39?(e.consume(I),r=I,B):we(I)?(o=M,te(I)):Oe(I)?(e.consume(I),M):(e.consume(I),re)}function B(I){return I===r?(e.consume(I),r=void 0,Q):I===null?n(I):we(I)?(o=B,te(I)):(e.consume(I),B)}function re(I){return I===null||I===34||I===39||I===60||I===61||I===96?n(I):I===47||I===62||tt(I)?P(I):(e.consume(I),re)}function Q(I){return I===47||I===62||tt(I)?P(I):n(I)}function ee(I){return I===62?(e.consume(I),e.exit("htmlTextData"),e.exit("htmlText"),t):n(I)}function te(I){return e.exit("htmlTextData"),e.enter("lineEnding"),e.consume(I),e.exit("lineEnding"),W}function W(I){return Oe(I)?He(e,V,"linePrefix",a.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(I):V(I)}function V(I){return e.enter("htmlTextData"),o(I)}}const qm={name:"labelEnd",tokenize:YN,resolveTo:WN,resolveAll:UN},BN={tokenize:zN},HN={tokenize:$N},qN={tokenize:GN};function UN(e){let t=-1;for(;++t<e.length;){const n=e[t][1];(n.type==="labelImage"||n.type==="labelLink"||n.type==="labelEnd")&&(e.splice(t+1,n.type==="labelImage"?4:2),n.type="data",t++)}return e}function WN(e,t){let n=e.length,a=0,r,i,o,s;for(;n--;)if(r=e[n][1],i){if(r.type==="link"||r.type==="labelLink"&&r._inactive)break;e[n][0]==="enter"&&r.type==="labelLink"&&(r._inactive=!0)}else if(o){if(e[n][0]==="enter"&&(r.type==="labelImage"||r.type==="labelLink")&&!r._balanced&&(i=n,r.type!=="labelLink")){a=2;break}}else r.type==="labelEnd"&&(o=n);const l={type:e[i][1].type==="labelLink"?"link":"image",start:Object.assign({},e[i][1].start),end:Object.assign({},e[e.length-1][1].end)},u={type:"label",start:Object.assign({},e[i][1].start),end:Object.assign({},e[o][1].end)},d={type:"labelText",start:Object.assign({},e[i+a+2][1].end),end:Object.assign({},e[o-2][1].start)};return s=[["enter",l,t],["enter",u,t]],s=Pn(s,e.slice(i+1,i+a+3)),s=Pn(s,[["enter",d,t]]),s=Pn(s,vc(t.parser.constructs.insideSpan.null,e.slice(i+a+4,o-3),t)),s=Pn(s,[["exit",d,t],e[o-2],e[o-1],["exit",u,t]]),s=Pn(s,e.slice(o+1)),s=Pn(s,[["exit",l,t]]),En(e,i,e.length,s),e}function YN(e,t,n){const a=this;let r=a.events.length,i,o;for(;r--;)if((a.events[r][1].type==="labelImage"||a.events[r][1].type==="labelLink")&&!a.events[r][1]._balanced){i=a.events[r][1];break}return s;function s(m){return i?i._inactive?f(m):(o=a.parser.defined.includes(ra(a.sliceSerialize({start:i.end,end:a.now()}))),e.enter("labelEnd"),e.enter("labelMarker"),e.consume(m),e.exit("labelMarker"),e.exit("labelEnd"),l):n(m)}function l(m){return m===40?e.attempt(BN,d,o?d:f)(m):m===91?e.attempt(HN,d,o?u:f)(m):o?d(m):f(m)}function u(m){return e.attempt(qN,d,f)(m)}function d(m){return t(m)}function f(m){return i._balanced=!0,n(m)}}function zN(e,t,n){return a;function a(f){return e.enter("resource"),e.enter("resourceMarker"),e.consume(f),e.exit("resourceMarker"),r}function r(f){return tt(f)?us(e,i)(f):i(f)}function i(f){return f===41?d(f):xv(e,o,s,"resourceDestination","resourceDestinationLiteral","resourceDestinationLiteralMarker","resourceDestinationRaw","resourceDestinationString",32)(f)}function o(f){return tt(f)?us(e,l)(f):d(f)}function s(f){return n(f)}function l(f){return f===34||f===39||f===40?Sv(e,u,n,"resourceTitle","resourceTitleMarker","resourceTitleString")(f):d(f)}function u(f){return tt(f)?us(e,d)(f):d(f)}function d(f){return f===41?(e.enter("resourceMarker"),e.consume(f),e.exit("resourceMarker"),e.exit("resource"),t):n(f)}}function $N(e,t,n){const a=this;return r;function r(s){return Ev.call(a,e,i,o,"reference","referenceMarker","referenceString")(s)}function i(s){return a.parser.defined.includes(ra(a.sliceSerialize(a.events[a.events.length-1][1]).slice(1,-1)))?t(s):n(s)}function o(s){return n(s)}}function GN(e,t,n){return a;function a(i){return e.enter("reference"),e.enter("referenceMarker"),e.consume(i),e.exit("referenceMarker"),r}function r(i){return i===93?(e.enter("referenceMarker"),e.consume(i),e.exit("referenceMarker"),e.exit("reference"),t):n(i)}}const VN={name:"labelStartImage",tokenize:KN,resolveAll:qm.resolveAll};function KN(e,t,n){const a=this;return r;function r(s){return e.enter("labelImage"),e.enter("labelImageMarker"),e.consume(s),e.exit("labelImageMarker"),i}function i(s){return s===91?(e.enter("labelMarker"),e.consume(s),e.exit("labelMarker"),e.exit("labelImage"),o):n(s)}function o(s){return s===94&&"_hiddenFootnoteSupport"in a.parser.constructs?n(s):t(s)}}const QN={name:"labelStartLink",tokenize:XN,resolveAll:qm.resolveAll};function XN(e,t,n){const a=this;return r;function r(o){return e.enter("labelLink"),e.enter("labelMarker"),e.consume(o),e.exit("labelMarker"),e.exit("labelLink"),i}function i(o){return o===94&&"_hiddenFootnoteSupport"in a.parser.constructs?n(o):t(o)}}const Td={name:"lineEnding",tokenize:JN};function JN(e,t){return n;function n(a){return e.enter("lineEnding"),e.consume(a),e.exit("lineEnding"),He(e,t,"linePrefix")}}const eu={name:"thematicBreak",tokenize:ZN};function ZN(e,t,n){let a=0,r;return i;function i(u){return e.enter("thematicBreak"),o(u)}function o(u){return r=u,s(u)}function s(u){return u===r?(e.enter("thematicBreakSequence"),l(u)):a>=3&&(u===null||we(u))?(e.exit("thematicBreak"),t(u)):n(u)}function l(u){return u===r?(e.consume(u),a++,l):(e.exit("thematicBreakSequence"),Oe(u)?He(e,s,"whitespace")(u):s(u))}}const cn={name:"list",tokenize:nI,continuation:{tokenize:aI},exit:iI},eI={tokenize:oI,partial:!0},tI={tokenize:rI,partial:!0};function nI(e,t,n){const a=this,r=a.events[a.events.length-1];let i=r&&r[1].type==="linePrefix"?r[2].sliceSerialize(r[1],!0).length:0,o=0;return s;function s(p){const v=a.containerState.type||(p===42||p===43||p===45?"listUnordered":"listOrdered");if(v==="listUnordered"?!a.containerState.marker||p===a.containerState.marker:Vh(p)){if(a.containerState.type||(a.containerState.type=v,e.enter(v,{_container:!0})),v==="listUnordered")return e.enter("listItemPrefix"),p===42||p===45?e.check(eu,n,u)(p):u(p);if(!a.interrupt||p===49)return e.enter("listItemPrefix"),e.enter("listItemValue"),l(p)}return n(p)}function l(p){return Vh(p)&&++o<10?(e.consume(p),l):(!a.interrupt||o<2)&&(a.containerState.marker?p===a.containerState.marker:p===41||p===46)?(e.exit("listItemValue"),u(p)):n(p)}function u(p){return e.enter("listItemMarker"),e.consume(p),e.exit("listItemMarker"),a.containerState.marker=a.containerState.marker||p,e.check(sl,a.interrupt?n:d,e.attempt(eI,m,f))}function d(p){return a.containerState.initialBlankLine=!0,i++,m(p)}function f(p){return Oe(p)?(e.enter("listItemPrefixWhitespace"),e.consume(p),e.exit("listItemPrefixWhitespace"),m):n(p)}function m(p){return a.containerState.size=i+a.sliceSerialize(e.exit("listItemPrefix"),!0).length,t(p)}}function aI(e,t,n){const a=this;return a.containerState._closeFlow=void 0,e.check(sl,r,i);function r(s){return a.containerState.furtherBlankLines=a.containerState.furtherBlankLines||a.containerState.initialBlankLine,He(e,t,"listItemIndent",a.containerState.size+1)(s)}function i(s){return a.containerState.furtherBlankLines||!Oe(s)?(a.containerState.furtherBlankLines=void 0,a.containerState.initialBlankLine=void 0,o(s)):(a.containerState.furtherBlankLines=void 0,a.containerState.initialBlankLine=void 0,e.attempt(tI,t,o)(s))}function o(s){return a.containerState._closeFlow=!0,a.interrupt=void 0,He(e,e.attempt(cn,t,n),"linePrefix",a.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(s)}}function rI(e,t,n){const a=this;return He(e,r,"listItemIndent",a.containerState.size+1);function r(i){const o=a.events[a.events.length-1];return o&&o[1].type==="listItemIndent"&&o[2].sliceSerialize(o[1],!0).length===a.containerState.size?t(i):n(i)}}function iI(e){e.exit(this.containerState.type)}function oI(e,t,n){const a=this;return He(e,r,"listItemPrefixWhitespace",a.parser.constructs.disable.null.includes("codeIndented")?void 0:5);function r(i){const o=a.events[a.events.length-1];return!Oe(i)&&o&&o[1].type==="listItemPrefixWhitespace"?t(i):n(i)}}const vg={name:"setextUnderline",tokenize:lI,resolveTo:sI};function sI(e,t){let n=e.length,a,r,i;for(;n--;)if(e[n][0]==="enter"){if(e[n][1].type==="content"){a=n;break}e[n][1].type==="paragraph"&&(r=n)}else e[n][1].type==="content"&&e.splice(n,1),!i&&e[n][1].type==="definition"&&(i=n);const o={type:"setextHeading",start:Object.assign({},e[r][1].start),end:Object.assign({},e[e.length-1][1].end)};return e[r][1].type="setextHeadingText",i?(e.splice(r,0,["enter",o,t]),e.splice(i+1,0,["exit",e[a][1],t]),e[a][1].end=Object.assign({},e[i][1].end)):e[a][1]=o,e.push(["exit",o,t]),e}function lI(e,t,n){const a=this;let r;return i;function i(u){let d=a.events.length,f;for(;d--;)if(a.events[d][1].type!=="lineEnding"&&a.events[d][1].type!=="linePrefix"&&a.events[d][1].type!=="content"){f=a.events[d][1].type==="paragraph";break}return!a.parser.lazy[a.now().line]&&(a.interrupt||f)?(e.enter("setextHeadingLine"),r=u,o(u)):n(u)}function o(u){return e.enter("setextHeadingLineSequence"),s(u)}function s(u){return u===r?(e.consume(u),s):(e.exit("setextHeadingLineSequence"),Oe(u)?He(e,l,"lineSuffix")(u):l(u))}function l(u){return u===null||we(u)?(e.exit("setextHeadingLine"),t(u)):n(u)}}const uI={tokenize:cI};function cI(e){const t=this,n=e.attempt(sl,a,e.attempt(this.parser.constructs.flowInitial,r,He(e,e.attempt(this.parser.constructs.flow,r,e.attempt(pN,r)),"linePrefix")));return n;function a(i){if(i===null){e.consume(i);return}return e.enter("lineEndingBlank"),e.consume(i),e.exit("lineEndingBlank"),t.currentConstruct=void 0,n}function r(i){if(i===null){e.consume(i);return}return e.enter("lineEnding"),e.consume(i),e.exit("lineEnding"),t.currentConstruct=void 0,n}}const dI={resolveAll:Cv()},hI=Av("string"),fI=Av("text");function Av(e){return{tokenize:t,resolveAll:Cv(e==="text"?mI:void 0)};function t(n){const a=this,r=this.parser.constructs[e],i=n.attempt(r,o,s);return o;function o(d){return u(d)?i(d):s(d)}function s(d){if(d===null){n.consume(d);return}return n.enter("data"),n.consume(d),l}function l(d){return u(d)?(n.exit("data"),i(d)):(n.consume(d),l)}function u(d){if(d===null)return!0;const f=r[d];let m=-1;if(f)for(;++m<f.length;){const p=f[m];if(!p.previous||p.previous.call(a,a.previous))return!0}return!1}}}function Cv(e){return t;function t(n,a){let r=-1,i;for(;++r<=n.length;)i===void 0?n[r]&&n[r][1].type==="data"&&(i=r,r++):(!n[r]||n[r][1].type!=="data")&&(r!==i+2&&(n[i][1].end=n[r-1][1].end,n.splice(i+2,r-i-2),r=i+2),i=void 0);return e?e(n,a):n}}function mI(e,t){let n=0;for(;++n<=e.length;)if((n===e.length||e[n][1].type==="lineEnding")&&e[n-1][1].type==="data"){const a=e[n-1][1],r=t.sliceStream(a);let i=r.length,o=-1,s=0,l;for(;i--;){const u=r[i];if(typeof u=="string"){for(o=u.length;u.charCodeAt(o-1)===32;)s++,o--;if(o)break;o=-1}else if(u===-2)l=!0,s++;else if(u!==-1){i++;break}}if(s){const u={type:n===e.length||l||s<2?"lineSuffix":"hardBreakTrailing",start:{line:a.end.line,column:a.end.column-s,offset:a.end.offset-s,_index:a.start._index+i,_bufferIndex:i?o:a.start._bufferIndex+o},end:Object.assign({},a.end)};a.end=Object.assign({},u.start),a.start.offset===a.end.offset?Object.assign(a,u):(e.splice(n,0,["enter",u,t],["exit",u,t]),n+=2)}n++}return e}function pI(e,t,n){let a=Object.assign(n?Object.assign({},n):{line:1,column:1,offset:0},{_index:0,_bufferIndex:-1});const r={},i=[];let o=[],s=[];const l={consume:b,enter:x,exit:w,attempt:R(O),check:R(N),interrupt:R(N,{interrupt:!0})},u={previous:null,code:null,containerState:{},events:[],parser:e,sliceStream:p,sliceSerialize:m,now:v,defineSkip:k,write:f};let d=t.tokenize.call(u,l);return t.resolveAll&&i.push(t),u;function f(S){return o=Pn(o,S),T(),o[o.length-1]!==null?[]:(D(t,0),u.events=vc(i,u.events,u),u.events)}function m(S,M){return yI(p(S),M)}function p(S){return gI(o,S)}function v(){const{line:S,column:M,offset:B,_index:re,_bufferIndex:Q}=a;return{line:S,column:M,offset:B,_index:re,_bufferIndex:Q}}function k(S){r[S.line]=S.column,_()}function T(){let S;for(;a._index<o.length;){const M=o[a._index];if(typeof M=="string")for(S=a._index,a._bufferIndex<0&&(a._bufferIndex=0);a._index===S&&a._bufferIndex<M.length;)y(M.charCodeAt(a._bufferIndex));else y(M)}}function y(S){d=d(S)}function b(S){we(S)?(a.line++,a.column=1,a.offset+=S===-3?2:1,_()):S!==-1&&(a.column++,a.offset++),a._bufferIndex<0?a._index++:(a._bufferIndex++,a._bufferIndex===o[a._index].length&&(a._bufferIndex=-1,a._index++)),u.previous=S}function x(S,M){const B=M||{};return B.type=S,B.start=v(),u.events.push(["enter",B,u]),s.push(B),B}function w(S){const M=s.pop();return M.end=v(),u.events.push(["exit",M,u]),M}function O(S,M){D(S,M.from)}function N(S,M){M.restore()}function R(S,M){return B;function B(re,Q,ee){let te,W,V,I;return Array.isArray(re)?ue(re):"tokenize"in re?ue([re]):ce(re);function ce(ne){return Ne;function Ne(Ke){const ge=Ke!==null&&ne[Ke],qe=Ke!==null&&ne.null,ot=[...Array.isArray(ge)?ge:ge?[ge]:[],...Array.isArray(qe)?qe:qe?[qe]:[]];return ue(ot)(Ke)}}function ue(ne){return te=ne,W=0,ne.length===0?ee:A(ne[W])}function A(ne){return Ne;function Ne(Ke){return I=P(),V=ne,ne.partial||(u.currentConstruct=ne),ne.name&&u.parser.constructs.disable.null.includes(ne.name)?ae():ne.tokenize.call(M?Object.assign(Object.create(u),M):u,l,U,ae)(Ke)}}function U(ne){return S(V,I),Q}function ae(ne){return I.restore(),++W<te.length?A(te[W]):ee}}}function D(S,M){S.resolveAll&&!i.includes(S)&&i.push(S),S.resolve&&En(u.events,M,u.events.length-M,S.resolve(u.events.slice(M),u)),S.resolveTo&&(u.events=S.resolveTo(u.events,u))}function P(){const S=v(),M=u.previous,B=u.currentConstruct,re=u.events.length,Q=Array.from(s);return{restore:ee,from:re};function ee(){a=S,u.previous=M,u.currentConstruct=B,u.events.length=re,s=Q,_()}}function _(){a.line in r&&a.column<2&&(a.column=r[a.line],a.offset+=r[a.line]-1)}}function gI(e,t){const n=t.start._index,a=t.start._bufferIndex,r=t.end._index,i=t.end._bufferIndex;let o;if(n===r)o=[e[n].slice(a,i)];else{if(o=e.slice(n,r),a>-1){const s=o[0];typeof s=="string"?o[0]=s.slice(a):o.shift()}i>0&&o.push(e[r].slice(0,i))}return o}function yI(e,t){let n=-1;const a=[];let r;for(;++n<e.length;){const i=e[n];let o;if(typeof i=="string")o=i;else switch(i){case-5:{o="\r";break}case-4:{o=`
`;break}case-3:{o=`\r
`;break}case-2:{o=t?" ":"	";break}case-1:{if(!t&&r)continue;o=" ";break}default:o=String.fromCharCode(i)}r=i===-2,a.push(o)}return a.join("")}const bI={42:cn,43:cn,45:cn,48:cn,49:cn,50:cn,51:cn,52:cn,53:cn,54:cn,55:cn,56:cn,57:cn,62:vv},vI={91:wN},wI={[-2]:kd,[-1]:kd,32:kd},kI={35:AN,42:eu,45:[vg,eu],60:_N,61:vg,95:eu,96:yg,126:yg},TI={38:kv,92:wv},xI={[-5]:Td,[-4]:Td,[-3]:Td,33:VN,38:kv,42:Kh,60:[X5,FN],91:QN,92:[EN,wv],93:qm,95:Kh,96:cN},EI={null:[Kh,dI]},SI={null:[42,95]},AI={null:[]},CI=Object.freeze(Object.defineProperty({__proto__:null,attentionMarkers:SI,contentInitial:vI,disable:AI,document:bI,flow:kI,flowInitial:wI,insideSpan:EI,string:TI,text:xI},Symbol.toStringTag,{value:"Module"}));function NI(e){const n=gv([CI,...(e||{}).extensions||[]]),a={defined:[],lazy:{},constructs:n,content:r(Y5),document:r($5),flow:r(uI),string:r(hI),text:r(fI)};return a;function r(i){return o;function o(s){return pI(a,i,s)}}}function II(e){for(;!Tv(e););return e}const wg=/[\0\t\n\r]/g;function _I(){let e=1,t="",n=!0,a;return r;function r(i,o,s){const l=[];let u,d,f,m,p;for(i=t+(typeof i=="string"?i.toString():new TextDecoder(o||void 0).decode(i)),f=0,t="",n&&(i.charCodeAt(0)===65279&&f++,n=void 0);f<i.length;){if(wg.lastIndex=f,u=wg.exec(i),m=u&&u.index!==void 0?u.index:i.length,p=i.charCodeAt(m),!u){t=i.slice(f);break}if(p===10&&f===m&&a)l.push(-3),a=void 0;else switch(a&&(l.push(-5),a=void 0),f<m&&(l.push(i.slice(f,m)),e+=m-f),p){case 0:{l.push(65533),e++;break}case 9:{for(d=Math.ceil(e/4)*4,l.push(-2);e++<d;)l.push(-1);break}case 10:{l.push(-4),e=1;break}default:a=!0,e=1}f=m+1}return s&&(a&&l.push(-5),t&&l.push(t),l.push(null)),l}}const RI=/\\([!-/:-@[-`{-~])|&(#(?:\d{1,7}|x[\da-f]{1,6})|[\da-z]{1,31});/gi;function LI(e){return e.replace(RI,OI)}function OI(e,t,n){if(t)return t;if(n.charCodeAt(0)===35){const r=n.charCodeAt(1),i=r===120||r===88;return yv(n.slice(i?2:1),i?16:10)}return Hm(n)||e}const Nv={}.hasOwnProperty;function DI(e,t,n){return typeof t!="string"&&(n=t,t=void 0),PI(n)(II(NI(n).document().write(_I()(e,t,!0))))}function PI(e){const t={transforms:[],canContainEols:["emphasis","fragment","heading","paragraph","strong"],enter:{autolink:i(Ue),autolinkProtocol:P,autolinkEmail:P,atxHeading:i(Ca),blockQuote:i(ge),characterEscape:P,characterReference:P,codeFenced:i(qe),codeFencedFenceInfo:o,codeFencedFenceMeta:o,codeIndented:i(qe,o),codeText:i(ot,o),codeTextData:P,data:P,codeFlowValue:P,definition:i(Lt),definitionDestinationString:o,definitionLabelString:o,definitionTitleString:o,emphasis:i(Ft),hardBreakEscape:i(he),hardBreakTrailing:i(he),htmlFlow:i(se,o),htmlFlowData:P,htmlText:i(se,o),htmlTextData:P,image:i($e),label:o,link:i(Ue),listItem:i(Je),listItemValue:m,listOrdered:i(xe,f),listUnordered:i(xe),paragraph:i(yn),reference:A,referenceString:o,resourceDestinationString:o,resourceTitleString:o,setextHeading:i(Ca),strong:i(zt),thematicBreak:i(fl)},exit:{atxHeading:l(),atxHeadingSequence:O,autolink:l(),autolinkEmail:Ke,autolinkProtocol:Ne,blockQuote:l(),characterEscapeValue:_,characterReferenceMarkerHexadecimal:ae,characterReferenceMarkerNumeric:ae,characterReferenceValue:ne,codeFenced:l(T),codeFencedFence:k,codeFencedFenceInfo:p,codeFencedFenceMeta:v,codeFlowValue:_,codeIndented:l(y),codeText:l(Q),codeTextData:_,data:_,definition:l(),definitionDestinationString:w,definitionLabelString:b,definitionTitleString:x,emphasis:l(),hardBreakEscape:l(M),hardBreakTrailing:l(M),htmlFlow:l(B),htmlFlowData:_,htmlText:l(re),htmlTextData:_,image:l(te),label:V,labelText:W,lineEnding:S,link:l(ee),listItem:l(),listOrdered:l(),listUnordered:l(),paragraph:l(),referenceString:U,resourceDestinationString:I,resourceTitleString:ce,resource:ue,setextHeading:l(D),setextHeadingLineSequence:R,setextHeadingText:N,strong:l(),thematicBreak:l()}};Iv(t,(e||{}).mdastExtensions||[]);const n={};return a;function a(Y){let ie={type:"root",children:[]};const ve={stack:[ie],tokenStack:[],config:t,enter:s,exit:u,buffer:o,resume:d,data:n},Ie=[];let Ge=-1;for(;++Ge<Y.length;)if(Y[Ge][1].type==="listOrdered"||Y[Ge][1].type==="listUnordered")if(Y[Ge][0]==="enter")Ie.push(Ge);else{const ln=Ie.pop();Ge=r(Y,ln,Ge)}for(Ge=-1;++Ge<Y.length;){const ln=t[Y[Ge][0]];Nv.call(ln,Y[Ge][1].type)&&ln[Y[Ge][1].type].call(Object.assign({sliceSerialize:Y[Ge][2].sliceSerialize},ve),Y[Ge][1])}if(ve.tokenStack.length>0){const ln=ve.tokenStack[ve.tokenStack.length-1];(ln[1]||kg).call(ve,void 0,ln[0])}for(ie.position={start:tr(Y.length>0?Y[0][1].start:{line:1,column:1,offset:0}),end:tr(Y.length>0?Y[Y.length-2][1].end:{line:1,column:1,offset:0})},Ge=-1;++Ge<t.transforms.length;)ie=t.transforms[Ge](ie)||ie;return ie}function r(Y,ie,ve){let Ie=ie-1,Ge=-1,ln=!1,Na,Nn,ca,Va;for(;++Ie<=ve;){const jt=Y[Ie];switch(jt[1].type){case"listUnordered":case"listOrdered":case"blockQuote":{jt[0]==="enter"?Ge++:Ge--,Va=void 0;break}case"lineEndingBlank":{jt[0]==="enter"&&(Na&&!Va&&!Ge&&!ca&&(ca=Ie),Va=void 0);break}case"linePrefix":case"listItemValue":case"listItemMarker":case"listItemPrefix":case"listItemPrefixWhitespace":break;default:Va=void 0}if(!Ge&&jt[0]==="enter"&&jt[1].type==="listItemPrefix"||Ge===-1&&jt[0]==="exit"&&(jt[1].type==="listUnordered"||jt[1].type==="listOrdered")){if(Na){let Ka=Ie;for(Nn=void 0;Ka--;){const In=Y[Ka];if(In[1].type==="lineEnding"||In[1].type==="lineEndingBlank"){if(In[0]==="exit")continue;Nn&&(Y[Nn][1].type="lineEndingBlank",ln=!0),In[1].type="lineEnding",Nn=Ka}else if(!(In[1].type==="linePrefix"||In[1].type==="blockQuotePrefix"||In[1].type==="blockQuotePrefixWhitespace"||In[1].type==="blockQuoteMarker"||In[1].type==="listItemIndent"))break}ca&&(!Nn||ca<Nn)&&(Na._spread=!0),Na.end=Object.assign({},Nn?Y[Nn][1].start:jt[1].end),Y.splice(Nn||Ie,0,["exit",Na,jt[2]]),Ie++,ve++}if(jt[1].type==="listItemPrefix"){const Ka={type:"listItem",_spread:!1,start:Object.assign({},jt[1].start),end:void 0};Na=Ka,Y.splice(Ie,0,["enter",Ka,jt[2]]),Ie++,ve++,ca=void 0,Va=!0}}}return Y[ie][1]._spread=ln,ve}function i(Y,ie){return ve;function ve(Ie){s.call(this,Y(Ie),Ie),ie&&ie.call(this,Ie)}}function o(){this.stack.push({type:"fragment",children:[]})}function s(Y,ie,ve){this.stack[this.stack.length-1].children.push(Y),this.stack.push(Y),this.tokenStack.push([ie,ve]),Y.position={start:tr(ie.start),end:void 0}}function l(Y){return ie;function ie(ve){Y&&Y.call(this,ve),u.call(this,ve)}}function u(Y,ie){const ve=this.stack.pop(),Ie=this.tokenStack.pop();if(Ie)Ie[0].type!==Y.type&&(ie?ie.call(this,Y,Ie[0]):(Ie[1]||kg).call(this,Y,Ie[0]));else throw new Error("Cannot close `"+Y.type+"` ("+ls({start:Y.start,end:Y.end})+"): its not open");ve.position.end=tr(Y.end)}function d(){return Bm(this.stack.pop())}function f(){this.data.expectingFirstListItemValue=!0}function m(Y){if(this.data.expectingFirstListItemValue){const ie=this.stack[this.stack.length-2];ie.start=Number.parseInt(this.sliceSerialize(Y),10),this.data.expectingFirstListItemValue=void 0}}function p(){const Y=this.resume(),ie=this.stack[this.stack.length-1];ie.lang=Y}function v(){const Y=this.resume(),ie=this.stack[this.stack.length-1];ie.meta=Y}function k(){this.data.flowCodeInside||(this.buffer(),this.data.flowCodeInside=!0)}function T(){const Y=this.resume(),ie=this.stack[this.stack.length-1];ie.value=Y.replace(/^(\r?\n|\r)|(\r?\n|\r)$/g,""),this.data.flowCodeInside=void 0}function y(){const Y=this.resume(),ie=this.stack[this.stack.length-1];ie.value=Y.replace(/(\r?\n|\r)$/g,"")}function b(Y){const ie=this.resume(),ve=this.stack[this.stack.length-1];ve.label=ie,ve.identifier=ra(this.sliceSerialize(Y)).toLowerCase()}function x(){const Y=this.resume(),ie=this.stack[this.stack.length-1];ie.title=Y}function w(){const Y=this.resume(),ie=this.stack[this.stack.length-1];ie.url=Y}function O(Y){const ie=this.stack[this.stack.length-1];if(!ie.depth){const ve=this.sliceSerialize(Y).length;ie.depth=ve}}function N(){this.data.setextHeadingSlurpLineEnding=!0}function R(Y){const ie=this.stack[this.stack.length-1];ie.depth=this.sliceSerialize(Y).codePointAt(0)===61?1:2}function D(){this.data.setextHeadingSlurpLineEnding=void 0}function P(Y){const ve=this.stack[this.stack.length-1].children;let Ie=ve[ve.length-1];(!Ie||Ie.type!=="text")&&(Ie=ua(),Ie.position={start:tr(Y.start),end:void 0},ve.push(Ie)),this.stack.push(Ie)}function _(Y){const ie=this.stack.pop();ie.value+=this.sliceSerialize(Y),ie.position.end=tr(Y.end)}function S(Y){const ie=this.stack[this.stack.length-1];if(this.data.atHardBreak){const ve=ie.children[ie.children.length-1];ve.position.end=tr(Y.end),this.data.atHardBreak=void 0;return}!this.data.setextHeadingSlurpLineEnding&&t.canContainEols.includes(ie.type)&&(P.call(this,Y),_.call(this,Y))}function M(){this.data.atHardBreak=!0}function B(){const Y=this.resume(),ie=this.stack[this.stack.length-1];ie.value=Y}function re(){const Y=this.resume(),ie=this.stack[this.stack.length-1];ie.value=Y}function Q(){const Y=this.resume(),ie=this.stack[this.stack.length-1];ie.value=Y}function ee(){const Y=this.stack[this.stack.length-1];if(this.data.inReference){const ie=this.data.referenceType||"shortcut";Y.type+="Reference",Y.referenceType=ie,delete Y.url,delete Y.title}else delete Y.identifier,delete Y.label;this.data.referenceType=void 0}function te(){const Y=this.stack[this.stack.length-1];if(this.data.inReference){const ie=this.data.referenceType||"shortcut";Y.type+="Reference",Y.referenceType=ie,delete Y.url,delete Y.title}else delete Y.identifier,delete Y.label;this.data.referenceType=void 0}function W(Y){const ie=this.sliceSerialize(Y),ve=this.stack[this.stack.length-2];ve.label=LI(ie),ve.identifier=ra(ie).toLowerCase()}function V(){const Y=this.stack[this.stack.length-1],ie=this.resume(),ve=this.stack[this.stack.length-1];if(this.data.inReference=!0,ve.type==="link"){const Ie=Y.children;ve.children=Ie}else ve.alt=ie}function I(){const Y=this.resume(),ie=this.stack[this.stack.length-1];ie.url=Y}function ce(){const Y=this.resume(),ie=this.stack[this.stack.length-1];ie.title=Y}function ue(){this.data.inReference=void 0}function A(){this.data.referenceType="collapsed"}function U(Y){const ie=this.resume(),ve=this.stack[this.stack.length-1];ve.label=ie,ve.identifier=ra(this.sliceSerialize(Y)).toLowerCase(),this.data.referenceType="full"}function ae(Y){this.data.characterReferenceType=Y.type}function ne(Y){const ie=this.sliceSerialize(Y),ve=this.data.characterReferenceType;let Ie;ve?(Ie=yv(ie,ve==="characterReferenceMarkerNumeric"?10:16),this.data.characterReferenceType=void 0):Ie=Hm(ie);const Ge=this.stack.pop();Ge.value+=Ie,Ge.position.end=tr(Y.end)}function Ne(Y){_.call(this,Y);const ie=this.stack[this.stack.length-1];ie.url=this.sliceSerialize(Y)}function Ke(Y){_.call(this,Y);const ie=this.stack[this.stack.length-1];ie.url="mailto:"+this.sliceSerialize(Y)}function ge(){return{type:"blockquote",children:[]}}function qe(){return{type:"code",lang:null,meta:null,value:""}}function ot(){return{type:"inlineCode",value:""}}function Lt(){return{type:"definition",identifier:"",label:null,title:null,url:""}}function Ft(){return{type:"emphasis",children:[]}}function Ca(){return{type:"heading",depth:0,children:[]}}function he(){return{type:"break"}}function se(){return{type:"html",value:""}}function $e(){return{type:"image",title:null,url:"",alt:null}}function Ue(){return{type:"link",title:null,url:"",children:[]}}function xe(Y){return{type:"list",ordered:Y.type==="listOrdered",start:null,spread:Y._spread,children:[]}}function Je(Y){return{type:"listItem",spread:Y._spread,checked:null,children:[]}}function yn(){return{type:"paragraph",children:[]}}function zt(){return{type:"strong",children:[]}}function ua(){return{type:"text",value:""}}function fl(){return{type:"thematicBreak"}}}function tr(e){return{line:e.line,column:e.column,offset:e.offset}}function Iv(e,t){let n=-1;for(;++n<t.length;){const a=t[n];Array.isArray(a)?Iv(e,a):MI(e,a)}}function MI(e,t){let n;for(n in t)if(Nv.call(t,n))switch(n){case"canContainEols":{const a=t[n];a&&e[n].push(...a);break}case"transforms":{const a=t[n];a&&e[n].push(...a);break}case"enter":case"exit":{const a=t[n];a&&Object.assign(e[n],a);break}}}function kg(e,t){throw e?new Error("Cannot close `"+e.type+"` ("+ls({start:e.start,end:e.end})+"): a different token (`"+t.type+"`, "+ls({start:t.start,end:t.end})+") is open"):new Error("Cannot close document, a token (`"+t.type+"`, "+ls({start:t.start,end:t.end})+") is still open")}function FI(e){const t=this;t.parser=n;function n(a){return DI(a,{...t.data("settings"),...e,extensions:t.data("micromarkExtensions")||[],mdastExtensions:t.data("fromMarkdownExtensions")||[]})}}function jI(e,t){const n={type:"element",tagName:"blockquote",properties:{},children:e.wrap(e.all(t),!0)};return e.patch(t,n),e.applyData(t,n)}function BI(e,t){const n={type:"element",tagName:"br",properties:{},children:[]};return e.patch(t,n),[e.applyData(t,n),{type:"text",value:`
`}]}function HI(e,t){const n=t.value?t.value+`
`:"",a={};t.lang&&(a.className=["language-"+t.lang]);let r={type:"element",tagName:"code",properties:a,children:[{type:"text",value:n}]};return t.meta&&(r.data={meta:t.meta}),e.patch(t,r),r=e.applyData(t,r),r={type:"element",tagName:"pre",properties:{},children:[r]},e.patch(t,r),r}function qI(e,t){const n={type:"element",tagName:"del",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function UI(e,t){const n={type:"element",tagName:"em",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function WI(e,t){const n=typeof e.options.clobberPrefix=="string"?e.options.clobberPrefix:"user-content-",a=String(t.identifier).toUpperCase(),r=yo(a.toLowerCase()),i=e.footnoteOrder.indexOf(a);let o,s=e.footnoteCounts.get(a);s===void 0?(s=0,e.footnoteOrder.push(a),o=e.footnoteOrder.length):o=i+1,s+=1,e.footnoteCounts.set(a,s);const l={type:"element",tagName:"a",properties:{href:"#"+n+"fn-"+r,id:n+"fnref-"+r+(s>1?"-"+s:""),dataFootnoteRef:!0,ariaDescribedBy:["footnote-label"]},children:[{type:"text",value:String(o)}]};e.patch(t,l);const u={type:"element",tagName:"sup",properties:{},children:[l]};return e.patch(t,u),e.applyData(t,u)}function YI(e,t){const n={type:"element",tagName:"h"+t.depth,properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function zI(e,t){if(e.options.allowDangerousHtml){const n={type:"raw",value:t.value};return e.patch(t,n),e.applyData(t,n)}}function _v(e,t){const n=t.referenceType;let a="]";if(n==="collapsed"?a+="[]":n==="full"&&(a+="["+(t.label||t.identifier)+"]"),t.type==="imageReference")return[{type:"text",value:"!["+t.alt+a}];const r=e.all(t),i=r[0];i&&i.type==="text"?i.value="["+i.value:r.unshift({type:"text",value:"["});const o=r[r.length-1];return o&&o.type==="text"?o.value+=a:r.push({type:"text",value:a}),r}function $I(e,t){const n=String(t.identifier).toUpperCase(),a=e.definitionById.get(n);if(!a)return _v(e,t);const r={src:yo(a.url||""),alt:t.alt};a.title!==null&&a.title!==void 0&&(r.title=a.title);const i={type:"element",tagName:"img",properties:r,children:[]};return e.patch(t,i),e.applyData(t,i)}function GI(e,t){const n={src:yo(t.url)};t.alt!==null&&t.alt!==void 0&&(n.alt=t.alt),t.title!==null&&t.title!==void 0&&(n.title=t.title);const a={type:"element",tagName:"img",properties:n,children:[]};return e.patch(t,a),e.applyData(t,a)}function VI(e,t){const n={type:"text",value:t.value.replace(/\r?\n|\r/g," ")};e.patch(t,n);const a={type:"element",tagName:"code",properties:{},children:[n]};return e.patch(t,a),e.applyData(t,a)}function KI(e,t){const n=String(t.identifier).toUpperCase(),a=e.definitionById.get(n);if(!a)return _v(e,t);const r={href:yo(a.url||"")};a.title!==null&&a.title!==void 0&&(r.title=a.title);const i={type:"element",tagName:"a",properties:r,children:e.all(t)};return e.patch(t,i),e.applyData(t,i)}function QI(e,t){const n={href:yo(t.url)};t.title!==null&&t.title!==void 0&&(n.title=t.title);const a={type:"element",tagName:"a",properties:n,children:e.all(t)};return e.patch(t,a),e.applyData(t,a)}function XI(e,t,n){const a=e.all(t),r=n?JI(n):Rv(t),i={},o=[];if(typeof t.checked=="boolean"){const d=a[0];let f;d&&d.type==="element"&&d.tagName==="p"?f=d:(f={type:"element",tagName:"p",properties:{},children:[]},a.unshift(f)),f.children.length>0&&f.children.unshift({type:"text",value:" "}),f.children.unshift({type:"element",tagName:"input",properties:{type:"checkbox",checked:t.checked,disabled:!0},children:[]}),i.className=["task-list-item"]}let s=-1;for(;++s<a.length;){const d=a[s];(r||s!==0||d.type!=="element"||d.tagName!=="p")&&o.push({type:"text",value:`
`}),d.type==="element"&&d.tagName==="p"&&!r?o.push(...d.children):o.push(d)}const l=a[a.length-1];l&&(r||l.type!=="element"||l.tagName!=="p")&&o.push({type:"text",value:`
`});const u={type:"element",tagName:"li",properties:i,children:o};return e.patch(t,u),e.applyData(t,u)}function JI(e){let t=!1;if(e.type==="list"){t=e.spread||!1;const n=e.children;let a=-1;for(;!t&&++a<n.length;)t=Rv(n[a])}return t}function Rv(e){const t=e.spread;return t??e.children.length>1}function ZI(e,t){const n={},a=e.all(t);let r=-1;for(typeof t.start=="number"&&t.start!==1&&(n.start=t.start);++r<a.length;){const o=a[r];if(o.type==="element"&&o.tagName==="li"&&o.properties&&Array.isArray(o.properties.className)&&o.properties.className.includes("task-list-item")){n.className=["contains-task-list"];break}}const i={type:"element",tagName:t.ordered?"ol":"ul",properties:n,children:e.wrap(a,!0)};return e.patch(t,i),e.applyData(t,i)}function e_(e,t){const n={type:"element",tagName:"p",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function t_(e,t){const n={type:"root",children:e.wrap(e.all(t))};return e.patch(t,n),e.applyData(t,n)}function n_(e,t){const n={type:"element",tagName:"strong",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function a_(e,t){const n=e.all(t),a=n.shift(),r=[];if(a){const o={type:"element",tagName:"thead",properties:{},children:e.wrap([a],!0)};e.patch(t.children[0],o),r.push(o)}if(n.length>0){const o={type:"element",tagName:"tbody",properties:{},children:e.wrap(n,!0)},s=Sa(t.children[1]),l=yc(t.children[t.children.length-1]);s&&l&&(o.position={start:s,end:l}),r.push(o)}const i={type:"element",tagName:"table",properties:{},children:e.wrap(r,!0)};return e.patch(t,i),e.applyData(t,i)}function r_(e,t,n){const a=n?n.children:void 0,i=(a?a.indexOf(t):1)===0?"th":"td",o=n&&n.type==="table"?n.align:void 0,s=o?o.length:t.children.length;let l=-1;const u=[];for(;++l<s;){const f=t.children[l],m={},p=o?o[l]:void 0;p&&(m.align=p);let v={type:"element",tagName:i,properties:m,children:[]};f&&(v.children=e.all(f),e.patch(f,v),v=e.applyData(f,v)),u.push(v)}const d={type:"element",tagName:"tr",properties:{},children:e.wrap(u,!0)};return e.patch(t,d),e.applyData(t,d)}function i_(e,t){const n={type:"element",tagName:"td",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}const Tg=9,xg=32;function o_(e){const t=String(e),n=/\r?\n|\r/g;let a=n.exec(t),r=0;const i=[];for(;a;)i.push(Eg(t.slice(r,a.index),r>0,!0),a[0]),r=a.index+a[0].length,a=n.exec(t);return i.push(Eg(t.slice(r),r>0,!1)),i.join("")}function Eg(e,t,n){let a=0,r=e.length;if(t){let i=e.codePointAt(a);for(;i===Tg||i===xg;)a++,i=e.codePointAt(a)}if(n){let i=e.codePointAt(r-1);for(;i===Tg||i===xg;)r--,i=e.codePointAt(r-1)}return r>a?e.slice(a,r):""}function s_(e,t){const n={type:"text",value:o_(String(t.value))};return e.patch(t,n),e.applyData(t,n)}function l_(e,t){const n={type:"element",tagName:"hr",properties:{},children:[]};return e.patch(t,n),e.applyData(t,n)}const u_={blockquote:jI,break:BI,code:HI,delete:qI,emphasis:UI,footnoteReference:WI,heading:YI,html:zI,imageReference:$I,image:GI,inlineCode:VI,linkReference:KI,link:QI,listItem:XI,list:ZI,paragraph:e_,root:t_,strong:n_,table:a_,tableCell:i_,tableRow:r_,text:s_,thematicBreak:l_,toml:Ml,yaml:Ml,definition:Ml,footnoteDefinition:Ml};function Ml(){}const Lv=-1,wc=0,Mu=1,Fu=2,Um=3,Wm=4,Ym=5,zm=6,Ov=7,Dv=8,Sg=typeof self=="object"?self:globalThis,c_=(e,t)=>{const n=(r,i)=>(e.set(i,r),r),a=r=>{if(e.has(r))return e.get(r);const[i,o]=t[r];switch(i){case wc:case Lv:return n(o,r);case Mu:{const s=n([],r);for(const l of o)s.push(a(l));return s}case Fu:{const s=n({},r);for(const[l,u]of o)s[a(l)]=a(u);return s}case Um:return n(new Date(o),r);case Wm:{const{source:s,flags:l}=o;return n(new RegExp(s,l),r)}case Ym:{const s=n(new Map,r);for(const[l,u]of o)s.set(a(l),a(u));return s}case zm:{const s=n(new Set,r);for(const l of o)s.add(a(l));return s}case Ov:{const{name:s,message:l}=o;return n(new Sg[s](l),r)}case Dv:return n(BigInt(o),r);case"BigInt":return n(Object(BigInt(o)),r)}return n(new Sg[i](o),r)};return a},Ag=e=>c_(new Map,e)(0),wi="",{toString:d_}={},{keys:h_}=Object,qo=e=>{const t=typeof e;if(t!=="object"||!e)return[wc,t];const n=d_.call(e).slice(8,-1);switch(n){case"Array":return[Mu,wi];case"Object":return[Fu,wi];case"Date":return[Um,wi];case"RegExp":return[Wm,wi];case"Map":return[Ym,wi];case"Set":return[zm,wi]}return n.includes("Array")?[Mu,n]:n.includes("Error")?[Ov,n]:[Fu,n]},Fl=([e,t])=>e===wc&&(t==="function"||t==="symbol"),f_=(e,t,n,a)=>{const r=(o,s)=>{const l=a.push(o)-1;return n.set(s,l),l},i=o=>{if(n.has(o))return n.get(o);let[s,l]=qo(o);switch(s){case wc:{let d=o;switch(l){case"bigint":s=Dv,d=o.toString();break;case"function":case"symbol":if(e)throw new TypeError("unable to serialize "+l);d=null;break;case"undefined":return r([Lv],o)}return r([s,d],o)}case Mu:{if(l)return r([l,[...o]],o);const d=[],f=r([s,d],o);for(const m of o)d.push(i(m));return f}case Fu:{if(l)switch(l){case"BigInt":return r([l,o.toString()],o);case"Boolean":case"Number":case"String":return r([l,o.valueOf()],o)}if(t&&"toJSON"in o)return i(o.toJSON());const d=[],f=r([s,d],o);for(const m of h_(o))(e||!Fl(qo(o[m])))&&d.push([i(m),i(o[m])]);return f}case Um:return r([s,o.toISOString()],o);case Wm:{const{source:d,flags:f}=o;return r([s,{source:d,flags:f}],o)}case Ym:{const d=[],f=r([s,d],o);for(const[m,p]of o)(e||!(Fl(qo(m))||Fl(qo(p))))&&d.push([i(m),i(p)]);return f}case zm:{const d=[],f=r([s,d],o);for(const m of o)(e||!Fl(qo(m)))&&d.push(i(m));return f}}const{message:u}=o;return r([s,{name:l,message:u}],o)};return i},Cg=(e,{json:t,lossy:n}={})=>{const a=[];return f_(!(t||n),!!t,new Map,a)(e),a},no=typeof structuredClone=="function"?(e,t)=>t&&("json"in t||"lossy"in t)?Ag(Cg(e,t)):structuredClone(e):(e,t)=>Ag(Cg(e,t));function m_(e,t){const n=[{type:"text",value:""}];return t>1&&n.push({type:"element",tagName:"sup",properties:{},children:[{type:"text",value:String(t)}]}),n}function p_(e,t){return"Back to reference "+(e+1)+(t>1?"-"+t:"")}function g_(e){const t=typeof e.options.clobberPrefix=="string"?e.options.clobberPrefix:"user-content-",n=e.options.footnoteBackContent||m_,a=e.options.footnoteBackLabel||p_,r=e.options.footnoteLabel||"Footnotes",i=e.options.footnoteLabelTagName||"h2",o=e.options.footnoteLabelProperties||{className:["sr-only"]},s=[];let l=-1;for(;++l<e.footnoteOrder.length;){const u=e.footnoteById.get(e.footnoteOrder[l]);if(!u)continue;const d=e.all(u),f=String(u.identifier).toUpperCase(),m=yo(f.toLowerCase());let p=0;const v=[],k=e.footnoteCounts.get(f);for(;k!==void 0&&++p<=k;){v.length>0&&v.push({type:"text",value:" "});let b=typeof n=="string"?n:n(l,p);typeof b=="string"&&(b={type:"text",value:b}),v.push({type:"element",tagName:"a",properties:{href:"#"+t+"fnref-"+m+(p>1?"-"+p:""),dataFootnoteBackref:"",ariaLabel:typeof a=="string"?a:a(l,p),className:["data-footnote-backref"]},children:Array.isArray(b)?b:[b]})}const T=d[d.length-1];if(T&&T.type==="element"&&T.tagName==="p"){const b=T.children[T.children.length-1];b&&b.type==="text"?b.value+=" ":T.children.push({type:"text",value:" "}),T.children.push(...v)}else d.push(...v);const y={type:"element",tagName:"li",properties:{id:t+"fn-"+m},children:e.wrap(d,!0)};e.patch(u,y),s.push(y)}if(s.length!==0)return{type:"element",tagName:"section",properties:{dataFootnotes:!0,className:["footnotes"]},children:[{type:"element",tagName:i,properties:{...no(o),id:"footnote-label"},children:[{type:"text",value:r}]},{type:"text",value:`
`},{type:"element",tagName:"ol",properties:{},children:e.wrap(s,!0)},{type:"text",value:`
`}]}}const kc=function(e){if(e==null)return w_;if(typeof e=="function")return Tc(e);if(typeof e=="object")return Array.isArray(e)?y_(e):b_(e);if(typeof e=="string")return v_(e);throw new Error("Expected function, string, or object as test")};function y_(e){const t=[];let n=-1;for(;++n<e.length;)t[n]=kc(e[n]);return Tc(a);function a(...r){let i=-1;for(;++i<t.length;)if(t[i].apply(this,r))return!0;return!1}}function b_(e){const t=e;return Tc(n);function n(a){const r=a;let i;for(i in e)if(r[i]!==t[i])return!1;return!0}}function v_(e){return Tc(t);function t(n){return n&&n.type===e}}function Tc(e){return t;function t(n,a,r){return!!(k_(n)&&e.call(this,n,typeof a=="number"?a:void 0,r||void 0))}}function w_(){return!0}function k_(e){return e!==null&&typeof e=="object"&&"type"in e}const Pv=[],T_=!0,Qh=!1,x_="skip";function Mv(e,t,n,a){let r;typeof t=="function"&&typeof n!="function"?(a=n,n=t):r=t;const i=kc(r),o=a?-1:1;s(e,void 0,[])();function s(l,u,d){const f=l&&typeof l=="object"?l:{};if(typeof f.type=="string"){const p=typeof f.tagName=="string"?f.tagName:typeof f.name=="string"?f.name:void 0;Object.defineProperty(m,"name",{value:"node ("+(l.type+(p?"<"+p+">":""))+")"})}return m;function m(){let p=Pv,v,k,T;if((!t||i(l,u,d[d.length-1]||void 0))&&(p=E_(n(l,d)),p[0]===Qh))return p;if("children"in l&&l.children){const y=l;if(y.children&&p[0]!==x_)for(k=(a?y.children.length:-1)+o,T=d.concat(y);k>-1&&k<y.children.length;){const b=y.children[k];if(v=s(b,k,T)(),v[0]===Qh)return v;k=typeof v[1]=="number"?v[1]:k+o}}return p}}}function E_(e){return Array.isArray(e)?e:typeof e=="number"?[T_,e]:e==null?Pv:[e]}function xc(e,t,n,a){let r,i,o;typeof t=="function"&&typeof n!="function"?(i=void 0,o=t,r=n):(i=t,o=n,r=a),Mv(e,i,s,r);function s(l,u){const d=u[u.length-1],f=d?d.children.indexOf(l):void 0;return o(l,f,d)}}const Xh={}.hasOwnProperty,S_={};function A_(e,t){const n=t||S_,a=new Map,r=new Map,i=new Map,o={...u_,...n.handlers},s={all:u,applyData:N_,definitionById:a,footnoteById:r,footnoteCounts:i,footnoteOrder:[],handlers:o,one:l,options:n,patch:C_,wrap:__};return xc(e,function(d){if(d.type==="definition"||d.type==="footnoteDefinition"){const f=d.type==="definition"?a:r,m=String(d.identifier).toUpperCase();f.has(m)||f.set(m,d)}}),s;function l(d,f){const m=d.type,p=s.handlers[m];if(Xh.call(s.handlers,m)&&p)return p(s,d,f);if(s.options.passThrough&&s.options.passThrough.includes(m)){if("children"in d){const{children:k,...T}=d,y=no(T);return y.children=s.all(d),y}return no(d)}return(s.options.unknownHandler||I_)(s,d,f)}function u(d){const f=[];if("children"in d){const m=d.children;let p=-1;for(;++p<m.length;){const v=s.one(m[p],d);if(v){if(p&&m[p-1].type==="break"&&(!Array.isArray(v)&&v.type==="text"&&(v.value=Ng(v.value)),!Array.isArray(v)&&v.type==="element")){const k=v.children[0];k&&k.type==="text"&&(k.value=Ng(k.value))}Array.isArray(v)?f.push(...v):f.push(v)}}}return f}}function C_(e,t){e.position&&(t.position=m5(e))}function N_(e,t){let n=t;if(e&&e.data){const a=e.data.hName,r=e.data.hChildren,i=e.data.hProperties;if(typeof a=="string")if(n.type==="element")n.tagName=a;else{const o="children"in n?n.children:[n];n={type:"element",tagName:a,properties:{},children:o}}n.type==="element"&&i&&Object.assign(n.properties,no(i)),"children"in n&&n.children&&r!==null&&r!==void 0&&(n.children=r)}return n}function I_(e,t){const n=t.data||{},a="value"in t&&!(Xh.call(n,"hProperties")||Xh.call(n,"hChildren"))?{type:"text",value:t.value}:{type:"element",tagName:"div",properties:{},children:e.all(t)};return e.patch(t,a),e.applyData(t,a)}function __(e,t){const n=[];let a=-1;for(t&&n.push({type:"text",value:`
`});++a<e.length;)a&&n.push({type:"text",value:`
`}),n.push(e[a]);return t&&e.length>0&&n.push({type:"text",value:`
`}),n}function Ng(e){let t=0,n=e.charCodeAt(t);for(;n===9||n===32;)t++,n=e.charCodeAt(t);return e.slice(t)}function Ig(e,t){const n=A_(e,t),a=n.one(e,void 0),r=g_(n),i=Array.isArray(a)?{type:"root",children:a}:a||{type:"root",children:[]};return r&&i.children.push({type:"text",value:`
`},r),i}function R_(e,t){return e&&"run"in e?async function(n,a){const r=Ig(n,t);await e.run(r,a)}:function(n){return Ig(n,t||e)}}function _g(e){if(e)throw e}var tu=Object.prototype.hasOwnProperty,Fv=Object.prototype.toString,Rg=Object.defineProperty,Lg=Object.getOwnPropertyDescriptor,Og=function(t){return typeof Array.isArray=="function"?Array.isArray(t):Fv.call(t)==="[object Array]"},Dg=function(t){if(!t||Fv.call(t)!=="[object Object]")return!1;var n=tu.call(t,"constructor"),a=t.constructor&&t.constructor.prototype&&tu.call(t.constructor.prototype,"isPrototypeOf");if(t.constructor&&!n&&!a)return!1;var r;for(r in t);return typeof r>"u"||tu.call(t,r)},Pg=function(t,n){Rg&&n.name==="__proto__"?Rg(t,n.name,{enumerable:!0,configurable:!0,value:n.newValue,writable:!0}):t[n.name]=n.newValue},Mg=function(t,n){if(n==="__proto__")if(tu.call(t,n)){if(Lg)return Lg(t,n).value}else return;return t[n]},L_=function e(){var t,n,a,r,i,o,s=arguments[0],l=1,u=arguments.length,d=!1;for(typeof s=="boolean"&&(d=s,s=arguments[1]||{},l=2),(s==null||typeof s!="object"&&typeof s!="function")&&(s={});l<u;++l)if(t=arguments[l],t!=null)for(n in t)a=Mg(s,n),r=Mg(t,n),s!==r&&(d&&r&&(Dg(r)||(i=Og(r)))?(i?(i=!1,o=a&&Og(a)?a:[]):o=a&&Dg(a)?a:{},Pg(s,{name:n,newValue:e(d,o,r)})):typeof r<"u"&&Pg(s,{name:n,newValue:r}));return s};const xd=cf(L_);function Jh(e){if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)}function O_(){const e=[],t={run:n,use:a};return t;function n(...r){let i=-1;const o=r.pop();if(typeof o!="function")throw new TypeError("Expected function as last argument, not "+o);s(null,...r);function s(l,...u){const d=e[++i];let f=-1;if(l){o(l);return}for(;++f<r.length;)(u[f]===null||u[f]===void 0)&&(u[f]=r[f]);r=u,d?D_(d,s)(...u):o(null,...u)}}function a(r){if(typeof r!="function")throw new TypeError("Expected `middelware` to be a function, not "+r);return e.push(r),t}}function D_(e,t){let n;return a;function a(...o){const s=e.length>o.length;let l;s&&o.push(r);try{l=e.apply(this,o)}catch(u){const d=u;if(s&&n)throw d;return r(d)}s||(l instanceof Promise?l.then(i,r):l instanceof Error?r(l):i(l))}function r(o,...s){n||(n=!0,t(o,...s))}function i(o){r(null,o)}}const ma={basename:P_,dirname:M_,extname:F_,join:j_,sep:"/"};function P_(e,t){if(t!==void 0&&typeof t!="string")throw new TypeError('"ext" argument must be a string');ll(e);let n=0,a=-1,r=e.length,i;if(t===void 0||t.length===0||t.length>e.length){for(;r--;)if(e.codePointAt(r)===47){if(i){n=r+1;break}}else a<0&&(i=!0,a=r+1);return a<0?"":e.slice(n,a)}if(t===e)return"";let o=-1,s=t.length-1;for(;r--;)if(e.codePointAt(r)===47){if(i){n=r+1;break}}else o<0&&(i=!0,o=r+1),s>-1&&(e.codePointAt(r)===t.codePointAt(s--)?s<0&&(a=r):(s=-1,a=o));return n===a?a=o:a<0&&(a=e.length),e.slice(n,a)}function M_(e){if(ll(e),e.length===0)return".";let t=-1,n=e.length,a;for(;--n;)if(e.codePointAt(n)===47){if(a){t=n;break}}else a||(a=!0);return t<0?e.codePointAt(0)===47?"/":".":t===1&&e.codePointAt(0)===47?"//":e.slice(0,t)}function F_(e){ll(e);let t=e.length,n=-1,a=0,r=-1,i=0,o;for(;t--;){const s=e.codePointAt(t);if(s===47){if(o){a=t+1;break}continue}n<0&&(o=!0,n=t+1),s===46?r<0?r=t:i!==1&&(i=1):r>-1&&(i=-1)}return r<0||n<0||i===0||i===1&&r===n-1&&r===a+1?"":e.slice(r,n)}function j_(...e){let t=-1,n;for(;++t<e.length;)ll(e[t]),e[t]&&(n=n===void 0?e[t]:n+"/"+e[t]);return n===void 0?".":B_(n)}function B_(e){ll(e);const t=e.codePointAt(0)===47;let n=H_(e,!t);return n.length===0&&!t&&(n="."),n.length>0&&e.codePointAt(e.length-1)===47&&(n+="/"),t?"/"+n:n}function H_(e,t){let n="",a=0,r=-1,i=0,o=-1,s,l;for(;++o<=e.length;){if(o<e.length)s=e.codePointAt(o);else{if(s===47)break;s=47}if(s===47){if(!(r===o-1||i===1))if(r!==o-1&&i===2){if(n.length<2||a!==2||n.codePointAt(n.length-1)!==46||n.codePointAt(n.length-2)!==46){if(n.length>2){if(l=n.lastIndexOf("/"),l!==n.length-1){l<0?(n="",a=0):(n=n.slice(0,l),a=n.length-1-n.lastIndexOf("/")),r=o,i=0;continue}}else if(n.length>0){n="",a=0,r=o,i=0;continue}}t&&(n=n.length>0?n+"/..":"..",a=2)}else n.length>0?n+="/"+e.slice(r+1,o):n=e.slice(r+1,o),a=o-r-1;r=o,i=0}else s===46&&i>-1?i++:i=-1}return n}function ll(e){if(typeof e!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(e))}const q_={cwd:U_};function U_(){return"/"}function Zh(e){return!!(e!==null&&typeof e=="object"&&"href"in e&&e.href&&"protocol"in e&&e.protocol&&e.auth===void 0)}function W_(e){if(typeof e=="string")e=new URL(e);else if(!Zh(e)){const t=new TypeError('The "path" argument must be of type string or an instance of URL. Received `'+e+"`");throw t.code="ERR_INVALID_ARG_TYPE",t}if(e.protocol!=="file:"){const t=new TypeError("The URL must be of scheme file");throw t.code="ERR_INVALID_URL_SCHEME",t}return Y_(e)}function Y_(e){if(e.hostname!==""){const a=new TypeError('File URL host must be "localhost" or empty on darwin');throw a.code="ERR_INVALID_FILE_URL_HOST",a}const t=e.pathname;let n=-1;for(;++n<t.length;)if(t.codePointAt(n)===37&&t.codePointAt(n+1)===50){const a=t.codePointAt(n+2);if(a===70||a===102){const r=new TypeError("File URL path must not include encoded / characters");throw r.code="ERR_INVALID_FILE_URL_PATH",r}}return decodeURIComponent(t)}const Ed=["history","path","basename","stem","extname","dirname"];class jv{constructor(t){let n;t?Zh(t)?n={path:t}:typeof t=="string"||z_(t)?n={value:t}:n=t:n={},this.cwd=q_.cwd(),this.data={},this.history=[],this.messages=[],this.value,this.map,this.result,this.stored;let a=-1;for(;++a<Ed.length;){const i=Ed[a];i in n&&n[i]!==void 0&&n[i]!==null&&(this[i]=i==="history"?[...n[i]]:n[i])}let r;for(r in n)Ed.includes(r)||(this[r]=n[r])}get basename(){return typeof this.path=="string"?ma.basename(this.path):void 0}set basename(t){Ad(t,"basename"),Sd(t,"basename"),this.path=ma.join(this.dirname||"",t)}get dirname(){return typeof this.path=="string"?ma.dirname(this.path):void 0}set dirname(t){Fg(this.basename,"dirname"),this.path=ma.join(t||"",this.basename)}get extname(){return typeof this.path=="string"?ma.extname(this.path):void 0}set extname(t){if(Sd(t,"extname"),Fg(this.dirname,"extname"),t){if(t.codePointAt(0)!==46)throw new Error("`extname` must start with `.`");if(t.includes(".",1))throw new Error("`extname` cannot contain multiple dots")}this.path=ma.join(this.dirname,this.stem+(t||""))}get path(){return this.history[this.history.length-1]}set path(t){Zh(t)&&(t=W_(t)),Ad(t,"path"),this.path!==t&&this.history.push(t)}get stem(){return typeof this.path=="string"?ma.basename(this.path,this.extname):void 0}set stem(t){Ad(t,"stem"),Sd(t,"stem"),this.path=ma.join(this.dirname||"",t+(this.extname||""))}fail(t,n,a){const r=this.message(t,n,a);throw r.fatal=!0,r}info(t,n,a){const r=this.message(t,n,a);return r.fatal=void 0,r}message(t,n,a){const r=new Jt(t,n,a);return this.path&&(r.name=this.path+":"+r.name,r.file=this.path),r.fatal=!1,this.messages.push(r),r}toString(t){return this.value===void 0?"":typeof this.value=="string"?this.value:new TextDecoder(t||void 0).decode(this.value)}}function Sd(e,t){if(e&&e.includes(ma.sep))throw new Error("`"+t+"` cannot be a path: did not expect `"+ma.sep+"`")}function Ad(e,t){if(!e)throw new Error("`"+t+"` cannot be empty")}function Fg(e,t){if(!e)throw new Error("Setting `"+t+"` requires `path` to be set too")}function z_(e){return!!(e&&typeof e=="object"&&"byteLength"in e&&"byteOffset"in e)}const $_=function(e){const a=this.constructor.prototype,r=a[e],i=function(){return r.apply(i,arguments)};Object.setPrototypeOf(i,a);const o=Object.getOwnPropertyNames(r);for(const s of o){const l=Object.getOwnPropertyDescriptor(r,s);l&&Object.defineProperty(i,s,l)}return i},G_={}.hasOwnProperty;class $m extends $_{constructor(){super("copy"),this.Compiler=void 0,this.Parser=void 0,this.attachers=[],this.compiler=void 0,this.freezeIndex=-1,this.frozen=void 0,this.namespace={},this.parser=void 0,this.transformers=O_()}copy(){const t=new $m;let n=-1;for(;++n<this.attachers.length;){const a=this.attachers[n];t.use(...a)}return t.data(xd(!0,{},this.namespace)),t}data(t,n){return typeof t=="string"?arguments.length===2?(Id("data",this.frozen),this.namespace[t]=n,this):G_.call(this.namespace,t)&&this.namespace[t]||void 0:t?(Id("data",this.frozen),this.namespace=t,this):this.namespace}freeze(){if(this.frozen)return this;const t=this;for(;++this.freezeIndex<this.attachers.length;){const[n,...a]=this.attachers[this.freezeIndex];if(a[0]===!1)continue;a[0]===!0&&(a[0]=void 0);const r=n.call(t,...a);typeof r=="function"&&this.transformers.use(r)}return this.frozen=!0,this.freezeIndex=Number.POSITIVE_INFINITY,this}parse(t){this.freeze();const n=jl(t),a=this.parser||this.Parser;return Cd("parse",a),a(String(n),n)}process(t,n){const a=this;return this.freeze(),Cd("process",this.parser||this.Parser),Nd("process",this.compiler||this.Compiler),n?r(void 0,n):new Promise(r);function r(i,o){const s=jl(t),l=a.parse(s);a.run(l,s,function(d,f,m){if(d||!f||!m)return u(d);const p=f,v=a.stringify(p,m);Q_(v)?m.value=v:m.result=v,u(d,m)});function u(d,f){d||!f?o(d):i?i(f):n(void 0,f)}}}processSync(t){let n=!1,a;return this.freeze(),Cd("processSync",this.parser||this.Parser),Nd("processSync",this.compiler||this.Compiler),this.process(t,r),Bg("processSync","process",n),a;function r(i,o){n=!0,_g(i),a=o}}run(t,n,a){jg(t),this.freeze();const r=this.transformers;return!a&&typeof n=="function"&&(a=n,n=void 0),a?i(void 0,a):new Promise(i);function i(o,s){const l=jl(n);r.run(t,l,u);function u(d,f,m){const p=f||t;d?s(d):o?o(p):a(void 0,p,m)}}}runSync(t,n){let a=!1,r;return this.run(t,n,i),Bg("runSync","run",a),r;function i(o,s){_g(o),r=s,a=!0}}stringify(t,n){this.freeze();const a=jl(n),r=this.compiler||this.Compiler;return Nd("stringify",r),jg(t),r(t,a)}use(t,...n){const a=this.attachers,r=this.namespace;if(Id("use",this.frozen),t!=null)if(typeof t=="function")l(t,n);else if(typeof t=="object")Array.isArray(t)?s(t):o(t);else throw new TypeError("Expected usable value, not `"+t+"`");return this;function i(u){if(typeof u=="function")l(u,[]);else if(typeof u=="object")if(Array.isArray(u)){const[d,...f]=u;l(d,f)}else o(u);else throw new TypeError("Expected usable value, not `"+u+"`")}function o(u){if(!("plugins"in u)&&!("settings"in u))throw new Error("Expected usable value but received an empty preset, which is probably a mistake: presets typically come with `plugins` and sometimes with `settings`, but this has neither");s(u.plugins),u.settings&&(r.settings=xd(!0,r.settings,u.settings))}function s(u){let d=-1;if(u!=null)if(Array.isArray(u))for(;++d<u.length;){const f=u[d];i(f)}else throw new TypeError("Expected a list of plugins, not `"+u+"`")}function l(u,d){let f=-1,m=-1;for(;++f<a.length;)if(a[f][0]===u){m=f;break}if(m===-1)a.push([u,...d]);else if(d.length>0){let[p,...v]=d;const k=a[m][1];Jh(k)&&Jh(p)&&(p=xd(!0,k,p)),a[m]=[u,p,...v]}}}}const V_=new $m().freeze();function Cd(e,t){if(typeof t!="function")throw new TypeError("Cannot `"+e+"` without `parser`")}function Nd(e,t){if(typeof t!="function")throw new TypeError("Cannot `"+e+"` without `compiler`")}function Id(e,t){if(t)throw new Error("Cannot call `"+e+"` on a frozen processor.\nCreate a new processor first, by calling it: use `processor()` instead of `processor`.")}function jg(e){if(!Jh(e)||typeof e.type!="string")throw new TypeError("Expected node, got `"+e+"`")}function Bg(e,t,n){if(!n)throw new Error("`"+e+"` finished async. Use `"+t+"` instead")}function jl(e){return K_(e)?e:new jv(e)}function K_(e){return!!(e&&typeof e=="object"&&"message"in e&&"messages"in e)}function Q_(e){return typeof e=="string"||X_(e)}function X_(e){return!!(e&&typeof e=="object"&&"byteLength"in e&&"byteOffset"in e)}const J_="https://github.com/remarkjs/react-markdown/blob/main/changelog.md",Hg=[],qg={allowDangerousHtml:!0},Z_=/^(https?|ircs?|mailto|xmpp)$/i,e8=[{from:"astPlugins",id:"remove-buggy-html-in-markdown-parser"},{from:"allowDangerousHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"allowNode",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowElement"},{from:"allowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowedElements"},{from:"disallowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"disallowedElements"},{from:"escapeHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"includeElementIndex",id:"#remove-includeelementindex"},{from:"includeNodeIndex",id:"change-includenodeindex-to-includeelementindex"},{from:"linkTarget",id:"remove-linktarget"},{from:"plugins",id:"change-plugins-to-remarkplugins",to:"remarkPlugins"},{from:"rawSourcePos",id:"#remove-rawsourcepos"},{from:"renderers",id:"change-renderers-to-components",to:"components"},{from:"source",id:"change-source-to-children",to:"children"},{from:"sourcePos",id:"#remove-sourcepos"},{from:"transformImageUri",id:"#add-urltransform",to:"urlTransform"},{from:"transformLinkUri",id:"#add-urltransform",to:"urlTransform"}];function t8(e){const t=e.allowedElements,n=e.allowElement,a=e.children||"",r=e.className,i=e.components,o=e.disallowedElements,s=e.rehypePlugins||Hg,l=e.remarkPlugins||Hg,u=e.remarkRehypeOptions?{...e.remarkRehypeOptions,...qg}:qg,d=e.skipHtml,f=e.unwrapDisallowed,m=e.urlTransform||n8,p=V_().use(FI).use(l).use(R_,u).use(s),v=new jv;typeof a=="string"&&(v.value=a);for(const b of e8)Object.hasOwn(e,b.from)&&(""+b.from+(b.to?"use `"+b.to+"` instead":"remove it")+J_+b.id,void 0);const k=p.parse(v);let T=p.runSync(k,v);return r&&(T={type:"element",tagName:"div",properties:{className:r},children:T.type==="root"?T.children:[T]}),xc(T,y),w5(T,{Fragment:c.Fragment,components:i,ignoreInvalidStyle:!0,jsx:c.jsx,jsxs:c.jsxs,passKeys:!0,passNode:!0});function y(b,x,w){if(b.type==="raw"&&w&&typeof x=="number")return d?w.children.splice(x,1):w.children[x]={type:"text",value:b.value},x;if(b.type==="element"){let O;for(O in wd)if(Object.hasOwn(wd,O)&&Object.hasOwn(b.properties,O)){const N=b.properties[O],R=wd[O];(R===null||R.includes(b.tagName))&&(b.properties[O]=m(String(N||""),O,b))}}if(b.type==="element"){let O=t?!t.includes(b.tagName):o?o.includes(b.tagName):!1;if(!O&&n&&typeof x=="number"&&(O=!n(b,x,w)),O&&w&&typeof x=="number")return f&&b.children?w.children.splice(x,1,...b.children):w.children.splice(x,1),x}}}function n8(e){const t=e.indexOf(":"),n=e.indexOf("?"),a=e.indexOf("#"),r=e.indexOf("/");return t<0||r>-1&&t>r||n>-1&&t>n||a>-1&&t>a||Z_.test(e.slice(0,t))?e:""}function Ug(e,t){const n=String(e);if(typeof t!="string")throw new TypeError("Expected character");let a=0,r=n.indexOf(t);for(;r!==-1;)a++,r=n.indexOf(t,r+t.length);return a}function a8(e){if(typeof e!="string")throw new TypeError("Expected a string");return e.replace(/[|\\{}()[\]^$+*?.]/g,"\\$&").replace(/-/g,"\\x2d")}function r8(e,t,n){const r=kc((n||{}).ignore||[]),i=i8(t);let o=-1;for(;++o<i.length;)Mv(e,"text",s);function s(u,d){let f=-1,m;for(;++f<d.length;){const p=d[f],v=m?m.children:void 0;if(r(p,v?v.indexOf(p):void 0,m))return;m=p}if(m)return l(u,d)}function l(u,d){const f=d[d.length-1],m=i[o][0],p=i[o][1];let v=0;const T=f.children.indexOf(u);let y=!1,b=[];m.lastIndex=0;let x=m.exec(u.value);for(;x;){const w=x.index,O={index:x.index,input:x.input,stack:[...d,u]};let N=p(...x,O);if(typeof N=="string"&&(N=N.length>0?{type:"text",value:N}:void 0),N===!1?m.lastIndex=w+1:(v!==w&&b.push({type:"text",value:u.value.slice(v,w)}),Array.isArray(N)?b.push(...N):N&&b.push(N),v=w+x[0].length,y=!0),!m.global)break;x=m.exec(u.value)}return y?(v<u.value.length&&b.push({type:"text",value:u.value.slice(v)}),f.children.splice(T,1,...b)):b=[u],T+b.length}}function i8(e){const t=[];if(!Array.isArray(e))throw new TypeError("Expected find and replace tuple or list of tuples");const n=!e[0]||Array.isArray(e[0])?e:[e];let a=-1;for(;++a<n.length;){const r=n[a];t.push([o8(r[0]),s8(r[1])])}return t}function o8(e){return typeof e=="string"?new RegExp(a8(e),"g"):e}function s8(e){return typeof e=="function"?e:function(){return e}}const _d="phrasing",Rd=["autolink","link","image","label"];function l8(){return{transforms:[p8],enter:{literalAutolink:c8,literalAutolinkEmail:Ld,literalAutolinkHttp:Ld,literalAutolinkWww:Ld},exit:{literalAutolink:m8,literalAutolinkEmail:f8,literalAutolinkHttp:d8,literalAutolinkWww:h8}}}function u8(){return{unsafe:[{character:"@",before:"[+\\-.\\w]",after:"[\\-.\\w]",inConstruct:_d,notInConstruct:Rd},{character:".",before:"[Ww]",after:"[\\-.\\w]",inConstruct:_d,notInConstruct:Rd},{character:":",before:"[ps]",after:"\\/",inConstruct:_d,notInConstruct:Rd}]}}function c8(e){this.enter({type:"link",title:null,url:"",children:[]},e)}function Ld(e){this.config.enter.autolinkProtocol.call(this,e)}function d8(e){this.config.exit.autolinkProtocol.call(this,e)}function h8(e){this.config.exit.data.call(this,e);const t=this.stack[this.stack.length-1];t.type,t.url="http://"+this.sliceSerialize(e)}function f8(e){this.config.exit.autolinkEmail.call(this,e)}function m8(e){this.exit(e)}function p8(e){r8(e,[[/(https?:\/\/|www(?=\.))([-.\w]+)([^ \t\r\n]*)/gi,g8],[/([-.\w+]+)@([-\w]+(?:\.[-\w]+)+)/g,y8]],{ignore:["link","linkReference"]})}function g8(e,t,n,a,r){let i="";if(!Bv(r)||(/^w/i.test(t)&&(n=t+n,t="",i="http://"),!b8(n)))return!1;const o=v8(n+a);if(!o[0])return!1;const s={type:"link",title:null,url:i+t+o[0],children:[{type:"text",value:t+o[0]}]};return o[1]?[s,{type:"text",value:o[1]}]:s}function y8(e,t,n,a){return!Bv(a,!0)||/[-\d_]$/.test(n)?!1:{type:"link",title:null,url:"mailto:"+t+"@"+n,children:[{type:"text",value:t+"@"+n}]}}function b8(e){const t=e.split(".");return!(t.length<2||t[t.length-1]&&(/_/.test(t[t.length-1])||!/[a-zA-Z\d]/.test(t[t.length-1]))||t[t.length-2]&&(/_/.test(t[t.length-2])||!/[a-zA-Z\d]/.test(t[t.length-2])))}function v8(e){const t=/[!"&'),.:;<>?\]}]+$/.exec(e);if(!t)return[e,void 0];e=e.slice(0,t.index);let n=t[0],a=n.indexOf(")");const r=Ug(e,"(");let i=Ug(e,")");for(;a!==-1&&r>i;)e+=n.slice(0,a+1),n=n.slice(a+1),a=n.indexOf(")"),i++;return[e,n]}function Bv(e,t){const n=e.input.charCodeAt(e.index-1);return(e.index===0||li(n)||bc(n))&&(!t||n!==47)}Hv.peek=_8;function w8(){return{enter:{gfmFootnoteDefinition:T8,gfmFootnoteDefinitionLabelString:x8,gfmFootnoteCall:A8,gfmFootnoteCallString:C8},exit:{gfmFootnoteDefinition:S8,gfmFootnoteDefinitionLabelString:E8,gfmFootnoteCall:I8,gfmFootnoteCallString:N8}}}function k8(){return{unsafe:[{character:"[",inConstruct:["phrasing","label","reference"]}],handlers:{footnoteDefinition:R8,footnoteReference:Hv}}}function T8(e){this.enter({type:"footnoteDefinition",identifier:"",label:"",children:[]},e)}function x8(){this.buffer()}function E8(e){const t=this.resume(),n=this.stack[this.stack.length-1];n.type,n.label=t,n.identifier=ra(this.sliceSerialize(e)).toLowerCase()}function S8(e){this.exit(e)}function A8(e){this.enter({type:"footnoteReference",identifier:"",label:""},e)}function C8(){this.buffer()}function N8(e){const t=this.resume(),n=this.stack[this.stack.length-1];n.type,n.label=t,n.identifier=ra(this.sliceSerialize(e)).toLowerCase()}function I8(e){this.exit(e)}function Hv(e,t,n,a){const r=n.createTracker(a);let i=r.move("[^");const o=n.enter("footnoteReference"),s=n.enter("reference");return i+=r.move(n.safe(n.associationId(e),{...r.current(),before:i,after:"]"})),s(),o(),i+=r.move("]"),i}function _8(){return"["}function R8(e,t,n,a){const r=n.createTracker(a);let i=r.move("[^");const o=n.enter("footnoteDefinition"),s=n.enter("label");return i+=r.move(n.safe(n.associationId(e),{...r.current(),before:i,after:"]"})),s(),i+=r.move("]:"+(e.children&&e.children.length>0?" ":"")),r.shift(4),i+=r.move(n.indentLines(n.containerFlow(e,r.current()),L8)),o(),i}function L8(e,t,n){return t===0?e:(n?"":"    ")+e}const O8=["autolink","destinationLiteral","destinationRaw","reference","titleQuote","titleApostrophe"];qv.peek=j8;function D8(){return{canContainEols:["delete"],enter:{strikethrough:M8},exit:{strikethrough:F8}}}function P8(){return{unsafe:[{character:"~",inConstruct:"phrasing",notInConstruct:O8}],handlers:{delete:qv}}}function M8(e){this.enter({type:"delete",children:[]},e)}function F8(e){this.exit(e)}function qv(e,t,n,a){const r=n.createTracker(a),i=n.enter("strikethrough");let o=r.move("~~");return o+=n.containerPhrasing(e,{...r.current(),before:o,after:"~"}),o+=r.move("~~"),i(),o}function j8(){return"~"}function B8(e,t={}){const n=(t.align||[]).concat(),a=t.stringLength||q8,r=[],i=[],o=[],s=[];let l=0,u=-1;for(;++u<e.length;){const v=[],k=[];let T=-1;for(e[u].length>l&&(l=e[u].length);++T<e[u].length;){const y=H8(e[u][T]);if(t.alignDelimiters!==!1){const b=a(y);k[T]=b,(s[T]===void 0||b>s[T])&&(s[T]=b)}v.push(y)}i[u]=v,o[u]=k}let d=-1;if(typeof n=="object"&&"length"in n)for(;++d<l;)r[d]=Wg(n[d]);else{const v=Wg(n);for(;++d<l;)r[d]=v}d=-1;const f=[],m=[];for(;++d<l;){const v=r[d];let k="",T="";v===99?(k=":",T=":"):v===108?k=":":v===114&&(T=":");let y=t.alignDelimiters===!1?1:Math.max(1,s[d]-k.length-T.length);const b=k+"-".repeat(y)+T;t.alignDelimiters!==!1&&(y=k.length+y+T.length,y>s[d]&&(s[d]=y),m[d]=y),f[d]=b}i.splice(1,0,f),o.splice(1,0,m),u=-1;const p=[];for(;++u<i.length;){const v=i[u],k=o[u];d=-1;const T=[];for(;++d<l;){const y=v[d]||"";let b="",x="";if(t.alignDelimiters!==!1){const w=s[d]-(k[d]||0),O=r[d];O===114?b=" ".repeat(w):O===99?w%2?(b=" ".repeat(w/2+.5),x=" ".repeat(w/2-.5)):(b=" ".repeat(w/2),x=b):x=" ".repeat(w)}t.delimiterStart!==!1&&!d&&T.push("|"),t.padding!==!1&&!(t.alignDelimiters===!1&&y==="")&&(t.delimiterStart!==!1||d)&&T.push(" "),t.alignDelimiters!==!1&&T.push(b),T.push(y),t.alignDelimiters!==!1&&T.push(x),t.padding!==!1&&T.push(" "),(t.delimiterEnd!==!1||d!==l-1)&&T.push("|")}p.push(t.delimiterEnd===!1?T.join("").replace(/ +$/,""):T.join(""))}return p.join(`
`)}function H8(e){return e==null?"":String(e)}function q8(e){return e.length}function Wg(e){const t=typeof e=="string"?e.codePointAt(0):0;return t===67||t===99?99:t===76||t===108?108:t===82||t===114?114:0}const Yg={}.hasOwnProperty;function Uv(e,t){const n=t||{};function a(r,...i){let o=a.invalid;const s=a.handlers;if(r&&Yg.call(r,e)){const l=String(r[e]);o=Yg.call(s,l)?s[l]:a.unknown}if(o)return o.call(this,r,...i)}return a.handlers=n.handlers||{},a.invalid=n.invalid,a.unknown=n.unknown,a}function U8(e,t,n,a){const r=n.enter("blockquote"),i=n.createTracker(a);i.move("> "),i.shift(2);const o=n.indentLines(n.containerFlow(e,i.current()),W8);return r(),o}function W8(e,t,n){return">"+(n?"":" ")+e}function Y8(e,t){return zg(e,t.inConstruct,!0)&&!zg(e,t.notInConstruct,!1)}function zg(e,t,n){if(typeof t=="string"&&(t=[t]),!t||t.length===0)return n;let a=-1;for(;++a<t.length;)if(e.includes(t[a]))return!0;return!1}function $g(e,t,n,a){let r=-1;for(;++r<n.unsafe.length;)if(n.unsafe[r].character===`
`&&Y8(n.stack,n.unsafe[r]))return/[ \t]/.test(a.before)?"":" ";return`\\
`}function z8(e,t){const n=String(e);let a=n.indexOf(t),r=a,i=0,o=0;if(typeof t!="string")throw new TypeError("Expected substring");for(;a!==-1;)a===r?++i>o&&(o=i):i=1,r=a+t.length,a=n.indexOf(t,r);return o}function $8(e,t){return!!(t.options.fences===!1&&e.value&&!e.lang&&/[^ \r\n]/.test(e.value)&&!/^[\t ]*(?:[\r\n]|$)|(?:^|[\r\n])[\t ]*$/.test(e.value))}function G8(e){const t=e.options.fence||"`";if(t!=="`"&&t!=="~")throw new Error("Cannot serialize code with `"+t+"` for `options.fence`, expected `` ` `` or `~`");return t}function V8(e,t,n,a){const r=G8(n),i=e.value||"",o=r==="`"?"GraveAccent":"Tilde";if($8(e,n)){const f=n.enter("codeIndented"),m=n.indentLines(i,K8);return f(),m}const s=n.createTracker(a),l=r.repeat(Math.max(z8(i,r)+1,3)),u=n.enter("codeFenced");let d=s.move(l);if(e.lang){const f=n.enter(`codeFencedLang${o}`);d+=s.move(n.safe(e.lang,{before:d,after:" ",encode:["`"],...s.current()})),f()}if(e.lang&&e.meta){const f=n.enter(`codeFencedMeta${o}`);d+=s.move(" "),d+=s.move(n.safe(e.meta,{before:d,after:`
`,encode:["`"],...s.current()})),f()}return d+=s.move(`
`),i&&(d+=s.move(i+`
`)),d+=s.move(l),u(),d}function K8(e,t,n){return(n?"":"    ")+e}function Gm(e){const t=e.options.quote||'"';if(t!=='"'&&t!=="'")throw new Error("Cannot serialize title with `"+t+"` for `options.quote`, expected `\"`, or `'`");return t}function Q8(e,t,n,a){const r=Gm(n),i=r==='"'?"Quote":"Apostrophe",o=n.enter("definition");let s=n.enter("label");const l=n.createTracker(a);let u=l.move("[");return u+=l.move(n.safe(n.associationId(e),{before:u,after:"]",...l.current()})),u+=l.move("]: "),s(),!e.url||/[\0- \u007F]/.test(e.url)?(s=n.enter("destinationLiteral"),u+=l.move("<"),u+=l.move(n.safe(e.url,{before:u,after:">",...l.current()})),u+=l.move(">")):(s=n.enter("destinationRaw"),u+=l.move(n.safe(e.url,{before:u,after:e.title?" ":`
`,...l.current()}))),s(),e.title&&(s=n.enter(`title${i}`),u+=l.move(" "+r),u+=l.move(n.safe(e.title,{before:u,after:r,...l.current()})),u+=l.move(r),s()),o(),u}function X8(e){const t=e.options.emphasis||"*";if(t!=="*"&&t!=="_")throw new Error("Cannot serialize emphasis with `"+t+"` for `options.emphasis`, expected `*`, or `_`");return t}Wv.peek=J8;function Wv(e,t,n,a){const r=X8(n),i=n.enter("emphasis"),o=n.createTracker(a);let s=o.move(r);return s+=o.move(n.containerPhrasing(e,{before:s,after:r,...o.current()})),s+=o.move(r),i(),s}function J8(e,t,n){return n.options.emphasis||"*"}function Z8(e,t){let n=!1;return xc(e,function(a){if("value"in a&&/\r?\n|\r/.test(a.value)||a.type==="break")return n=!0,Qh}),!!((!e.depth||e.depth<3)&&Bm(e)&&(t.options.setext||n))}function eR(e,t,n,a){const r=Math.max(Math.min(6,e.depth||1),1),i=n.createTracker(a);if(Z8(e,n)){const d=n.enter("headingSetext"),f=n.enter("phrasing"),m=n.containerPhrasing(e,{...i.current(),before:`
`,after:`
`});return f(),d(),m+`
`+(r===1?"=":"-").repeat(m.length-(Math.max(m.lastIndexOf("\r"),m.lastIndexOf(`
`))+1))}const o="#".repeat(r),s=n.enter("headingAtx"),l=n.enter("phrasing");i.move(o+" ");let u=n.containerPhrasing(e,{before:"# ",after:`
`,...i.current()});return/^[\t ]/.test(u)&&(u="&#x"+u.charCodeAt(0).toString(16).toUpperCase()+";"+u.slice(1)),u=u?o+" "+u:o,n.options.closeAtx&&(u+=" "+o),l(),s(),u}Yv.peek=tR;function Yv(e){return e.value||""}function tR(){return"<"}zv.peek=nR;function zv(e,t,n,a){const r=Gm(n),i=r==='"'?"Quote":"Apostrophe",o=n.enter("image");let s=n.enter("label");const l=n.createTracker(a);let u=l.move("![");return u+=l.move(n.safe(e.alt,{before:u,after:"]",...l.current()})),u+=l.move("]("),s(),!e.url&&e.title||/[\0- \u007F]/.test(e.url)?(s=n.enter("destinationLiteral"),u+=l.move("<"),u+=l.move(n.safe(e.url,{before:u,after:">",...l.current()})),u+=l.move(">")):(s=n.enter("destinationRaw"),u+=l.move(n.safe(e.url,{before:u,after:e.title?" ":")",...l.current()}))),s(),e.title&&(s=n.enter(`title${i}`),u+=l.move(" "+r),u+=l.move(n.safe(e.title,{before:u,after:r,...l.current()})),u+=l.move(r),s()),u+=l.move(")"),o(),u}function nR(){return"!"}$v.peek=aR;function $v(e,t,n,a){const r=e.referenceType,i=n.enter("imageReference");let o=n.enter("label");const s=n.createTracker(a);let l=s.move("![");const u=n.safe(e.alt,{before:l,after:"]",...s.current()});l+=s.move(u+"]["),o();const d=n.stack;n.stack=[],o=n.enter("reference");const f=n.safe(n.associationId(e),{before:l,after:"]",...s.current()});return o(),n.stack=d,i(),r==="full"||!u||u!==f?l+=s.move(f+"]"):r==="shortcut"?l=l.slice(0,-1):l+=s.move("]"),l}function aR(){return"!"}Gv.peek=rR;function Gv(e,t,n){let a=e.value||"",r="`",i=-1;for(;new RegExp("(^|[^`])"+r+"([^`]|$)").test(a);)r+="`";for(/[^ \r\n]/.test(a)&&(/^[ \r\n]/.test(a)&&/[ \r\n]$/.test(a)||/^`|`$/.test(a))&&(a=" "+a+" ");++i<n.unsafe.length;){const o=n.unsafe[i],s=n.compilePattern(o);let l;if(o.atBreak)for(;l=s.exec(a);){let u=l.index;a.charCodeAt(u)===10&&a.charCodeAt(u-1)===13&&u--,a=a.slice(0,u)+" "+a.slice(l.index+1)}}return r+a+r}function rR(){return"`"}function Vv(e,t){const n=Bm(e);return!!(!t.options.resourceLink&&e.url&&!e.title&&e.children&&e.children.length===1&&e.children[0].type==="text"&&(n===e.url||"mailto:"+n===e.url)&&/^[a-z][a-z+.-]+:/i.test(e.url)&&!/[\0- <>\u007F]/.test(e.url))}Kv.peek=iR;function Kv(e,t,n,a){const r=Gm(n),i=r==='"'?"Quote":"Apostrophe",o=n.createTracker(a);let s,l;if(Vv(e,n)){const d=n.stack;n.stack=[],s=n.enter("autolink");let f=o.move("<");return f+=o.move(n.containerPhrasing(e,{before:f,after:">",...o.current()})),f+=o.move(">"),s(),n.stack=d,f}s=n.enter("link"),l=n.enter("label");let u=o.move("[");return u+=o.move(n.containerPhrasing(e,{before:u,after:"](",...o.current()})),u+=o.move("]("),l(),!e.url&&e.title||/[\0- \u007F]/.test(e.url)?(l=n.enter("destinationLiteral"),u+=o.move("<"),u+=o.move(n.safe(e.url,{before:u,after:">",...o.current()})),u+=o.move(">")):(l=n.enter("destinationRaw"),u+=o.move(n.safe(e.url,{before:u,after:e.title?" ":")",...o.current()}))),l(),e.title&&(l=n.enter(`title${i}`),u+=o.move(" "+r),u+=o.move(n.safe(e.title,{before:u,after:r,...o.current()})),u+=o.move(r),l()),u+=o.move(")"),s(),u}function iR(e,t,n){return Vv(e,n)?"<":"["}Qv.peek=oR;function Qv(e,t,n,a){const r=e.referenceType,i=n.enter("linkReference");let o=n.enter("label");const s=n.createTracker(a);let l=s.move("[");const u=n.containerPhrasing(e,{before:l,after:"]",...s.current()});l+=s.move(u+"]["),o();const d=n.stack;n.stack=[],o=n.enter("reference");const f=n.safe(n.associationId(e),{before:l,after:"]",...s.current()});return o(),n.stack=d,i(),r==="full"||!u||u!==f?l+=s.move(f+"]"):r==="shortcut"?l=l.slice(0,-1):l+=s.move("]"),l}function oR(){return"["}function Vm(e){const t=e.options.bullet||"*";if(t!=="*"&&t!=="+"&&t!=="-")throw new Error("Cannot serialize items with `"+t+"` for `options.bullet`, expected `*`, `+`, or `-`");return t}function sR(e){const t=Vm(e),n=e.options.bulletOther;if(!n)return t==="*"?"-":"*";if(n!=="*"&&n!=="+"&&n!=="-")throw new Error("Cannot serialize items with `"+n+"` for `options.bulletOther`, expected `*`, `+`, or `-`");if(n===t)throw new Error("Expected `bullet` (`"+t+"`) and `bulletOther` (`"+n+"`) to be different");return n}function lR(e){const t=e.options.bulletOrdered||".";if(t!=="."&&t!==")")throw new Error("Cannot serialize items with `"+t+"` for `options.bulletOrdered`, expected `.` or `)`");return t}function Xv(e){const t=e.options.rule||"*";if(t!=="*"&&t!=="-"&&t!=="_")throw new Error("Cannot serialize rules with `"+t+"` for `options.rule`, expected `*`, `-`, or `_`");return t}function uR(e,t,n,a){const r=n.enter("list"),i=n.bulletCurrent;let o=e.ordered?lR(n):Vm(n);const s=e.ordered?o==="."?")":".":sR(n);let l=t&&n.bulletLastUsed?o===n.bulletLastUsed:!1;if(!e.ordered){const d=e.children?e.children[0]:void 0;if((o==="*"||o==="-")&&d&&(!d.children||!d.children[0])&&n.stack[n.stack.length-1]==="list"&&n.stack[n.stack.length-2]==="listItem"&&n.stack[n.stack.length-3]==="list"&&n.stack[n.stack.length-4]==="listItem"&&n.indexStack[n.indexStack.length-1]===0&&n.indexStack[n.indexStack.length-2]===0&&n.indexStack[n.indexStack.length-3]===0&&(l=!0),Xv(n)===o&&d){let f=-1;for(;++f<e.children.length;){const m=e.children[f];if(m&&m.type==="listItem"&&m.children&&m.children[0]&&m.children[0].type==="thematicBreak"){l=!0;break}}}}l&&(o=s),n.bulletCurrent=o;const u=n.containerFlow(e,a);return n.bulletLastUsed=o,n.bulletCurrent=i,r(),u}function cR(e){const t=e.options.listItemIndent||"one";if(t!=="tab"&&t!=="one"&&t!=="mixed")throw new Error("Cannot serialize items with `"+t+"` for `options.listItemIndent`, expected `tab`, `one`, or `mixed`");return t}function dR(e,t,n,a){const r=cR(n);let i=n.bulletCurrent||Vm(n);t&&t.type==="list"&&t.ordered&&(i=(typeof t.start=="number"&&t.start>-1?t.start:1)+(n.options.incrementListMarker===!1?0:t.children.indexOf(e))+i);let o=i.length+1;(r==="tab"||r==="mixed"&&(t&&t.type==="list"&&t.spread||e.spread))&&(o=Math.ceil(o/4)*4);const s=n.createTracker(a);s.move(i+" ".repeat(o-i.length)),s.shift(o);const l=n.enter("listItem"),u=n.indentLines(n.containerFlow(e,s.current()),d);return l(),u;function d(f,m,p){return m?(p?"":" ".repeat(o))+f:(p?i:i+" ".repeat(o-i.length))+f}}function hR(e,t,n,a){const r=n.enter("paragraph"),i=n.enter("phrasing"),o=n.containerPhrasing(e,a);return i(),r(),o}const fR=kc(["break","delete","emphasis","footnote","footnoteReference","image","imageReference","inlineCode","link","linkReference","strong","text"]);function mR(e,t,n,a){return(e.children.some(function(o){return fR(o)})?n.containerPhrasing:n.containerFlow).call(n,e,a)}function pR(e){const t=e.options.strong||"*";if(t!=="*"&&t!=="_")throw new Error("Cannot serialize strong with `"+t+"` for `options.strong`, expected `*`, or `_`");return t}Jv.peek=gR;function Jv(e,t,n,a){const r=pR(n),i=n.enter("strong"),o=n.createTracker(a);let s=o.move(r+r);return s+=o.move(n.containerPhrasing(e,{before:s,after:r,...o.current()})),s+=o.move(r+r),i(),s}function gR(e,t,n){return n.options.strong||"*"}function yR(e,t,n,a){return n.safe(e.value,a)}function bR(e){const t=e.options.ruleRepetition||3;if(t<3)throw new Error("Cannot serialize rules with repetition `"+t+"` for `options.ruleRepetition`, expected `3` or more");return t}function vR(e,t,n){const a=(Xv(n)+(n.options.ruleSpaces?" ":"")).repeat(bR(n));return n.options.ruleSpaces?a.slice(0,-1):a}const Zv={blockquote:U8,break:$g,code:V8,definition:Q8,emphasis:Wv,hardBreak:$g,heading:eR,html:Yv,image:zv,imageReference:$v,inlineCode:Gv,link:Kv,linkReference:Qv,list:uR,listItem:dR,paragraph:hR,root:mR,strong:Jv,text:yR,thematicBreak:vR};function wR(){return{enter:{table:kR,tableData:Gg,tableHeader:Gg,tableRow:xR},exit:{codeText:ER,table:TR,tableData:Od,tableHeader:Od,tableRow:Od}}}function kR(e){const t=e._align;this.enter({type:"table",align:t.map(function(n){return n==="none"?null:n}),children:[]},e),this.data.inTable=!0}function TR(e){this.exit(e),this.data.inTable=void 0}function xR(e){this.enter({type:"tableRow",children:[]},e)}function Od(e){this.exit(e)}function Gg(e){this.enter({type:"tableCell",children:[]},e)}function ER(e){let t=this.resume();this.data.inTable&&(t=t.replace(/\\([\\|])/g,SR));const n=this.stack[this.stack.length-1];n.type,n.value=t,this.exit(e)}function SR(e,t){return t==="|"?t:e}function AR(e){const t=e||{},n=t.tableCellPadding,a=t.tablePipeAlign,r=t.stringLength,i=n?" ":"|";return{unsafe:[{character:"\r",inConstruct:"tableCell"},{character:`
`,inConstruct:"tableCell"},{atBreak:!0,character:"|",after:"[	 :-]"},{character:"|",inConstruct:"tableCell"},{atBreak:!0,character:":",after:"-"},{atBreak:!0,character:"-",after:"[:|-]"}],handlers:{inlineCode:m,table:o,tableCell:l,tableRow:s}};function o(p,v,k,T){return u(d(p,k,T),p.align)}function s(p,v,k,T){const y=f(p,k,T),b=u([y]);return b.slice(0,b.indexOf(`
`))}function l(p,v,k,T){const y=k.enter("tableCell"),b=k.enter("phrasing"),x=k.containerPhrasing(p,{...T,before:i,after:i});return b(),y(),x}function u(p,v){return B8(p,{align:v,alignDelimiters:a,padding:n,stringLength:r})}function d(p,v,k){const T=p.children;let y=-1;const b=[],x=v.enter("table");for(;++y<T.length;)b[y]=f(T[y],v,k);return x(),b}function f(p,v,k){const T=p.children;let y=-1;const b=[],x=v.enter("tableRow");for(;++y<T.length;)b[y]=l(T[y],p,v,k);return x(),b}function m(p,v,k){let T=Zv.inlineCode(p,v,k);return k.stack.includes("tableCell")&&(T=T.replace(/\|/g,"\\$&")),T}}function CR(){return{exit:{taskListCheckValueChecked:Vg,taskListCheckValueUnchecked:Vg,paragraph:IR}}}function NR(){return{unsafe:[{atBreak:!0,character:"-",after:"[:|-]"}],handlers:{listItem:_R}}}function Vg(e){const t=this.stack[this.stack.length-2];t.type,t.checked=e.type==="taskListCheckValueChecked"}function IR(e){const t=this.stack[this.stack.length-2];if(t&&t.type==="listItem"&&typeof t.checked=="boolean"){const n=this.stack[this.stack.length-1];n.type;const a=n.children[0];if(a&&a.type==="text"){const r=t.children;let i=-1,o;for(;++i<r.length;){const s=r[i];if(s.type==="paragraph"){o=s;break}}o===n&&(a.value=a.value.slice(1),a.value.length===0?n.children.shift():n.position&&a.position&&typeof a.position.start.offset=="number"&&(a.position.start.column++,a.position.start.offset++,n.position.start=Object.assign({},a.position.start)))}}this.exit(e)}function _R(e,t,n,a){const r=e.children[0],i=typeof e.checked=="boolean"&&r&&r.type==="paragraph",o="["+(e.checked?"x":" ")+"] ",s=n.createTracker(a);i&&s.move(o);let l=Zv.listItem(e,t,n,{...a,...s.current()});return i&&(l=l.replace(/^(?:[*+-]|\d+\.)([\r\n]| {1,3})/,u)),l;function u(d){return d+o}}function RR(){return[l8(),w8(),D8(),wR(),CR()]}function LR(e){return{extensions:[u8(),k8(),P8(),AR(e),NR()]}}const OR={tokenize:BR,partial:!0},ew={tokenize:HR,partial:!0},tw={tokenize:qR,partial:!0},nw={tokenize:UR,partial:!0},DR={tokenize:WR,partial:!0},aw={tokenize:FR,previous:iw},rw={tokenize:jR,previous:ow},Ga={tokenize:MR,previous:sw},Aa={};function PR(){return{text:Aa}}let Pr=48;for(;Pr<123;)Aa[Pr]=Ga,Pr++,Pr===58?Pr=65:Pr===91&&(Pr=97);Aa[43]=Ga;Aa[45]=Ga;Aa[46]=Ga;Aa[95]=Ga;Aa[72]=[Ga,rw];Aa[104]=[Ga,rw];Aa[87]=[Ga,aw];Aa[119]=[Ga,aw];function MR(e,t,n){const a=this;let r,i;return o;function o(f){return!ef(f)||!sw.call(a,a.previous)||Km(a.events)?n(f):(e.enter("literalAutolink"),e.enter("literalAutolinkEmail"),s(f))}function s(f){return ef(f)?(e.consume(f),s):f===64?(e.consume(f),l):n(f)}function l(f){return f===46?e.check(DR,d,u)(f):f===45||f===95||Kt(f)?(i=!0,e.consume(f),l):d(f)}function u(f){return e.consume(f),r=!0,l}function d(f){return i&&r&&nn(a.previous)?(e.exit("literalAutolinkEmail"),e.exit("literalAutolink"),t(f)):n(f)}}function FR(e,t,n){const a=this;return r;function r(o){return o!==87&&o!==119||!iw.call(a,a.previous)||Km(a.events)?n(o):(e.enter("literalAutolink"),e.enter("literalAutolinkWww"),e.check(OR,e.attempt(ew,e.attempt(tw,i),n),n)(o))}function i(o){return e.exit("literalAutolinkWww"),e.exit("literalAutolink"),t(o)}}function jR(e,t,n){const a=this;let r="",i=!1;return o;function o(f){return(f===72||f===104)&&ow.call(a,a.previous)&&!Km(a.events)?(e.enter("literalAutolink"),e.enter("literalAutolinkHttp"),r+=String.fromCodePoint(f),e.consume(f),s):n(f)}function s(f){if(nn(f)&&r.length<5)return r+=String.fromCodePoint(f),e.consume(f),s;if(f===58){const m=r.toLowerCase();if(m==="http"||m==="https")return e.consume(f),l}return n(f)}function l(f){return f===47?(e.consume(f),i?u:(i=!0,l)):n(f)}function u(f){return f===null||Du(f)||tt(f)||li(f)||bc(f)?n(f):e.attempt(ew,e.attempt(tw,d),n)(f)}function d(f){return e.exit("literalAutolinkHttp"),e.exit("literalAutolink"),t(f)}}function BR(e,t,n){let a=0;return r;function r(o){return(o===87||o===119)&&a<3?(a++,e.consume(o),r):o===46&&a===3?(e.consume(o),i):n(o)}function i(o){return o===null?n(o):t(o)}}function HR(e,t,n){let a,r,i;return o;function o(u){return u===46||u===95?e.check(nw,l,s)(u):u===null||tt(u)||li(u)||u!==45&&bc(u)?l(u):(i=!0,e.consume(u),o)}function s(u){return u===95?a=!0:(r=a,a=void 0),e.consume(u),o}function l(u){return r||a||!i?n(u):t(u)}}function qR(e,t){let n=0,a=0;return r;function r(o){return o===40?(n++,e.consume(o),r):o===41&&a<n?i(o):o===33||o===34||o===38||o===39||o===41||o===42||o===44||o===46||o===58||o===59||o===60||o===63||o===93||o===95||o===126?e.check(nw,t,i)(o):o===null||tt(o)||li(o)?t(o):(e.consume(o),r)}function i(o){return o===41&&a++,e.consume(o),r}}function UR(e,t,n){return a;function a(s){return s===33||s===34||s===39||s===41||s===42||s===44||s===46||s===58||s===59||s===63||s===95||s===126?(e.consume(s),a):s===38?(e.consume(s),i):s===93?(e.consume(s),r):s===60||s===null||tt(s)||li(s)?t(s):n(s)}function r(s){return s===null||s===40||s===91||tt(s)||li(s)?t(s):a(s)}function i(s){return nn(s)?o(s):n(s)}function o(s){return s===59?(e.consume(s),a):nn(s)?(e.consume(s),o):n(s)}}function WR(e,t,n){return a;function a(i){return e.consume(i),r}function r(i){return Kt(i)?n(i):t(i)}}function iw(e){return e===null||e===40||e===42||e===95||e===91||e===93||e===126||tt(e)}function ow(e){return!nn(e)}function sw(e){return!(e===47||ef(e))}function ef(e){return e===43||e===45||e===46||e===95||Kt(e)}function Km(e){let t=e.length,n=!1;for(;t--;){const a=e[t][1];if((a.type==="labelLink"||a.type==="labelImage")&&!a._balanced){n=!0;break}if(a._gfmAutolinkLiteralWalkedInto){n=!1;break}}return e.length>0&&!n&&(e[e.length-1][1]._gfmAutolinkLiteralWalkedInto=!0),n}const YR={tokenize:JR,partial:!0};function zR(){return{document:{91:{tokenize:KR,continuation:{tokenize:QR},exit:XR}},text:{91:{tokenize:VR},93:{add:"after",tokenize:$R,resolveTo:GR}}}}function $R(e,t,n){const a=this;let r=a.events.length;const i=a.parser.gfmFootnotes||(a.parser.gfmFootnotes=[]);let o;for(;r--;){const l=a.events[r][1];if(l.type==="labelImage"){o=l;break}if(l.type==="gfmFootnoteCall"||l.type==="labelLink"||l.type==="label"||l.type==="image"||l.type==="link")break}return s;function s(l){if(!o||!o._balanced)return n(l);const u=ra(a.sliceSerialize({start:o.end,end:a.now()}));return u.codePointAt(0)!==94||!i.includes(u.slice(1))?n(l):(e.enter("gfmFootnoteCallLabelMarker"),e.consume(l),e.exit("gfmFootnoteCallLabelMarker"),t(l))}}function GR(e,t){let n=e.length;for(;n--;)if(e[n][1].type==="labelImage"&&e[n][0]==="enter"){e[n][1];break}e[n+1][1].type="data",e[n+3][1].type="gfmFootnoteCallLabelMarker";const a={type:"gfmFootnoteCall",start:Object.assign({},e[n+3][1].start),end:Object.assign({},e[e.length-1][1].end)},r={type:"gfmFootnoteCallMarker",start:Object.assign({},e[n+3][1].end),end:Object.assign({},e[n+3][1].end)};r.end.column++,r.end.offset++,r.end._bufferIndex++;const i={type:"gfmFootnoteCallString",start:Object.assign({},r.end),end:Object.assign({},e[e.length-1][1].start)},o={type:"chunkString",contentType:"string",start:Object.assign({},i.start),end:Object.assign({},i.end)},s=[e[n+1],e[n+2],["enter",a,t],e[n+3],e[n+4],["enter",r,t],["exit",r,t],["enter",i,t],["enter",o,t],["exit",o,t],["exit",i,t],e[e.length-2],e[e.length-1],["exit",a,t]];return e.splice(n,e.length-n+1,...s),e}function VR(e,t,n){const a=this,r=a.parser.gfmFootnotes||(a.parser.gfmFootnotes=[]);let i=0,o;return s;function s(f){return e.enter("gfmFootnoteCall"),e.enter("gfmFootnoteCallLabelMarker"),e.consume(f),e.exit("gfmFootnoteCallLabelMarker"),l}function l(f){return f!==94?n(f):(e.enter("gfmFootnoteCallMarker"),e.consume(f),e.exit("gfmFootnoteCallMarker"),e.enter("gfmFootnoteCallString"),e.enter("chunkString").contentType="string",u)}function u(f){if(i>999||f===93&&!o||f===null||f===91||tt(f))return n(f);if(f===93){e.exit("chunkString");const m=e.exit("gfmFootnoteCallString");return r.includes(ra(a.sliceSerialize(m)))?(e.enter("gfmFootnoteCallLabelMarker"),e.consume(f),e.exit("gfmFootnoteCallLabelMarker"),e.exit("gfmFootnoteCall"),t):n(f)}return tt(f)||(o=!0),i++,e.consume(f),f===92?d:u}function d(f){return f===91||f===92||f===93?(e.consume(f),i++,u):u(f)}}function KR(e,t,n){const a=this,r=a.parser.gfmFootnotes||(a.parser.gfmFootnotes=[]);let i,o=0,s;return l;function l(v){return e.enter("gfmFootnoteDefinition")._container=!0,e.enter("gfmFootnoteDefinitionLabel"),e.enter("gfmFootnoteDefinitionLabelMarker"),e.consume(v),e.exit("gfmFootnoteDefinitionLabelMarker"),u}function u(v){return v===94?(e.enter("gfmFootnoteDefinitionMarker"),e.consume(v),e.exit("gfmFootnoteDefinitionMarker"),e.enter("gfmFootnoteDefinitionLabelString"),e.enter("chunkString").contentType="string",d):n(v)}function d(v){if(o>999||v===93&&!s||v===null||v===91||tt(v))return n(v);if(v===93){e.exit("chunkString");const k=e.exit("gfmFootnoteDefinitionLabelString");return i=ra(a.sliceSerialize(k)),e.enter("gfmFootnoteDefinitionLabelMarker"),e.consume(v),e.exit("gfmFootnoteDefinitionLabelMarker"),e.exit("gfmFootnoteDefinitionLabel"),m}return tt(v)||(s=!0),o++,e.consume(v),v===92?f:d}function f(v){return v===91||v===92||v===93?(e.consume(v),o++,d):d(v)}function m(v){return v===58?(e.enter("definitionMarker"),e.consume(v),e.exit("definitionMarker"),r.includes(i)||r.push(i),He(e,p,"gfmFootnoteDefinitionWhitespace")):n(v)}function p(v){return t(v)}}function QR(e,t,n){return e.check(sl,t,e.attempt(YR,t,n))}function XR(e){e.exit("gfmFootnoteDefinition")}function JR(e,t,n){const a=this;return He(e,r,"gfmFootnoteDefinitionIndent",5);function r(i){const o=a.events[a.events.length-1];return o&&o[1].type==="gfmFootnoteDefinitionIndent"&&o[2].sliceSerialize(o[1],!0).length===4?t(i):n(i)}}function ZR(e){let n=(e||{}).singleTilde;const a={tokenize:i,resolveAll:r};return n==null&&(n=!0),{text:{126:a},insideSpan:{null:[a]},attentionMarkers:{null:[126]}};function r(o,s){let l=-1;for(;++l<o.length;)if(o[l][0]==="enter"&&o[l][1].type==="strikethroughSequenceTemporary"&&o[l][1]._close){let u=l;for(;u--;)if(o[u][0]==="exit"&&o[u][1].type==="strikethroughSequenceTemporary"&&o[u][1]._open&&o[l][1].end.offset-o[l][1].start.offset===o[u][1].end.offset-o[u][1].start.offset){o[l][1].type="strikethroughSequence",o[u][1].type="strikethroughSequence";const d={type:"strikethrough",start:Object.assign({},o[u][1].start),end:Object.assign({},o[l][1].end)},f={type:"strikethroughText",start:Object.assign({},o[u][1].end),end:Object.assign({},o[l][1].start)},m=[["enter",d,s],["enter",o[u][1],s],["exit",o[u][1],s],["enter",f,s]],p=s.parser.constructs.insideSpan.null;p&&En(m,m.length,0,vc(p,o.slice(u+1,l),s)),En(m,m.length,0,[["exit",f,s],["enter",o[l][1],s],["exit",o[l][1],s],["exit",d,s]]),En(o,u-1,l-u+3,m),l=u+m.length-2;break}}for(l=-1;++l<o.length;)o[l][1].type==="strikethroughSequenceTemporary"&&(o[l][1].type="data");return o}function i(o,s,l){const u=this.previous,d=this.events;let f=0;return m;function m(v){return u===126&&d[d.length-1][1].type!=="characterEscape"?l(v):(o.enter("strikethroughSequenceTemporary"),p(v))}function p(v){const k=Pu(u);if(v===126)return f>1?l(v):(o.consume(v),f++,p);if(f<2&&!n)return l(v);const T=o.exit("strikethroughSequenceTemporary"),y=Pu(v);return T._open=!y||y===2&&!!k,T._close=!k||k===2&&!!y,s(v)}}}class eL{constructor(){this.map=[]}add(t,n,a){tL(this,t,n,a)}consume(t){if(this.map.sort(function(i,o){return i[0]-o[0]}),this.map.length===0)return;let n=this.map.length;const a=[];for(;n>0;)n-=1,a.push(t.slice(this.map[n][0]+this.map[n][1]),this.map[n][2]),t.length=this.map[n][0];a.push([...t]),t.length=0;let r=a.pop();for(;r;)t.push(...r),r=a.pop();this.map.length=0}}function tL(e,t,n,a){let r=0;if(!(n===0&&a.length===0)){for(;r<e.map.length;){if(e.map[r][0]===t){e.map[r][1]+=n,e.map[r][2].push(...a);return}r+=1}e.map.push([t,n,a])}}function nL(e,t){let n=!1;const a=[];for(;t<e.length;){const r=e[t];if(n){if(r[0]==="enter")r[1].type==="tableContent"&&a.push(e[t+1][1].type==="tableDelimiterMarker"?"left":"none");else if(r[1].type==="tableContent"){if(e[t-1][1].type==="tableDelimiterMarker"){const i=a.length-1;a[i]=a[i]==="left"?"center":"right"}}else if(r[1].type==="tableDelimiterRow")break}else r[0]==="enter"&&r[1].type==="tableDelimiterRow"&&(n=!0);t+=1}return a}function aL(){return{flow:{null:{tokenize:rL,resolveAll:iL}}}}function rL(e,t,n){const a=this;let r=0,i=0,o;return s;function s(_){let S=a.events.length-1;for(;S>-1;){const re=a.events[S][1].type;if(re==="lineEnding"||re==="linePrefix")S--;else break}const M=S>-1?a.events[S][1].type:null,B=M==="tableHead"||M==="tableRow"?N:l;return B===N&&a.parser.lazy[a.now().line]?n(_):B(_)}function l(_){return e.enter("tableHead"),e.enter("tableRow"),u(_)}function u(_){return _===124||(o=!0,i+=1),d(_)}function d(_){return _===null?n(_):we(_)?i>1?(i=0,a.interrupt=!0,e.exit("tableRow"),e.enter("lineEnding"),e.consume(_),e.exit("lineEnding"),p):n(_):Oe(_)?He(e,d,"whitespace")(_):(i+=1,o&&(o=!1,r+=1),_===124?(e.enter("tableCellDivider"),e.consume(_),e.exit("tableCellDivider"),o=!0,d):(e.enter("data"),f(_)))}function f(_){return _===null||_===124||tt(_)?(e.exit("data"),d(_)):(e.consume(_),_===92?m:f)}function m(_){return _===92||_===124?(e.consume(_),f):f(_)}function p(_){return a.interrupt=!1,a.parser.lazy[a.now().line]?n(_):(e.enter("tableDelimiterRow"),o=!1,Oe(_)?He(e,v,"linePrefix",a.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(_):v(_))}function v(_){return _===45||_===58?T(_):_===124?(o=!0,e.enter("tableCellDivider"),e.consume(_),e.exit("tableCellDivider"),k):O(_)}function k(_){return Oe(_)?He(e,T,"whitespace")(_):T(_)}function T(_){return _===58?(i+=1,o=!0,e.enter("tableDelimiterMarker"),e.consume(_),e.exit("tableDelimiterMarker"),y):_===45?(i+=1,y(_)):_===null||we(_)?w(_):O(_)}function y(_){return _===45?(e.enter("tableDelimiterFiller"),b(_)):O(_)}function b(_){return _===45?(e.consume(_),b):_===58?(o=!0,e.exit("tableDelimiterFiller"),e.enter("tableDelimiterMarker"),e.consume(_),e.exit("tableDelimiterMarker"),x):(e.exit("tableDelimiterFiller"),x(_))}function x(_){return Oe(_)?He(e,w,"whitespace")(_):w(_)}function w(_){return _===124?v(_):_===null||we(_)?!o||r!==i?O(_):(e.exit("tableDelimiterRow"),e.exit("tableHead"),t(_)):O(_)}function O(_){return n(_)}function N(_){return e.enter("tableRow"),R(_)}function R(_){return _===124?(e.enter("tableCellDivider"),e.consume(_),e.exit("tableCellDivider"),R):_===null||we(_)?(e.exit("tableRow"),t(_)):Oe(_)?He(e,R,"whitespace")(_):(e.enter("data"),D(_))}function D(_){return _===null||_===124||tt(_)?(e.exit("data"),R(_)):(e.consume(_),_===92?P:D)}function P(_){return _===92||_===124?(e.consume(_),D):D(_)}}function iL(e,t){let n=-1,a=!0,r=0,i=[0,0,0,0],o=[0,0,0,0],s=!1,l=0,u,d,f;const m=new eL;for(;++n<e.length;){const p=e[n],v=p[1];p[0]==="enter"?v.type==="tableHead"?(s=!1,l!==0&&(Kg(m,t,l,u,d),d=void 0,l=0),u={type:"table",start:Object.assign({},v.start),end:Object.assign({},v.end)},m.add(n,0,[["enter",u,t]])):v.type==="tableRow"||v.type==="tableDelimiterRow"?(a=!0,f=void 0,i=[0,0,0,0],o=[0,n+1,0,0],s&&(s=!1,d={type:"tableBody",start:Object.assign({},v.start),end:Object.assign({},v.end)},m.add(n,0,[["enter",d,t]])),r=v.type==="tableDelimiterRow"?2:d?3:1):r&&(v.type==="data"||v.type==="tableDelimiterMarker"||v.type==="tableDelimiterFiller")?(a=!1,o[2]===0&&(i[1]!==0&&(o[0]=o[1],f=Bl(m,t,i,r,void 0,f),i=[0,0,0,0]),o[2]=n)):v.type==="tableCellDivider"&&(a?a=!1:(i[1]!==0&&(o[0]=o[1],f=Bl(m,t,i,r,void 0,f)),i=o,o=[i[1],n,0,0])):v.type==="tableHead"?(s=!0,l=n):v.type==="tableRow"||v.type==="tableDelimiterRow"?(l=n,i[1]!==0?(o[0]=o[1],f=Bl(m,t,i,r,n,f)):o[1]!==0&&(f=Bl(m,t,o,r,n,f)),r=0):r&&(v.type==="data"||v.type==="tableDelimiterMarker"||v.type==="tableDelimiterFiller")&&(o[3]=n)}for(l!==0&&Kg(m,t,l,u,d),m.consume(t.events),n=-1;++n<t.events.length;){const p=t.events[n];p[0]==="enter"&&p[1].type==="table"&&(p[1]._align=nL(t.events,n))}return e}function Bl(e,t,n,a,r,i){const o=a===1?"tableHeader":a===2?"tableDelimiter":"tableData",s="tableContent";n[0]!==0&&(i.end=Object.assign({},Ti(t.events,n[0])),e.add(n[0],0,[["exit",i,t]]));const l=Ti(t.events,n[1]);if(i={type:o,start:Object.assign({},l),end:Object.assign({},l)},e.add(n[1],0,[["enter",i,t]]),n[2]!==0){const u=Ti(t.events,n[2]),d=Ti(t.events,n[3]),f={type:s,start:Object.assign({},u),end:Object.assign({},d)};if(e.add(n[2],0,[["enter",f,t]]),a!==2){const m=t.events[n[2]],p=t.events[n[3]];if(m[1].end=Object.assign({},p[1].end),m[1].type="chunkText",m[1].contentType="text",n[3]>n[2]+1){const v=n[2]+1,k=n[3]-n[2]-1;e.add(v,k,[])}}e.add(n[3]+1,0,[["exit",f,t]])}return r!==void 0&&(i.end=Object.assign({},Ti(t.events,r)),e.add(r,0,[["exit",i,t]]),i=void 0),i}function Kg(e,t,n,a,r){const i=[],o=Ti(t.events,n);r&&(r.end=Object.assign({},o),i.push(["exit",r,t])),a.end=Object.assign({},o),i.push(["exit",a,t]),e.add(n+1,0,i)}function Ti(e,t){const n=e[t],a=n[0]==="enter"?"start":"end";return n[1][a]}const oL={tokenize:lL};function sL(){return{text:{91:oL}}}function lL(e,t,n){const a=this;return r;function r(l){return a.previous!==null||!a._gfmTasklistFirstContentOfListItem?n(l):(e.enter("taskListCheck"),e.enter("taskListCheckMarker"),e.consume(l),e.exit("taskListCheckMarker"),i)}function i(l){return tt(l)?(e.enter("taskListCheckValueUnchecked"),e.consume(l),e.exit("taskListCheckValueUnchecked"),o):l===88||l===120?(e.enter("taskListCheckValueChecked"),e.consume(l),e.exit("taskListCheckValueChecked"),o):n(l)}function o(l){return l===93?(e.enter("taskListCheckMarker"),e.consume(l),e.exit("taskListCheckMarker"),e.exit("taskListCheck"),s):n(l)}function s(l){return we(l)?t(l):Oe(l)?e.check({tokenize:uL},t,n)(l):n(l)}}function uL(e,t,n){return He(e,a,"whitespace");function a(r){return r===null?n(r):t(r)}}function cL(e){return gv([PR(),zR(),ZR(e),aL(),sL()])}const dL={};function hL(e){const t=this,n=e||dL,a=t.data(),r=a.micromarkExtensions||(a.micromarkExtensions=[]),i=a.fromMarkdownExtensions||(a.fromMarkdownExtensions=[]),o=a.toMarkdownExtensions||(a.toMarkdownExtensions=[]);r.push(cL(n)),i.push(RR()),o.push(LR(n))}const Qg=/[#.]/g;function fL(e,t){const n=e||"",a={};let r=0,i,o;for(;r<n.length;){Qg.lastIndex=r;const s=Qg.exec(n),l=n.slice(r,s?s.index:n.length);l&&(i?i==="#"?a.id=l:Array.isArray(a.className)?a.className.push(l):a.className=[l]:o=l,r+=l.length),s&&(i=s[0],r++)}return{type:"element",tagName:o||t||"div",properties:a,children:[]}}const mL=new Set(["button","menu","reset","submit"]),tf={}.hasOwnProperty;function lw(e,t,n){const a=n&&bL(n);function r(i,o,...s){let l=-1,u;if(i==null){u={type:"root",children:[]};const d=o;s.unshift(d)}else if(u=fL(i,t),u.tagName=u.tagName.toLowerCase(),a&&tf.call(a,u.tagName)&&(u.tagName=a[u.tagName]),pL(o,u.tagName)){let d;for(d in o)tf.call(o,d)&&gL(e,u.properties,d,o[d])}else s.unshift(o);for(;++l<s.length;)nf(u.children,s[l]);return u.type==="element"&&u.tagName==="template"&&(u.content={type:"root",children:u.children},u.children=[]),u}return r}function pL(e,t){return e==null||typeof e!="object"||Array.isArray(e)?!1:t==="input"||!e.type||typeof e.type!="string"?!0:"children"in e&&Array.isArray(e.children)?!1:t==="button"?mL.has(e.type.toLowerCase()):!("value"in e)}function gL(e,t,n,a){const r=gc(e,n);let i=-1,o;if(a!=null){if(typeof a=="number"){if(Number.isNaN(a))return;o=a}else typeof a=="boolean"?o=a:typeof a=="string"?r.spaceSeparated?o=ag(a):r.commaSeparated?o=Jp(a):r.commaOrSpaceSeparated?o=ag(Jp(a).join(" ")):o=Xg(r,r.property,a):Array.isArray(a)?o=a.concat():o=r.property==="style"?yL(a):String(a);if(Array.isArray(o)){const s=[];for(;++i<o.length;){const l=Xg(r,r.property,o[i]);s[i]=l}o=s}if(r.property==="className"&&Array.isArray(t.className)){const s=o;o=t.className.concat(s)}t[r.property]=o}}function nf(e,t){let n=-1;if(t!=null)if(typeof t=="string"||typeof t=="number")e.push({type:"text",value:String(t)});else if(Array.isArray(t))for(;++n<t.length;)nf(e,t[n]);else if(typeof t=="object"&&"type"in t)t.type==="root"?nf(e,t.children):e.push(t);else throw new Error("Expected node, nodes, or string, got `"+t+"`")}function Xg(e,t,n){if(typeof n=="string"){if(e.number&&n&&!Number.isNaN(Number(n)))return Number(n);if((e.boolean||e.overloadedBoolean)&&(n===""||Ms(n)===Ms(t)))return!0}return n}function yL(e){const t=[];let n;for(n in e)tf.call(e,n)&&t.push([n,e[n]].join(": "));return t.join("; ")}function bL(e){const t={};let n=-1;for(;++n<e.length;)t[e[n].toLowerCase()]=e[n];return t}const vL=["altGlyph","altGlyphDef","altGlyphItem","animateColor","animateMotion","animateTransform","clipPath","feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","foreignObject","glyphRef","linearGradient","radialGradient","solidColor","textArea","textPath"],wL=lw(ol,"div"),kL=lw(Lr,"g",vL),Dd=/\r?\n|\r/g;function TL(e){const t=String(e),n=[];for(Dd.lastIndex=0;Dd.test(t);)n.push(Dd.lastIndex);return n.push(t.length+1),{toPoint:a,toOffset:r};function a(i){let o=-1;if(typeof i=="number"&&i>-1&&i<n[n.length-1]){for(;++o<n.length;)if(n[o]>i)return{line:o+1,column:i-(o>0?n[o-1]:0)+1,offset:i}}}function r(i){const o=i&&i.line,s=i&&i.column;if(typeof o=="number"&&typeof s=="number"&&!Number.isNaN(o)&&!Number.isNaN(s)&&o-1 in n){const l=(n[o-2]||0)+s-1||0;if(l>-1&&l<n[n.length-1])return l}}}const $r={html:"http://www.w3.org/1999/xhtml",mathml:"http://www.w3.org/1998/Math/MathML",svg:"http://www.w3.org/2000/svg",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},uw={}.hasOwnProperty,xL=Object.prototype;function EL(e,t){const n=t||{};return Qm({file:n.file||void 0,location:!1,schema:n.space==="svg"?Lr:ol,verbose:n.verbose||!1},e)}function Qm(e,t){let n;switch(t.nodeName){case"#comment":{const a=t;return n={type:"comment",value:a.data},nu(e,a,n),n}case"#document":case"#document-fragment":{const a=t,r="mode"in a?a.mode==="quirks"||a.mode==="limited-quirks":!1;if(n={type:"root",children:cw(e,t.childNodes),data:{quirksMode:r}},e.file&&e.location){const i=String(e.file),o=TL(i),s=o.toPoint(0),l=o.toPoint(i.length);n.position={start:s,end:l}}return n}case"#documentType":{const a=t;return n={type:"doctype"},nu(e,a,n),n}case"#text":{const a=t;return n={type:"text",value:a.value},nu(e,a,n),n}default:return n=SL(e,t),n}}function cw(e,t){let n=-1;const a=[];for(;++n<t.length;){const r=Qm(e,t[n]);a.push(r)}return a}function SL(e,t){const n=e.schema;e.schema=t.namespaceURI===$r.svg?Lr:ol;let a=-1;const r={};for(;++a<t.attrs.length;){const s=t.attrs[a],l=(s.prefix?s.prefix+":":"")+s.name;uw.call(xL,l)||(r[l]=s.value)}const o=(e.schema.space==="svg"?kL:wL)(t.tagName,r,cw(e,t.childNodes));if(nu(e,t,o),o.tagName==="template"){const s=t,l=s.sourceCodeLocation,u=l&&l.startTag&&Fi(l.startTag),d=l&&l.endTag&&Fi(l.endTag),f=Qm(e,s.content);u&&d&&e.file&&(f.position={start:u.end,end:d.start}),o.content=f}return e.schema=n,o}function nu(e,t,n){if("sourceCodeLocation"in t&&t.sourceCodeLocation&&e.file){const a=AL(e,n,t.sourceCodeLocation);a&&(e.location=!0,n.position=a)}}function AL(e,t,n){const a=Fi(n);if(t.type==="element"){const r=t.children[t.children.length-1];if(a&&!n.endTag&&r&&r.position&&r.position.end&&(a.end=Object.assign({},r.position.end)),e.verbose){const i={};let o;if(n.attrs)for(o in n.attrs)uw.call(n.attrs,o)&&(i[gc(e.schema,o).property]=Fi(n.attrs[o]));n.startTag;const s=Fi(n.startTag),l=n.endTag?Fi(n.endTag):void 0,u={opening:s};l&&(u.closing=l),u.properties=i,t.data={position:u}}}return a}function Fi(e){const t=Jg({line:e.startLine,column:e.startCol,offset:e.startOffset}),n=Jg({line:e.endLine,column:e.endCol,offset:e.endOffset});return t||n?{start:t,end:n}:void 0}function Jg(e){return e.line&&e.column?e:void 0}const CL={},NL={}.hasOwnProperty,dw=Uv("type",{handlers:{root:_L,element:PL,text:OL,comment:DL,doctype:LL}});function IL(e,t){const a=(t||CL).space;return dw(e,a==="svg"?Lr:ol)}function _L(e,t){const n={nodeName:"#document",mode:(e.data||{}).quirksMode?"quirks":"no-quirks",childNodes:[]};return n.childNodes=Xm(e.children,n,t),bo(e,n),n}function RL(e,t){const n={nodeName:"#document-fragment",childNodes:[]};return n.childNodes=Xm(e.children,n,t),bo(e,n),n}function LL(e){const t={nodeName:"#documentType",name:"html",publicId:"",systemId:"",parentNode:null};return bo(e,t),t}function OL(e){const t={nodeName:"#text",value:e.value,parentNode:null};return bo(e,t),t}function DL(e){const t={nodeName:"#comment",data:e.value,parentNode:null};return bo(e,t),t}function PL(e,t){const n=t;let a=n;e.type==="element"&&e.tagName.toLowerCase()==="svg"&&n.space==="html"&&(a=Lr);const r=[];let i;if(e.properties){for(i in e.properties)if(i!=="children"&&NL.call(e.properties,i)){const l=ML(a,i,e.properties[i]);l&&r.push(l)}}const o=a.space,s={nodeName:e.tagName,tagName:e.tagName,attrs:r,namespaceURI:$r[o],childNodes:[],parentNode:null};return s.childNodes=Xm(e.children,s,a),bo(e,s),e.tagName==="template"&&e.content&&(s.content=RL(e.content,a)),s}function ML(e,t,n){const a=gc(e,t);if(n===!1||n===null||n===void 0||typeof n=="number"&&Number.isNaN(n)||!n&&a.boolean)return;Array.isArray(n)&&(n=a.commaSeparated?Zb(n):lv(n));const r={name:a.attribute,value:n===!0?"":String(n)};if(a.space&&a.space!=="html"&&a.space!=="svg"){const i=r.name.indexOf(":");i<0?r.prefix="":(r.name=r.name.slice(i+1),r.prefix=a.attribute.slice(0,i)),r.namespace=$r[a.space]}return r}function Xm(e,t,n){let a=-1;const r=[];if(e)for(;++a<e.length;){const i=dw(e[a],n);i.parentNode=t,r.push(i)}return r}function bo(e,t){const n=e.position;n&&n.start&&n.end&&(n.start.offset,n.end.offset,t.sourceCodeLocation={startLine:n.start.line,startCol:n.start.column,startOffset:n.start.offset,endLine:n.end.line,endCol:n.end.column,endOffset:n.end.offset})}const FL=["area","base","basefont","bgsound","br","col","command","embed","frame","hr","image","img","input","keygen","link","meta","param","source","track","wbr"],jL=new Set([65534,65535,131070,131071,196606,196607,262142,262143,327678,327679,393214,393215,458750,458751,524286,524287,589822,589823,655358,655359,720894,720895,786430,786431,851966,851967,917502,917503,983038,983039,1048574,1048575,1114110,1114111]),ft="";var E;(function(e){e[e.EOF=-1]="EOF",e[e.NULL=0]="NULL",e[e.TABULATION=9]="TABULATION",e[e.CARRIAGE_RETURN=13]="CARRIAGE_RETURN",e[e.LINE_FEED=10]="LINE_FEED",e[e.FORM_FEED=12]="FORM_FEED",e[e.SPACE=32]="SPACE",e[e.EXCLAMATION_MARK=33]="EXCLAMATION_MARK",e[e.QUOTATION_MARK=34]="QUOTATION_MARK",e[e.NUMBER_SIGN=35]="NUMBER_SIGN",e[e.AMPERSAND=38]="AMPERSAND",e[e.APOSTROPHE=39]="APOSTROPHE",e[e.HYPHEN_MINUS=45]="HYPHEN_MINUS",e[e.SOLIDUS=47]="SOLIDUS",e[e.DIGIT_0=48]="DIGIT_0",e[e.DIGIT_9=57]="DIGIT_9",e[e.SEMICOLON=59]="SEMICOLON",e[e.LESS_THAN_SIGN=60]="LESS_THAN_SIGN",e[e.EQUALS_SIGN=61]="EQUALS_SIGN",e[e.GREATER_THAN_SIGN=62]="GREATER_THAN_SIGN",e[e.QUESTION_MARK=63]="QUESTION_MARK",e[e.LATIN_CAPITAL_A=65]="LATIN_CAPITAL_A",e[e.LATIN_CAPITAL_F=70]="LATIN_CAPITAL_F",e[e.LATIN_CAPITAL_X=88]="LATIN_CAPITAL_X",e[e.LATIN_CAPITAL_Z=90]="LATIN_CAPITAL_Z",e[e.RIGHT_SQUARE_BRACKET=93]="RIGHT_SQUARE_BRACKET",e[e.GRAVE_ACCENT=96]="GRAVE_ACCENT",e[e.LATIN_SMALL_A=97]="LATIN_SMALL_A",e[e.LATIN_SMALL_F=102]="LATIN_SMALL_F",e[e.LATIN_SMALL_X=120]="LATIN_SMALL_X",e[e.LATIN_SMALL_Z=122]="LATIN_SMALL_Z",e[e.REPLACEMENT_CHARACTER=65533]="REPLACEMENT_CHARACTER"})(E=E||(E={}));const un={DASH_DASH:"--",CDATA_START:"[CDATA[",DOCTYPE:"doctype",SCRIPT:"script",PUBLIC:"public",SYSTEM:"system"};function hw(e){return e>=55296&&e<=57343}function BL(e){return e>=56320&&e<=57343}function HL(e,t){return(e-55296)*1024+9216+t}function fw(e){return e!==32&&e!==10&&e!==13&&e!==9&&e!==12&&e>=1&&e<=31||e>=127&&e<=159}function mw(e){return e>=64976&&e<=65007||jL.has(e)}var q;(function(e){e.controlCharacterInInputStream="control-character-in-input-stream",e.noncharacterInInputStream="noncharacter-in-input-stream",e.surrogateInInputStream="surrogate-in-input-stream",e.nonVoidHtmlElementStartTagWithTrailingSolidus="non-void-html-element-start-tag-with-trailing-solidus",e.endTagWithAttributes="end-tag-with-attributes",e.endTagWithTrailingSolidus="end-tag-with-trailing-solidus",e.unexpectedSolidusInTag="unexpected-solidus-in-tag",e.unexpectedNullCharacter="unexpected-null-character",e.unexpectedQuestionMarkInsteadOfTagName="unexpected-question-mark-instead-of-tag-name",e.invalidFirstCharacterOfTagName="invalid-first-character-of-tag-name",e.unexpectedEqualsSignBeforeAttributeName="unexpected-equals-sign-before-attribute-name",e.missingEndTagName="missing-end-tag-name",e.unexpectedCharacterInAttributeName="unexpected-character-in-attribute-name",e.unknownNamedCharacterReference="unknown-named-character-reference",e.missingSemicolonAfterCharacterReference="missing-semicolon-after-character-reference",e.unexpectedCharacterAfterDoctypeSystemIdentifier="unexpected-character-after-doctype-system-identifier",e.unexpectedCharacterInUnquotedAttributeValue="unexpected-character-in-unquoted-attribute-value",e.eofBeforeTagName="eof-before-tag-name",e.eofInTag="eof-in-tag",e.missingAttributeValue="missing-attribute-value",e.missingWhitespaceBetweenAttributes="missing-whitespace-between-attributes",e.missingWhitespaceAfterDoctypePublicKeyword="missing-whitespace-after-doctype-public-keyword",e.missingWhitespaceBetweenDoctypePublicAndSystemIdentifiers="missing-whitespace-between-doctype-public-and-system-identifiers",e.missingWhitespaceAfterDoctypeSystemKeyword="missing-whitespace-after-doctype-system-keyword",e.missingQuoteBeforeDoctypePublicIdentifier="missing-quote-before-doctype-public-identifier",e.missingQuoteBeforeDoctypeSystemIdentifier="missing-quote-before-doctype-system-identifier",e.missingDoctypePublicIdentifier="missing-doctype-public-identifier",e.missingDoctypeSystemIdentifier="missing-doctype-system-identifier",e.abruptDoctypePublicIdentifier="abrupt-doctype-public-identifier",e.abruptDoctypeSystemIdentifier="abrupt-doctype-system-identifier",e.cdataInHtmlContent="cdata-in-html-content",e.incorrectlyOpenedComment="incorrectly-opened-comment",e.eofInScriptHtmlCommentLikeText="eof-in-script-html-comment-like-text",e.eofInDoctype="eof-in-doctype",e.nestedComment="nested-comment",e.abruptClosingOfEmptyComment="abrupt-closing-of-empty-comment",e.eofInComment="eof-in-comment",e.incorrectlyClosedComment="incorrectly-closed-comment",e.eofInCdata="eof-in-cdata",e.absenceOfDigitsInNumericCharacterReference="absence-of-digits-in-numeric-character-reference",e.nullCharacterReference="null-character-reference",e.surrogateCharacterReference="surrogate-character-reference",e.characterReferenceOutsideUnicodeRange="character-reference-outside-unicode-range",e.controlCharacterReference="control-character-reference",e.noncharacterCharacterReference="noncharacter-character-reference",e.missingWhitespaceBeforeDoctypeName="missing-whitespace-before-doctype-name",e.missingDoctypeName="missing-doctype-name",e.invalidCharacterSequenceAfterDoctypeName="invalid-character-sequence-after-doctype-name",e.duplicateAttribute="duplicate-attribute",e.nonConformingDoctype="non-conforming-doctype",e.missingDoctype="missing-doctype",e.misplacedDoctype="misplaced-doctype",e.endTagWithoutMatchingOpenElement="end-tag-without-matching-open-element",e.closingOfElementWithOpenChildElements="closing-of-element-with-open-child-elements",e.disallowedContentInNoscriptInHead="disallowed-content-in-noscript-in-head",e.openElementsLeftAfterEof="open-elements-left-after-eof",e.abandonedHeadElementChild="abandoned-head-element-child",e.misplacedStartTagForHeadElement="misplaced-start-tag-for-head-element",e.nestedNoscriptInHead="nested-noscript-in-head",e.eofInElementThatCanContainOnlyText="eof-in-element-that-can-contain-only-text"})(q=q||(q={}));const qL=65536;class UL{constructor(t){this.handler=t,this.html="",this.pos=-1,this.lastGapPos=-2,this.gapStack=[],this.skipNextNewLine=!1,this.lastChunkWritten=!1,this.endOfChunkHit=!1,this.bufferWaterline=qL,this.isEol=!1,this.lineStartPos=0,this.droppedBufferSize=0,this.line=1,this.lastErrOffset=-1}get col(){return this.pos-this.lineStartPos+ +(this.lastGapPos!==this.pos)}get offset(){return this.droppedBufferSize+this.pos}getError(t){const{line:n,col:a,offset:r}=this;return{code:t,startLine:n,endLine:n,startCol:a,endCol:a,startOffset:r,endOffset:r}}_err(t){this.handler.onParseError&&this.lastErrOffset!==this.offset&&(this.lastErrOffset=this.offset,this.handler.onParseError(this.getError(t)))}_addGap(){this.gapStack.push(this.lastGapPos),this.lastGapPos=this.pos}_processSurrogate(t){if(this.pos!==this.html.length-1){const n=this.html.charCodeAt(this.pos+1);if(BL(n))return this.pos++,this._addGap(),HL(t,n)}else if(!this.lastChunkWritten)return this.endOfChunkHit=!0,E.EOF;return this._err(q.surrogateInInputStream),t}willDropParsedChunk(){return this.pos>this.bufferWaterline}dropParsedChunk(){this.willDropParsedChunk()&&(this.html=this.html.substring(this.pos),this.lineStartPos-=this.pos,this.droppedBufferSize+=this.pos,this.pos=0,this.lastGapPos=-2,this.gapStack.length=0)}write(t,n){this.html.length>0?this.html+=t:this.html=t,this.endOfChunkHit=!1,this.lastChunkWritten=n}insertHtmlAtCurrentPos(t){this.html=this.html.substring(0,this.pos+1)+t+this.html.substring(this.pos+1),this.endOfChunkHit=!1}startsWith(t,n){if(this.pos+t.length>this.html.length)return this.endOfChunkHit=!this.lastChunkWritten,!1;if(n)return this.html.startsWith(t,this.pos);for(let a=0;a<t.length;a++)if((this.html.charCodeAt(this.pos+a)|32)!==t.charCodeAt(a))return!1;return!0}peek(t){const n=this.pos+t;if(n>=this.html.length)return this.endOfChunkHit=!this.lastChunkWritten,E.EOF;const a=this.html.charCodeAt(n);return a===E.CARRIAGE_RETURN?E.LINE_FEED:a}advance(){if(this.pos++,this.isEol&&(this.isEol=!1,this.line++,this.lineStartPos=this.pos),this.pos>=this.html.length)return this.endOfChunkHit=!this.lastChunkWritten,E.EOF;let t=this.html.charCodeAt(this.pos);return t===E.CARRIAGE_RETURN?(this.isEol=!0,this.skipNextNewLine=!0,E.LINE_FEED):t===E.LINE_FEED&&(this.isEol=!0,this.skipNextNewLine)?(this.line--,this.skipNextNewLine=!1,this._addGap(),this.advance()):(this.skipNextNewLine=!1,hw(t)&&(t=this._processSurrogate(t)),this.handler.onParseError===null||t>31&&t<127||t===E.LINE_FEED||t===E.CARRIAGE_RETURN||t>159&&t<64976||this._checkForProblematicCharacters(t),t)}_checkForProblematicCharacters(t){fw(t)?this._err(q.controlCharacterInInputStream):mw(t)&&this._err(q.noncharacterInInputStream)}retreat(t){for(this.pos-=t;this.pos<this.lastGapPos;)this.lastGapPos=this.gapStack.pop(),this.pos--;this.isEol=!1}}var Ce;(function(e){e[e.CHARACTER=0]="CHARACTER",e[e.NULL_CHARACTER=1]="NULL_CHARACTER",e[e.WHITESPACE_CHARACTER=2]="WHITESPACE_CHARACTER",e[e.START_TAG=3]="START_TAG",e[e.END_TAG=4]="END_TAG",e[e.COMMENT=5]="COMMENT",e[e.DOCTYPE=6]="DOCTYPE",e[e.EOF=7]="EOF",e[e.HIBERNATION=8]="HIBERNATION"})(Ce=Ce||(Ce={}));function pw(e,t){for(let n=e.attrs.length-1;n>=0;n--)if(e.attrs[n].name===t)return e.attrs[n].value;return null}const ar=new Uint16Array('<\0\0\0\0\0\0EMabcfglmnoprstu\\bfmsligP&cutereve;iyx}rc;r;ravepha;acr;d;gpon;f;plyFunction;ingcsr;ign;ildemlaceforsucrkslash;;ed;y;crtause;noullis;a;r;pf;eve;cmpeq;HOacdefhilorsucy;PYcpyute;;italDifferentialD;leys;aeioron;dilrc;nint;ot;dnilla;terDot;i;rcleDMPTot;inus;lus;imes;ocskwiseContourIntegral;eCurlyDQoubleQuote;uote;lnpuon;e;gitruent;nt;ourIntegral;fr;oduct;nterClockwiseContourIntegral;oss;cr;p;Cap;DJSZacefios;otrahd;cy;cy;cy;grsger;r;hv;ayron;;l;ta;r;afcmriticalADGTcute;o;bleAcute;rave;ilde;ond;ferentialD;\0\0\0\0f;;DEot;qual;bleCDLRUVontourIntegrao\0\0nArrow;eoftARTrrow;ightArrow;engLReftARrrow;ightArrow;ightArrow;ightATrrow;ee;p\0\0rrow;ownArrow;erticalBar;nABLRTarrow;BUar;pArrow;reve;eft\0\0ightVector;eeVector;ector;Bar;ight\0eeVector;ector;Bar;ee;Arrow;ctr;rok;NTacdfglmopqstuxG;Hcuteaiyron;rc;ot;r;raveement;apcr;ty\0\0mallSquare;erySmallSquare;gpon;f;silon;uail;Tilde;librium;cir;m;a;mlipsts;onentialE;cfiosy;r;lled\0\0mallSquare;erySmallSquare;\0\0\0f;All;riertrf;cJTabcdfgorstcy;>mma;d;reve;eiydil;rc;;ot;r;;pf;eaterEFGLSTqual;Less;ullEqual;reater;ess;lantEqual;ilde;cr;;AacfiosuRDcy;ctek;;irc;r;lbertSpace;\0f;izontalLine;ctrok;mpownHumqual;EJOacdfgmnostucy;lig;cy;cuteiyrc;ot;r;rave;apcgr;inaryI;lie\0;egrral;section;isibleCTomma;imes;gpton;f;a;cr;ilde;\0cy;lcfosuiyrc;;r;pf;\0r;rcy;kcy;HJacfoscy;cy;ppa;eydil;;r;pf;cr;JTaceflmostcy;<cmnprute;bda;g;lacetrf;r;aeyron;dil;;fstACDFRTUVarnrgleBracket;row;BRar;ightArrow;eiling;o\0bleBracket;n\0eeVector;ector;Bar;loor;ightAVrrow;ector;ere;AVrrow;ector;iangle;BEar;qual;pDTVownVector;eeVector;ector;Bar;ector;Bar;ightsEFGLSTqualGreater;ullEqual;reater;ess;lantEqual;ilde;r;;eftarrow;idot;npwgLRlreftARrrow;ightArrow;ightArrow;eftarightightf;erLReftArrow;ightArrow;cht;rok;;acefiosup;y;dliumSpace;lintrf;r;nusPlus;pf;c;Jacefostucy;cute;aeyron;dil;;gswativeMTVediumSpace;hicneryThitedGLreaterGreateessLesLine;r;Bnptreak;BreakingSpace;f;;CDEGHLNPRSTVoungruent;pCap;oubleVerticalBar;lqxement;ual;Tilde;ists;reater;EFGLSTqual;ullEqual;reater;ess;lantEqual;ilde;umpownHump;qual;efstTriangle;BEar;qual;s;EGLSTqual;reater;ess;lantEqual;ilde;estedGLreaterGreater;essLess;recedes;ESqual;lantEqual;eiverseElement;ghtTriangle;BEar;qual;quuareSubpset;Equal;erset;Equal;bcpset;Equal;ceeds;ESTqual;lantEqual;ilde;erset;Equal;ilde;EFTqual;ullEqual;ilde;erticalBar;cr;ilde;Eacdfgmoprstuvlig;cuteiyrc;blac;r;raveaeicr;ga;cron;pf;enCurlyDQoubleQuote;uote;;clr;ashidees;mlerBParr;acek;et;arenthesis;acfhilorsrtialD;y;r;i;;usMinus;ipncareplanf;;eiocedes;ESTqual;lantEqual;ilde;me;dpuct;ortion;al;cir;;UfosOT"r;pf;cr;BEacefhiorsuarr;Gcnrute;g;r;tl;aeyron;dil;;;verseEUlqement;uilibrium;pEquilibrium;ro;ghtACDFTUVanrgleBracket;row;BLar;eftArrow;eiling;o\0bleBracket;n\0eeVector;ector;Bar;loor;ere;AVrrow;ector;iangle;BEar;qual;pDTVownVector;eeVector;ector;Bar;ector;Bar;puf;ndImplies;ightarrow;chr;;leDelayed;HOacfhimoqstuCcHcy;y;FTcy;cute;;aeiyron;dil;rc;;r;ortDLRUownArroweftArrowightArrowpArrow;gma;allCircle;pf;\0\0t;are;ISUntersection;ubpset;Equal;erset;Equal;nion;cr;ar;bcmp;set;Equal;cheeds;ESTqual;lantEqual;ilde;Th;;esrset;Equal;etHRSacfhiorsORNADE;Hccy;y;bu;;aeyron;dil;;r;ei\0efore;a;cnkSpace;Space;lde;EFTqual;ullEqual;ilde;pf;ipleDot;ctr;rok;\0\0\0\0\0\0\0cruter;ocir;r\0y;ve;iyrc;blac;r;raveacr;dierBParr;acek;et;arenthesis;on;Plus;gpon;f;ADETadpsrrow;BDar;ownArrow;ownArrow;quilibrium;ee;Arrow;ownerLReftArrow;ightArrow;i;lon;ing;cr;ilde;mlDbcdefosvash;ar;y;ash;l;er;btyar;;icalBLSTar;ine;eparator;ilde;ThinSpace;r;pf;cr;dash;cefosirc;dge;r;pf;cr;fiosr;;pf;cr;AIUacfosucy;cy;cy;cuteiyrc;;r;pf;cr;ml;Hacdefoscy;cute;ayron;;ot;\0oWidta;r;pf;cr;\0\0\0\0\0\0\0cutereve;;Ediuy;;rcte;lig;r;raveepfpsym;ha;apcclr;g;\0\0;adsvnd;;lope;;;elmrsz;esd;a;;;;;;;;t;vb;d;pth;arr;gpon;f;;Eaeiop;cir;;d;s;rox;eingctyr;;mp;eildemlcioninnt;Nabcdefiklnoprsuot;crkcepsong;psilon;rime;im;eq;ee;ed;gerk;tbrk;oy;quo;cmprtaus;eptyv;snoahw;;een;r;gcostuvwaiurc;pdptot;lus;imes;\0\0cup;ar;riangleduown;p;plus;earow;akocnklstozenge;riangle;dlrown;eft;ight;k;\0\0;;4;ck;eo;q=uiv;t;ptwxf;;tomtie;DHUVbdhmptuvLRlr;;;;;DUdu;;;;LRlr;;;;;HLRhlr;;;;;;ox;LRlr;;;;;DUdu;;;;inus;lus;imes;LRlr;;;;;HLRhlr;;;;;;evbarceior;mi;m;el;bh;sub;l;etp;Ee;;q\0\0\0\0\0\0\0\0\0\0cprute;;abcdsnd;rcup;aup;p;ot;;eot;aeiu\0s;on;dilrc;ps;sm;ot;dmnilptyv;t;err;ceiy;ck;mark;r;Ecefms;;elq;e\0\0rrowlreft;ight;RSacd;st;irc;ash;nint;id;cir;ubs;uit\0on;e;q\0\0a;t;;flemxente\0;dot;nfry;o;sr;aorr;ss;cur;bp;e;;e;dot;delprvwarrlr;;\0\0r;c;arr;p;;bcdosrcap;aup;p;ot;r;;alrvrr;m;yevwq\0\0reuee;edge;enearrowlreftightecioninnt;lcty;AHabcdefhijlorstuwzrar;glrsger;eth;h;varow;aayron;;;aogrr;tseq;glmta;ptyv;irsht;;arlraegsvm;osnd;suit;amma;in;;iode;ontimes;ncy;c\0\0rn;op;lptuwlar;f;;empsq;dot;inus;lus;quare;blebarwedgnadhownarrowarpoonlrefighkaro\0\0rn;op;cotry;;l;rok;drot;i;fahraangle;ciy;grarr;DacdefglmnopqrstuxDoocsuteter;aioyron;r;clon;;ot;Drot;;;rsave;dot;;ilsnters;;;dot;apscr;ty;svetp1;;;gs;p;gpon;f;alsr;sl;us;i;lvon;csuviorc\0\0antgltressaeils;st;v;DD;parsl;Daot;rr;cdir;oah;mrlo;cipl;seoctationential\0\0\0\0\0\0\0llingdotsey;male;ilrlig;\0\0g;ig;;lig;lig;fjaltt;ig;ns;of;\0f;ak;v;artint;aocs\0\0;;;;\0;;\0\0;;5;\0;;8;l;wn;cr;Eabcdefgijlnorstv;l;cmpute;ma;d;reve;iyrc;;ot;;lqs;qslan;cdlc;ot;o;l;;es;r;;gmel;cy;;Eaj;;;Eaes;p;prox;q;qim;pf;cir;m;el;;>;cdlqrci;r;ot;Par;uest;adels\0pror;qlqlesienrtneqq;Aabcefkosyrilmrrsfildrcy;;cwir;;ar;irc;alrrts;uitlip;con;r;sewarow;arow;amoprrr;tht;klreftarrow;ightarrow;f;bar;cltr;asrok;bpull;hen\0\0\0\0\0\0cute;iyrc;cxy;clfr;rave;inoinnt;t;fin;ta;lig;aopcgtr;elpinarh;f;ed;;cfotare;in;tie;do;celpal;grerarhk;rod;cgpty;on;f;a;uestcir;n;Edsv;ot;;v;;ilde;\0cy;lcfmosuiyrc;;r;ath;pf;\0r;rcy;kcy;acfghjosppa;v;eydil;;r;reen;cy;cy;pf;cr;ABEHabcdefghjlmnoprstuvartrail;arr;;g;ar;\0\0\0\0\0\0\0\0\0ute;mptyv;rabda;g;dl;;uor;bfhlpst;fs;s;p;l;im;l;;aeil;;s;abrrr;rk;akcek;;es;ldu;;aeuyron;diil;;cqrsa;uo;rduhar;shar;h;;fgqstahlrtrrow;taarpoonduownpeftarrows;ightahsrrow;sarpoonquigarrohreetimes;;qslan;cdgsc;ot;o;r;;es;adegspproot;qgqgtiilrsht;;;E;rdu;l;lk;cy;;achtrorneard;ri;iodot;ust;acheEaes;p;prox;q;qim;abnoptwznrg;r;rglmreftarightapsto;ightparrowlrefight;aflr;;us;imes;st;;efngear;lt;achmtrornear;d;;ri;achiqtquo;r;m;eg;;buo;r;rok;<;cdhilqrci;r;remes;arr;uest;Piar;;efrdushar;har;enrtneqq;DacdefhilnopsuDot;clprret;;ese;sto;dluowefker;oymma;;ash;asuredangler;o;cdnro;acdsir;otus;bd;u;p;dpels;f;ctr;pos;lmtimap;GLRVabcdefghijlmoprstuvwgt;;veltftarrrow;ightarrow;;;vightarrow;Ddash;ash;bcnptlaute;g;;Eiop;d;s;rour;al;s\0pmp;eaeouy\0;on;dil;ng;dot;p;;ash;;Aadqsxrr;rhrk;;oot;uieiar;ist;sr;Eest;qs;qslani;rAaprrr;ar;;sv;d;cy;AEadestr;rr;r;;fqstarrroightarro;qslan;si;ri;eiptf;;inn;Edv;ot;;;i;v;;aorr;astllel;;lint;;ceu;c;eAaitrrr;cw;;ghtarrowri;echimpqu;ceru;ort\0\0arm;e;qsubpbcp;Ees;et;eq;qc;e;Ees;et;eq;qgilrldeianglelreft;eight;e;m;esro;p;DHadgilrsash;arr;p;ash;et;;>nfin;Aetrr;;;r<ie;Atrr;rie;im;Aanrr;rhrk;;oear;\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0csuteiyr;c;abioslac;v;old;lig;crir;;\0\0\0n;ave;bmar;acitrirr;oss;n;aeicr;ga;cdnron;;pf;aelr;rp;;adiosvr;efmr;ofgof;r;lope;;cloashl;idees;as;mlbar;\0\0\0\0\0\0\0\0\0r;ast;lle\0\0m;;y;rcimptnt;od;il;enk;r;imo;v;mane;;tvchfork;aunckk;h;s;abcdemstcir;ir;ou;;nim;wo;ipuntint;f;nd;Eaceinosu;p;u;c;acenspprourlyeaespprox;qq;im;ime;sEasdfpalslar;ine;urf;;trel;cir;;ncsp;fiopsur;pf;rime;cr;aeoteirnionnt;st;eABHabcdefhilmnoprstuxartrail;arar;cdenqrteu;te;imptyv;g;del;;uor;abcfhlpstwp;;fs;;s;l;im;l;;aiil;o;nalabrrrk;akcek;;es;ldu;;aeuyron;diil;;clqsa;dhar;uo;rh;acgl;ipsnart;ilrsht;;aordu;l;;v;gnshtahlrstrrow;taarpoonduowpeftahrrowarpoonightarrows;quigarrohreetimes;g;ingdotseahmra;oust;achemid;abptnrg;r;raflr;;us;imes;apr;gt;olint;arachqquo;r;buo;rhirremes;i;efltri;luhar;;\0\0\0\0\0\0\0cute;qu;Eaceinpsy;\0;on;u;dil;rc;Eas;p;im;olint;i;ot;be;Aacmstxrr;rhr;oti;war;minnut;r;oacoyrp;hycy;;rt\0\0iaragmma;fv;;deglnprot;;q;E;;E;e;lus;arr;araeitlslsetmhp;parsl;dle;;e;s;flptcy;;b;ar;f;adres;uitcsuaup;s;p;s;ubp;eset;e;eset;e;afrarcemtr;tmiararr;fanighteppsilohsbcmnp;Edemnprs;ot;;dot;ult;Ee;;lus;arr;eiut;enq;qeq;qm;bp;;c;acenspprourlyeaespproqg;123;Edehlmnps;ost;ub;;dot;soul;b;arr;ult;Ee;;lus;eiut;enq;qeq;qm;bp;;Aanrr;rhr;owar;lig\0\0\0\0\0\0\0\0\0\0\0\0get;;raeyron;dil;;lrec;r;eiko\0e4fa;svym;cnkaspproimsasrnes;bd;ar;;eps;bcfot;ir;;ork;rime;aipdadempstngle;dlqrowneft;e;ight;eot;inus;lus;b;ime;ezium;chtry;;cy;rok;ioxheadlreftarroightarrowAHabcdfghlmoprstuwrar;cruter\0y;ve;iyrc;abhrlac;airsht;;raverlrlk;ct\0\0rn;erop;ri;alcr;gpon;f;adhlsuownarpoonlrefighi;hlonparrows;cit\0\0rn;erop;ng;ri;cr;dirot;lde;i;famrlangle;ABDacdeflnoprszrar;v;asnrgrt;eknprstappothinhirop;hiugmbpsetneq;q;setneq;q;hretianglelreftighty;ashelr;bear;q;lip;btar;trsubppf;rotrcur;bpnEenEeigzag;cefoprsirc;dibgar;e;q;erp;r;pf;;eatcr;\0\0\0\0\0\0\0trr;Aarr;Aarrais;dptfl;imAarrcqr;ptracefiosucuyte;iyrc;;nr;cy;pf;cr;cmy;lacdefhioswcute;ayron;;ot;ettra;r;cy;grarr;pf;cr;jn;j;'.split("").map(e=>e.charCodeAt(0))),WL=new Uint16Array("aglq	\x1B\0\0p;os;t;t;uot;".split("").map(e=>e.charCodeAt(0)));var Pd;const YL=new Map([[0,65533],[128,8364],[130,8218],[131,402],[132,8222],[133,8230],[134,8224],[135,8225],[136,710],[137,8240],[138,352],[139,8249],[140,338],[142,381],[145,8216],[146,8217],[147,8220],[148,8221],[149,8226],[150,8211],[151,8212],[152,732],[153,8482],[154,353],[155,8250],[156,339],[158,382],[159,376]]),zL=(Pd=String.fromCodePoint)!==null&&Pd!==void 0?Pd:function(e){let t="";return e>65535&&(e-=65536,t+=String.fromCharCode(e>>>10&1023|55296),e=56320|e&1023),t+=String.fromCharCode(e),t};function $L(e){var t;return e>=55296&&e<=57343||e>1114111?65533:(t=YL.get(e))!==null&&t!==void 0?t:e}var Pt;(function(e){e[e.NUM=35]="NUM",e[e.SEMI=59]="SEMI",e[e.EQUALS=61]="EQUALS",e[e.ZERO=48]="ZERO",e[e.NINE=57]="NINE",e[e.LOWER_A=97]="LOWER_A",e[e.LOWER_F=102]="LOWER_F",e[e.LOWER_X=120]="LOWER_X",e[e.LOWER_Z=122]="LOWER_Z",e[e.UPPER_A=65]="UPPER_A",e[e.UPPER_F=70]="UPPER_F",e[e.UPPER_Z=90]="UPPER_Z"})(Pt||(Pt={}));const GL=32;var ka;(function(e){e[e.VALUE_LENGTH=49152]="VALUE_LENGTH",e[e.BRANCH_LENGTH=16256]="BRANCH_LENGTH",e[e.JUMP_TABLE=127]="JUMP_TABLE"})(ka||(ka={}));function af(e){return e>=Pt.ZERO&&e<=Pt.NINE}function VL(e){return e>=Pt.UPPER_A&&e<=Pt.UPPER_F||e>=Pt.LOWER_A&&e<=Pt.LOWER_F}function KL(e){return e>=Pt.UPPER_A&&e<=Pt.UPPER_Z||e>=Pt.LOWER_A&&e<=Pt.LOWER_Z||af(e)}function QL(e){return e===Pt.EQUALS||KL(e)}var Ot;(function(e){e[e.EntityStart=0]="EntityStart",e[e.NumericStart=1]="NumericStart",e[e.NumericDecimal=2]="NumericDecimal",e[e.NumericHex=3]="NumericHex",e[e.NamedEntity=4]="NamedEntity"})(Ot||(Ot={}));var Br;(function(e){e[e.Legacy=0]="Legacy",e[e.Strict=1]="Strict",e[e.Attribute=2]="Attribute"})(Br||(Br={}));class XL{constructor(t,n,a){this.decodeTree=t,this.emitCodePoint=n,this.errors=a,this.state=Ot.EntityStart,this.consumed=1,this.result=0,this.treeIndex=0,this.excess=1,this.decodeMode=Br.Strict}startEntity(t){this.decodeMode=t,this.state=Ot.EntityStart,this.result=0,this.treeIndex=0,this.excess=1,this.consumed=1}write(t,n){switch(this.state){case Ot.EntityStart:return t.charCodeAt(n)===Pt.NUM?(this.state=Ot.NumericStart,this.consumed+=1,this.stateNumericStart(t,n+1)):(this.state=Ot.NamedEntity,this.stateNamedEntity(t,n));case Ot.NumericStart:return this.stateNumericStart(t,n);case Ot.NumericDecimal:return this.stateNumericDecimal(t,n);case Ot.NumericHex:return this.stateNumericHex(t,n);case Ot.NamedEntity:return this.stateNamedEntity(t,n)}}stateNumericStart(t,n){return n>=t.length?-1:(t.charCodeAt(n)|GL)===Pt.LOWER_X?(this.state=Ot.NumericHex,this.consumed+=1,this.stateNumericHex(t,n+1)):(this.state=Ot.NumericDecimal,this.stateNumericDecimal(t,n))}addToNumericResult(t,n,a,r){if(n!==a){const i=a-n;this.result=this.result*Math.pow(r,i)+parseInt(t.substr(n,i),r),this.consumed+=i}}stateNumericHex(t,n){const a=n;for(;n<t.length;){const r=t.charCodeAt(n);if(af(r)||VL(r))n+=1;else return this.addToNumericResult(t,a,n,16),this.emitNumericEntity(r,3)}return this.addToNumericResult(t,a,n,16),-1}stateNumericDecimal(t,n){const a=n;for(;n<t.length;){const r=t.charCodeAt(n);if(af(r))n+=1;else return this.addToNumericResult(t,a,n,10),this.emitNumericEntity(r,2)}return this.addToNumericResult(t,a,n,10),-1}emitNumericEntity(t,n){var a;if(this.consumed<=n)return(a=this.errors)===null||a===void 0||a.absenceOfDigitsInNumericCharacterReference(this.consumed),0;if(t===Pt.SEMI)this.consumed+=1;else if(this.decodeMode===Br.Strict)return 0;return this.emitCodePoint($L(this.result),this.consumed),this.errors&&(t!==Pt.SEMI&&this.errors.missingSemicolonAfterCharacterReference(),this.errors.validateNumericCharacterReference(this.result)),this.consumed}stateNamedEntity(t,n){const{decodeTree:a}=this;let r=a[this.treeIndex],i=(r&ka.VALUE_LENGTH)>>14;for(;n<t.length;n++,this.excess++){const o=t.charCodeAt(n);if(this.treeIndex=yw(a,r,this.treeIndex+Math.max(1,i),o),this.treeIndex<0)return this.result===0||this.decodeMode===Br.Attribute&&(i===0||QL(o))?0:this.emitNotTerminatedNamedEntity();if(r=a[this.treeIndex],i=(r&ka.VALUE_LENGTH)>>14,i!==0){if(o===Pt.SEMI)return this.emitNamedEntityData(this.treeIndex,i,this.consumed+this.excess);this.decodeMode!==Br.Strict&&(this.result=this.treeIndex,this.consumed+=this.excess,this.excess=0)}}return-1}emitNotTerminatedNamedEntity(){var t;const{result:n,decodeTree:a}=this,r=(a[n]&ka.VALUE_LENGTH)>>14;return this.emitNamedEntityData(n,r,this.consumed),(t=this.errors)===null||t===void 0||t.missingSemicolonAfterCharacterReference(),this.consumed}emitNamedEntityData(t,n,a){const{decodeTree:r}=this;return this.emitCodePoint(n===1?r[t]&~ka.VALUE_LENGTH:r[t+1],a),n===3&&this.emitCodePoint(r[t+2],a),a}end(){var t;switch(this.state){case Ot.NamedEntity:return this.result!==0&&(this.decodeMode!==Br.Attribute||this.result===this.treeIndex)?this.emitNotTerminatedNamedEntity():0;case Ot.NumericDecimal:return this.emitNumericEntity(0,2);case Ot.NumericHex:return this.emitNumericEntity(0,3);case Ot.NumericStart:return(t=this.errors)===null||t===void 0||t.absenceOfDigitsInNumericCharacterReference(this.consumed),0;case Ot.EntityStart:return 0}}}function gw(e){let t="";const n=new XL(e,a=>t+=zL(a));return function(r,i){let o=0,s=0;for(;(s=r.indexOf("&",s))>=0;){t+=r.slice(o,s),n.startEntity(i);const u=n.write(r,s+1);if(u<0){o=s+n.end();break}o=s+u,s=u===0?o+1:o}const l=t+r.slice(o);return t="",l}}function yw(e,t,n,a){const r=(t&ka.BRANCH_LENGTH)>>7,i=t&ka.JUMP_TABLE;if(r===0)return i!==0&&a===i?n:-1;if(i){const l=a-i;return l<0||l>=r?-1:e[n+l]-1}let o=n,s=o+r-1;for(;o<=s;){const l=o+s>>>1,u=e[l];if(u<a)o=l+1;else if(u>a)s=l-1;else return e[l+r]}return-1}gw(ar);gw(WL);var z;(function(e){e.HTML="http://www.w3.org/1999/xhtml",e.MATHML="http://www.w3.org/1998/Math/MathML",e.SVG="http://www.w3.org/2000/svg",e.XLINK="http://www.w3.org/1999/xlink",e.XML="http://www.w3.org/XML/1998/namespace",e.XMLNS="http://www.w3.org/2000/xmlns/"})(z=z||(z={}));var Sr;(function(e){e.TYPE="type",e.ACTION="action",e.ENCODING="encoding",e.PROMPT="prompt",e.NAME="name",e.COLOR="color",e.FACE="face",e.SIZE="size"})(Sr=Sr||(Sr={}));var wn;(function(e){e.NO_QUIRKS="no-quirks",e.QUIRKS="quirks",e.LIMITED_QUIRKS="limited-quirks"})(wn=wn||(wn={}));var j;(function(e){e.A="a",e.ADDRESS="address",e.ANNOTATION_XML="annotation-xml",e.APPLET="applet",e.AREA="area",e.ARTICLE="article",e.ASIDE="aside",e.B="b",e.BASE="base",e.BASEFONT="basefont",e.BGSOUND="bgsound",e.BIG="big",e.BLOCKQUOTE="blockquote",e.BODY="body",e.BR="br",e.BUTTON="button",e.CAPTION="caption",e.CENTER="center",e.CODE="code",e.COL="col",e.COLGROUP="colgroup",e.DD="dd",e.DESC="desc",e.DETAILS="details",e.DIALOG="dialog",e.DIR="dir",e.DIV="div",e.DL="dl",e.DT="dt",e.EM="em",e.EMBED="embed",e.FIELDSET="fieldset",e.FIGCAPTION="figcaption",e.FIGURE="figure",e.FONT="font",e.FOOTER="footer",e.FOREIGN_OBJECT="foreignObject",e.FORM="form",e.FRAME="frame",e.FRAMESET="frameset",e.H1="h1",e.H2="h2",e.H3="h3",e.H4="h4",e.H5="h5",e.H6="h6",e.HEAD="head",e.HEADER="header",e.HGROUP="hgroup",e.HR="hr",e.HTML="html",e.I="i",e.IMG="img",e.IMAGE="image",e.INPUT="input",e.IFRAME="iframe",e.KEYGEN="keygen",e.LABEL="label",e.LI="li",e.LINK="link",e.LISTING="listing",e.MAIN="main",e.MALIGNMARK="malignmark",e.MARQUEE="marquee",e.MATH="math",e.MENU="menu",e.META="meta",e.MGLYPH="mglyph",e.MI="mi",e.MO="mo",e.MN="mn",e.MS="ms",e.MTEXT="mtext",e.NAV="nav",e.NOBR="nobr",e.NOFRAMES="noframes",e.NOEMBED="noembed",e.NOSCRIPT="noscript",e.OBJECT="object",e.OL="ol",e.OPTGROUP="optgroup",e.OPTION="option",e.P="p",e.PARAM="param",e.PLAINTEXT="plaintext",e.PRE="pre",e.RB="rb",e.RP="rp",e.RT="rt",e.RTC="rtc",e.RUBY="ruby",e.S="s",e.SCRIPT="script",e.SECTION="section",e.SELECT="select",e.SOURCE="source",e.SMALL="small",e.SPAN="span",e.STRIKE="strike",e.STRONG="strong",e.STYLE="style",e.SUB="sub",e.SUMMARY="summary",e.SUP="sup",e.TABLE="table",e.TBODY="tbody",e.TEMPLATE="template",e.TEXTAREA="textarea",e.TFOOT="tfoot",e.TD="td",e.TH="th",e.THEAD="thead",e.TITLE="title",e.TR="tr",e.TRACK="track",e.TT="tt",e.U="u",e.UL="ul",e.SVG="svg",e.VAR="var",e.WBR="wbr",e.XMP="xmp"})(j=j||(j={}));var h;(function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.A=1]="A",e[e.ADDRESS=2]="ADDRESS",e[e.ANNOTATION_XML=3]="ANNOTATION_XML",e[e.APPLET=4]="APPLET",e[e.AREA=5]="AREA",e[e.ARTICLE=6]="ARTICLE",e[e.ASIDE=7]="ASIDE",e[e.B=8]="B",e[e.BASE=9]="BASE",e[e.BASEFONT=10]="BASEFONT",e[e.BGSOUND=11]="BGSOUND",e[e.BIG=12]="BIG",e[e.BLOCKQUOTE=13]="BLOCKQUOTE",e[e.BODY=14]="BODY",e[e.BR=15]="BR",e[e.BUTTON=16]="BUTTON",e[e.CAPTION=17]="CAPTION",e[e.CENTER=18]="CENTER",e[e.CODE=19]="CODE",e[e.COL=20]="COL",e[e.COLGROUP=21]="COLGROUP",e[e.DD=22]="DD",e[e.DESC=23]="DESC",e[e.DETAILS=24]="DETAILS",e[e.DIALOG=25]="DIALOG",e[e.DIR=26]="DIR",e[e.DIV=27]="DIV",e[e.DL=28]="DL",e[e.DT=29]="DT",e[e.EM=30]="EM",e[e.EMBED=31]="EMBED",e[e.FIELDSET=32]="FIELDSET",e[e.FIGCAPTION=33]="FIGCAPTION",e[e.FIGURE=34]="FIGURE",e[e.FONT=35]="FONT",e[e.FOOTER=36]="FOOTER",e[e.FOREIGN_OBJECT=37]="FOREIGN_OBJECT",e[e.FORM=38]="FORM",e[e.FRAME=39]="FRAME",e[e.FRAMESET=40]="FRAMESET",e[e.H1=41]="H1",e[e.H2=42]="H2",e[e.H3=43]="H3",e[e.H4=44]="H4",e[e.H5=45]="H5",e[e.H6=46]="H6",e[e.HEAD=47]="HEAD",e[e.HEADER=48]="HEADER",e[e.HGROUP=49]="HGROUP",e[e.HR=50]="HR",e[e.HTML=51]="HTML",e[e.I=52]="I",e[e.IMG=53]="IMG",e[e.IMAGE=54]="IMAGE",e[e.INPUT=55]="INPUT",e[e.IFRAME=56]="IFRAME",e[e.KEYGEN=57]="KEYGEN",e[e.LABEL=58]="LABEL",e[e.LI=59]="LI",e[e.LINK=60]="LINK",e[e.LISTING=61]="LISTING",e[e.MAIN=62]="MAIN",e[e.MALIGNMARK=63]="MALIGNMARK",e[e.MARQUEE=64]="MARQUEE",e[e.MATH=65]="MATH",e[e.MENU=66]="MENU",e[e.META=67]="META",e[e.MGLYPH=68]="MGLYPH",e[e.MI=69]="MI",e[e.MO=70]="MO",e[e.MN=71]="MN",e[e.MS=72]="MS",e[e.MTEXT=73]="MTEXT",e[e.NAV=74]="NAV",e[e.NOBR=75]="NOBR",e[e.NOFRAMES=76]="NOFRAMES",e[e.NOEMBED=77]="NOEMBED",e[e.NOSCRIPT=78]="NOSCRIPT",e[e.OBJECT=79]="OBJECT",e[e.OL=80]="OL",e[e.OPTGROUP=81]="OPTGROUP",e[e.OPTION=82]="OPTION",e[e.P=83]="P",e[e.PARAM=84]="PARAM",e[e.PLAINTEXT=85]="PLAINTEXT",e[e.PRE=86]="PRE",e[e.RB=87]="RB",e[e.RP=88]="RP",e[e.RT=89]="RT",e[e.RTC=90]="RTC",e[e.RUBY=91]="RUBY",e[e.S=92]="S",e[e.SCRIPT=93]="SCRIPT",e[e.SECTION=94]="SECTION",e[e.SELECT=95]="SELECT",e[e.SOURCE=96]="SOURCE",e[e.SMALL=97]="SMALL",e[e.SPAN=98]="SPAN",e[e.STRIKE=99]="STRIKE",e[e.STRONG=100]="STRONG",e[e.STYLE=101]="STYLE",e[e.SUB=102]="SUB",e[e.SUMMARY=103]="SUMMARY",e[e.SUP=104]="SUP",e[e.TABLE=105]="TABLE",e[e.TBODY=106]="TBODY",e[e.TEMPLATE=107]="TEMPLATE",e[e.TEXTAREA=108]="TEXTAREA",e[e.TFOOT=109]="TFOOT",e[e.TD=110]="TD",e[e.TH=111]="TH",e[e.THEAD=112]="THEAD",e[e.TITLE=113]="TITLE",e[e.TR=114]="TR",e[e.TRACK=115]="TRACK",e[e.TT=116]="TT",e[e.U=117]="U",e[e.UL=118]="UL",e[e.SVG=119]="SVG",e[e.VAR=120]="VAR",e[e.WBR=121]="WBR",e[e.XMP=122]="XMP"})(h=h||(h={}));const JL=new Map([[j.A,h.A],[j.ADDRESS,h.ADDRESS],[j.ANNOTATION_XML,h.ANNOTATION_XML],[j.APPLET,h.APPLET],[j.AREA,h.AREA],[j.ARTICLE,h.ARTICLE],[j.ASIDE,h.ASIDE],[j.B,h.B],[j.BASE,h.BASE],[j.BASEFONT,h.BASEFONT],[j.BGSOUND,h.BGSOUND],[j.BIG,h.BIG],[j.BLOCKQUOTE,h.BLOCKQUOTE],[j.BODY,h.BODY],[j.BR,h.BR],[j.BUTTON,h.BUTTON],[j.CAPTION,h.CAPTION],[j.CENTER,h.CENTER],[j.CODE,h.CODE],[j.COL,h.COL],[j.COLGROUP,h.COLGROUP],[j.DD,h.DD],[j.DESC,h.DESC],[j.DETAILS,h.DETAILS],[j.DIALOG,h.DIALOG],[j.DIR,h.DIR],[j.DIV,h.DIV],[j.DL,h.DL],[j.DT,h.DT],[j.EM,h.EM],[j.EMBED,h.EMBED],[j.FIELDSET,h.FIELDSET],[j.FIGCAPTION,h.FIGCAPTION],[j.FIGURE,h.FIGURE],[j.FONT,h.FONT],[j.FOOTER,h.FOOTER],[j.FOREIGN_OBJECT,h.FOREIGN_OBJECT],[j.FORM,h.FORM],[j.FRAME,h.FRAME],[j.FRAMESET,h.FRAMESET],[j.H1,h.H1],[j.H2,h.H2],[j.H3,h.H3],[j.H4,h.H4],[j.H5,h.H5],[j.H6,h.H6],[j.HEAD,h.HEAD],[j.HEADER,h.HEADER],[j.HGROUP,h.HGROUP],[j.HR,h.HR],[j.HTML,h.HTML],[j.I,h.I],[j.IMG,h.IMG],[j.IMAGE,h.IMAGE],[j.INPUT,h.INPUT],[j.IFRAME,h.IFRAME],[j.KEYGEN,h.KEYGEN],[j.LABEL,h.LABEL],[j.LI,h.LI],[j.LINK,h.LINK],[j.LISTING,h.LISTING],[j.MAIN,h.MAIN],[j.MALIGNMARK,h.MALIGNMARK],[j.MARQUEE,h.MARQUEE],[j.MATH,h.MATH],[j.MENU,h.MENU],[j.META,h.META],[j.MGLYPH,h.MGLYPH],[j.MI,h.MI],[j.MO,h.MO],[j.MN,h.MN],[j.MS,h.MS],[j.MTEXT,h.MTEXT],[j.NAV,h.NAV],[j.NOBR,h.NOBR],[j.NOFRAMES,h.NOFRAMES],[j.NOEMBED,h.NOEMBED],[j.NOSCRIPT,h.NOSCRIPT],[j.OBJECT,h.OBJECT],[j.OL,h.OL],[j.OPTGROUP,h.OPTGROUP],[j.OPTION,h.OPTION],[j.P,h.P],[j.PARAM,h.PARAM],[j.PLAINTEXT,h.PLAINTEXT],[j.PRE,h.PRE],[j.RB,h.RB],[j.RP,h.RP],[j.RT,h.RT],[j.RTC,h.RTC],[j.RUBY,h.RUBY],[j.S,h.S],[j.SCRIPT,h.SCRIPT],[j.SECTION,h.SECTION],[j.SELECT,h.SELECT],[j.SOURCE,h.SOURCE],[j.SMALL,h.SMALL],[j.SPAN,h.SPAN],[j.STRIKE,h.STRIKE],[j.STRONG,h.STRONG],[j.STYLE,h.STYLE],[j.SUB,h.SUB],[j.SUMMARY,h.SUMMARY],[j.SUP,h.SUP],[j.TABLE,h.TABLE],[j.TBODY,h.TBODY],[j.TEMPLATE,h.TEMPLATE],[j.TEXTAREA,h.TEXTAREA],[j.TFOOT,h.TFOOT],[j.TD,h.TD],[j.TH,h.TH],[j.THEAD,h.THEAD],[j.TITLE,h.TITLE],[j.TR,h.TR],[j.TRACK,h.TRACK],[j.TT,h.TT],[j.U,h.U],[j.UL,h.UL],[j.SVG,h.SVG],[j.VAR,h.VAR],[j.WBR,h.WBR],[j.XMP,h.XMP]]);function vo(e){var t;return(t=JL.get(e))!==null&&t!==void 0?t:h.UNKNOWN}const X=h,ZL={[z.HTML]:new Set([X.ADDRESS,X.APPLET,X.AREA,X.ARTICLE,X.ASIDE,X.BASE,X.BASEFONT,X.BGSOUND,X.BLOCKQUOTE,X.BODY,X.BR,X.BUTTON,X.CAPTION,X.CENTER,X.COL,X.COLGROUP,X.DD,X.DETAILS,X.DIR,X.DIV,X.DL,X.DT,X.EMBED,X.FIELDSET,X.FIGCAPTION,X.FIGURE,X.FOOTER,X.FORM,X.FRAME,X.FRAMESET,X.H1,X.H2,X.H3,X.H4,X.H5,X.H6,X.HEAD,X.HEADER,X.HGROUP,X.HR,X.HTML,X.IFRAME,X.IMG,X.INPUT,X.LI,X.LINK,X.LISTING,X.MAIN,X.MARQUEE,X.MENU,X.META,X.NAV,X.NOEMBED,X.NOFRAMES,X.NOSCRIPT,X.OBJECT,X.OL,X.P,X.PARAM,X.PLAINTEXT,X.PRE,X.SCRIPT,X.SECTION,X.SELECT,X.SOURCE,X.STYLE,X.SUMMARY,X.TABLE,X.TBODY,X.TD,X.TEMPLATE,X.TEXTAREA,X.TFOOT,X.TH,X.THEAD,X.TITLE,X.TR,X.TRACK,X.UL,X.WBR,X.XMP]),[z.MATHML]:new Set([X.MI,X.MO,X.MN,X.MS,X.MTEXT,X.ANNOTATION_XML]),[z.SVG]:new Set([X.TITLE,X.FOREIGN_OBJECT,X.DESC]),[z.XLINK]:new Set,[z.XML]:new Set,[z.XMLNS]:new Set};function bw(e){return e===X.H1||e===X.H2||e===X.H3||e===X.H4||e===X.H5||e===X.H6}j.STYLE,j.SCRIPT,j.XMP,j.IFRAME,j.NOEMBED,j.NOFRAMES,j.PLAINTEXT;const eO=new Map([[128,8364],[130,8218],[131,402],[132,8222],[133,8230],[134,8224],[135,8225],[136,710],[137,8240],[138,352],[139,8249],[140,338],[142,381],[145,8216],[146,8217],[147,8220],[148,8221],[149,8226],[150,8211],[151,8212],[152,732],[153,8482],[154,353],[155,8250],[156,339],[158,382],[159,376]]);var C;(function(e){e[e.DATA=0]="DATA",e[e.RCDATA=1]="RCDATA",e[e.RAWTEXT=2]="RAWTEXT",e[e.SCRIPT_DATA=3]="SCRIPT_DATA",e[e.PLAINTEXT=4]="PLAINTEXT",e[e.TAG_OPEN=5]="TAG_OPEN",e[e.END_TAG_OPEN=6]="END_TAG_OPEN",e[e.TAG_NAME=7]="TAG_NAME",e[e.RCDATA_LESS_THAN_SIGN=8]="RCDATA_LESS_THAN_SIGN",e[e.RCDATA_END_TAG_OPEN=9]="RCDATA_END_TAG_OPEN",e[e.RCDATA_END_TAG_NAME=10]="RCDATA_END_TAG_NAME",e[e.RAWTEXT_LESS_THAN_SIGN=11]="RAWTEXT_LESS_THAN_SIGN",e[e.RAWTEXT_END_TAG_OPEN=12]="RAWTEXT_END_TAG_OPEN",e[e.RAWTEXT_END_TAG_NAME=13]="RAWTEXT_END_TAG_NAME",e[e.SCRIPT_DATA_LESS_THAN_SIGN=14]="SCRIPT_DATA_LESS_THAN_SIGN",e[e.SCRIPT_DATA_END_TAG_OPEN=15]="SCRIPT_DATA_END_TAG_OPEN",e[e.SCRIPT_DATA_END_TAG_NAME=16]="SCRIPT_DATA_END_TAG_NAME",e[e.SCRIPT_DATA_ESCAPE_START=17]="SCRIPT_DATA_ESCAPE_START",e[e.SCRIPT_DATA_ESCAPE_START_DASH=18]="SCRIPT_DATA_ESCAPE_START_DASH",e[e.SCRIPT_DATA_ESCAPED=19]="SCRIPT_DATA_ESCAPED",e[e.SCRIPT_DATA_ESCAPED_DASH=20]="SCRIPT_DATA_ESCAPED_DASH",e[e.SCRIPT_DATA_ESCAPED_DASH_DASH=21]="SCRIPT_DATA_ESCAPED_DASH_DASH",e[e.SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN=22]="SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN",e[e.SCRIPT_DATA_ESCAPED_END_TAG_OPEN=23]="SCRIPT_DATA_ESCAPED_END_TAG_OPEN",e[e.SCRIPT_DATA_ESCAPED_END_TAG_NAME=24]="SCRIPT_DATA_ESCAPED_END_TAG_NAME",e[e.SCRIPT_DATA_DOUBLE_ESCAPE_START=25]="SCRIPT_DATA_DOUBLE_ESCAPE_START",e[e.SCRIPT_DATA_DOUBLE_ESCAPED=26]="SCRIPT_DATA_DOUBLE_ESCAPED",e[e.SCRIPT_DATA_DOUBLE_ESCAPED_DASH=27]="SCRIPT_DATA_DOUBLE_ESCAPED_DASH",e[e.SCRIPT_DATA_DOUBLE_ESCAPED_DASH_DASH=28]="SCRIPT_DATA_DOUBLE_ESCAPED_DASH_DASH",e[e.SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN=29]="SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN",e[e.SCRIPT_DATA_DOUBLE_ESCAPE_END=30]="SCRIPT_DATA_DOUBLE_ESCAPE_END",e[e.BEFORE_ATTRIBUTE_NAME=31]="BEFORE_ATTRIBUTE_NAME",e[e.ATTRIBUTE_NAME=32]="ATTRIBUTE_NAME",e[e.AFTER_ATTRIBUTE_NAME=33]="AFTER_ATTRIBUTE_NAME",e[e.BEFORE_ATTRIBUTE_VALUE=34]="BEFORE_ATTRIBUTE_VALUE",e[e.ATTRIBUTE_VALUE_DOUBLE_QUOTED=35]="ATTRIBUTE_VALUE_DOUBLE_QUOTED",e[e.ATTRIBUTE_VALUE_SINGLE_QUOTED=36]="ATTRIBUTE_VALUE_SINGLE_QUOTED",e[e.ATTRIBUTE_VALUE_UNQUOTED=37]="ATTRIBUTE_VALUE_UNQUOTED",e[e.AFTER_ATTRIBUTE_VALUE_QUOTED=38]="AFTER_ATTRIBUTE_VALUE_QUOTED",e[e.SELF_CLOSING_START_TAG=39]="SELF_CLOSING_START_TAG",e[e.BOGUS_COMMENT=40]="BOGUS_COMMENT",e[e.MARKUP_DECLARATION_OPEN=41]="MARKUP_DECLARATION_OPEN",e[e.COMMENT_START=42]="COMMENT_START",e[e.COMMENT_START_DASH=43]="COMMENT_START_DASH",e[e.COMMENT=44]="COMMENT",e[e.COMMENT_LESS_THAN_SIGN=45]="COMMENT_LESS_THAN_SIGN",e[e.COMMENT_LESS_THAN_SIGN_BANG=46]="COMMENT_LESS_THAN_SIGN_BANG",e[e.COMMENT_LESS_THAN_SIGN_BANG_DASH=47]="COMMENT_LESS_THAN_SIGN_BANG_DASH",e[e.COMMENT_LESS_THAN_SIGN_BANG_DASH_DASH=48]="COMMENT_LESS_THAN_SIGN_BANG_DASH_DASH",e[e.COMMENT_END_DASH=49]="COMMENT_END_DASH",e[e.COMMENT_END=50]="COMMENT_END",e[e.COMMENT_END_BANG=51]="COMMENT_END_BANG",e[e.DOCTYPE=52]="DOCTYPE",e[e.BEFORE_DOCTYPE_NAME=53]="BEFORE_DOCTYPE_NAME",e[e.DOCTYPE_NAME=54]="DOCTYPE_NAME",e[e.AFTER_DOCTYPE_NAME=55]="AFTER_DOCTYPE_NAME",e[e.AFTER_DOCTYPE_PUBLIC_KEYWORD=56]="AFTER_DOCTYPE_PUBLIC_KEYWORD",e[e.BEFORE_DOCTYPE_PUBLIC_IDENTIFIER=57]="BEFORE_DOCTYPE_PUBLIC_IDENTIFIER",e[e.DOCTYPE_PUBLIC_IDENTIFIER_DOUBLE_QUOTED=58]="DOCTYPE_PUBLIC_IDENTIFIER_DOUBLE_QUOTED",e[e.DOCTYPE_PUBLIC_IDENTIFIER_SINGLE_QUOTED=59]="DOCTYPE_PUBLIC_IDENTIFIER_SINGLE_QUOTED",e[e.AFTER_DOCTYPE_PUBLIC_IDENTIFIER=60]="AFTER_DOCTYPE_PUBLIC_IDENTIFIER",e[e.BETWEEN_DOCTYPE_PUBLIC_AND_SYSTEM_IDENTIFIERS=61]="BETWEEN_DOCTYPE_PUBLIC_AND_SYSTEM_IDENTIFIERS",e[e.AFTER_DOCTYPE_SYSTEM_KEYWORD=62]="AFTER_DOCTYPE_SYSTEM_KEYWORD",e[e.BEFORE_DOCTYPE_SYSTEM_IDENTIFIER=63]="BEFORE_DOCTYPE_SYSTEM_IDENTIFIER",e[e.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED=64]="DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED",e[e.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED=65]="DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED",e[e.AFTER_DOCTYPE_SYSTEM_IDENTIFIER=66]="AFTER_DOCTYPE_SYSTEM_IDENTIFIER",e[e.BOGUS_DOCTYPE=67]="BOGUS_DOCTYPE",e[e.CDATA_SECTION=68]="CDATA_SECTION",e[e.CDATA_SECTION_BRACKET=69]="CDATA_SECTION_BRACKET",e[e.CDATA_SECTION_END=70]="CDATA_SECTION_END",e[e.CHARACTER_REFERENCE=71]="CHARACTER_REFERENCE",e[e.NAMED_CHARACTER_REFERENCE=72]="NAMED_CHARACTER_REFERENCE",e[e.AMBIGUOUS_AMPERSAND=73]="AMBIGUOUS_AMPERSAND",e[e.NUMERIC_CHARACTER_REFERENCE=74]="NUMERIC_CHARACTER_REFERENCE",e[e.HEXADEMICAL_CHARACTER_REFERENCE_START=75]="HEXADEMICAL_CHARACTER_REFERENCE_START",e[e.HEXADEMICAL_CHARACTER_REFERENCE=76]="HEXADEMICAL_CHARACTER_REFERENCE",e[e.DECIMAL_CHARACTER_REFERENCE=77]="DECIMAL_CHARACTER_REFERENCE",e[e.NUMERIC_CHARACTER_REFERENCE_END=78]="NUMERIC_CHARACTER_REFERENCE_END"})(C||(C={}));const St={DATA:C.DATA,RCDATA:C.RCDATA,RAWTEXT:C.RAWTEXT,SCRIPT_DATA:C.SCRIPT_DATA,PLAINTEXT:C.PLAINTEXT,CDATA_SECTION:C.CDATA_SECTION};function cs(e){return e>=E.DIGIT_0&&e<=E.DIGIT_9}function Qo(e){return e>=E.LATIN_CAPITAL_A&&e<=E.LATIN_CAPITAL_Z}function tO(e){return e>=E.LATIN_SMALL_A&&e<=E.LATIN_SMALL_Z}function rr(e){return tO(e)||Qo(e)}function rf(e){return rr(e)||cs(e)}function vw(e){return e>=E.LATIN_CAPITAL_A&&e<=E.LATIN_CAPITAL_F}function ww(e){return e>=E.LATIN_SMALL_A&&e<=E.LATIN_SMALL_F}function nO(e){return cs(e)||vw(e)||ww(e)}function Hl(e){return e+32}function kw(e){return e===E.SPACE||e===E.LINE_FEED||e===E.TABULATION||e===E.FORM_FEED}function aO(e){return e===E.EQUALS_SIGN||rf(e)}function Zg(e){return kw(e)||e===E.SOLIDUS||e===E.GREATER_THAN_SIGN}class rO{constructor(t,n){this.options=t,this.handler=n,this.paused=!1,this.inLoop=!1,this.inForeignNode=!1,this.lastStartTagName="",this.active=!1,this.state=C.DATA,this.returnState=C.DATA,this.charRefCode=-1,this.consumedAfterSnapshot=-1,this.currentCharacterToken=null,this.currentToken=null,this.currentAttr={name:"",value:""},this.preprocessor=new UL(n),this.currentLocation=this.getCurrentLocation(-1)}_err(t){var n,a;(a=(n=this.handler).onParseError)===null||a===void 0||a.call(n,this.preprocessor.getError(t))}getCurrentLocation(t){return this.options.sourceCodeLocationInfo?{startLine:this.preprocessor.line,startCol:this.preprocessor.col-t,startOffset:this.preprocessor.offset-t,endLine:-1,endCol:-1,endOffset:-1}:null}_runParsingLoop(){if(!this.inLoop){for(this.inLoop=!0;this.active&&!this.paused;){this.consumedAfterSnapshot=0;const t=this._consume();this._ensureHibernation()||this._callState(t)}this.inLoop=!1}}pause(){this.paused=!0}resume(t){if(!this.paused)throw new Error("Parser was already resumed");this.paused=!1,!this.inLoop&&(this._runParsingLoop(),this.paused||t==null||t())}write(t,n,a){this.active=!0,this.preprocessor.write(t,n),this._runParsingLoop(),this.paused||a==null||a()}insertHtmlAtCurrentPos(t){this.active=!0,this.preprocessor.insertHtmlAtCurrentPos(t),this._runParsingLoop()}_ensureHibernation(){return this.preprocessor.endOfChunkHit?(this._unconsume(this.consumedAfterSnapshot),this.active=!1,!0):!1}_consume(){return this.consumedAfterSnapshot++,this.preprocessor.advance()}_unconsume(t){this.consumedAfterSnapshot-=t,this.preprocessor.retreat(t)}_reconsumeInState(t,n){this.state=t,this._callState(n)}_advanceBy(t){this.consumedAfterSnapshot+=t;for(let n=0;n<t;n++)this.preprocessor.advance()}_consumeSequenceIfMatch(t,n){return this.preprocessor.startsWith(t,n)?(this._advanceBy(t.length-1),!0):!1}_createStartTagToken(){this.currentToken={type:Ce.START_TAG,tagName:"",tagID:h.UNKNOWN,selfClosing:!1,ackSelfClosing:!1,attrs:[],location:this.getCurrentLocation(1)}}_createEndTagToken(){this.currentToken={type:Ce.END_TAG,tagName:"",tagID:h.UNKNOWN,selfClosing:!1,ackSelfClosing:!1,attrs:[],location:this.getCurrentLocation(2)}}_createCommentToken(t){this.currentToken={type:Ce.COMMENT,data:"",location:this.getCurrentLocation(t)}}_createDoctypeToken(t){this.currentToken={type:Ce.DOCTYPE,name:t,forceQuirks:!1,publicId:null,systemId:null,location:this.currentLocation}}_createCharacterToken(t,n){this.currentCharacterToken={type:t,chars:n,location:this.currentLocation}}_createAttr(t){this.currentAttr={name:t,value:""},this.currentLocation=this.getCurrentLocation(0)}_leaveAttrName(){var t,n;const a=this.currentToken;if(pw(a,this.currentAttr.name)===null){if(a.attrs.push(this.currentAttr),a.location&&this.currentLocation){const r=(t=(n=a.location).attrs)!==null&&t!==void 0?t:n.attrs=Object.create(null);r[this.currentAttr.name]=this.currentLocation,this._leaveAttrValue()}}else this._err(q.duplicateAttribute)}_leaveAttrValue(){this.currentLocation&&(this.currentLocation.endLine=this.preprocessor.line,this.currentLocation.endCol=this.preprocessor.col,this.currentLocation.endOffset=this.preprocessor.offset)}prepareToken(t){this._emitCurrentCharacterToken(t.location),this.currentToken=null,t.location&&(t.location.endLine=this.preprocessor.line,t.location.endCol=this.preprocessor.col+1,t.location.endOffset=this.preprocessor.offset+1),this.currentLocation=this.getCurrentLocation(-1)}emitCurrentTagToken(){const t=this.currentToken;this.prepareToken(t),t.tagID=vo(t.tagName),t.type===Ce.START_TAG?(this.lastStartTagName=t.tagName,this.handler.onStartTag(t)):(t.attrs.length>0&&this._err(q.endTagWithAttributes),t.selfClosing&&this._err(q.endTagWithTrailingSolidus),this.handler.onEndTag(t)),this.preprocessor.dropParsedChunk()}emitCurrentComment(t){this.prepareToken(t),this.handler.onComment(t),this.preprocessor.dropParsedChunk()}emitCurrentDoctype(t){this.prepareToken(t),this.handler.onDoctype(t),this.preprocessor.dropParsedChunk()}_emitCurrentCharacterToken(t){if(this.currentCharacterToken){switch(t&&this.currentCharacterToken.location&&(this.currentCharacterToken.location.endLine=t.startLine,this.currentCharacterToken.location.endCol=t.startCol,this.currentCharacterToken.location.endOffset=t.startOffset),this.currentCharacterToken.type){case Ce.CHARACTER:{this.handler.onCharacter(this.currentCharacterToken);break}case Ce.NULL_CHARACTER:{this.handler.onNullCharacter(this.currentCharacterToken);break}case Ce.WHITESPACE_CHARACTER:{this.handler.onWhitespaceCharacter(this.currentCharacterToken);break}}this.currentCharacterToken=null}}_emitEOFToken(){const t=this.getCurrentLocation(0);t&&(t.endLine=t.startLine,t.endCol=t.startCol,t.endOffset=t.startOffset),this._emitCurrentCharacterToken(t),this.handler.onEof({type:Ce.EOF,location:t}),this.active=!1}_appendCharToCurrentCharacterToken(t,n){if(this.currentCharacterToken)if(this.currentCharacterToken.type!==t)this.currentLocation=this.getCurrentLocation(0),this._emitCurrentCharacterToken(this.currentLocation),this.preprocessor.dropParsedChunk();else{this.currentCharacterToken.chars+=n;return}this._createCharacterToken(t,n)}_emitCodePoint(t){const n=kw(t)?Ce.WHITESPACE_CHARACTER:t===E.NULL?Ce.NULL_CHARACTER:Ce.CHARACTER;this._appendCharToCurrentCharacterToken(n,String.fromCodePoint(t))}_emitChars(t){this._appendCharToCurrentCharacterToken(Ce.CHARACTER,t)}_matchNamedCharacterReference(t){let n=null,a=0,r=!1;for(let i=0,o=ar[0];i>=0&&(i=yw(ar,o,i+1,t),!(i<0));t=this._consume()){a+=1,o=ar[i];const s=o&ka.VALUE_LENGTH;if(s){const l=(s>>14)-1;if(t!==E.SEMICOLON&&this._isCharacterReferenceInAttribute()&&aO(this.preprocessor.peek(1))?(n=[E.AMPERSAND],i+=l):(n=l===0?[ar[i]&~ka.VALUE_LENGTH]:l===1?[ar[++i]]:[ar[++i],ar[++i]],a=0,r=t!==E.SEMICOLON),l===0){this._consume();break}}}return this._unconsume(a),r&&!this.preprocessor.endOfChunkHit&&this._err(q.missingSemicolonAfterCharacterReference),this._unconsume(1),n}_isCharacterReferenceInAttribute(){return this.returnState===C.ATTRIBUTE_VALUE_DOUBLE_QUOTED||this.returnState===C.ATTRIBUTE_VALUE_SINGLE_QUOTED||this.returnState===C.ATTRIBUTE_VALUE_UNQUOTED}_flushCodePointConsumedAsCharacterReference(t){this._isCharacterReferenceInAttribute()?this.currentAttr.value+=String.fromCodePoint(t):this._emitCodePoint(t)}_callState(t){switch(this.state){case C.DATA:{this._stateData(t);break}case C.RCDATA:{this._stateRcdata(t);break}case C.RAWTEXT:{this._stateRawtext(t);break}case C.SCRIPT_DATA:{this._stateScriptData(t);break}case C.PLAINTEXT:{this._statePlaintext(t);break}case C.TAG_OPEN:{this._stateTagOpen(t);break}case C.END_TAG_OPEN:{this._stateEndTagOpen(t);break}case C.TAG_NAME:{this._stateTagName(t);break}case C.RCDATA_LESS_THAN_SIGN:{this._stateRcdataLessThanSign(t);break}case C.RCDATA_END_TAG_OPEN:{this._stateRcdataEndTagOpen(t);break}case C.RCDATA_END_TAG_NAME:{this._stateRcdataEndTagName(t);break}case C.RAWTEXT_LESS_THAN_SIGN:{this._stateRawtextLessThanSign(t);break}case C.RAWTEXT_END_TAG_OPEN:{this._stateRawtextEndTagOpen(t);break}case C.RAWTEXT_END_TAG_NAME:{this._stateRawtextEndTagName(t);break}case C.SCRIPT_DATA_LESS_THAN_SIGN:{this._stateScriptDataLessThanSign(t);break}case C.SCRIPT_DATA_END_TAG_OPEN:{this._stateScriptDataEndTagOpen(t);break}case C.SCRIPT_DATA_END_TAG_NAME:{this._stateScriptDataEndTagName(t);break}case C.SCRIPT_DATA_ESCAPE_START:{this._stateScriptDataEscapeStart(t);break}case C.SCRIPT_DATA_ESCAPE_START_DASH:{this._stateScriptDataEscapeStartDash(t);break}case C.SCRIPT_DATA_ESCAPED:{this._stateScriptDataEscaped(t);break}case C.SCRIPT_DATA_ESCAPED_DASH:{this._stateScriptDataEscapedDash(t);break}case C.SCRIPT_DATA_ESCAPED_DASH_DASH:{this._stateScriptDataEscapedDashDash(t);break}case C.SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN:{this._stateScriptDataEscapedLessThanSign(t);break}case C.SCRIPT_DATA_ESCAPED_END_TAG_OPEN:{this._stateScriptDataEscapedEndTagOpen(t);break}case C.SCRIPT_DATA_ESCAPED_END_TAG_NAME:{this._stateScriptDataEscapedEndTagName(t);break}case C.SCRIPT_DATA_DOUBLE_ESCAPE_START:{this._stateScriptDataDoubleEscapeStart(t);break}case C.SCRIPT_DATA_DOUBLE_ESCAPED:{this._stateScriptDataDoubleEscaped(t);break}case C.SCRIPT_DATA_DOUBLE_ESCAPED_DASH:{this._stateScriptDataDoubleEscapedDash(t);break}case C.SCRIPT_DATA_DOUBLE_ESCAPED_DASH_DASH:{this._stateScriptDataDoubleEscapedDashDash(t);break}case C.SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN:{this._stateScriptDataDoubleEscapedLessThanSign(t);break}case C.SCRIPT_DATA_DOUBLE_ESCAPE_END:{this._stateScriptDataDoubleEscapeEnd(t);break}case C.BEFORE_ATTRIBUTE_NAME:{this._stateBeforeAttributeName(t);break}case C.ATTRIBUTE_NAME:{this._stateAttributeName(t);break}case C.AFTER_ATTRIBUTE_NAME:{this._stateAfterAttributeName(t);break}case C.BEFORE_ATTRIBUTE_VALUE:{this._stateBeforeAttributeValue(t);break}case C.ATTRIBUTE_VALUE_DOUBLE_QUOTED:{this._stateAttributeValueDoubleQuoted(t);break}case C.ATTRIBUTE_VALUE_SINGLE_QUOTED:{this._stateAttributeValueSingleQuoted(t);break}case C.ATTRIBUTE_VALUE_UNQUOTED:{this._stateAttributeValueUnquoted(t);break}case C.AFTER_ATTRIBUTE_VALUE_QUOTED:{this._stateAfterAttributeValueQuoted(t);break}case C.SELF_CLOSING_START_TAG:{this._stateSelfClosingStartTag(t);break}case C.BOGUS_COMMENT:{this._stateBogusComment(t);break}case C.MARKUP_DECLARATION_OPEN:{this._stateMarkupDeclarationOpen(t);break}case C.COMMENT_START:{this._stateCommentStart(t);break}case C.COMMENT_START_DASH:{this._stateCommentStartDash(t);break}case C.COMMENT:{this._stateComment(t);break}case C.COMMENT_LESS_THAN_SIGN:{this._stateCommentLessThanSign(t);break}case C.COMMENT_LESS_THAN_SIGN_BANG:{this._stateCommentLessThanSignBang(t);break}case C.COMMENT_LESS_THAN_SIGN_BANG_DASH:{this._stateCommentLessThanSignBangDash(t);break}case C.COMMENT_LESS_THAN_SIGN_BANG_DASH_DASH:{this._stateCommentLessThanSignBangDashDash(t);break}case C.COMMENT_END_DASH:{this._stateCommentEndDash(t);break}case C.COMMENT_END:{this._stateCommentEnd(t);break}case C.COMMENT_END_BANG:{this._stateCommentEndBang(t);break}case C.DOCTYPE:{this._stateDoctype(t);break}case C.BEFORE_DOCTYPE_NAME:{this._stateBeforeDoctypeName(t);break}case C.DOCTYPE_NAME:{this._stateDoctypeName(t);break}case C.AFTER_DOCTYPE_NAME:{this._stateAfterDoctypeName(t);break}case C.AFTER_DOCTYPE_PUBLIC_KEYWORD:{this._stateAfterDoctypePublicKeyword(t);break}case C.BEFORE_DOCTYPE_PUBLIC_IDENTIFIER:{this._stateBeforeDoctypePublicIdentifier(t);break}case C.DOCTYPE_PUBLIC_IDENTIFIER_DOUBLE_QUOTED:{this._stateDoctypePublicIdentifierDoubleQuoted(t);break}case C.DOCTYPE_PUBLIC_IDENTIFIER_SINGLE_QUOTED:{this._stateDoctypePublicIdentifierSingleQuoted(t);break}case C.AFTER_DOCTYPE_PUBLIC_IDENTIFIER:{this._stateAfterDoctypePublicIdentifier(t);break}case C.BETWEEN_DOCTYPE_PUBLIC_AND_SYSTEM_IDENTIFIERS:{this._stateBetweenDoctypePublicAndSystemIdentifiers(t);break}case C.AFTER_DOCTYPE_SYSTEM_KEYWORD:{this._stateAfterDoctypeSystemKeyword(t);break}case C.BEFORE_DOCTYPE_SYSTEM_IDENTIFIER:{this._stateBeforeDoctypeSystemIdentifier(t);break}case C.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED:{this._stateDoctypeSystemIdentifierDoubleQuoted(t);break}case C.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED:{this._stateDoctypeSystemIdentifierSingleQuoted(t);break}case C.AFTER_DOCTYPE_SYSTEM_IDENTIFIER:{this._stateAfterDoctypeSystemIdentifier(t);break}case C.BOGUS_DOCTYPE:{this._stateBogusDoctype(t);break}case C.CDATA_SECTION:{this._stateCdataSection(t);break}case C.CDATA_SECTION_BRACKET:{this._stateCdataSectionBracket(t);break}case C.CDATA_SECTION_END:{this._stateCdataSectionEnd(t);break}case C.CHARACTER_REFERENCE:{this._stateCharacterReference(t);break}case C.NAMED_CHARACTER_REFERENCE:{this._stateNamedCharacterReference(t);break}case C.AMBIGUOUS_AMPERSAND:{this._stateAmbiguousAmpersand(t);break}case C.NUMERIC_CHARACTER_REFERENCE:{this._stateNumericCharacterReference(t);break}case C.HEXADEMICAL_CHARACTER_REFERENCE_START:{this._stateHexademicalCharacterReferenceStart(t);break}case C.HEXADEMICAL_CHARACTER_REFERENCE:{this._stateHexademicalCharacterReference(t);break}case C.DECIMAL_CHARACTER_REFERENCE:{this._stateDecimalCharacterReference(t);break}case C.NUMERIC_CHARACTER_REFERENCE_END:{this._stateNumericCharacterReferenceEnd(t);break}default:throw new Error("Unknown state")}}_stateData(t){switch(t){case E.LESS_THAN_SIGN:{this.state=C.TAG_OPEN;break}case E.AMPERSAND:{this.returnState=C.DATA,this.state=C.CHARACTER_REFERENCE;break}case E.NULL:{this._err(q.unexpectedNullCharacter),this._emitCodePoint(t);break}case E.EOF:{this._emitEOFToken();break}default:this._emitCodePoint(t)}}_stateRcdata(t){switch(t){case E.AMPERSAND:{this.returnState=C.RCDATA,this.state=C.CHARACTER_REFERENCE;break}case E.LESS_THAN_SIGN:{this.state=C.RCDATA_LESS_THAN_SIGN;break}case E.NULL:{this._err(q.unexpectedNullCharacter),this._emitChars(ft);break}case E.EOF:{this._emitEOFToken();break}default:this._emitCodePoint(t)}}_stateRawtext(t){switch(t){case E.LESS_THAN_SIGN:{this.state=C.RAWTEXT_LESS_THAN_SIGN;break}case E.NULL:{this._err(q.unexpectedNullCharacter),this._emitChars(ft);break}case E.EOF:{this._emitEOFToken();break}default:this._emitCodePoint(t)}}_stateScriptData(t){switch(t){case E.LESS_THAN_SIGN:{this.state=C.SCRIPT_DATA_LESS_THAN_SIGN;break}case E.NULL:{this._err(q.unexpectedNullCharacter),this._emitChars(ft);break}case E.EOF:{this._emitEOFToken();break}default:this._emitCodePoint(t)}}_statePlaintext(t){switch(t){case E.NULL:{this._err(q.unexpectedNullCharacter),this._emitChars(ft);break}case E.EOF:{this._emitEOFToken();break}default:this._emitCodePoint(t)}}_stateTagOpen(t){if(rr(t))this._createStartTagToken(),this.state=C.TAG_NAME,this._stateTagName(t);else switch(t){case E.EXCLAMATION_MARK:{this.state=C.MARKUP_DECLARATION_OPEN;break}case E.SOLIDUS:{this.state=C.END_TAG_OPEN;break}case E.QUESTION_MARK:{this._err(q.unexpectedQuestionMarkInsteadOfTagName),this._createCommentToken(1),this.state=C.BOGUS_COMMENT,this._stateBogusComment(t);break}case E.EOF:{this._err(q.eofBeforeTagName),this._emitChars("<"),this._emitEOFToken();break}default:this._err(q.invalidFirstCharacterOfTagName),this._emitChars("<"),this.state=C.DATA,this._stateData(t)}}_stateEndTagOpen(t){if(rr(t))this._createEndTagToken(),this.state=C.TAG_NAME,this._stateTagName(t);else switch(t){case E.GREATER_THAN_SIGN:{this._err(q.missingEndTagName),this.state=C.DATA;break}case E.EOF:{this._err(q.eofBeforeTagName),this._emitChars("</"),this._emitEOFToken();break}default:this._err(q.invalidFirstCharacterOfTagName),this._createCommentToken(2),this.state=C.BOGUS_COMMENT,this._stateBogusComment(t)}}_stateTagName(t){const n=this.currentToken;switch(t){case E.SPACE:case E.LINE_FEED:case E.TABULATION:case E.FORM_FEED:{this.state=C.BEFORE_ATTRIBUTE_NAME;break}case E.SOLIDUS:{this.state=C.SELF_CLOSING_START_TAG;break}case E.GREATER_THAN_SIGN:{this.state=C.DATA,this.emitCurrentTagToken();break}case E.NULL:{this._err(q.unexpectedNullCharacter),n.tagName+=ft;break}case E.EOF:{this._err(q.eofInTag),this._emitEOFToken();break}default:n.tagName+=String.fromCodePoint(Qo(t)?Hl(t):t)}}_stateRcdataLessThanSign(t){t===E.SOLIDUS?this.state=C.RCDATA_END_TAG_OPEN:(this._emitChars("<"),this.state=C.RCDATA,this._stateRcdata(t))}_stateRcdataEndTagOpen(t){rr(t)?(this.state=C.RCDATA_END_TAG_NAME,this._stateRcdataEndTagName(t)):(this._emitChars("</"),this.state=C.RCDATA,this._stateRcdata(t))}handleSpecialEndTag(t){if(!this.preprocessor.startsWith(this.lastStartTagName,!1))return!this._ensureHibernation();this._createEndTagToken();const n=this.currentToken;switch(n.tagName=this.lastStartTagName,this.preprocessor.peek(this.lastStartTagName.length)){case E.SPACE:case E.LINE_FEED:case E.TABULATION:case E.FORM_FEED:return this._advanceBy(this.lastStartTagName.length),this.state=C.BEFORE_ATTRIBUTE_NAME,!1;case E.SOLIDUS:return this._advanceBy(this.lastStartTagName.length),this.state=C.SELF_CLOSING_START_TAG,!1;case E.GREATER_THAN_SIGN:return this._advanceBy(this.lastStartTagName.length),this.emitCurrentTagToken(),this.state=C.DATA,!1;default:return!this._ensureHibernation()}}_stateRcdataEndTagName(t){this.handleSpecialEndTag(t)&&(this._emitChars("</"),this.state=C.RCDATA,this._stateRcdata(t))}_stateRawtextLessThanSign(t){t===E.SOLIDUS?this.state=C.RAWTEXT_END_TAG_OPEN:(this._emitChars("<"),this.state=C.RAWTEXT,this._stateRawtext(t))}_stateRawtextEndTagOpen(t){rr(t)?(this.state=C.RAWTEXT_END_TAG_NAME,this._stateRawtextEndTagName(t)):(this._emitChars("</"),this.state=C.RAWTEXT,this._stateRawtext(t))}_stateRawtextEndTagName(t){this.handleSpecialEndTag(t)&&(this._emitChars("</"),this.state=C.RAWTEXT,this._stateRawtext(t))}_stateScriptDataLessThanSign(t){switch(t){case E.SOLIDUS:{this.state=C.SCRIPT_DATA_END_TAG_OPEN;break}case E.EXCLAMATION_MARK:{this.state=C.SCRIPT_DATA_ESCAPE_START,this._emitChars("<!");break}default:this._emitChars("<"),this.state=C.SCRIPT_DATA,this._stateScriptData(t)}}_stateScriptDataEndTagOpen(t){rr(t)?(this.state=C.SCRIPT_DATA_END_TAG_NAME,this._stateScriptDataEndTagName(t)):(this._emitChars("</"),this.state=C.SCRIPT_DATA,this._stateScriptData(t))}_stateScriptDataEndTagName(t){this.handleSpecialEndTag(t)&&(this._emitChars("</"),this.state=C.SCRIPT_DATA,this._stateScriptData(t))}_stateScriptDataEscapeStart(t){t===E.HYPHEN_MINUS?(this.state=C.SCRIPT_DATA_ESCAPE_START_DASH,this._emitChars("-")):(this.state=C.SCRIPT_DATA,this._stateScriptData(t))}_stateScriptDataEscapeStartDash(t){t===E.HYPHEN_MINUS?(this.state=C.SCRIPT_DATA_ESCAPED_DASH_DASH,this._emitChars("-")):(this.state=C.SCRIPT_DATA,this._stateScriptData(t))}_stateScriptDataEscaped(t){switch(t){case E.HYPHEN_MINUS:{this.state=C.SCRIPT_DATA_ESCAPED_DASH,this._emitChars("-");break}case E.LESS_THAN_SIGN:{this.state=C.SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN;break}case E.NULL:{this._err(q.unexpectedNullCharacter),this._emitChars(ft);break}case E.EOF:{this._err(q.eofInScriptHtmlCommentLikeText),this._emitEOFToken();break}default:this._emitCodePoint(t)}}_stateScriptDataEscapedDash(t){switch(t){case E.HYPHEN_MINUS:{this.state=C.SCRIPT_DATA_ESCAPED_DASH_DASH,this._emitChars("-");break}case E.LESS_THAN_SIGN:{this.state=C.SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN;break}case E.NULL:{this._err(q.unexpectedNullCharacter),this.state=C.SCRIPT_DATA_ESCAPED,this._emitChars(ft);break}case E.EOF:{this._err(q.eofInScriptHtmlCommentLikeText),this._emitEOFToken();break}default:this.state=C.SCRIPT_DATA_ESCAPED,this._emitCodePoint(t)}}_stateScriptDataEscapedDashDash(t){switch(t){case E.HYPHEN_MINUS:{this._emitChars("-");break}case E.LESS_THAN_SIGN:{this.state=C.SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN;break}case E.GREATER_THAN_SIGN:{this.state=C.SCRIPT_DATA,this._emitChars(">");break}case E.NULL:{this._err(q.unexpectedNullCharacter),this.state=C.SCRIPT_DATA_ESCAPED,this._emitChars(ft);break}case E.EOF:{this._err(q.eofInScriptHtmlCommentLikeText),this._emitEOFToken();break}default:this.state=C.SCRIPT_DATA_ESCAPED,this._emitCodePoint(t)}}_stateScriptDataEscapedLessThanSign(t){t===E.SOLIDUS?this.state=C.SCRIPT_DATA_ESCAPED_END_TAG_OPEN:rr(t)?(this._emitChars("<"),this.state=C.SCRIPT_DATA_DOUBLE_ESCAPE_START,this._stateScriptDataDoubleEscapeStart(t)):(this._emitChars("<"),this.state=C.SCRIPT_DATA_ESCAPED,this._stateScriptDataEscaped(t))}_stateScriptDataEscapedEndTagOpen(t){rr(t)?(this.state=C.SCRIPT_DATA_ESCAPED_END_TAG_NAME,this._stateScriptDataEscapedEndTagName(t)):(this._emitChars("</"),this.state=C.SCRIPT_DATA_ESCAPED,this._stateScriptDataEscaped(t))}_stateScriptDataEscapedEndTagName(t){this.handleSpecialEndTag(t)&&(this._emitChars("</"),this.state=C.SCRIPT_DATA_ESCAPED,this._stateScriptDataEscaped(t))}_stateScriptDataDoubleEscapeStart(t){if(this.preprocessor.startsWith(un.SCRIPT,!1)&&Zg(this.preprocessor.peek(un.SCRIPT.length))){this._emitCodePoint(t);for(let n=0;n<un.SCRIPT.length;n++)this._emitCodePoint(this._consume());this.state=C.SCRIPT_DATA_DOUBLE_ESCAPED}else this._ensureHibernation()||(this.state=C.SCRIPT_DATA_ESCAPED,this._stateScriptDataEscaped(t))}_stateScriptDataDoubleEscaped(t){switch(t){case E.HYPHEN_MINUS:{this.state=C.SCRIPT_DATA_DOUBLE_ESCAPED_DASH,this._emitChars("-");break}case E.LESS_THAN_SIGN:{this.state=C.SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN,this._emitChars("<");break}case E.NULL:{this._err(q.unexpectedNullCharacter),this._emitChars(ft);break}case E.EOF:{this._err(q.eofInScriptHtmlCommentLikeText),this._emitEOFToken();break}default:this._emitCodePoint(t)}}_stateScriptDataDoubleEscapedDash(t){switch(t){case E.HYPHEN_MINUS:{this.state=C.SCRIPT_DATA_DOUBLE_ESCAPED_DASH_DASH,this._emitChars("-");break}case E.LESS_THAN_SIGN:{this.state=C.SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN,this._emitChars("<");break}case E.NULL:{this._err(q.unexpectedNullCharacter),this.state=C.SCRIPT_DATA_DOUBLE_ESCAPED,this._emitChars(ft);break}case E.EOF:{this._err(q.eofInScriptHtmlCommentLikeText),this._emitEOFToken();break}default:this.state=C.SCRIPT_DATA_DOUBLE_ESCAPED,this._emitCodePoint(t)}}_stateScriptDataDoubleEscapedDashDash(t){switch(t){case E.HYPHEN_MINUS:{this._emitChars("-");break}case E.LESS_THAN_SIGN:{this.state=C.SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN,this._emitChars("<");break}case E.GREATER_THAN_SIGN:{this.state=C.SCRIPT_DATA,this._emitChars(">");break}case E.NULL:{this._err(q.unexpectedNullCharacter),this.state=C.SCRIPT_DATA_DOUBLE_ESCAPED,this._emitChars(ft);break}case E.EOF:{this._err(q.eofInScriptHtmlCommentLikeText),this._emitEOFToken();break}default:this.state=C.SCRIPT_DATA_DOUBLE_ESCAPED,this._emitCodePoint(t)}}_stateScriptDataDoubleEscapedLessThanSign(t){t===E.SOLIDUS?(this.state=C.SCRIPT_DATA_DOUBLE_ESCAPE_END,this._emitChars("/")):(this.state=C.SCRIPT_DATA_DOUBLE_ESCAPED,this._stateScriptDataDoubleEscaped(t))}_stateScriptDataDoubleEscapeEnd(t){if(this.preprocessor.startsWith(un.SCRIPT,!1)&&Zg(this.preprocessor.peek(un.SCRIPT.length))){this._emitCodePoint(t);for(let n=0;n<un.SCRIPT.length;n++)this._emitCodePoint(this._consume());this.state=C.SCRIPT_DATA_ESCAPED}else this._ensureHibernation()||(this.state=C.SCRIPT_DATA_DOUBLE_ESCAPED,this._stateScriptDataDoubleEscaped(t))}_stateBeforeAttributeName(t){switch(t){case E.SPACE:case E.LINE_FEED:case E.TABULATION:case E.FORM_FEED:break;case E.SOLIDUS:case E.GREATER_THAN_SIGN:case E.EOF:{this.state=C.AFTER_ATTRIBUTE_NAME,this._stateAfterAttributeName(t);break}case E.EQUALS_SIGN:{this._err(q.unexpectedEqualsSignBeforeAttributeName),this._createAttr("="),this.state=C.ATTRIBUTE_NAME;break}default:this._createAttr(""),this.state=C.ATTRIBUTE_NAME,this._stateAttributeName(t)}}_stateAttributeName(t){switch(t){case E.SPACE:case E.LINE_FEED:case E.TABULATION:case E.FORM_FEED:case E.SOLIDUS:case E.GREATER_THAN_SIGN:case E.EOF:{this._leaveAttrName(),this.state=C.AFTER_ATTRIBUTE_NAME,this._stateAfterAttributeName(t);break}case E.EQUALS_SIGN:{this._leaveAttrName(),this.state=C.BEFORE_ATTRIBUTE_VALUE;break}case E.QUOTATION_MARK:case E.APOSTROPHE:case E.LESS_THAN_SIGN:{this._err(q.unexpectedCharacterInAttributeName),this.currentAttr.name+=String.fromCodePoint(t);break}case E.NULL:{this._err(q.unexpectedNullCharacter),this.currentAttr.name+=ft;break}default:this.currentAttr.name+=String.fromCodePoint(Qo(t)?Hl(t):t)}}_stateAfterAttributeName(t){switch(t){case E.SPACE:case E.LINE_FEED:case E.TABULATION:case E.FORM_FEED:break;case E.SOLIDUS:{this.state=C.SELF_CLOSING_START_TAG;break}case E.EQUALS_SIGN:{this.state=C.BEFORE_ATTRIBUTE_VALUE;break}case E.GREATER_THAN_SIGN:{this.state=C.DATA,this.emitCurrentTagToken();break}case E.EOF:{this._err(q.eofInTag),this._emitEOFToken();break}default:this._createAttr(""),this.state=C.ATTRIBUTE_NAME,this._stateAttributeName(t)}}_stateBeforeAttributeValue(t){switch(t){case E.SPACE:case E.LINE_FEED:case E.TABULATION:case E.FORM_FEED:break;case E.QUOTATION_MARK:{this.state=C.ATTRIBUTE_VALUE_DOUBLE_QUOTED;break}case E.APOSTROPHE:{this.state=C.ATTRIBUTE_VALUE_SINGLE_QUOTED;break}case E.GREATER_THAN_SIGN:{this._err(q.missingAttributeValue),this.state=C.DATA,this.emitCurrentTagToken();break}default:this.state=C.ATTRIBUTE_VALUE_UNQUOTED,this._stateAttributeValueUnquoted(t)}}_stateAttributeValueDoubleQuoted(t){switch(t){case E.QUOTATION_MARK:{this.state=C.AFTER_ATTRIBUTE_VALUE_QUOTED;break}case E.AMPERSAND:{this.returnState=C.ATTRIBUTE_VALUE_DOUBLE_QUOTED,this.state=C.CHARACTER_REFERENCE;break}case E.NULL:{this._err(q.unexpectedNullCharacter),this.currentAttr.value+=ft;break}case E.EOF:{this._err(q.eofInTag),this._emitEOFToken();break}default:this.currentAttr.value+=String.fromCodePoint(t)}}_stateAttributeValueSingleQuoted(t){switch(t){case E.APOSTROPHE:{this.state=C.AFTER_ATTRIBUTE_VALUE_QUOTED;break}case E.AMPERSAND:{this.returnState=C.ATTRIBUTE_VALUE_SINGLE_QUOTED,this.state=C.CHARACTER_REFERENCE;break}case E.NULL:{this._err(q.unexpectedNullCharacter),this.currentAttr.value+=ft;break}case E.EOF:{this._err(q.eofInTag),this._emitEOFToken();break}default:this.currentAttr.value+=String.fromCodePoint(t)}}_stateAttributeValueUnquoted(t){switch(t){case E.SPACE:case E.LINE_FEED:case E.TABULATION:case E.FORM_FEED:{this._leaveAttrValue(),this.state=C.BEFORE_ATTRIBUTE_NAME;break}case E.AMPERSAND:{this.returnState=C.ATTRIBUTE_VALUE_UNQUOTED,this.state=C.CHARACTER_REFERENCE;break}case E.GREATER_THAN_SIGN:{this._leaveAttrValue(),this.state=C.DATA,this.emitCurrentTagToken();break}case E.NULL:{this._err(q.unexpectedNullCharacter),this.currentAttr.value+=ft;break}case E.QUOTATION_MARK:case E.APOSTROPHE:case E.LESS_THAN_SIGN:case E.EQUALS_SIGN:case E.GRAVE_ACCENT:{this._err(q.unexpectedCharacterInUnquotedAttributeValue),this.currentAttr.value+=String.fromCodePoint(t);break}case E.EOF:{this._err(q.eofInTag),this._emitEOFToken();break}default:this.currentAttr.value+=String.fromCodePoint(t)}}_stateAfterAttributeValueQuoted(t){switch(t){case E.SPACE:case E.LINE_FEED:case E.TABULATION:case E.FORM_FEED:{this._leaveAttrValue(),this.state=C.BEFORE_ATTRIBUTE_NAME;break}case E.SOLIDUS:{this._leaveAttrValue(),this.state=C.SELF_CLOSING_START_TAG;break}case E.GREATER_THAN_SIGN:{this._leaveAttrValue(),this.state=C.DATA,this.emitCurrentTagToken();break}case E.EOF:{this._err(q.eofInTag),this._emitEOFToken();break}default:this._err(q.missingWhitespaceBetweenAttributes),this.state=C.BEFORE_ATTRIBUTE_NAME,this._stateBeforeAttributeName(t)}}_stateSelfClosingStartTag(t){switch(t){case E.GREATER_THAN_SIGN:{const n=this.currentToken;n.selfClosing=!0,this.state=C.DATA,this.emitCurrentTagToken();break}case E.EOF:{this._err(q.eofInTag),this._emitEOFToken();break}default:this._err(q.unexpectedSolidusInTag),this.state=C.BEFORE_ATTRIBUTE_NAME,this._stateBeforeAttributeName(t)}}_stateBogusComment(t){const n=this.currentToken;switch(t){case E.GREATER_THAN_SIGN:{this.state=C.DATA,this.emitCurrentComment(n);break}case E.EOF:{this.emitCurrentComment(n),this._emitEOFToken();break}case E.NULL:{this._err(q.unexpectedNullCharacter),n.data+=ft;break}default:n.data+=String.fromCodePoint(t)}}_stateMarkupDeclarationOpen(t){this._consumeSequenceIfMatch(un.DASH_DASH,!0)?(this._createCommentToken(un.DASH_DASH.length+1),this.state=C.COMMENT_START):this._consumeSequenceIfMatch(un.DOCTYPE,!1)?(this.currentLocation=this.getCurrentLocation(un.DOCTYPE.length+1),this.state=C.DOCTYPE):this._consumeSequenceIfMatch(un.CDATA_START,!0)?this.inForeignNode?this.state=C.CDATA_SECTION:(this._err(q.cdataInHtmlContent),this._createCommentToken(un.CDATA_START.length+1),this.currentToken.data="[CDATA[",this.state=C.BOGUS_COMMENT):this._ensureHibernation()||(this._err(q.incorrectlyOpenedComment),this._createCommentToken(2),this.state=C.BOGUS_COMMENT,this._stateBogusComment(t))}_stateCommentStart(t){switch(t){case E.HYPHEN_MINUS:{this.state=C.COMMENT_START_DASH;break}case E.GREATER_THAN_SIGN:{this._err(q.abruptClosingOfEmptyComment),this.state=C.DATA;const n=this.currentToken;this.emitCurrentComment(n);break}default:this.state=C.COMMENT,this._stateComment(t)}}_stateCommentStartDash(t){const n=this.currentToken;switch(t){case E.HYPHEN_MINUS:{this.state=C.COMMENT_END;break}case E.GREATER_THAN_SIGN:{this._err(q.abruptClosingOfEmptyComment),this.state=C.DATA,this.emitCurrentComment(n);break}case E.EOF:{this._err(q.eofInComment),this.emitCurrentComment(n),this._emitEOFToken();break}default:n.data+="-",this.state=C.COMMENT,this._stateComment(t)}}_stateComment(t){const n=this.currentToken;switch(t){case E.HYPHEN_MINUS:{this.state=C.COMMENT_END_DASH;break}case E.LESS_THAN_SIGN:{n.data+="<",this.state=C.COMMENT_LESS_THAN_SIGN;break}case E.NULL:{this._err(q.unexpectedNullCharacter),n.data+=ft;break}case E.EOF:{this._err(q.eofInComment),this.emitCurrentComment(n),this._emitEOFToken();break}default:n.data+=String.fromCodePoint(t)}}_stateCommentLessThanSign(t){const n=this.currentToken;switch(t){case E.EXCLAMATION_MARK:{n.data+="!",this.state=C.COMMENT_LESS_THAN_SIGN_BANG;break}case E.LESS_THAN_SIGN:{n.data+="<";break}default:this.state=C.COMMENT,this._stateComment(t)}}_stateCommentLessThanSignBang(t){t===E.HYPHEN_MINUS?this.state=C.COMMENT_LESS_THAN_SIGN_BANG_DASH:(this.state=C.COMMENT,this._stateComment(t))}_stateCommentLessThanSignBangDash(t){t===E.HYPHEN_MINUS?this.state=C.COMMENT_LESS_THAN_SIGN_BANG_DASH_DASH:(this.state=C.COMMENT_END_DASH,this._stateCommentEndDash(t))}_stateCommentLessThanSignBangDashDash(t){t!==E.GREATER_THAN_SIGN&&t!==E.EOF&&this._err(q.nestedComment),this.state=C.COMMENT_END,this._stateCommentEnd(t)}_stateCommentEndDash(t){const n=this.currentToken;switch(t){case E.HYPHEN_MINUS:{this.state=C.COMMENT_END;break}case E.EOF:{this._err(q.eofInComment),this.emitCurrentComment(n),this._emitEOFToken();break}default:n.data+="-",this.state=C.COMMENT,this._stateComment(t)}}_stateCommentEnd(t){const n=this.currentToken;switch(t){case E.GREATER_THAN_SIGN:{this.state=C.DATA,this.emitCurrentComment(n);break}case E.EXCLAMATION_MARK:{this.state=C.COMMENT_END_BANG;break}case E.HYPHEN_MINUS:{n.data+="-";break}case E.EOF:{this._err(q.eofInComment),this.emitCurrentComment(n),this._emitEOFToken();break}default:n.data+="--",this.state=C.COMMENT,this._stateComment(t)}}_stateCommentEndBang(t){const n=this.currentToken;switch(t){case E.HYPHEN_MINUS:{n.data+="--!",this.state=C.COMMENT_END_DASH;break}case E.GREATER_THAN_SIGN:{this._err(q.incorrectlyClosedComment),this.state=C.DATA,this.emitCurrentComment(n);break}case E.EOF:{this._err(q.eofInComment),this.emitCurrentComment(n),this._emitEOFToken();break}default:n.data+="--!",this.state=C.COMMENT,this._stateComment(t)}}_stateDoctype(t){switch(t){case E.SPACE:case E.LINE_FEED:case E.TABULATION:case E.FORM_FEED:{this.state=C.BEFORE_DOCTYPE_NAME;break}case E.GREATER_THAN_SIGN:{this.state=C.BEFORE_DOCTYPE_NAME,this._stateBeforeDoctypeName(t);break}case E.EOF:{this._err(q.eofInDoctype),this._createDoctypeToken(null);const n=this.currentToken;n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:this._err(q.missingWhitespaceBeforeDoctypeName),this.state=C.BEFORE_DOCTYPE_NAME,this._stateBeforeDoctypeName(t)}}_stateBeforeDoctypeName(t){if(Qo(t))this._createDoctypeToken(String.fromCharCode(Hl(t))),this.state=C.DOCTYPE_NAME;else switch(t){case E.SPACE:case E.LINE_FEED:case E.TABULATION:case E.FORM_FEED:break;case E.NULL:{this._err(q.unexpectedNullCharacter),this._createDoctypeToken(ft),this.state=C.DOCTYPE_NAME;break}case E.GREATER_THAN_SIGN:{this._err(q.missingDoctypeName),this._createDoctypeToken(null);const n=this.currentToken;n.forceQuirks=!0,this.emitCurrentDoctype(n),this.state=C.DATA;break}case E.EOF:{this._err(q.eofInDoctype),this._createDoctypeToken(null);const n=this.currentToken;n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:this._createDoctypeToken(String.fromCodePoint(t)),this.state=C.DOCTYPE_NAME}}_stateDoctypeName(t){const n=this.currentToken;switch(t){case E.SPACE:case E.LINE_FEED:case E.TABULATION:case E.FORM_FEED:{this.state=C.AFTER_DOCTYPE_NAME;break}case E.GREATER_THAN_SIGN:{this.state=C.DATA,this.emitCurrentDoctype(n);break}case E.NULL:{this._err(q.unexpectedNullCharacter),n.name+=ft;break}case E.EOF:{this._err(q.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:n.name+=String.fromCodePoint(Qo(t)?Hl(t):t)}}_stateAfterDoctypeName(t){const n=this.currentToken;switch(t){case E.SPACE:case E.LINE_FEED:case E.TABULATION:case E.FORM_FEED:break;case E.GREATER_THAN_SIGN:{this.state=C.DATA,this.emitCurrentDoctype(n);break}case E.EOF:{this._err(q.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:this._consumeSequenceIfMatch(un.PUBLIC,!1)?this.state=C.AFTER_DOCTYPE_PUBLIC_KEYWORD:this._consumeSequenceIfMatch(un.SYSTEM,!1)?this.state=C.AFTER_DOCTYPE_SYSTEM_KEYWORD:this._ensureHibernation()||(this._err(q.invalidCharacterSequenceAfterDoctypeName),n.forceQuirks=!0,this.state=C.BOGUS_DOCTYPE,this._stateBogusDoctype(t))}}_stateAfterDoctypePublicKeyword(t){const n=this.currentToken;switch(t){case E.SPACE:case E.LINE_FEED:case E.TABULATION:case E.FORM_FEED:{this.state=C.BEFORE_DOCTYPE_PUBLIC_IDENTIFIER;break}case E.QUOTATION_MARK:{this._err(q.missingWhitespaceAfterDoctypePublicKeyword),n.publicId="",this.state=C.DOCTYPE_PUBLIC_IDENTIFIER_DOUBLE_QUOTED;break}case E.APOSTROPHE:{this._err(q.missingWhitespaceAfterDoctypePublicKeyword),n.publicId="",this.state=C.DOCTYPE_PUBLIC_IDENTIFIER_SINGLE_QUOTED;break}case E.GREATER_THAN_SIGN:{this._err(q.missingDoctypePublicIdentifier),n.forceQuirks=!0,this.state=C.DATA,this.emitCurrentDoctype(n);break}case E.EOF:{this._err(q.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:this._err(q.missingQuoteBeforeDoctypePublicIdentifier),n.forceQuirks=!0,this.state=C.BOGUS_DOCTYPE,this._stateBogusDoctype(t)}}_stateBeforeDoctypePublicIdentifier(t){const n=this.currentToken;switch(t){case E.SPACE:case E.LINE_FEED:case E.TABULATION:case E.FORM_FEED:break;case E.QUOTATION_MARK:{n.publicId="",this.state=C.DOCTYPE_PUBLIC_IDENTIFIER_DOUBLE_QUOTED;break}case E.APOSTROPHE:{n.publicId="",this.state=C.DOCTYPE_PUBLIC_IDENTIFIER_SINGLE_QUOTED;break}case E.GREATER_THAN_SIGN:{this._err(q.missingDoctypePublicIdentifier),n.forceQuirks=!0,this.state=C.DATA,this.emitCurrentDoctype(n);break}case E.EOF:{this._err(q.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:this._err(q.missingQuoteBeforeDoctypePublicIdentifier),n.forceQuirks=!0,this.state=C.BOGUS_DOCTYPE,this._stateBogusDoctype(t)}}_stateDoctypePublicIdentifierDoubleQuoted(t){const n=this.currentToken;switch(t){case E.QUOTATION_MARK:{this.state=C.AFTER_DOCTYPE_PUBLIC_IDENTIFIER;break}case E.NULL:{this._err(q.unexpectedNullCharacter),n.publicId+=ft;break}case E.GREATER_THAN_SIGN:{this._err(q.abruptDoctypePublicIdentifier),n.forceQuirks=!0,this.emitCurrentDoctype(n),this.state=C.DATA;break}case E.EOF:{this._err(q.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:n.publicId+=String.fromCodePoint(t)}}_stateDoctypePublicIdentifierSingleQuoted(t){const n=this.currentToken;switch(t){case E.APOSTROPHE:{this.state=C.AFTER_DOCTYPE_PUBLIC_IDENTIFIER;break}case E.NULL:{this._err(q.unexpectedNullCharacter),n.publicId+=ft;break}case E.GREATER_THAN_SIGN:{this._err(q.abruptDoctypePublicIdentifier),n.forceQuirks=!0,this.emitCurrentDoctype(n),this.state=C.DATA;break}case E.EOF:{this._err(q.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:n.publicId+=String.fromCodePoint(t)}}_stateAfterDoctypePublicIdentifier(t){const n=this.currentToken;switch(t){case E.SPACE:case E.LINE_FEED:case E.TABULATION:case E.FORM_FEED:{this.state=C.BETWEEN_DOCTYPE_PUBLIC_AND_SYSTEM_IDENTIFIERS;break}case E.GREATER_THAN_SIGN:{this.state=C.DATA,this.emitCurrentDoctype(n);break}case E.QUOTATION_MARK:{this._err(q.missingWhitespaceBetweenDoctypePublicAndSystemIdentifiers),n.systemId="",this.state=C.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED;break}case E.APOSTROPHE:{this._err(q.missingWhitespaceBetweenDoctypePublicAndSystemIdentifiers),n.systemId="",this.state=C.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED;break}case E.EOF:{this._err(q.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:this._err(q.missingQuoteBeforeDoctypeSystemIdentifier),n.forceQuirks=!0,this.state=C.BOGUS_DOCTYPE,this._stateBogusDoctype(t)}}_stateBetweenDoctypePublicAndSystemIdentifiers(t){const n=this.currentToken;switch(t){case E.SPACE:case E.LINE_FEED:case E.TABULATION:case E.FORM_FEED:break;case E.GREATER_THAN_SIGN:{this.emitCurrentDoctype(n),this.state=C.DATA;break}case E.QUOTATION_MARK:{n.systemId="",this.state=C.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED;break}case E.APOSTROPHE:{n.systemId="",this.state=C.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED;break}case E.EOF:{this._err(q.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:this._err(q.missingQuoteBeforeDoctypeSystemIdentifier),n.forceQuirks=!0,this.state=C.BOGUS_DOCTYPE,this._stateBogusDoctype(t)}}_stateAfterDoctypeSystemKeyword(t){const n=this.currentToken;switch(t){case E.SPACE:case E.LINE_FEED:case E.TABULATION:case E.FORM_FEED:{this.state=C.BEFORE_DOCTYPE_SYSTEM_IDENTIFIER;break}case E.QUOTATION_MARK:{this._err(q.missingWhitespaceAfterDoctypeSystemKeyword),n.systemId="",this.state=C.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED;break}case E.APOSTROPHE:{this._err(q.missingWhitespaceAfterDoctypeSystemKeyword),n.systemId="",this.state=C.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED;break}case E.GREATER_THAN_SIGN:{this._err(q.missingDoctypeSystemIdentifier),n.forceQuirks=!0,this.state=C.DATA,this.emitCurrentDoctype(n);break}case E.EOF:{this._err(q.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:this._err(q.missingQuoteBeforeDoctypeSystemIdentifier),n.forceQuirks=!0,this.state=C.BOGUS_DOCTYPE,this._stateBogusDoctype(t)}}_stateBeforeDoctypeSystemIdentifier(t){const n=this.currentToken;switch(t){case E.SPACE:case E.LINE_FEED:case E.TABULATION:case E.FORM_FEED:break;case E.QUOTATION_MARK:{n.systemId="",this.state=C.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED;break}case E.APOSTROPHE:{n.systemId="",this.state=C.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED;break}case E.GREATER_THAN_SIGN:{this._err(q.missingDoctypeSystemIdentifier),n.forceQuirks=!0,this.state=C.DATA,this.emitCurrentDoctype(n);break}case E.EOF:{this._err(q.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:this._err(q.missingQuoteBeforeDoctypeSystemIdentifier),n.forceQuirks=!0,this.state=C.BOGUS_DOCTYPE,this._stateBogusDoctype(t)}}_stateDoctypeSystemIdentifierDoubleQuoted(t){const n=this.currentToken;switch(t){case E.QUOTATION_MARK:{this.state=C.AFTER_DOCTYPE_SYSTEM_IDENTIFIER;break}case E.NULL:{this._err(q.unexpectedNullCharacter),n.systemId+=ft;break}case E.GREATER_THAN_SIGN:{this._err(q.abruptDoctypeSystemIdentifier),n.forceQuirks=!0,this.emitCurrentDoctype(n),this.state=C.DATA;break}case E.EOF:{this._err(q.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:n.systemId+=String.fromCodePoint(t)}}_stateDoctypeSystemIdentifierSingleQuoted(t){const n=this.currentToken;switch(t){case E.APOSTROPHE:{this.state=C.AFTER_DOCTYPE_SYSTEM_IDENTIFIER;break}case E.NULL:{this._err(q.unexpectedNullCharacter),n.systemId+=ft;break}case E.GREATER_THAN_SIGN:{this._err(q.abruptDoctypeSystemIdentifier),n.forceQuirks=!0,this.emitCurrentDoctype(n),this.state=C.DATA;break}case E.EOF:{this._err(q.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:n.systemId+=String.fromCodePoint(t)}}_stateAfterDoctypeSystemIdentifier(t){const n=this.currentToken;switch(t){case E.SPACE:case E.LINE_FEED:case E.TABULATION:case E.FORM_FEED:break;case E.GREATER_THAN_SIGN:{this.emitCurrentDoctype(n),this.state=C.DATA;break}case E.EOF:{this._err(q.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:this._err(q.unexpectedCharacterAfterDoctypeSystemIdentifier),this.state=C.BOGUS_DOCTYPE,this._stateBogusDoctype(t)}}_stateBogusDoctype(t){const n=this.currentToken;switch(t){case E.GREATER_THAN_SIGN:{this.emitCurrentDoctype(n),this.state=C.DATA;break}case E.NULL:{this._err(q.unexpectedNullCharacter);break}case E.EOF:{this.emitCurrentDoctype(n),this._emitEOFToken();break}}}_stateCdataSection(t){switch(t){case E.RIGHT_SQUARE_BRACKET:{this.state=C.CDATA_SECTION_BRACKET;break}case E.EOF:{this._err(q.eofInCdata),this._emitEOFToken();break}default:this._emitCodePoint(t)}}_stateCdataSectionBracket(t){t===E.RIGHT_SQUARE_BRACKET?this.state=C.CDATA_SECTION_END:(this._emitChars("]"),this.state=C.CDATA_SECTION,this._stateCdataSection(t))}_stateCdataSectionEnd(t){switch(t){case E.GREATER_THAN_SIGN:{this.state=C.DATA;break}case E.RIGHT_SQUARE_BRACKET:{this._emitChars("]");break}default:this._emitChars("]]"),this.state=C.CDATA_SECTION,this._stateCdataSection(t)}}_stateCharacterReference(t){t===E.NUMBER_SIGN?this.state=C.NUMERIC_CHARACTER_REFERENCE:rf(t)?(this.state=C.NAMED_CHARACTER_REFERENCE,this._stateNamedCharacterReference(t)):(this._flushCodePointConsumedAsCharacterReference(E.AMPERSAND),this._reconsumeInState(this.returnState,t))}_stateNamedCharacterReference(t){const n=this._matchNamedCharacterReference(t);if(!this._ensureHibernation())if(n){for(let a=0;a<n.length;a++)this._flushCodePointConsumedAsCharacterReference(n[a]);this.state=this.returnState}else this._flushCodePointConsumedAsCharacterReference(E.AMPERSAND),this.state=C.AMBIGUOUS_AMPERSAND}_stateAmbiguousAmpersand(t){rf(t)?this._flushCodePointConsumedAsCharacterReference(t):(t===E.SEMICOLON&&this._err(q.unknownNamedCharacterReference),this._reconsumeInState(this.returnState,t))}_stateNumericCharacterReference(t){this.charRefCode=0,t===E.LATIN_SMALL_X||t===E.LATIN_CAPITAL_X?this.state=C.HEXADEMICAL_CHARACTER_REFERENCE_START:cs(t)?(this.state=C.DECIMAL_CHARACTER_REFERENCE,this._stateDecimalCharacterReference(t)):(this._err(q.absenceOfDigitsInNumericCharacterReference),this._flushCodePointConsumedAsCharacterReference(E.AMPERSAND),this._flushCodePointConsumedAsCharacterReference(E.NUMBER_SIGN),this._reconsumeInState(this.returnState,t))}_stateHexademicalCharacterReferenceStart(t){nO(t)?(this.state=C.HEXADEMICAL_CHARACTER_REFERENCE,this._stateHexademicalCharacterReference(t)):(this._err(q.absenceOfDigitsInNumericCharacterReference),this._flushCodePointConsumedAsCharacterReference(E.AMPERSAND),this._flushCodePointConsumedAsCharacterReference(E.NUMBER_SIGN),this._unconsume(2),this.state=this.returnState)}_stateHexademicalCharacterReference(t){vw(t)?this.charRefCode=this.charRefCode*16+t-55:ww(t)?this.charRefCode=this.charRefCode*16+t-87:cs(t)?this.charRefCode=this.charRefCode*16+t-48:t===E.SEMICOLON?this.state=C.NUMERIC_CHARACTER_REFERENCE_END:(this._err(q.missingSemicolonAfterCharacterReference),this.state=C.NUMERIC_CHARACTER_REFERENCE_END,this._stateNumericCharacterReferenceEnd(t))}_stateDecimalCharacterReference(t){cs(t)?this.charRefCode=this.charRefCode*10+t-48:t===E.SEMICOLON?this.state=C.NUMERIC_CHARACTER_REFERENCE_END:(this._err(q.missingSemicolonAfterCharacterReference),this.state=C.NUMERIC_CHARACTER_REFERENCE_END,this._stateNumericCharacterReferenceEnd(t))}_stateNumericCharacterReferenceEnd(t){if(this.charRefCode===E.NULL)this._err(q.nullCharacterReference),this.charRefCode=E.REPLACEMENT_CHARACTER;else if(this.charRefCode>1114111)this._err(q.characterReferenceOutsideUnicodeRange),this.charRefCode=E.REPLACEMENT_CHARACTER;else if(hw(this.charRefCode))this._err(q.surrogateCharacterReference),this.charRefCode=E.REPLACEMENT_CHARACTER;else if(mw(this.charRefCode))this._err(q.noncharacterCharacterReference);else if(fw(this.charRefCode)||this.charRefCode===E.CARRIAGE_RETURN){this._err(q.controlCharacterReference);const n=eO.get(this.charRefCode);n!==void 0&&(this.charRefCode=n)}this._flushCodePointConsumedAsCharacterReference(this.charRefCode),this._reconsumeInState(this.returnState,t)}}const Tw=new Set([h.DD,h.DT,h.LI,h.OPTGROUP,h.OPTION,h.P,h.RB,h.RP,h.RT,h.RTC]),e1=new Set([...Tw,h.CAPTION,h.COLGROUP,h.TBODY,h.TD,h.TFOOT,h.TH,h.THEAD,h.TR]),ql=new Map([[h.APPLET,z.HTML],[h.CAPTION,z.HTML],[h.HTML,z.HTML],[h.MARQUEE,z.HTML],[h.OBJECT,z.HTML],[h.TABLE,z.HTML],[h.TD,z.HTML],[h.TEMPLATE,z.HTML],[h.TH,z.HTML],[h.ANNOTATION_XML,z.MATHML],[h.MI,z.MATHML],[h.MN,z.MATHML],[h.MO,z.MATHML],[h.MS,z.MATHML],[h.MTEXT,z.MATHML],[h.DESC,z.SVG],[h.FOREIGN_OBJECT,z.SVG],[h.TITLE,z.SVG]]),iO=[h.H1,h.H2,h.H3,h.H4,h.H5,h.H6],oO=[h.TR,h.TEMPLATE,h.HTML],sO=[h.TBODY,h.TFOOT,h.THEAD,h.TEMPLATE,h.HTML],lO=[h.TABLE,h.TEMPLATE,h.HTML],uO=[h.TD,h.TH];class cO{get currentTmplContentOrNode(){return this._isInTemplate()?this.treeAdapter.getTemplateContent(this.current):this.current}constructor(t,n,a){this.treeAdapter=n,this.handler=a,this.items=[],this.tagIDs=[],this.stackTop=-1,this.tmplCount=0,this.currentTagId=h.UNKNOWN,this.current=t}_indexOf(t){return this.items.lastIndexOf(t,this.stackTop)}_isInTemplate(){return this.currentTagId===h.TEMPLATE&&this.treeAdapter.getNamespaceURI(this.current)===z.HTML}_updateCurrentElement(){this.current=this.items[this.stackTop],this.currentTagId=this.tagIDs[this.stackTop]}push(t,n){this.stackTop++,this.items[this.stackTop]=t,this.current=t,this.tagIDs[this.stackTop]=n,this.currentTagId=n,this._isInTemplate()&&this.tmplCount++,this.handler.onItemPush(t,n,!0)}pop(){const t=this.current;this.tmplCount>0&&this._isInTemplate()&&this.tmplCount--,this.stackTop--,this._updateCurrentElement(),this.handler.onItemPop(t,!0)}replace(t,n){const a=this._indexOf(t);this.items[a]=n,a===this.stackTop&&(this.current=n)}insertAfter(t,n,a){const r=this._indexOf(t)+1;this.items.splice(r,0,n),this.tagIDs.splice(r,0,a),this.stackTop++,r===this.stackTop&&this._updateCurrentElement(),this.handler.onItemPush(this.current,this.currentTagId,r===this.stackTop)}popUntilTagNamePopped(t){let n=this.stackTop+1;do n=this.tagIDs.lastIndexOf(t,n-1);while(n>0&&this.treeAdapter.getNamespaceURI(this.items[n])!==z.HTML);this.shortenToLength(n<0?0:n)}shortenToLength(t){for(;this.stackTop>=t;){const n=this.current;this.tmplCount>0&&this._isInTemplate()&&(this.tmplCount-=1),this.stackTop--,this._updateCurrentElement(),this.handler.onItemPop(n,this.stackTop<t)}}popUntilElementPopped(t){const n=this._indexOf(t);this.shortenToLength(n<0?0:n)}popUntilPopped(t,n){const a=this._indexOfTagNames(t,n);this.shortenToLength(a<0?0:a)}popUntilNumberedHeaderPopped(){this.popUntilPopped(iO,z.HTML)}popUntilTableCellPopped(){this.popUntilPopped(uO,z.HTML)}popAllUpToHtmlElement(){this.tmplCount=0,this.shortenToLength(1)}_indexOfTagNames(t,n){for(let a=this.stackTop;a>=0;a--)if(t.includes(this.tagIDs[a])&&this.treeAdapter.getNamespaceURI(this.items[a])===n)return a;return-1}clearBackTo(t,n){const a=this._indexOfTagNames(t,n);this.shortenToLength(a+1)}clearBackToTableContext(){this.clearBackTo(lO,z.HTML)}clearBackToTableBodyContext(){this.clearBackTo(sO,z.HTML)}clearBackToTableRowContext(){this.clearBackTo(oO,z.HTML)}remove(t){const n=this._indexOf(t);n>=0&&(n===this.stackTop?this.pop():(this.items.splice(n,1),this.tagIDs.splice(n,1),this.stackTop--,this._updateCurrentElement(),this.handler.onItemPop(t,!1)))}tryPeekProperlyNestedBodyElement(){return this.stackTop>=1&&this.tagIDs[1]===h.BODY?this.items[1]:null}contains(t){return this._indexOf(t)>-1}getCommonAncestor(t){const n=this._indexOf(t)-1;return n>=0?this.items[n]:null}isRootHtmlElementCurrent(){return this.stackTop===0&&this.tagIDs[0]===h.HTML}hasInScope(t){for(let n=this.stackTop;n>=0;n--){const a=this.tagIDs[n],r=this.treeAdapter.getNamespaceURI(this.items[n]);if(a===t&&r===z.HTML)return!0;if(ql.get(a)===r)return!1}return!0}hasNumberedHeaderInScope(){for(let t=this.stackTop;t>=0;t--){const n=this.tagIDs[t],a=this.treeAdapter.getNamespaceURI(this.items[t]);if(bw(n)&&a===z.HTML)return!0;if(ql.get(n)===a)return!1}return!0}hasInListItemScope(t){for(let n=this.stackTop;n>=0;n--){const a=this.tagIDs[n],r=this.treeAdapter.getNamespaceURI(this.items[n]);if(a===t&&r===z.HTML)return!0;if((a===h.UL||a===h.OL)&&r===z.HTML||ql.get(a)===r)return!1}return!0}hasInButtonScope(t){for(let n=this.stackTop;n>=0;n--){const a=this.tagIDs[n],r=this.treeAdapter.getNamespaceURI(this.items[n]);if(a===t&&r===z.HTML)return!0;if(a===h.BUTTON&&r===z.HTML||ql.get(a)===r)return!1}return!0}hasInTableScope(t){for(let n=this.stackTop;n>=0;n--){const a=this.tagIDs[n];if(this.treeAdapter.getNamespaceURI(this.items[n])===z.HTML){if(a===t)return!0;if(a===h.TABLE||a===h.TEMPLATE||a===h.HTML)return!1}}return!0}hasTableBodyContextInTableScope(){for(let t=this.stackTop;t>=0;t--){const n=this.tagIDs[t];if(this.treeAdapter.getNamespaceURI(this.items[t])===z.HTML){if(n===h.TBODY||n===h.THEAD||n===h.TFOOT)return!0;if(n===h.TABLE||n===h.HTML)return!1}}return!0}hasInSelectScope(t){for(let n=this.stackTop;n>=0;n--){const a=this.tagIDs[n];if(this.treeAdapter.getNamespaceURI(this.items[n])===z.HTML){if(a===t)return!0;if(a!==h.OPTION&&a!==h.OPTGROUP)return!1}}return!0}generateImpliedEndTags(){for(;Tw.has(this.currentTagId);)this.pop()}generateImpliedEndTagsThoroughly(){for(;e1.has(this.currentTagId);)this.pop()}generateImpliedEndTagsWithExclusion(t){for(;this.currentTagId!==t&&e1.has(this.currentTagId);)this.pop()}}const Md=3;var Zn;(function(e){e[e.Marker=0]="Marker",e[e.Element=1]="Element"})(Zn=Zn||(Zn={}));const t1={type:Zn.Marker};class dO{constructor(t){this.treeAdapter=t,this.entries=[],this.bookmark=null}_getNoahArkConditionCandidates(t,n){const a=[],r=n.length,i=this.treeAdapter.getTagName(t),o=this.treeAdapter.getNamespaceURI(t);for(let s=0;s<this.entries.length;s++){const l=this.entries[s];if(l.type===Zn.Marker)break;const{element:u}=l;if(this.treeAdapter.getTagName(u)===i&&this.treeAdapter.getNamespaceURI(u)===o){const d=this.treeAdapter.getAttrList(u);d.length===r&&a.push({idx:s,attrs:d})}}return a}_ensureNoahArkCondition(t){if(this.entries.length<Md)return;const n=this.treeAdapter.getAttrList(t),a=this._getNoahArkConditionCandidates(t,n);if(a.length<Md)return;const r=new Map(n.map(o=>[o.name,o.value]));let i=0;for(let o=0;o<a.length;o++){const s=a[o];s.attrs.every(l=>r.get(l.name)===l.value)&&(i+=1,i>=Md&&this.entries.splice(s.idx,1))}}insertMarker(){this.entries.unshift(t1)}pushElement(t,n){this._ensureNoahArkCondition(t),this.entries.unshift({type:Zn.Element,element:t,token:n})}insertElementAfterBookmark(t,n){const a=this.entries.indexOf(this.bookmark);this.entries.splice(a,0,{type:Zn.Element,element:t,token:n})}removeEntry(t){const n=this.entries.indexOf(t);n>=0&&this.entries.splice(n,1)}clearToLastMarker(){const t=this.entries.indexOf(t1);t>=0?this.entries.splice(0,t+1):this.entries.length=0}getElementEntryInScopeWithTagName(t){const n=this.entries.find(a=>a.type===Zn.Marker||this.treeAdapter.getTagName(a.element)===t);return n&&n.type===Zn.Element?n:null}getElementEntry(t){return this.entries.find(n=>n.type===Zn.Element&&n.element===t)}}function n1(e){return{nodeName:"#text",value:e,parentNode:null}}const xi={createDocument(){return{nodeName:"#document",mode:wn.NO_QUIRKS,childNodes:[]}},createDocumentFragment(){return{nodeName:"#document-fragment",childNodes:[]}},createElement(e,t,n){return{nodeName:e,tagName:e,attrs:n,namespaceURI:t,childNodes:[],parentNode:null}},createCommentNode(e){return{nodeName:"#comment",data:e,parentNode:null}},appendChild(e,t){e.childNodes.push(t),t.parentNode=e},insertBefore(e,t,n){const a=e.childNodes.indexOf(n);e.childNodes.splice(a,0,t),t.parentNode=e},setTemplateContent(e,t){e.content=t},getTemplateContent(e){return e.content},setDocumentType(e,t,n,a){const r=e.childNodes.find(i=>i.nodeName==="#documentType");if(r)r.name=t,r.publicId=n,r.systemId=a;else{const i={nodeName:"#documentType",name:t,publicId:n,systemId:a,parentNode:null};xi.appendChild(e,i)}},setDocumentMode(e,t){e.mode=t},getDocumentMode(e){return e.mode},detachNode(e){if(e.parentNode){const t=e.parentNode.childNodes.indexOf(e);e.parentNode.childNodes.splice(t,1),e.parentNode=null}},insertText(e,t){if(e.childNodes.length>0){const n=e.childNodes[e.childNodes.length-1];if(xi.isTextNode(n)){n.value+=t;return}}xi.appendChild(e,n1(t))},insertTextBefore(e,t,n){const a=e.childNodes[e.childNodes.indexOf(n)-1];a&&xi.isTextNode(a)?a.value+=t:xi.insertBefore(e,n1(t),n)},adoptAttributes(e,t){const n=new Set(e.attrs.map(a=>a.name));for(let a=0;a<t.length;a++)n.has(t[a].name)||e.attrs.push(t[a])},getFirstChild(e){return e.childNodes[0]},getChildNodes(e){return e.childNodes},getParentNode(e){return e.parentNode},getAttrList(e){return e.attrs},getTagName(e){return e.tagName},getNamespaceURI(e){return e.namespaceURI},getTextNodeContent(e){return e.value},getCommentNodeContent(e){return e.data},getDocumentTypeNodeName(e){return e.name},getDocumentTypeNodePublicId(e){return e.publicId},getDocumentTypeNodeSystemId(e){return e.systemId},isTextNode(e){return e.nodeName==="#text"},isCommentNode(e){return e.nodeName==="#comment"},isDocumentTypeNode(e){return e.nodeName==="#documentType"},isElementNode(e){return Object.prototype.hasOwnProperty.call(e,"tagName")},setNodeSourceCodeLocation(e,t){e.sourceCodeLocation=t},getNodeSourceCodeLocation(e){return e.sourceCodeLocation},updateNodeSourceCodeLocation(e,t){e.sourceCodeLocation={...e.sourceCodeLocation,...t}}},xw="html",hO="about:legacy-compat",fO="http://www.ibm.com/data/dtd/v11/ibmxhtml1-transitional.dtd",Ew=["+//silmaril//dtd html pro v0r11 19970101//","-//as//dtd html 3.0 aswedit + extensions//","-//advasoft ltd//dtd html 3.0 aswedit + extensions//","-//ietf//dtd html 2.0 level 1//","-//ietf//dtd html 2.0 level 2//","-//ietf//dtd html 2.0 strict level 1//","-//ietf//dtd html 2.0 strict level 2//","-//ietf//dtd html 2.0 strict//","-//ietf//dtd html 2.0//","-//ietf//dtd html 2.1e//","-//ietf//dtd html 3.0//","-//ietf//dtd html 3.2 final//","-//ietf//dtd html 3.2//","-//ietf//dtd html 3//","-//ietf//dtd html level 0//","-//ietf//dtd html level 1//","-//ietf//dtd html level 2//","-//ietf//dtd html level 3//","-//ietf//dtd html strict level 0//","-//ietf//dtd html strict level 1//","-//ietf//dtd html strict level 2//","-//ietf//dtd html strict level 3//","-//ietf//dtd html strict//","-//ietf//dtd html//","-//metrius//dtd metrius presentational//","-//microsoft//dtd internet explorer 2.0 html strict//","-//microsoft//dtd internet explorer 2.0 html//","-//microsoft//dtd internet explorer 2.0 tables//","-//microsoft//dtd internet explorer 3.0 html strict//","-//microsoft//dtd internet explorer 3.0 html//","-//microsoft//dtd internet explorer 3.0 tables//","-//netscape comm. corp.//dtd html//","-//netscape comm. corp.//dtd strict html//","-//o'reilly and associates//dtd html 2.0//","-//o'reilly and associates//dtd html extended 1.0//","-//o'reilly and associates//dtd html extended relaxed 1.0//","-//sq//dtd html 2.0 hotmetal + extensions//","-//softquad software//dtd hotmetal pro 6.0::19990601::extensions to html 4.0//","-//softquad//dtd hotmetal pro 4.0::19971010::extensions to html 4.0//","-//spyglass//dtd html 2.0 extended//","-//sun microsystems corp.//dtd hotjava html//","-//sun microsystems corp.//dtd hotjava strict html//","-//w3c//dtd html 3 1995-03-24//","-//w3c//dtd html 3.2 draft//","-//w3c//dtd html 3.2 final//","-//w3c//dtd html 3.2//","-//w3c//dtd html 3.2s draft//","-//w3c//dtd html 4.0 frameset//","-//w3c//dtd html 4.0 transitional//","-//w3c//dtd html experimental 19960712//","-//w3c//dtd html experimental 970421//","-//w3c//dtd w3 html//","-//w3o//dtd w3 html 3.0//","-//webtechs//dtd mozilla html 2.0//","-//webtechs//dtd mozilla html//"],mO=[...Ew,"-//w3c//dtd html 4.01 frameset//","-//w3c//dtd html 4.01 transitional//"],pO=new Set(["-//w3o//dtd w3 html strict 3.0//en//","-/w3c/dtd html 4.0 transitional/en","html"]),Sw=["-//w3c//dtd xhtml 1.0 frameset//","-//w3c//dtd xhtml 1.0 transitional//"],gO=[...Sw,"-//w3c//dtd html 4.01 frameset//","-//w3c//dtd html 4.01 transitional//"];function a1(e,t){return t.some(n=>e.startsWith(n))}function yO(e){return e.name===xw&&e.publicId===null&&(e.systemId===null||e.systemId===hO)}function bO(e){if(e.name!==xw)return wn.QUIRKS;const{systemId:t}=e;if(t&&t.toLowerCase()===fO)return wn.QUIRKS;let{publicId:n}=e;if(n!==null){if(n=n.toLowerCase(),pO.has(n))return wn.QUIRKS;let a=t===null?mO:Ew;if(a1(n,a))return wn.QUIRKS;if(a=t===null?Sw:gO,a1(n,a))return wn.LIMITED_QUIRKS}return wn.NO_QUIRKS}const r1={TEXT_HTML:"text/html",APPLICATION_XML:"application/xhtml+xml"},vO="definitionurl",wO="definitionURL",kO=new Map(["attributeName","attributeType","baseFrequency","baseProfile","calcMode","clipPathUnits","diffuseConstant","edgeMode","filterUnits","glyphRef","gradientTransform","gradientUnits","kernelMatrix","kernelUnitLength","keyPoints","keySplines","keyTimes","lengthAdjust","limitingConeAngle","markerHeight","markerUnits","markerWidth","maskContentUnits","maskUnits","numOctaves","pathLength","patternContentUnits","patternTransform","patternUnits","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","refX","refY","repeatCount","repeatDur","requiredExtensions","requiredFeatures","specularConstant","specularExponent","spreadMethod","startOffset","stdDeviation","stitchTiles","surfaceScale","systemLanguage","tableValues","targetX","targetY","textLength","viewBox","viewTarget","xChannelSelector","yChannelSelector","zoomAndPan"].map(e=>[e.toLowerCase(),e])),TO=new Map([["xlink:actuate",{prefix:"xlink",name:"actuate",namespace:z.XLINK}],["xlink:arcrole",{prefix:"xlink",name:"arcrole",namespace:z.XLINK}],["xlink:href",{prefix:"xlink",name:"href",namespace:z.XLINK}],["xlink:role",{prefix:"xlink",name:"role",namespace:z.XLINK}],["xlink:show",{prefix:"xlink",name:"show",namespace:z.XLINK}],["xlink:title",{prefix:"xlink",name:"title",namespace:z.XLINK}],["xlink:type",{prefix:"xlink",name:"type",namespace:z.XLINK}],["xml:base",{prefix:"xml",name:"base",namespace:z.XML}],["xml:lang",{prefix:"xml",name:"lang",namespace:z.XML}],["xml:space",{prefix:"xml",name:"space",namespace:z.XML}],["xmlns",{prefix:"",name:"xmlns",namespace:z.XMLNS}],["xmlns:xlink",{prefix:"xmlns",name:"xlink",namespace:z.XMLNS}]]),xO=new Map(["altGlyph","altGlyphDef","altGlyphItem","animateColor","animateMotion","animateTransform","clipPath","feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","foreignObject","glyphRef","linearGradient","radialGradient","textPath"].map(e=>[e.toLowerCase(),e])),EO=new Set([h.B,h.BIG,h.BLOCKQUOTE,h.BODY,h.BR,h.CENTER,h.CODE,h.DD,h.DIV,h.DL,h.DT,h.EM,h.EMBED,h.H1,h.H2,h.H3,h.H4,h.H5,h.H6,h.HEAD,h.HR,h.I,h.IMG,h.LI,h.LISTING,h.MENU,h.META,h.NOBR,h.OL,h.P,h.PRE,h.RUBY,h.S,h.SMALL,h.SPAN,h.STRONG,h.STRIKE,h.SUB,h.SUP,h.TABLE,h.TT,h.U,h.UL,h.VAR]);function SO(e){const t=e.tagID;return t===h.FONT&&e.attrs.some(({name:a})=>a===Sr.COLOR||a===Sr.SIZE||a===Sr.FACE)||EO.has(t)}function Aw(e){for(let t=0;t<e.attrs.length;t++)if(e.attrs[t].name===vO){e.attrs[t].name=wO;break}}function Cw(e){for(let t=0;t<e.attrs.length;t++){const n=kO.get(e.attrs[t].name);n!=null&&(e.attrs[t].name=n)}}function Jm(e){for(let t=0;t<e.attrs.length;t++){const n=TO.get(e.attrs[t].name);n&&(e.attrs[t].prefix=n.prefix,e.attrs[t].name=n.name,e.attrs[t].namespace=n.namespace)}}function AO(e){const t=xO.get(e.tagName);t!=null&&(e.tagName=t,e.tagID=vo(e.tagName))}function CO(e,t){return t===z.MATHML&&(e===h.MI||e===h.MO||e===h.MN||e===h.MS||e===h.MTEXT)}function NO(e,t,n){if(t===z.MATHML&&e===h.ANNOTATION_XML){for(let a=0;a<n.length;a++)if(n[a].name===Sr.ENCODING){const r=n[a].value.toLowerCase();return r===r1.TEXT_HTML||r===r1.APPLICATION_XML}}return t===z.SVG&&(e===h.FOREIGN_OBJECT||e===h.DESC||e===h.TITLE)}function IO(e,t,n,a){return(!a||a===z.HTML)&&NO(e,t,n)||(!a||a===z.MATHML)&&CO(e,t)}const _O="hidden",RO=8,LO=3;var L;(function(e){e[e.INITIAL=0]="INITIAL",e[e.BEFORE_HTML=1]="BEFORE_HTML",e[e.BEFORE_HEAD=2]="BEFORE_HEAD",e[e.IN_HEAD=3]="IN_HEAD",e[e.IN_HEAD_NO_SCRIPT=4]="IN_HEAD_NO_SCRIPT",e[e.AFTER_HEAD=5]="AFTER_HEAD",e[e.IN_BODY=6]="IN_BODY",e[e.TEXT=7]="TEXT",e[e.IN_TABLE=8]="IN_TABLE",e[e.IN_TABLE_TEXT=9]="IN_TABLE_TEXT",e[e.IN_CAPTION=10]="IN_CAPTION",e[e.IN_COLUMN_GROUP=11]="IN_COLUMN_GROUP",e[e.IN_TABLE_BODY=12]="IN_TABLE_BODY",e[e.IN_ROW=13]="IN_ROW",e[e.IN_CELL=14]="IN_CELL",e[e.IN_SELECT=15]="IN_SELECT",e[e.IN_SELECT_IN_TABLE=16]="IN_SELECT_IN_TABLE",e[e.IN_TEMPLATE=17]="IN_TEMPLATE",e[e.AFTER_BODY=18]="AFTER_BODY",e[e.IN_FRAMESET=19]="IN_FRAMESET",e[e.AFTER_FRAMESET=20]="AFTER_FRAMESET",e[e.AFTER_AFTER_BODY=21]="AFTER_AFTER_BODY",e[e.AFTER_AFTER_FRAMESET=22]="AFTER_AFTER_FRAMESET"})(L||(L={}));const OO={startLine:-1,startCol:-1,startOffset:-1,endLine:-1,endCol:-1,endOffset:-1},Nw=new Set([h.TABLE,h.TBODY,h.TFOOT,h.THEAD,h.TR]),i1={scriptingEnabled:!0,sourceCodeLocationInfo:!1,treeAdapter:xi,onParseError:null};class o1{constructor(t,n,a=null,r=null){this.fragmentContext=a,this.scriptHandler=r,this.currentToken=null,this.stopped=!1,this.insertionMode=L.INITIAL,this.originalInsertionMode=L.INITIAL,this.headElement=null,this.formElement=null,this.currentNotInHTML=!1,this.tmplInsertionModeStack=[],this.pendingCharacterTokens=[],this.hasNonWhitespacePendingCharacterToken=!1,this.framesetOk=!0,this.skipNextNewLine=!1,this.fosterParentingEnabled=!1,this.options={...i1,...t},this.treeAdapter=this.options.treeAdapter,this.onParseError=this.options.onParseError,this.onParseError&&(this.options.sourceCodeLocationInfo=!0),this.document=n??this.treeAdapter.createDocument(),this.tokenizer=new rO(this.options,this),this.activeFormattingElements=new dO(this.treeAdapter),this.fragmentContextID=a?vo(this.treeAdapter.getTagName(a)):h.UNKNOWN,this._setContextModes(a??this.document,this.fragmentContextID),this.openElements=new cO(this.document,this.treeAdapter,this)}static parse(t,n){const a=new this(n);return a.tokenizer.write(t,!0),a.document}static getFragmentParser(t,n){const a={...i1,...n};t??(t=a.treeAdapter.createElement(j.TEMPLATE,z.HTML,[]));const r=a.treeAdapter.createElement("documentmock",z.HTML,[]),i=new this(a,r,t);return i.fragmentContextID===h.TEMPLATE&&i.tmplInsertionModeStack.unshift(L.IN_TEMPLATE),i._initTokenizerForFragmentParsing(),i._insertFakeRootElement(),i._resetInsertionMode(),i._findFormInFragmentContext(),i}getFragment(){const t=this.treeAdapter.getFirstChild(this.document),n=this.treeAdapter.createDocumentFragment();return this._adoptNodes(t,n),n}_err(t,n,a){var r;if(!this.onParseError)return;const i=(r=t.location)!==null&&r!==void 0?r:OO,o={code:n,startLine:i.startLine,startCol:i.startCol,startOffset:i.startOffset,endLine:a?i.startLine:i.endLine,endCol:a?i.startCol:i.endCol,endOffset:a?i.startOffset:i.endOffset};this.onParseError(o)}onItemPush(t,n,a){var r,i;(i=(r=this.treeAdapter).onItemPush)===null||i===void 0||i.call(r,t),a&&this.openElements.stackTop>0&&this._setContextModes(t,n)}onItemPop(t,n){var a,r;if(this.options.sourceCodeLocationInfo&&this._setEndLocation(t,this.currentToken),(r=(a=this.treeAdapter).onItemPop)===null||r===void 0||r.call(a,t,this.openElements.current),n){let i,o;this.openElements.stackTop===0&&this.fragmentContext?(i=this.fragmentContext,o=this.fragmentContextID):{current:i,currentTagId:o}=this.openElements,this._setContextModes(i,o)}}_setContextModes(t,n){const a=t===this.document||this.treeAdapter.getNamespaceURI(t)===z.HTML;this.currentNotInHTML=!a,this.tokenizer.inForeignNode=!a&&!this._isIntegrationPoint(n,t)}_switchToTextParsing(t,n){this._insertElement(t,z.HTML),this.tokenizer.state=n,this.originalInsertionMode=this.insertionMode,this.insertionMode=L.TEXT}switchToPlaintextParsing(){this.insertionMode=L.TEXT,this.originalInsertionMode=L.IN_BODY,this.tokenizer.state=St.PLAINTEXT}_getAdjustedCurrentElement(){return this.openElements.stackTop===0&&this.fragmentContext?this.fragmentContext:this.openElements.current}_findFormInFragmentContext(){let t=this.fragmentContext;for(;t;){if(this.treeAdapter.getTagName(t)===j.FORM){this.formElement=t;break}t=this.treeAdapter.getParentNode(t)}}_initTokenizerForFragmentParsing(){if(!(!this.fragmentContext||this.treeAdapter.getNamespaceURI(this.fragmentContext)!==z.HTML))switch(this.fragmentContextID){case h.TITLE:case h.TEXTAREA:{this.tokenizer.state=St.RCDATA;break}case h.STYLE:case h.XMP:case h.IFRAME:case h.NOEMBED:case h.NOFRAMES:case h.NOSCRIPT:{this.tokenizer.state=St.RAWTEXT;break}case h.SCRIPT:{this.tokenizer.state=St.SCRIPT_DATA;break}case h.PLAINTEXT:{this.tokenizer.state=St.PLAINTEXT;break}}}_setDocumentType(t){const n=t.name||"",a=t.publicId||"",r=t.systemId||"";if(this.treeAdapter.setDocumentType(this.document,n,a,r),t.location){const o=this.treeAdapter.getChildNodes(this.document).find(s=>this.treeAdapter.isDocumentTypeNode(s));o&&this.treeAdapter.setNodeSourceCodeLocation(o,t.location)}}_attachElementToTree(t,n){if(this.options.sourceCodeLocationInfo){const a=n&&{...n,startTag:n};this.treeAdapter.setNodeSourceCodeLocation(t,a)}if(this._shouldFosterParentOnInsertion())this._fosterParentElement(t);else{const a=this.openElements.currentTmplContentOrNode;this.treeAdapter.appendChild(a,t)}}_appendElement(t,n){const a=this.treeAdapter.createElement(t.tagName,n,t.attrs);this._attachElementToTree(a,t.location)}_insertElement(t,n){const a=this.treeAdapter.createElement(t.tagName,n,t.attrs);this._attachElementToTree(a,t.location),this.openElements.push(a,t.tagID)}_insertFakeElement(t,n){const a=this.treeAdapter.createElement(t,z.HTML,[]);this._attachElementToTree(a,null),this.openElements.push(a,n)}_insertTemplate(t){const n=this.treeAdapter.createElement(t.tagName,z.HTML,t.attrs),a=this.treeAdapter.createDocumentFragment();this.treeAdapter.setTemplateContent(n,a),this._attachElementToTree(n,t.location),this.openElements.push(n,t.tagID),this.options.sourceCodeLocationInfo&&this.treeAdapter.setNodeSourceCodeLocation(a,null)}_insertFakeRootElement(){const t=this.treeAdapter.createElement(j.HTML,z.HTML,[]);this.options.sourceCodeLocationInfo&&this.treeAdapter.setNodeSourceCodeLocation(t,null),this.treeAdapter.appendChild(this.openElements.current,t),this.openElements.push(t,h.HTML)}_appendCommentNode(t,n){const a=this.treeAdapter.createCommentNode(t.data);this.treeAdapter.appendChild(n,a),this.options.sourceCodeLocationInfo&&this.treeAdapter.setNodeSourceCodeLocation(a,t.location)}_insertCharacters(t){let n,a;if(this._shouldFosterParentOnInsertion()?({parent:n,beforeElement:a}=this._findFosterParentingLocation(),a?this.treeAdapter.insertTextBefore(n,t.chars,a):this.treeAdapter.insertText(n,t.chars)):(n=this.openElements.currentTmplContentOrNode,this.treeAdapter.insertText(n,t.chars)),!t.location)return;const r=this.treeAdapter.getChildNodes(n),i=a?r.lastIndexOf(a):r.length,o=r[i-1];if(this.treeAdapter.getNodeSourceCodeLocation(o)){const{endLine:l,endCol:u,endOffset:d}=t.location;this.treeAdapter.updateNodeSourceCodeLocation(o,{endLine:l,endCol:u,endOffset:d})}else this.options.sourceCodeLocationInfo&&this.treeAdapter.setNodeSourceCodeLocation(o,t.location)}_adoptNodes(t,n){for(let a=this.treeAdapter.getFirstChild(t);a;a=this.treeAdapter.getFirstChild(t))this.treeAdapter.detachNode(a),this.treeAdapter.appendChild(n,a)}_setEndLocation(t,n){if(this.treeAdapter.getNodeSourceCodeLocation(t)&&n.location){const a=n.location,r=this.treeAdapter.getTagName(t),i=n.type===Ce.END_TAG&&r===n.tagName?{endTag:{...a},endLine:a.endLine,endCol:a.endCol,endOffset:a.endOffset}:{endLine:a.startLine,endCol:a.startCol,endOffset:a.startOffset};this.treeAdapter.updateNodeSourceCodeLocation(t,i)}}shouldProcessStartTagTokenInForeignContent(t){if(!this.currentNotInHTML)return!1;let n,a;return this.openElements.stackTop===0&&this.fragmentContext?(n=this.fragmentContext,a=this.fragmentContextID):{current:n,currentTagId:a}=this.openElements,t.tagID===h.SVG&&this.treeAdapter.getTagName(n)===j.ANNOTATION_XML&&this.treeAdapter.getNamespaceURI(n)===z.MATHML?!1:this.tokenizer.inForeignNode||(t.tagID===h.MGLYPH||t.tagID===h.MALIGNMARK)&&!this._isIntegrationPoint(a,n,z.HTML)}_processToken(t){switch(t.type){case Ce.CHARACTER:{this.onCharacter(t);break}case Ce.NULL_CHARACTER:{this.onNullCharacter(t);break}case Ce.COMMENT:{this.onComment(t);break}case Ce.DOCTYPE:{this.onDoctype(t);break}case Ce.START_TAG:{this._processStartTag(t);break}case Ce.END_TAG:{this.onEndTag(t);break}case Ce.EOF:{this.onEof(t);break}case Ce.WHITESPACE_CHARACTER:{this.onWhitespaceCharacter(t);break}}}_isIntegrationPoint(t,n,a){const r=this.treeAdapter.getNamespaceURI(n),i=this.treeAdapter.getAttrList(n);return IO(t,r,i,a)}_reconstructActiveFormattingElements(){const t=this.activeFormattingElements.entries.length;if(t){const n=this.activeFormattingElements.entries.findIndex(r=>r.type===Zn.Marker||this.openElements.contains(r.element)),a=n<0?t-1:n-1;for(let r=a;r>=0;r--){const i=this.activeFormattingElements.entries[r];this._insertElement(i.token,this.treeAdapter.getNamespaceURI(i.element)),i.element=this.openElements.current}}}_closeTableCell(){this.openElements.generateImpliedEndTags(),this.openElements.popUntilTableCellPopped(),this.activeFormattingElements.clearToLastMarker(),this.insertionMode=L.IN_ROW}_closePElement(){this.openElements.generateImpliedEndTagsWithExclusion(h.P),this.openElements.popUntilTagNamePopped(h.P)}_resetInsertionMode(){for(let t=this.openElements.stackTop;t>=0;t--)switch(t===0&&this.fragmentContext?this.fragmentContextID:this.openElements.tagIDs[t]){case h.TR:{this.insertionMode=L.IN_ROW;return}case h.TBODY:case h.THEAD:case h.TFOOT:{this.insertionMode=L.IN_TABLE_BODY;return}case h.CAPTION:{this.insertionMode=L.IN_CAPTION;return}case h.COLGROUP:{this.insertionMode=L.IN_COLUMN_GROUP;return}case h.TABLE:{this.insertionMode=L.IN_TABLE;return}case h.BODY:{this.insertionMode=L.IN_BODY;return}case h.FRAMESET:{this.insertionMode=L.IN_FRAMESET;return}case h.SELECT:{this._resetInsertionModeForSelect(t);return}case h.TEMPLATE:{this.insertionMode=this.tmplInsertionModeStack[0];return}case h.HTML:{this.insertionMode=this.headElement?L.AFTER_HEAD:L.BEFORE_HEAD;return}case h.TD:case h.TH:{if(t>0){this.insertionMode=L.IN_CELL;return}break}case h.HEAD:{if(t>0){this.insertionMode=L.IN_HEAD;return}break}}this.insertionMode=L.IN_BODY}_resetInsertionModeForSelect(t){if(t>0)for(let n=t-1;n>0;n--){const a=this.openElements.tagIDs[n];if(a===h.TEMPLATE)break;if(a===h.TABLE){this.insertionMode=L.IN_SELECT_IN_TABLE;return}}this.insertionMode=L.IN_SELECT}_isElementCausesFosterParenting(t){return Nw.has(t)}_shouldFosterParentOnInsertion(){return this.fosterParentingEnabled&&this._isElementCausesFosterParenting(this.openElements.currentTagId)}_findFosterParentingLocation(){for(let t=this.openElements.stackTop;t>=0;t--){const n=this.openElements.items[t];switch(this.openElements.tagIDs[t]){case h.TEMPLATE:{if(this.treeAdapter.getNamespaceURI(n)===z.HTML)return{parent:this.treeAdapter.getTemplateContent(n),beforeElement:null};break}case h.TABLE:{const a=this.treeAdapter.getParentNode(n);return a?{parent:a,beforeElement:n}:{parent:this.openElements.items[t-1],beforeElement:null}}}}return{parent:this.openElements.items[0],beforeElement:null}}_fosterParentElement(t){const n=this._findFosterParentingLocation();n.beforeElement?this.treeAdapter.insertBefore(n.parent,t,n.beforeElement):this.treeAdapter.appendChild(n.parent,t)}_isSpecialElement(t,n){const a=this.treeAdapter.getNamespaceURI(t);return ZL[a].has(n)}onCharacter(t){if(this.skipNextNewLine=!1,this.tokenizer.inForeignNode){uP(this,t);return}switch(this.insertionMode){case L.INITIAL:{Uo(this,t);break}case L.BEFORE_HTML:{ds(this,t);break}case L.BEFORE_HEAD:{hs(this,t);break}case L.IN_HEAD:{fs(this,t);break}case L.IN_HEAD_NO_SCRIPT:{ms(this,t);break}case L.AFTER_HEAD:{ps(this,t);break}case L.IN_BODY:case L.IN_CAPTION:case L.IN_CELL:case L.IN_TEMPLATE:{_w(this,t);break}case L.TEXT:case L.IN_SELECT:case L.IN_SELECT_IN_TABLE:{this._insertCharacters(t);break}case L.IN_TABLE:case L.IN_TABLE_BODY:case L.IN_ROW:{Fd(this,t);break}case L.IN_TABLE_TEXT:{Mw(this,t);break}case L.IN_COLUMN_GROUP:{ju(this,t);break}case L.AFTER_BODY:{Bu(this,t);break}case L.AFTER_AFTER_BODY:{au(this,t);break}}}onNullCharacter(t){if(this.skipNextNewLine=!1,this.tokenizer.inForeignNode){lP(this,t);return}switch(this.insertionMode){case L.INITIAL:{Uo(this,t);break}case L.BEFORE_HTML:{ds(this,t);break}case L.BEFORE_HEAD:{hs(this,t);break}case L.IN_HEAD:{fs(this,t);break}case L.IN_HEAD_NO_SCRIPT:{ms(this,t);break}case L.AFTER_HEAD:{ps(this,t);break}case L.TEXT:{this._insertCharacters(t);break}case L.IN_TABLE:case L.IN_TABLE_BODY:case L.IN_ROW:{Fd(this,t);break}case L.IN_COLUMN_GROUP:{ju(this,t);break}case L.AFTER_BODY:{Bu(this,t);break}case L.AFTER_AFTER_BODY:{au(this,t);break}}}onComment(t){if(this.skipNextNewLine=!1,this.currentNotInHTML){of(this,t);return}switch(this.insertionMode){case L.INITIAL:case L.BEFORE_HTML:case L.BEFORE_HEAD:case L.IN_HEAD:case L.IN_HEAD_NO_SCRIPT:case L.AFTER_HEAD:case L.IN_BODY:case L.IN_TABLE:case L.IN_CAPTION:case L.IN_COLUMN_GROUP:case L.IN_TABLE_BODY:case L.IN_ROW:case L.IN_CELL:case L.IN_SELECT:case L.IN_SELECT_IN_TABLE:case L.IN_TEMPLATE:case L.IN_FRAMESET:case L.AFTER_FRAMESET:{of(this,t);break}case L.IN_TABLE_TEXT:{Wo(this,t);break}case L.AFTER_BODY:{HO(this,t);break}case L.AFTER_AFTER_BODY:case L.AFTER_AFTER_FRAMESET:{qO(this,t);break}}}onDoctype(t){switch(this.skipNextNewLine=!1,this.insertionMode){case L.INITIAL:{UO(this,t);break}case L.BEFORE_HEAD:case L.IN_HEAD:case L.IN_HEAD_NO_SCRIPT:case L.AFTER_HEAD:{this._err(t,q.misplacedDoctype);break}case L.IN_TABLE_TEXT:{Wo(this,t);break}}}onStartTag(t){this.skipNextNewLine=!1,this.currentToken=t,this._processStartTag(t),t.selfClosing&&!t.ackSelfClosing&&this._err(t,q.nonVoidHtmlElementStartTagWithTrailingSolidus)}_processStartTag(t){this.shouldProcessStartTagTokenInForeignContent(t)?cP(this,t):this._startTagOutsideForeignContent(t)}_startTagOutsideForeignContent(t){switch(this.insertionMode){case L.INITIAL:{Uo(this,t);break}case L.BEFORE_HTML:{WO(this,t);break}case L.BEFORE_HEAD:{zO(this,t);break}case L.IN_HEAD:{la(this,t);break}case L.IN_HEAD_NO_SCRIPT:{VO(this,t);break}case L.AFTER_HEAD:{QO(this,t);break}case L.IN_BODY:{Zt(this,t);break}case L.IN_TABLE:{ao(this,t);break}case L.IN_TABLE_TEXT:{Wo(this,t);break}case L.IN_CAPTION:{$D(this,t);break}case L.IN_COLUMN_GROUP:{t0(this,t);break}case L.IN_TABLE_BODY:{Ac(this,t);break}case L.IN_ROW:{Cc(this,t);break}case L.IN_CELL:{KD(this,t);break}case L.IN_SELECT:{Bw(this,t);break}case L.IN_SELECT_IN_TABLE:{XD(this,t);break}case L.IN_TEMPLATE:{ZD(this,t);break}case L.AFTER_BODY:{tP(this,t);break}case L.IN_FRAMESET:{nP(this,t);break}case L.AFTER_FRAMESET:{rP(this,t);break}case L.AFTER_AFTER_BODY:{oP(this,t);break}case L.AFTER_AFTER_FRAMESET:{sP(this,t);break}}}onEndTag(t){this.skipNextNewLine=!1,this.currentToken=t,this.currentNotInHTML?dP(this,t):this._endTagOutsideForeignContent(t)}_endTagOutsideForeignContent(t){switch(this.insertionMode){case L.INITIAL:{Uo(this,t);break}case L.BEFORE_HTML:{YO(this,t);break}case L.BEFORE_HEAD:{$O(this,t);break}case L.IN_HEAD:{GO(this,t);break}case L.IN_HEAD_NO_SCRIPT:{KO(this,t);break}case L.AFTER_HEAD:{XO(this,t);break}case L.IN_BODY:{Sc(this,t);break}case L.TEXT:{MD(this,t);break}case L.IN_TABLE:{js(this,t);break}case L.IN_TABLE_TEXT:{Wo(this,t);break}case L.IN_CAPTION:{GD(this,t);break}case L.IN_COLUMN_GROUP:{VD(this,t);break}case L.IN_TABLE_BODY:{sf(this,t);break}case L.IN_ROW:{jw(this,t);break}case L.IN_CELL:{QD(this,t);break}case L.IN_SELECT:{Hw(this,t);break}case L.IN_SELECT_IN_TABLE:{JD(this,t);break}case L.IN_TEMPLATE:{eP(this,t);break}case L.AFTER_BODY:{Uw(this,t);break}case L.IN_FRAMESET:{aP(this,t);break}case L.AFTER_FRAMESET:{iP(this,t);break}case L.AFTER_AFTER_BODY:{au(this,t);break}}}onEof(t){switch(this.insertionMode){case L.INITIAL:{Uo(this,t);break}case L.BEFORE_HTML:{ds(this,t);break}case L.BEFORE_HEAD:{hs(this,t);break}case L.IN_HEAD:{fs(this,t);break}case L.IN_HEAD_NO_SCRIPT:{ms(this,t);break}case L.AFTER_HEAD:{ps(this,t);break}case L.IN_BODY:case L.IN_TABLE:case L.IN_CAPTION:case L.IN_COLUMN_GROUP:case L.IN_TABLE_BODY:case L.IN_ROW:case L.IN_CELL:case L.IN_SELECT:case L.IN_SELECT_IN_TABLE:{Dw(this,t);break}case L.TEXT:{FD(this,t);break}case L.IN_TABLE_TEXT:{Wo(this,t);break}case L.IN_TEMPLATE:{qw(this,t);break}case L.AFTER_BODY:case L.IN_FRAMESET:case L.AFTER_FRAMESET:case L.AFTER_AFTER_BODY:case L.AFTER_AFTER_FRAMESET:{e0(this,t);break}}}onWhitespaceCharacter(t){if(this.skipNextNewLine&&(this.skipNextNewLine=!1,t.chars.charCodeAt(0)===E.LINE_FEED)){if(t.chars.length===1)return;t.chars=t.chars.substr(1)}if(this.tokenizer.inForeignNode){this._insertCharacters(t);return}switch(this.insertionMode){case L.IN_HEAD:case L.IN_HEAD_NO_SCRIPT:case L.AFTER_HEAD:case L.TEXT:case L.IN_COLUMN_GROUP:case L.IN_SELECT:case L.IN_SELECT_IN_TABLE:case L.IN_FRAMESET:case L.AFTER_FRAMESET:{this._insertCharacters(t);break}case L.IN_BODY:case L.IN_CAPTION:case L.IN_CELL:case L.IN_TEMPLATE:case L.AFTER_BODY:case L.AFTER_AFTER_BODY:case L.AFTER_AFTER_FRAMESET:{Iw(this,t);break}case L.IN_TABLE:case L.IN_TABLE_BODY:case L.IN_ROW:{Fd(this,t);break}case L.IN_TABLE_TEXT:{Pw(this,t);break}}}}function DO(e,t){let n=e.activeFormattingElements.getElementEntryInScopeWithTagName(t.tagName);return n?e.openElements.contains(n.element)?e.openElements.hasInScope(t.tagID)||(n=null):(e.activeFormattingElements.removeEntry(n),n=null):Ow(e,t),n}function PO(e,t){let n=null,a=e.openElements.stackTop;for(;a>=0;a--){const r=e.openElements.items[a];if(r===t.element)break;e._isSpecialElement(r,e.openElements.tagIDs[a])&&(n=r)}return n||(e.openElements.shortenToLength(a<0?0:a),e.activeFormattingElements.removeEntry(t)),n}function MO(e,t,n){let a=t,r=e.openElements.getCommonAncestor(t);for(let i=0,o=r;o!==n;i++,o=r){r=e.openElements.getCommonAncestor(o);const s=e.activeFormattingElements.getElementEntry(o),l=s&&i>=LO;!s||l?(l&&e.activeFormattingElements.removeEntry(s),e.openElements.remove(o)):(o=FO(e,s),a===t&&(e.activeFormattingElements.bookmark=s),e.treeAdapter.detachNode(a),e.treeAdapter.appendChild(o,a),a=o)}return a}function FO(e,t){const n=e.treeAdapter.getNamespaceURI(t.element),a=e.treeAdapter.createElement(t.token.tagName,n,t.token.attrs);return e.openElements.replace(t.element,a),t.element=a,a}function jO(e,t,n){const a=e.treeAdapter.getTagName(t),r=vo(a);if(e._isElementCausesFosterParenting(r))e._fosterParentElement(n);else{const i=e.treeAdapter.getNamespaceURI(t);r===h.TEMPLATE&&i===z.HTML&&(t=e.treeAdapter.getTemplateContent(t)),e.treeAdapter.appendChild(t,n)}}function BO(e,t,n){const a=e.treeAdapter.getNamespaceURI(n.element),{token:r}=n,i=e.treeAdapter.createElement(r.tagName,a,r.attrs);e._adoptNodes(t,i),e.treeAdapter.appendChild(t,i),e.activeFormattingElements.insertElementAfterBookmark(i,r),e.activeFormattingElements.removeEntry(n),e.openElements.remove(n.element),e.openElements.insertAfter(t,i,r.tagID)}function Zm(e,t){for(let n=0;n<RO;n++){const a=DO(e,t);if(!a)break;const r=PO(e,a);if(!r)break;e.activeFormattingElements.bookmark=a;const i=MO(e,r,a.element),o=e.openElements.getCommonAncestor(a.element);e.treeAdapter.detachNode(i),o&&jO(e,o,i),BO(e,r,a)}}function of(e,t){e._appendCommentNode(t,e.openElements.currentTmplContentOrNode)}function HO(e,t){e._appendCommentNode(t,e.openElements.items[0])}function qO(e,t){e._appendCommentNode(t,e.document)}function e0(e,t){if(e.stopped=!0,t.location){const n=e.fragmentContext?0:2;for(let a=e.openElements.stackTop;a>=n;a--)e._setEndLocation(e.openElements.items[a],t);if(!e.fragmentContext&&e.openElements.stackTop>=0){const a=e.openElements.items[0],r=e.treeAdapter.getNodeSourceCodeLocation(a);if(r&&!r.endTag&&(e._setEndLocation(a,t),e.openElements.stackTop>=1)){const i=e.openElements.items[1],o=e.treeAdapter.getNodeSourceCodeLocation(i);o&&!o.endTag&&e._setEndLocation(i,t)}}}}function UO(e,t){e._setDocumentType(t);const n=t.forceQuirks?wn.QUIRKS:bO(t);yO(t)||e._err(t,q.nonConformingDoctype),e.treeAdapter.setDocumentMode(e.document,n),e.insertionMode=L.BEFORE_HTML}function Uo(e,t){e._err(t,q.missingDoctype,!0),e.treeAdapter.setDocumentMode(e.document,wn.QUIRKS),e.insertionMode=L.BEFORE_HTML,e._processToken(t)}function WO(e,t){t.tagID===h.HTML?(e._insertElement(t,z.HTML),e.insertionMode=L.BEFORE_HEAD):ds(e,t)}function YO(e,t){const n=t.tagID;(n===h.HTML||n===h.HEAD||n===h.BODY||n===h.BR)&&ds(e,t)}function ds(e,t){e._insertFakeRootElement(),e.insertionMode=L.BEFORE_HEAD,e._processToken(t)}function zO(e,t){switch(t.tagID){case h.HTML:{Zt(e,t);break}case h.HEAD:{e._insertElement(t,z.HTML),e.headElement=e.openElements.current,e.insertionMode=L.IN_HEAD;break}default:hs(e,t)}}function $O(e,t){const n=t.tagID;n===h.HEAD||n===h.BODY||n===h.HTML||n===h.BR?hs(e,t):e._err(t,q.endTagWithoutMatchingOpenElement)}function hs(e,t){e._insertFakeElement(j.HEAD,h.HEAD),e.headElement=e.openElements.current,e.insertionMode=L.IN_HEAD,e._processToken(t)}function la(e,t){switch(t.tagID){case h.HTML:{Zt(e,t);break}case h.BASE:case h.BASEFONT:case h.BGSOUND:case h.LINK:case h.META:{e._appendElement(t,z.HTML),t.ackSelfClosing=!0;break}case h.TITLE:{e._switchToTextParsing(t,St.RCDATA);break}case h.NOSCRIPT:{e.options.scriptingEnabled?e._switchToTextParsing(t,St.RAWTEXT):(e._insertElement(t,z.HTML),e.insertionMode=L.IN_HEAD_NO_SCRIPT);break}case h.NOFRAMES:case h.STYLE:{e._switchToTextParsing(t,St.RAWTEXT);break}case h.SCRIPT:{e._switchToTextParsing(t,St.SCRIPT_DATA);break}case h.TEMPLATE:{e._insertTemplate(t),e.activeFormattingElements.insertMarker(),e.framesetOk=!1,e.insertionMode=L.IN_TEMPLATE,e.tmplInsertionModeStack.unshift(L.IN_TEMPLATE);break}case h.HEAD:{e._err(t,q.misplacedStartTagForHeadElement);break}default:fs(e,t)}}function GO(e,t){switch(t.tagID){case h.HEAD:{e.openElements.pop(),e.insertionMode=L.AFTER_HEAD;break}case h.BODY:case h.BR:case h.HTML:{fs(e,t);break}case h.TEMPLATE:{mi(e,t);break}default:e._err(t,q.endTagWithoutMatchingOpenElement)}}function mi(e,t){e.openElements.tmplCount>0?(e.openElements.generateImpliedEndTagsThoroughly(),e.openElements.currentTagId!==h.TEMPLATE&&e._err(t,q.closingOfElementWithOpenChildElements),e.openElements.popUntilTagNamePopped(h.TEMPLATE),e.activeFormattingElements.clearToLastMarker(),e.tmplInsertionModeStack.shift(),e._resetInsertionMode()):e._err(t,q.endTagWithoutMatchingOpenElement)}function fs(e,t){e.openElements.pop(),e.insertionMode=L.AFTER_HEAD,e._processToken(t)}function VO(e,t){switch(t.tagID){case h.HTML:{Zt(e,t);break}case h.BASEFONT:case h.BGSOUND:case h.HEAD:case h.LINK:case h.META:case h.NOFRAMES:case h.STYLE:{la(e,t);break}case h.NOSCRIPT:{e._err(t,q.nestedNoscriptInHead);break}default:ms(e,t)}}function KO(e,t){switch(t.tagID){case h.NOSCRIPT:{e.openElements.pop(),e.insertionMode=L.IN_HEAD;break}case h.BR:{ms(e,t);break}default:e._err(t,q.endTagWithoutMatchingOpenElement)}}function ms(e,t){const n=t.type===Ce.EOF?q.openElementsLeftAfterEof:q.disallowedContentInNoscriptInHead;e._err(t,n),e.openElements.pop(),e.insertionMode=L.IN_HEAD,e._processToken(t)}function QO(e,t){switch(t.tagID){case h.HTML:{Zt(e,t);break}case h.BODY:{e._insertElement(t,z.HTML),e.framesetOk=!1,e.insertionMode=L.IN_BODY;break}case h.FRAMESET:{e._insertElement(t,z.HTML),e.insertionMode=L.IN_FRAMESET;break}case h.BASE:case h.BASEFONT:case h.BGSOUND:case h.LINK:case h.META:case h.NOFRAMES:case h.SCRIPT:case h.STYLE:case h.TEMPLATE:case h.TITLE:{e._err(t,q.abandonedHeadElementChild),e.openElements.push(e.headElement,h.HEAD),la(e,t),e.openElements.remove(e.headElement);break}case h.HEAD:{e._err(t,q.misplacedStartTagForHeadElement);break}default:ps(e,t)}}function XO(e,t){switch(t.tagID){case h.BODY:case h.HTML:case h.BR:{ps(e,t);break}case h.TEMPLATE:{mi(e,t);break}default:e._err(t,q.endTagWithoutMatchingOpenElement)}}function ps(e,t){e._insertFakeElement(j.BODY,h.BODY),e.insertionMode=L.IN_BODY,Ec(e,t)}function Ec(e,t){switch(t.type){case Ce.CHARACTER:{_w(e,t);break}case Ce.WHITESPACE_CHARACTER:{Iw(e,t);break}case Ce.COMMENT:{of(e,t);break}case Ce.START_TAG:{Zt(e,t);break}case Ce.END_TAG:{Sc(e,t);break}case Ce.EOF:{Dw(e,t);break}}}function Iw(e,t){e._reconstructActiveFormattingElements(),e._insertCharacters(t)}function _w(e,t){e._reconstructActiveFormattingElements(),e._insertCharacters(t),e.framesetOk=!1}function JO(e,t){e.openElements.tmplCount===0&&e.treeAdapter.adoptAttributes(e.openElements.items[0],t.attrs)}function ZO(e,t){const n=e.openElements.tryPeekProperlyNestedBodyElement();n&&e.openElements.tmplCount===0&&(e.framesetOk=!1,e.treeAdapter.adoptAttributes(n,t.attrs))}function eD(e,t){const n=e.openElements.tryPeekProperlyNestedBodyElement();e.framesetOk&&n&&(e.treeAdapter.detachNode(n),e.openElements.popAllUpToHtmlElement(),e._insertElement(t,z.HTML),e.insertionMode=L.IN_FRAMESET)}function tD(e,t){e.openElements.hasInButtonScope(h.P)&&e._closePElement(),e._insertElement(t,z.HTML)}function nD(e,t){e.openElements.hasInButtonScope(h.P)&&e._closePElement(),bw(e.openElements.currentTagId)&&e.openElements.pop(),e._insertElement(t,z.HTML)}function aD(e,t){e.openElements.hasInButtonScope(h.P)&&e._closePElement(),e._insertElement(t,z.HTML),e.skipNextNewLine=!0,e.framesetOk=!1}function rD(e,t){const n=e.openElements.tmplCount>0;(!e.formElement||n)&&(e.openElements.hasInButtonScope(h.P)&&e._closePElement(),e._insertElement(t,z.HTML),n||(e.formElement=e.openElements.current))}function iD(e,t){e.framesetOk=!1;const n=t.tagID;for(let a=e.openElements.stackTop;a>=0;a--){const r=e.openElements.tagIDs[a];if(n===h.LI&&r===h.LI||(n===h.DD||n===h.DT)&&(r===h.DD||r===h.DT)){e.openElements.generateImpliedEndTagsWithExclusion(r),e.openElements.popUntilTagNamePopped(r);break}if(r!==h.ADDRESS&&r!==h.DIV&&r!==h.P&&e._isSpecialElement(e.openElements.items[a],r))break}e.openElements.hasInButtonScope(h.P)&&e._closePElement(),e._insertElement(t,z.HTML)}function oD(e,t){e.openElements.hasInButtonScope(h.P)&&e._closePElement(),e._insertElement(t,z.HTML),e.tokenizer.state=St.PLAINTEXT}function sD(e,t){e.openElements.hasInScope(h.BUTTON)&&(e.openElements.generateImpliedEndTags(),e.openElements.popUntilTagNamePopped(h.BUTTON)),e._reconstructActiveFormattingElements(),e._insertElement(t,z.HTML),e.framesetOk=!1}function lD(e,t){const n=e.activeFormattingElements.getElementEntryInScopeWithTagName(j.A);n&&(Zm(e,t),e.openElements.remove(n.element),e.activeFormattingElements.removeEntry(n)),e._reconstructActiveFormattingElements(),e._insertElement(t,z.HTML),e.activeFormattingElements.pushElement(e.openElements.current,t)}function uD(e,t){e._reconstructActiveFormattingElements(),e._insertElement(t,z.HTML),e.activeFormattingElements.pushElement(e.openElements.current,t)}function cD(e,t){e._reconstructActiveFormattingElements(),e.openElements.hasInScope(h.NOBR)&&(Zm(e,t),e._reconstructActiveFormattingElements()),e._insertElement(t,z.HTML),e.activeFormattingElements.pushElement(e.openElements.current,t)}function dD(e,t){e._reconstructActiveFormattingElements(),e._insertElement(t,z.HTML),e.activeFormattingElements.insertMarker(),e.framesetOk=!1}function hD(e,t){e.treeAdapter.getDocumentMode(e.document)!==wn.QUIRKS&&e.openElements.hasInButtonScope(h.P)&&e._closePElement(),e._insertElement(t,z.HTML),e.framesetOk=!1,e.insertionMode=L.IN_TABLE}function Rw(e,t){e._reconstructActiveFormattingElements(),e._appendElement(t,z.HTML),e.framesetOk=!1,t.ackSelfClosing=!0}function Lw(e){const t=pw(e,Sr.TYPE);return t!=null&&t.toLowerCase()===_O}function fD(e,t){e._reconstructActiveFormattingElements(),e._appendElement(t,z.HTML),Lw(t)||(e.framesetOk=!1),t.ackSelfClosing=!0}function mD(e,t){e._appendElement(t,z.HTML),t.ackSelfClosing=!0}function pD(e,t){e.openElements.hasInButtonScope(h.P)&&e._closePElement(),e._appendElement(t,z.HTML),e.framesetOk=!1,t.ackSelfClosing=!0}function gD(e,t){t.tagName=j.IMG,t.tagID=h.IMG,Rw(e,t)}function yD(e,t){e._insertElement(t,z.HTML),e.skipNextNewLine=!0,e.tokenizer.state=St.RCDATA,e.originalInsertionMode=e.insertionMode,e.framesetOk=!1,e.insertionMode=L.TEXT}function bD(e,t){e.openElements.hasInButtonScope(h.P)&&e._closePElement(),e._reconstructActiveFormattingElements(),e.framesetOk=!1,e._switchToTextParsing(t,St.RAWTEXT)}function vD(e,t){e.framesetOk=!1,e._switchToTextParsing(t,St.RAWTEXT)}function s1(e,t){e._switchToTextParsing(t,St.RAWTEXT)}function wD(e,t){e._reconstructActiveFormattingElements(),e._insertElement(t,z.HTML),e.framesetOk=!1,e.insertionMode=e.insertionMode===L.IN_TABLE||e.insertionMode===L.IN_CAPTION||e.insertionMode===L.IN_TABLE_BODY||e.insertionMode===L.IN_ROW||e.insertionMode===L.IN_CELL?L.IN_SELECT_IN_TABLE:L.IN_SELECT}function kD(e,t){e.openElements.currentTagId===h.OPTION&&e.openElements.pop(),e._reconstructActiveFormattingElements(),e._insertElement(t,z.HTML)}function TD(e,t){e.openElements.hasInScope(h.RUBY)&&e.openElements.generateImpliedEndTags(),e._insertElement(t,z.HTML)}function xD(e,t){e.openElements.hasInScope(h.RUBY)&&e.openElements.generateImpliedEndTagsWithExclusion(h.RTC),e._insertElement(t,z.HTML)}function ED(e,t){e._reconstructActiveFormattingElements(),Aw(t),Jm(t),t.selfClosing?e._appendElement(t,z.MATHML):e._insertElement(t,z.MATHML),t.ackSelfClosing=!0}function SD(e,t){e._reconstructActiveFormattingElements(),Cw(t),Jm(t),t.selfClosing?e._appendElement(t,z.SVG):e._insertElement(t,z.SVG),t.ackSelfClosing=!0}function l1(e,t){e._reconstructActiveFormattingElements(),e._insertElement(t,z.HTML)}function Zt(e,t){switch(t.tagID){case h.I:case h.S:case h.B:case h.U:case h.EM:case h.TT:case h.BIG:case h.CODE:case h.FONT:case h.SMALL:case h.STRIKE:case h.STRONG:{uD(e,t);break}case h.A:{lD(e,t);break}case h.H1:case h.H2:case h.H3:case h.H4:case h.H5:case h.H6:{nD(e,t);break}case h.P:case h.DL:case h.OL:case h.UL:case h.DIV:case h.DIR:case h.NAV:case h.MAIN:case h.MENU:case h.ASIDE:case h.CENTER:case h.FIGURE:case h.FOOTER:case h.HEADER:case h.HGROUP:case h.DIALOG:case h.DETAILS:case h.ADDRESS:case h.ARTICLE:case h.SECTION:case h.SUMMARY:case h.FIELDSET:case h.BLOCKQUOTE:case h.FIGCAPTION:{tD(e,t);break}case h.LI:case h.DD:case h.DT:{iD(e,t);break}case h.BR:case h.IMG:case h.WBR:case h.AREA:case h.EMBED:case h.KEYGEN:{Rw(e,t);break}case h.HR:{pD(e,t);break}case h.RB:case h.RTC:{TD(e,t);break}case h.RT:case h.RP:{xD(e,t);break}case h.PRE:case h.LISTING:{aD(e,t);break}case h.XMP:{bD(e,t);break}case h.SVG:{SD(e,t);break}case h.HTML:{JO(e,t);break}case h.BASE:case h.LINK:case h.META:case h.STYLE:case h.TITLE:case h.SCRIPT:case h.BGSOUND:case h.BASEFONT:case h.TEMPLATE:{la(e,t);break}case h.BODY:{ZO(e,t);break}case h.FORM:{rD(e,t);break}case h.NOBR:{cD(e,t);break}case h.MATH:{ED(e,t);break}case h.TABLE:{hD(e,t);break}case h.INPUT:{fD(e,t);break}case h.PARAM:case h.TRACK:case h.SOURCE:{mD(e,t);break}case h.IMAGE:{gD(e,t);break}case h.BUTTON:{sD(e,t);break}case h.APPLET:case h.OBJECT:case h.MARQUEE:{dD(e,t);break}case h.IFRAME:{vD(e,t);break}case h.SELECT:{wD(e,t);break}case h.OPTION:case h.OPTGROUP:{kD(e,t);break}case h.NOEMBED:{s1(e,t);break}case h.FRAMESET:{eD(e,t);break}case h.TEXTAREA:{yD(e,t);break}case h.NOSCRIPT:{e.options.scriptingEnabled?s1(e,t):l1(e,t);break}case h.PLAINTEXT:{oD(e,t);break}case h.COL:case h.TH:case h.TD:case h.TR:case h.HEAD:case h.FRAME:case h.TBODY:case h.TFOOT:case h.THEAD:case h.CAPTION:case h.COLGROUP:break;default:l1(e,t)}}function AD(e,t){if(e.openElements.hasInScope(h.BODY)&&(e.insertionMode=L.AFTER_BODY,e.options.sourceCodeLocationInfo)){const n=e.openElements.tryPeekProperlyNestedBodyElement();n&&e._setEndLocation(n,t)}}function CD(e,t){e.openElements.hasInScope(h.BODY)&&(e.insertionMode=L.AFTER_BODY,Uw(e,t))}function ND(e,t){const n=t.tagID;e.openElements.hasInScope(n)&&(e.openElements.generateImpliedEndTags(),e.openElements.popUntilTagNamePopped(n))}function ID(e){const t=e.openElements.tmplCount>0,{formElement:n}=e;t||(e.formElement=null),(n||t)&&e.openElements.hasInScope(h.FORM)&&(e.openElements.generateImpliedEndTags(),t?e.openElements.popUntilTagNamePopped(h.FORM):n&&e.openElements.remove(n))}function _D(e){e.openElements.hasInButtonScope(h.P)||e._insertFakeElement(j.P,h.P),e._closePElement()}function RD(e){e.openElements.hasInListItemScope(h.LI)&&(e.openElements.generateImpliedEndTagsWithExclusion(h.LI),e.openElements.popUntilTagNamePopped(h.LI))}function LD(e,t){const n=t.tagID;e.openElements.hasInScope(n)&&(e.openElements.generateImpliedEndTagsWithExclusion(n),e.openElements.popUntilTagNamePopped(n))}function OD(e){e.openElements.hasNumberedHeaderInScope()&&(e.openElements.generateImpliedEndTags(),e.openElements.popUntilNumberedHeaderPopped())}function DD(e,t){const n=t.tagID;e.openElements.hasInScope(n)&&(e.openElements.generateImpliedEndTags(),e.openElements.popUntilTagNamePopped(n),e.activeFormattingElements.clearToLastMarker())}function PD(e){e._reconstructActiveFormattingElements(),e._insertFakeElement(j.BR,h.BR),e.openElements.pop(),e.framesetOk=!1}function Ow(e,t){const n=t.tagName,a=t.tagID;for(let r=e.openElements.stackTop;r>0;r--){const i=e.openElements.items[r],o=e.openElements.tagIDs[r];if(a===o&&(a!==h.UNKNOWN||e.treeAdapter.getTagName(i)===n)){e.openElements.generateImpliedEndTagsWithExclusion(a),e.openElements.stackTop>=r&&e.openElements.shortenToLength(r);break}if(e._isSpecialElement(i,o))break}}function Sc(e,t){switch(t.tagID){case h.A:case h.B:case h.I:case h.S:case h.U:case h.EM:case h.TT:case h.BIG:case h.CODE:case h.FONT:case h.NOBR:case h.SMALL:case h.STRIKE:case h.STRONG:{Zm(e,t);break}case h.P:{_D(e);break}case h.DL:case h.UL:case h.OL:case h.DIR:case h.DIV:case h.NAV:case h.PRE:case h.MAIN:case h.MENU:case h.ASIDE:case h.BUTTON:case h.CENTER:case h.FIGURE:case h.FOOTER:case h.HEADER:case h.HGROUP:case h.DIALOG:case h.ADDRESS:case h.ARTICLE:case h.DETAILS:case h.SECTION:case h.SUMMARY:case h.LISTING:case h.FIELDSET:case h.BLOCKQUOTE:case h.FIGCAPTION:{ND(e,t);break}case h.LI:{RD(e);break}case h.DD:case h.DT:{LD(e,t);break}case h.H1:case h.H2:case h.H3:case h.H4:case h.H5:case h.H6:{OD(e);break}case h.BR:{PD(e);break}case h.BODY:{AD(e,t);break}case h.HTML:{CD(e,t);break}case h.FORM:{ID(e);break}case h.APPLET:case h.OBJECT:case h.MARQUEE:{DD(e,t);break}case h.TEMPLATE:{mi(e,t);break}default:Ow(e,t)}}function Dw(e,t){e.tmplInsertionModeStack.length>0?qw(e,t):e0(e,t)}function MD(e,t){var n;t.tagID===h.SCRIPT&&((n=e.scriptHandler)===null||n===void 0||n.call(e,e.openElements.current)),e.openElements.pop(),e.insertionMode=e.originalInsertionMode}function FD(e,t){e._err(t,q.eofInElementThatCanContainOnlyText),e.openElements.pop(),e.insertionMode=e.originalInsertionMode,e.onEof(t)}function Fd(e,t){if(Nw.has(e.openElements.currentTagId))switch(e.pendingCharacterTokens.length=0,e.hasNonWhitespacePendingCharacterToken=!1,e.originalInsertionMode=e.insertionMode,e.insertionMode=L.IN_TABLE_TEXT,t.type){case Ce.CHARACTER:{Mw(e,t);break}case Ce.WHITESPACE_CHARACTER:{Pw(e,t);break}}else ul(e,t)}function jD(e,t){e.openElements.clearBackToTableContext(),e.activeFormattingElements.insertMarker(),e._insertElement(t,z.HTML),e.insertionMode=L.IN_CAPTION}function BD(e,t){e.openElements.clearBackToTableContext(),e._insertElement(t,z.HTML),e.insertionMode=L.IN_COLUMN_GROUP}function HD(e,t){e.openElements.clearBackToTableContext(),e._insertFakeElement(j.COLGROUP,h.COLGROUP),e.insertionMode=L.IN_COLUMN_GROUP,t0(e,t)}function qD(e,t){e.openElements.clearBackToTableContext(),e._insertElement(t,z.HTML),e.insertionMode=L.IN_TABLE_BODY}function UD(e,t){e.openElements.clearBackToTableContext(),e._insertFakeElement(j.TBODY,h.TBODY),e.insertionMode=L.IN_TABLE_BODY,Ac(e,t)}function WD(e,t){e.openElements.hasInTableScope(h.TABLE)&&(e.openElements.popUntilTagNamePopped(h.TABLE),e._resetInsertionMode(),e._processStartTag(t))}function YD(e,t){Lw(t)?e._appendElement(t,z.HTML):ul(e,t),t.ackSelfClosing=!0}function zD(e,t){!e.formElement&&e.openElements.tmplCount===0&&(e._insertElement(t,z.HTML),e.formElement=e.openElements.current,e.openElements.pop())}function ao(e,t){switch(t.tagID){case h.TD:case h.TH:case h.TR:{UD(e,t);break}case h.STYLE:case h.SCRIPT:case h.TEMPLATE:{la(e,t);break}case h.COL:{HD(e,t);break}case h.FORM:{zD(e,t);break}case h.TABLE:{WD(e,t);break}case h.TBODY:case h.TFOOT:case h.THEAD:{qD(e,t);break}case h.INPUT:{YD(e,t);break}case h.CAPTION:{jD(e,t);break}case h.COLGROUP:{BD(e,t);break}default:ul(e,t)}}function js(e,t){switch(t.tagID){case h.TABLE:{e.openElements.hasInTableScope(h.TABLE)&&(e.openElements.popUntilTagNamePopped(h.TABLE),e._resetInsertionMode());break}case h.TEMPLATE:{mi(e,t);break}case h.BODY:case h.CAPTION:case h.COL:case h.COLGROUP:case h.HTML:case h.TBODY:case h.TD:case h.TFOOT:case h.TH:case h.THEAD:case h.TR:break;default:ul(e,t)}}function ul(e,t){const n=e.fosterParentingEnabled;e.fosterParentingEnabled=!0,Ec(e,t),e.fosterParentingEnabled=n}function Pw(e,t){e.pendingCharacterTokens.push(t)}function Mw(e,t){e.pendingCharacterTokens.push(t),e.hasNonWhitespacePendingCharacterToken=!0}function Wo(e,t){let n=0;if(e.hasNonWhitespacePendingCharacterToken)for(;n<e.pendingCharacterTokens.length;n++)ul(e,e.pendingCharacterTokens[n]);else for(;n<e.pendingCharacterTokens.length;n++)e._insertCharacters(e.pendingCharacterTokens[n]);e.insertionMode=e.originalInsertionMode,e._processToken(t)}const Fw=new Set([h.CAPTION,h.COL,h.COLGROUP,h.TBODY,h.TD,h.TFOOT,h.TH,h.THEAD,h.TR]);function $D(e,t){const n=t.tagID;Fw.has(n)?e.openElements.hasInTableScope(h.CAPTION)&&(e.openElements.generateImpliedEndTags(),e.openElements.popUntilTagNamePopped(h.CAPTION),e.activeFormattingElements.clearToLastMarker(),e.insertionMode=L.IN_TABLE,ao(e,t)):Zt(e,t)}function GD(e,t){const n=t.tagID;switch(n){case h.CAPTION:case h.TABLE:{e.openElements.hasInTableScope(h.CAPTION)&&(e.openElements.generateImpliedEndTags(),e.openElements.popUntilTagNamePopped(h.CAPTION),e.activeFormattingElements.clearToLastMarker(),e.insertionMode=L.IN_TABLE,n===h.TABLE&&js(e,t));break}case h.BODY:case h.COL:case h.COLGROUP:case h.HTML:case h.TBODY:case h.TD:case h.TFOOT:case h.TH:case h.THEAD:case h.TR:break;default:Sc(e,t)}}function t0(e,t){switch(t.tagID){case h.HTML:{Zt(e,t);break}case h.COL:{e._appendElement(t,z.HTML),t.ackSelfClosing=!0;break}case h.TEMPLATE:{la(e,t);break}default:ju(e,t)}}function VD(e,t){switch(t.tagID){case h.COLGROUP:{e.openElements.currentTagId===h.COLGROUP&&(e.openElements.pop(),e.insertionMode=L.IN_TABLE);break}case h.TEMPLATE:{mi(e,t);break}case h.COL:break;default:ju(e,t)}}function ju(e,t){e.openElements.currentTagId===h.COLGROUP&&(e.openElements.pop(),e.insertionMode=L.IN_TABLE,e._processToken(t))}function Ac(e,t){switch(t.tagID){case h.TR:{e.openElements.clearBackToTableBodyContext(),e._insertElement(t,z.HTML),e.insertionMode=L.IN_ROW;break}case h.TH:case h.TD:{e.openElements.clearBackToTableBodyContext(),e._insertFakeElement(j.TR,h.TR),e.insertionMode=L.IN_ROW,Cc(e,t);break}case h.CAPTION:case h.COL:case h.COLGROUP:case h.TBODY:case h.TFOOT:case h.THEAD:{e.openElements.hasTableBodyContextInTableScope()&&(e.openElements.clearBackToTableBodyContext(),e.openElements.pop(),e.insertionMode=L.IN_TABLE,ao(e,t));break}default:ao(e,t)}}function sf(e,t){const n=t.tagID;switch(t.tagID){case h.TBODY:case h.TFOOT:case h.THEAD:{e.openElements.hasInTableScope(n)&&(e.openElements.clearBackToTableBodyContext(),e.openElements.pop(),e.insertionMode=L.IN_TABLE);break}case h.TABLE:{e.openElements.hasTableBodyContextInTableScope()&&(e.openElements.clearBackToTableBodyContext(),e.openElements.pop(),e.insertionMode=L.IN_TABLE,js(e,t));break}case h.BODY:case h.CAPTION:case h.COL:case h.COLGROUP:case h.HTML:case h.TD:case h.TH:case h.TR:break;default:js(e,t)}}function Cc(e,t){switch(t.tagID){case h.TH:case h.TD:{e.openElements.clearBackToTableRowContext(),e._insertElement(t,z.HTML),e.insertionMode=L.IN_CELL,e.activeFormattingElements.insertMarker();break}case h.CAPTION:case h.COL:case h.COLGROUP:case h.TBODY:case h.TFOOT:case h.THEAD:case h.TR:{e.openElements.hasInTableScope(h.TR)&&(e.openElements.clearBackToTableRowContext(),e.openElements.pop(),e.insertionMode=L.IN_TABLE_BODY,Ac(e,t));break}default:ao(e,t)}}function jw(e,t){switch(t.tagID){case h.TR:{e.openElements.hasInTableScope(h.TR)&&(e.openElements.clearBackToTableRowContext(),e.openElements.pop(),e.insertionMode=L.IN_TABLE_BODY);break}case h.TABLE:{e.openElements.hasInTableScope(h.TR)&&(e.openElements.clearBackToTableRowContext(),e.openElements.pop(),e.insertionMode=L.IN_TABLE_BODY,sf(e,t));break}case h.TBODY:case h.TFOOT:case h.THEAD:{(e.openElements.hasInTableScope(t.tagID)||e.openElements.hasInTableScope(h.TR))&&(e.openElements.clearBackToTableRowContext(),e.openElements.pop(),e.insertionMode=L.IN_TABLE_BODY,sf(e,t));break}case h.BODY:case h.CAPTION:case h.COL:case h.COLGROUP:case h.HTML:case h.TD:case h.TH:break;default:js(e,t)}}function KD(e,t){const n=t.tagID;Fw.has(n)?(e.openElements.hasInTableScope(h.TD)||e.openElements.hasInTableScope(h.TH))&&(e._closeTableCell(),Cc(e,t)):Zt(e,t)}function QD(e,t){const n=t.tagID;switch(n){case h.TD:case h.TH:{e.openElements.hasInTableScope(n)&&(e.openElements.generateImpliedEndTags(),e.openElements.popUntilTagNamePopped(n),e.activeFormattingElements.clearToLastMarker(),e.insertionMode=L.IN_ROW);break}case h.TABLE:case h.TBODY:case h.TFOOT:case h.THEAD:case h.TR:{e.openElements.hasInTableScope(n)&&(e._closeTableCell(),jw(e,t));break}case h.BODY:case h.CAPTION:case h.COL:case h.COLGROUP:case h.HTML:break;default:Sc(e,t)}}function Bw(e,t){switch(t.tagID){case h.HTML:{Zt(e,t);break}case h.OPTION:{e.openElements.currentTagId===h.OPTION&&e.openElements.pop(),e._insertElement(t,z.HTML);break}case h.OPTGROUP:{e.openElements.currentTagId===h.OPTION&&e.openElements.pop(),e.openElements.currentTagId===h.OPTGROUP&&e.openElements.pop(),e._insertElement(t,z.HTML);break}case h.INPUT:case h.KEYGEN:case h.TEXTAREA:case h.SELECT:{e.openElements.hasInSelectScope(h.SELECT)&&(e.openElements.popUntilTagNamePopped(h.SELECT),e._resetInsertionMode(),t.tagID!==h.SELECT&&e._processStartTag(t));break}case h.SCRIPT:case h.TEMPLATE:{la(e,t);break}}}function Hw(e,t){switch(t.tagID){case h.OPTGROUP:{e.openElements.stackTop>0&&e.openElements.currentTagId===h.OPTION&&e.openElements.tagIDs[e.openElements.stackTop-1]===h.OPTGROUP&&e.openElements.pop(),e.openElements.currentTagId===h.OPTGROUP&&e.openElements.pop();break}case h.OPTION:{e.openElements.currentTagId===h.OPTION&&e.openElements.pop();break}case h.SELECT:{e.openElements.hasInSelectScope(h.SELECT)&&(e.openElements.popUntilTagNamePopped(h.SELECT),e._resetInsertionMode());break}case h.TEMPLATE:{mi(e,t);break}}}function XD(e,t){const n=t.tagID;n===h.CAPTION||n===h.TABLE||n===h.TBODY||n===h.TFOOT||n===h.THEAD||n===h.TR||n===h.TD||n===h.TH?(e.openElements.popUntilTagNamePopped(h.SELECT),e._resetInsertionMode(),e._processStartTag(t)):Bw(e,t)}function JD(e,t){const n=t.tagID;n===h.CAPTION||n===h.TABLE||n===h.TBODY||n===h.TFOOT||n===h.THEAD||n===h.TR||n===h.TD||n===h.TH?e.openElements.hasInTableScope(n)&&(e.openElements.popUntilTagNamePopped(h.SELECT),e._resetInsertionMode(),e.onEndTag(t)):Hw(e,t)}function ZD(e,t){switch(t.tagID){case h.BASE:case h.BASEFONT:case h.BGSOUND:case h.LINK:case h.META:case h.NOFRAMES:case h.SCRIPT:case h.STYLE:case h.TEMPLATE:case h.TITLE:{la(e,t);break}case h.CAPTION:case h.COLGROUP:case h.TBODY:case h.TFOOT:case h.THEAD:{e.tmplInsertionModeStack[0]=L.IN_TABLE,e.insertionMode=L.IN_TABLE,ao(e,t);break}case h.COL:{e.tmplInsertionModeStack[0]=L.IN_COLUMN_GROUP,e.insertionMode=L.IN_COLUMN_GROUP,t0(e,t);break}case h.TR:{e.tmplInsertionModeStack[0]=L.IN_TABLE_BODY,e.insertionMode=L.IN_TABLE_BODY,Ac(e,t);break}case h.TD:case h.TH:{e.tmplInsertionModeStack[0]=L.IN_ROW,e.insertionMode=L.IN_ROW,Cc(e,t);break}default:e.tmplInsertionModeStack[0]=L.IN_BODY,e.insertionMode=L.IN_BODY,Zt(e,t)}}function eP(e,t){t.tagID===h.TEMPLATE&&mi(e,t)}function qw(e,t){e.openElements.tmplCount>0?(e.openElements.popUntilTagNamePopped(h.TEMPLATE),e.activeFormattingElements.clearToLastMarker(),e.tmplInsertionModeStack.shift(),e._resetInsertionMode(),e.onEof(t)):e0(e,t)}function tP(e,t){t.tagID===h.HTML?Zt(e,t):Bu(e,t)}function Uw(e,t){var n;if(t.tagID===h.HTML){if(e.fragmentContext||(e.insertionMode=L.AFTER_AFTER_BODY),e.options.sourceCodeLocationInfo&&e.openElements.tagIDs[0]===h.HTML){e._setEndLocation(e.openElements.items[0],t);const a=e.openElements.items[1];a&&!(!((n=e.treeAdapter.getNodeSourceCodeLocation(a))===null||n===void 0)&&n.endTag)&&e._setEndLocation(a,t)}}else Bu(e,t)}function Bu(e,t){e.insertionMode=L.IN_BODY,Ec(e,t)}function nP(e,t){switch(t.tagID){case h.HTML:{Zt(e,t);break}case h.FRAMESET:{e._insertElement(t,z.HTML);break}case h.FRAME:{e._appendElement(t,z.HTML),t.ackSelfClosing=!0;break}case h.NOFRAMES:{la(e,t);break}}}function aP(e,t){t.tagID===h.FRAMESET&&!e.openElements.isRootHtmlElementCurrent()&&(e.openElements.pop(),!e.fragmentContext&&e.openElements.currentTagId!==h.FRAMESET&&(e.insertionMode=L.AFTER_FRAMESET))}function rP(e,t){switch(t.tagID){case h.HTML:{Zt(e,t);break}case h.NOFRAMES:{la(e,t);break}}}function iP(e,t){t.tagID===h.HTML&&(e.insertionMode=L.AFTER_AFTER_FRAMESET)}function oP(e,t){t.tagID===h.HTML?Zt(e,t):au(e,t)}function au(e,t){e.insertionMode=L.IN_BODY,Ec(e,t)}function sP(e,t){switch(t.tagID){case h.HTML:{Zt(e,t);break}case h.NOFRAMES:{la(e,t);break}}}function lP(e,t){t.chars=ft,e._insertCharacters(t)}function uP(e,t){e._insertCharacters(t),e.framesetOk=!1}function Ww(e){for(;e.treeAdapter.getNamespaceURI(e.openElements.current)!==z.HTML&&!e._isIntegrationPoint(e.openElements.currentTagId,e.openElements.current);)e.openElements.pop()}function cP(e,t){if(SO(t))Ww(e),e._startTagOutsideForeignContent(t);else{const n=e._getAdjustedCurrentElement(),a=e.treeAdapter.getNamespaceURI(n);a===z.MATHML?Aw(t):a===z.SVG&&(AO(t),Cw(t)),Jm(t),t.selfClosing?e._appendElement(t,a):e._insertElement(t,a),t.ackSelfClosing=!0}}function dP(e,t){if(t.tagID===h.P||t.tagID===h.BR){Ww(e),e._endTagOutsideForeignContent(t);return}for(let n=e.openElements.stackTop;n>0;n--){const a=e.openElements.items[n];if(e.treeAdapter.getNamespaceURI(a)===z.HTML){e._endTagOutsideForeignContent(t);break}const r=e.treeAdapter.getTagName(a);if(r.toLowerCase()===t.tagName){t.tagName=r,e.openElements.shortenToLength(n);break}}}j.AREA,j.BASE,j.BASEFONT,j.BGSOUND,j.BR,j.COL,j.EMBED,j.FRAME,j.HR,j.IMG,j.INPUT,j.KEYGEN,j.LINK,j.META,j.PARAM,j.SOURCE,j.TRACK,j.WBR;const hP=new Set(["mdxFlowExpression","mdxJsxFlowElement","mdxJsxTextElement","mdxTextExpression","mdxjsEsm"]),u1={sourceCodeLocationInfo:!0,scriptingEnabled:!1};function Yw(e,t){const n=TP(e),a=Uv("type",{handlers:{root:fP,element:mP,text:pP,comment:$w,doctype:gP,raw:bP},unknown:vP}),r={parser:n?new o1(u1):o1.getFragmentParser(void 0,u1),handle(s){a(s,r)},stitches:!1,options:t||{}};a(e,r),wo(r,Sa());const i=n?r.parser.document:r.parser.getFragment(),o=EL(i,{file:r.options.file});return r.stitches&&xc(o,"comment",function(s,l,u){const d=s;if(d.value.stitch&&u&&l!==void 0){const f=u.children;return f[l]=d.value.stitch,l}}),o.type==="root"&&o.children.length===1&&o.children[0].type===e.type?o.children[0]:o}function zw(e,t){let n=-1;if(e)for(;++n<e.length;)t.handle(e[n])}function fP(e,t){zw(e.children,t)}function mP(e,t){wP(e,t),zw(e.children,t),kP(e,t)}function pP(e,t){const n={type:Ce.CHARACTER,chars:e.value,location:cl(e)};wo(t,Sa(e)),t.parser.currentToken=n,t.parser._processToken(t.parser.currentToken)}function gP(e,t){const n={type:Ce.DOCTYPE,name:"html",forceQuirks:!1,publicId:"",systemId:"",location:cl(e)};wo(t,Sa(e)),t.parser.currentToken=n,t.parser._processToken(t.parser.currentToken)}function yP(e,t){t.stitches=!0;const n=xP(e);if("children"in e&&"children"in n){const a=Yw({type:"root",children:e.children},t.options);n.children=a.children}$w({type:"comment",value:{stitch:n}},t)}function $w(e,t){const n=e.value,a={type:Ce.COMMENT,data:n,location:cl(e)};wo(t,Sa(e)),t.parser.currentToken=a,t.parser._processToken(t.parser.currentToken)}function bP(e,t){if(t.parser.tokenizer.preprocessor.html="",t.parser.tokenizer.preprocessor.pos=-1,t.parser.tokenizer.preprocessor.lastGapPos=-2,t.parser.tokenizer.preprocessor.gapStack=[],t.parser.tokenizer.preprocessor.skipNextNewLine=!1,t.parser.tokenizer.preprocessor.lastChunkWritten=!1,t.parser.tokenizer.preprocessor.endOfChunkHit=!1,t.parser.tokenizer.preprocessor.isEol=!1,Gw(t,Sa(e)),t.parser.tokenizer.write(e.value,!1),t.parser.tokenizer._runParsingLoop(),t.parser.tokenizer.state===72||t.parser.tokenizer.state===78){t.parser.tokenizer.preprocessor.lastChunkWritten=!0;const n=t.parser.tokenizer._consume();t.parser.tokenizer._callState(n)}}function vP(e,t){const n=e;if(t.options.passThrough&&t.options.passThrough.includes(n.type))yP(n,t);else{let a="";throw hP.has(n.type)&&(a=". It looks like you are using MDX nodes with `hast-util-raw` (or `rehype-raw`). If you use this because you are using remark or rehype plugins that inject `'html'` nodes, then please raise an issue with that plugin, as its a bad and slow idea. If you use this because you are using markdown syntax, then you have to configure this utility (or plugin) to pass through these nodes (see `passThrough` in docs), but you can also migrate to use the MDX syntax"),new Error("Cannot compile `"+n.type+"` node"+a)}}function wo(e,t){Gw(e,t);const n=e.parser.tokenizer.currentCharacterToken;n&&n.location&&(n.location.endLine=e.parser.tokenizer.preprocessor.line,n.location.endCol=e.parser.tokenizer.preprocessor.col+1,n.location.endOffset=e.parser.tokenizer.preprocessor.offset+1,e.parser.currentToken=n,e.parser._processToken(e.parser.currentToken)),e.parser.tokenizer.paused=!1,e.parser.tokenizer.inLoop=!1,e.parser.tokenizer.active=!1,e.parser.tokenizer.returnState=St.DATA,e.parser.tokenizer.charRefCode=-1,e.parser.tokenizer.consumedAfterSnapshot=-1,e.parser.tokenizer.currentLocation=null,e.parser.tokenizer.currentCharacterToken=null,e.parser.tokenizer.currentToken=null,e.parser.tokenizer.currentAttr={name:"",value:""}}function Gw(e,t){if(t&&t.offset!==void 0){const n={startLine:t.line,startCol:t.column,startOffset:t.offset,endLine:-1,endCol:-1,endOffset:-1};e.parser.tokenizer.preprocessor.lineStartPos=-t.column+1,e.parser.tokenizer.preprocessor.droppedBufferSize=t.offset,e.parser.tokenizer.preprocessor.line=t.line,e.parser.tokenizer.currentLocation=n}}function wP(e,t){if(t.parser.tokenizer.state===St.PLAINTEXT)return;wo(t,Sa(e));const n=t.parser.openElements.current;let a="namespaceURI"in n?n.namespaceURI:$r.html;a===$r.html&&e.tagName==="svg"&&(a=$r.svg);const r=IL({...e,children:[]},{space:a===$r.svg?"svg":"html"}),i="attrs"in r?r.attrs:[],o={type:Ce.START_TAG,tagName:e.tagName,tagID:vo(e.tagName),selfClosing:!1,ackSelfClosing:!1,attrs:i,location:cl(e)};t.parser.currentToken=o,t.parser._processToken(t.parser.currentToken),t.parser.tokenizer.lastStartTagName=e.tagName}function kP(e,t){if(!t.parser.tokenizer.inForeignNode&&FL.includes(e.tagName)||t.parser.tokenizer.state===St.PLAINTEXT)return;wo(t,yc(e));const n={type:Ce.END_TAG,tagName:e.tagName,tagID:vo(e.tagName),selfClosing:!1,ackSelfClosing:!1,attrs:[],location:cl(e)};t.parser.currentToken=n,t.parser._processToken(t.parser.currentToken),n.tagName===t.parser.tokenizer.lastStartTagName&&(t.parser.tokenizer.state===St.RCDATA||t.parser.tokenizer.state===St.RAWTEXT||t.parser.tokenizer.state===St.SCRIPT_DATA)&&(t.parser.tokenizer.state=St.DATA)}function TP(e){const t=e.type==="root"?e.children[0]:e;return!!(t&&(t.type==="doctype"||t.type==="element"&&t.tagName==="html"))}function cl(e){const t=Sa(e)||{line:void 0,column:void 0,offset:void 0},n=yc(e)||{line:void 0,column:void 0,offset:void 0};return{startLine:t.line,startCol:t.column,startOffset:t.offset,endLine:n.line,endCol:n.column,endOffset:n.offset}}function xP(e){return"children"in e?no({...e,children:[]}):no(e)}function EP(e){return function(t,n){return Yw(t,{...e,file:n})}}const SP=`
# Main Rules

This game is built up around the idea of normal dice (d6's, or 6 sided dice). Any and all rolls that this game will ask you to do will be done using some amount of these dice, so go grab some. Personally I would recommend 4-6 per person, though you can play this with just 1 if need be.
This game is heavily inspired by YOU the players and your host known as the Game Master (denoted as GM from here on). The GM is the one hosting the show, and while this is the rule-book, not all possible situations can be given clear ruling. Inevitably, it is up to the GM to decide what will happen. 

## Locked Dice

You may Lock dice whenever you do a roll. That dice is removed from the current roll and placed on the side. At a later point you may unlock that dice to add it to the new roll. You may only ever have 1 dice Locked at a time, however you may Lock or Unlock as many dice in a turn as you wish.   
Some Arts require you to spend a Locked dice to activate. 

## Checks and Contests

### Checks

You may do a Check when trying to do an action. When you do roll or spend ## (2 dice) then add your required Stat. You may then get one of 3 outcomes; Failure, which is when you roll a 7 or less; Partial Success, which is when you roll a 8-10; or Success, which is when you roll an 11 or higher.

\\- Failure means you failed completely.  
\\- Partial Success means you passed with a But.   
  \\- A GM may decide what that But is.  
\\- Success means you passed completely.

For example if you want to push a boulder, you may roll Body. Let's say you roll a 2, and a 4, and have a 3 in Body, you would get 2+4+3 = 9 for the roll, which is a Partial Success. This could mean that when pushing the boulder you push it down a hill, but you can't control where it goes.  
If you are in combat you may give two dice of set values instead of giving ## (2 dice) and rolling. If you do, you do not add the requested Stat. For example if you give (5,5) in combat you have a 10 for the check.

### Contests

Some situations require you to roll a Contest against another creature or target. When you do you roll two dice then add the requested Stat. Whichever party got the higher score wins the Contest. On a draw, the defender (once who is forced to roll) wins.  
If you are in combat you may give two dice of set values instead of giving ## (2 dice) and rolling. If you do, you do not add the requested Stat. For example if you give (5,5) in combat you have a 10 for the contest.

## Default Actions

*Common actions that people do in and out of combat.*

### Perception and Investigation

Spend ## (2 dice) to try to see something. This is not the same as a Search action to see hidden creatures. A GM may ask you to roll either a check based on a Main Stat (Body, Mind, or Soul) or a Substat (Arcana, Charm, Crafting, etc.). Tell the GM which you are picking.
- In general Body is used when you are trying to see big picture things, such as a caravan on the horizon, or something out of the corner of your eye.
- Mind is used when you are trying to see set things in a room, such as a hidden door in a room, or a cooked painting.
- Soul is used when you are trying to see details on an object, such as a hidden compartment on a dresser, or a message in glass.

**You may also roll sub-stats when GM deems it appropriate. Some examples follow.**
- Arcana for an ancient library.
- Charm for an art piece, or person.
- Crafting for a machine or component.
- Nature for a plant or creature.
- Medicine for a crime sene.
- Thieving for a shop or business.

### Search

- Spend # (1 die) to look for an Obscured or Hidden creature within a number of tiles around you equal to the dice spent. So for instance if you give a 6 you will look within 6 tiles of you.  
- You will reveal any Obscured creatures before revealing Hidden creatures.

### Arts

- Spend a varying amount of dice and Strain to use your Arts (Techniques, Insights, or Spells).

### Shove

- Spend ## (2 dice) to try to push a target within 1 tile of you. Do a Body contest against the target, on success the target is pushed back 2 tiles.

### Grapple

- Spend ## (2 dice) to try to grapple a target within 1 tile of you. Do a Body contest against the target, on success the target is grappled by you.

### Move

- Spend # (1 die) to move a number of tiles up to your Speed.  
- You can only do this action 3 times per turn.

### Attack

- Spend ## (2 dice) to do a spell or weapon attack against a target within range.  
  - Weapons/Spells have a 9  or higher bonus  
  - Some Weapons/Spells have a 4 or lower Detriment

### Jump

- Spend # (1 die) to do a jump. If you are standing you can jump a number of tiles equal to half your Body. On a Running jump (long jump) you may jump a number of tiles equal to your Body +1.

### Lock a Dice

- Spend # (1 die) to lock that dice.  
  - You may only ever have 1 Locked dice at a time.  
  - Locking a dice while having a Locked dice will replace the old dice with the new dice.  
- You may later unlock that dice to use in combat, spend on abilities, or as a bonus dice out of combat.

### Hide

- Spend ## to do a Thieving check. 
  - On a Partial Success, you become Hidden until you attack, cast a spell, or are discoverd.
  - On a Success, you become Fully Hidden (See Hidden), until you attack, cast a spell, or are discoverd.


### Hunker Down

- You can only do this action while next to an object or wall. This object or wall must cover half your body.
- Spend # to Hunker Down. While Hunkered Down you are Obscured.
- If you, or your cover, move or are moved, you are no-longer Hunkered Down.



## Combat

Combat is split up into Rounds, each Round lasts 10 seconds and has 3 phases; Beginning which is where they take damage or effects from Stack Effects and roll their COMBAT DICE. Their Action phase which is where they can spend COMBAT DICE to do actions. Lastly their end phase, which is where they loose stacks or effects.

### Initiative

All creatures in combat must roll Initiative to see when they may do their Actions in Combat. 
This value is calculated by rolling ## (2 dice) then adding the characters Speed. Ties are decided based on the creatures base Speed (highest first). Players always win if speeds are the same.
Whichever creature has the highest Initiative goes first. Once all creatures have gone the Round is over and it goes back to being the first creatures turn.

The world and vehicles (earthquakes, neutral NPC's, carts, and other creature related actions) always go last in Initiative.



### Action Dice (AD)

At the beginning of your turn you roll an amount of dice based on your __COMBAT DICE__ (Temp name). COMBAT DICE can be calculated as 4+(lvl/2) [rounded down].
You can spend these dice to do actions in Combat. Every action asks for a different amount of dice, denoted next to the Action as a number of #. Depending on the action taken the values for the dice may or may not matter.
: For example, when you take/use the action Bull Rush it requires you to give it ##, or two dice. These dice values do not matter as you will always do its effect. On the other hand the Dagger Master trait asks for #, one dice, but requires a 6 to do its effect in combat.

Attacks and Contests count as ## (2 dice), Movement counts as # (1 dice), and Spells and Traits have varying amounts, which are listed next to them under Dice.



### Attack Dice Values Matter 

All weapons have special actions when you wield them. In order to be able to get this effect you must have the required Stat values, denoted next to the weapon. If you don't have these requirements you can still use the weapon but you only get the 4 or less effect regardless of dice values given.

On Attacks when you give ## (2 dice) you take the sum of these dice, sometimes giving special effects. Higher sums are better than lower sums. By default the high value is 9 and the low value is 4.
: For example a sword (short or long) does 1 extra damage on a 9 or higher, and 1 less damage on a 4 or lower.


### Damage and Armor

Your Health is how much you can take before you are put on Death's Door, and is calculated by <span style="font-family: monospace; font-size: 1.3em">Health = Level + 4*Body + 3*Mind + 2*Soul</span>

Armors give special bonuses based on the type of armor. The most prevalent bonus is a special set of Health called **Armor Stacks**. Different armors provide a varying amount of Armor Stacks. 
Armor Stacks are reduced before you take normal Health loss. Unlike normal Health Armor Stacks cannot be regained from Healing Items or most Spells.
You can have a max of 75 Armor Stacks (Temp number) at any given point in time.
- Armor Stacks do not reduce damage from, Falling, Drowning, Armor Penetration, or excess Soul Strain.


Other armors provide **Dodge**. When you take damage while having stacks of Dodge you may choose to you may reduce the damage taken in half (rounded up) then reduce Dodge by 1.
- Dodge does not reduce damage from, Burn, Bleed, Knockback, Drowning, or excess Soul Strain.


Lastly most Soul armors provide **Ward**. When you gain stacks of Blinded, Burning, Marked, Poisoned, Silenced, Slow, Stunned, or Wet you may reduce the number of Ward you have by 1 to negate gaining the stacks.
You cannot remove stacks with ward once you have gained them.
You may only have a max of 4 Ward at any given point in time.



<span style="font-family: monospace; font-size: 1.3em">All effects from Armor are regained at the end of a Rest.</span>


### Death's Door

When you are on 0 or less life you are put on Death's Door. While on Death's Door your have a normal Speed of 2 and every time you take damage while on Death's Door you roll a dice. If you roll equal to or less than the Death's Door value you Die, otherwise you increase Death's Door by 1.
: For example if you are on Death's Door and roll a 3 you live another turn and are on Death's Door 2.
: Another example is if you are On Death's Door 5 and roll a 2 you Die.
Death's Door only goes away if you do a Rest.


# Traits

Traits are the bread and butter of FogLight. They allow you to change and manipulate not only yourself but the world around you. Every Trait is unique and allows for complex play styles to form. 

Every Trait can be associated with one or multiple of the Core Stats and Sub-stats. 
Depending on the power of a Trait they are given different requirements. They range from 1 in a Core or Sub Stat to 4 (the maximum a Stat can be).
Additionally, depending on what Stat they associate with, they have a specific theme. These rough themes are listed below. However keep in mind any Trait does not necessarily have to stick to that theme if a character would work well with it.

A full listing of Traits is listed under Traits Tables, or in the table page given in the header.

***Every level you acquire a new Trait. You must have the requirements to take the selected Trait.***

# Arts and Strain

Arts are special uses of your Body, Mind, and Soul. Using an Art can change the way an encounter pans out, sometimes significantly. When you use an Art you are forcefully manipulating your Body, Mind, or Soul in a way which it was not meant to move. 
This is where Strain comes from, as the manipulation of Arts is not without consequence. As such, when a creature or item casts or uses Arts, they may spend an amount Strain based on how strong the Art they activated is (denoted next to the Art). 
Depending on how much they have trained their Core Stats they may start to take damage from activating an Art. 
A creature takes an amount of damage based on how much Strain they have under 0. 
This damage is taken before the Art's effect occurs, and the damage affects Health only which cannot be reduced. (Armor Stacks, Dodge, Ward, and other effects do not reduce this damage)
You know a number of different Arts equal to 2 times your their respective Stat, and your ***Max Strain is equal to 2x Body + 3x Mind + 4x Soul***. Though some Traits, or Items can increase these slightly. 
You regain all your Strain when you finish a Rest.


## Techniques

The physical moves that tolls a Body. These can be extremely simple, such as giving a Speed boost, to something as complicated as an Aura. 
***You know a number of Techniques equal to 2x Body, and must cost your level +1 Strain or less. Techniques can only be changed out during a Levelup.***

## Insights

The mental manipulation that stretches a Mind. These tend to effect dice values, or how one sees a scene. 
***You know a number of Insights equal to 2x Mind, and must cost your level +1 Strain or less. Insights can only be changed out during a Levelup.***

## Spells and Magic

Magic is the ability to control souls, both your own and others, to affect the world around you. Every creature, object, or place has a soul. Though typically only creatures are able to directly control souls.
As of now there are only three known ways to control souls: Strange grand movements which physically change the shape of souls, using Light to suppress or enhance souls, or through the writing of Runes on items to bring out the item's latent soul.
There are a number of ways to learn how to do magic. Some mages learn through intense study and hard work. Others learn how by tradition or special dances. Even more are born with such knowledge or even find them by sheer coincidence.

***You know a number of Spells equal to 2x Soul, and must cost your level +1 Strain or less. Unlike other Arts, Spells can be changed out after the end of a Rest.***


# Items
## Equipped Items
You can only have one item equipped in the following slots: Head, Neck, Armor, Hands, Feet, and Tool.

You can have 2 equipped weapons. You cannot wield 2 weapons that both have the tag Two Handed. For the purposes of equipped items a shield counts as a weapon. You can switch out an equipped weapon by spending ### (3 dice) in combat.

(OPTIONAL) - You can only equip two Consumable items. You can use items from your bag by spending # to equip them. 

A listing of what every Item tag does can be found <a href="#item-tags">below</a>.


## Runes
Runes are powerful tools and can vastly change how an item works. This does come at the cost of drawing out the latent magic within the item. From this only 1 rune can be applied to most items. Some items can be refined or augmented to improve the flow of magic. In this case you cannot apply multiple of the same rune to an item.
	
Attempting to apply runes to creatures usually results in catastrophe. As such you cannot apply runes to living things without special training (Traits).
	
Applying a Rune to something is nearly instant. However, removing a Rune takes a large amount of labor. As such you can only remove a Rune at the end of a Rest.

Runes can be found in the world, purchased from arcanists, crafted, or generated from abilities (Traits).


## Bound Items
Bound items are items that magically tie themselves to their user. Like other forms of magic, this strains the bound creature and item. As such an item can only be bound to 1 creature at a time, and a creature can only be bound to 3 items at a time.

Bound items have different ways of binding to them. A simple example may be: Have this item equipped during the course of a Rest. You can unbind to an item at any point. However, once unbound you must redo the steps needed to bind to the item. Unbinding does not cost dice or Strain. Though, cursed bound items cannot be unbound willingly.



# Rest and Travel
## Rest

When you spend 8 or more hours doing non-extraneous effort, such as sleeping or relaxing, you gain the effects of a Rest. 
Rests do not need to be completed all at once, and can be broken up into multiple segments of at least 2 hour increments. 
However, you can only Rest up to twice a Day.
You must Sleep for at least 6 hours every day. This time is apart of a rest.


When you complete a Rest you gain the following bonuses:
- You fully heal, and regain all Armor effects such as Armor Stacks, Dodge, and Ward.
- You loose all non permanent Stack Effects, such as Wet or Soul Strain (these are just 2 examples. See Stack Effects for more).
- You regain all uses of spent Trait effects. (Some traits will say "You can do this a number of times per Rest")
- You loose all Stacks of Death's Door



## Travel

When moving long distances you move based on the average of all party member's Speed (rounded down). For example if a party has 3 people with speeds of 7,6,4 then the travel speed is 5.

Large grid is used when dealing with travel. A large tile is 2,160x2,160 tiles. Medium tiles are 36x36 tiles (can be used to move per minute). __If your using hex like a chad then its the same but in hex shape.__
Every Hour your party can move a number of Large tiles equal to your Party Travel Speed, mentioned above. 
Alternatively, your party can move 1 tile faster at the cost of being permanently Marked for the duration of travel. This condition lasts into combat if you get ambushed.
Or your party can move 1 tile slower to try to Hide during travel. You can roll Nature or Thieving for this check.

When using Boats, Riding Animals, Carts, Cars, or some similar vehicle you replace your speed with that of the vehicle.

How to handle events during travel. First decide a destination and route. Count the number of tiles it would take to get there. You then may make a number of events based on how far they travel and how fast they move. 
A good method for this is dividing the distance by the party speed, or by deciding a set number of events to give. 
Events can be classified as combat, exploration, roleplay, or location based events.
 - Combat is... well combat. A good example is having the party get ambushed by bandits, or finding a pack of wolfs.
 - Exploration is any unmarked location (or generally named location; such as the Plains of Vorg) that you may add flavor or checks to. A good example would be a breaking bridge over a chasm, or a "shortcut" through a cave.
 - Roleplay may be meeting new people or having the party sit by the campfire telling stories. This may lead to combat or will just be something for the party to experience. A good example would be finding a traveling circus.
 - Locations are any major, or minor, places that are marked on a map. This can be a known town, ancient ruin, or some other marked location on the map.



# Stats

## Basic Stats

### Health

- How much Damage you can take before going on Deaths Door.   
- Equals **4xBody + 3xMind + 2xSoul + Your Level**

### Armor

- How much Damage you take before losing Health  
- Dependant on Armor  
  - Heavy armor typically gives 4xBody + 3xMind + Your Level Armor   
  - Medium armor typically gives 2xBody + 2xMind + Your Level Armor   
  - Light armor typically gives Dodge Stacks and Your Level Armor   
  - Clothing typically does not give Armor

### Max Strain

- How much Strain you are able to gain before you take Strain damage.  
  - When you have more Strain then your Max Strain you take health damage equal to how much extra Strain you have.  
  - For example if your Max is 5 and you have 7 Strain you take 2 damage  
- Equals **2xBody + 3xMind + 4xSoul**

### Speed

- How many tiles you move when you do the Move action.  
- The bonus you add to Initiative for combat  
- Based on Traits and Armor worn  
  - Heavy typically gives -2.  
  - Medium typically gives -1.  
  - Light typically has no impact.  
  - Clothing typically gives +1.

## Main Stats

### Body

- A Main Stat.  
- Used for physical actions, such as pushing, pulling, or lifting.

### Mind

- A Main Stat.  
- Used when talking about mental actions, such as remembering something, doing puzzles, or discovering new things.

### Soul

- A Main Stat.  
- Used when dealing with magic, arts, religion, or wisdom based rolls.

## Sub Stats

### Arcana

- A Sub-Stat.  
- Used when dealing with magic items, runes, older languages, or potions.

### Charm

- A Sub-Stat.  
- Used when interacting with other characters. Such as for intimidation or diplomacy.

### Crafting

- A Sub-Stat.  
- Used when crafting new items (see Crafting Items), identifying non-magical items, or using complex items (such as an airship or crane).

### Medicine

- A Sub-Stat.  
- Used for healing others or investigating strange illnesses or poisons.

### Nature

- A Sub-Stat.  
- Used for tracking, identifying natural things, or for gathering/scavaging.

### Thieving

- A Sub-Stat.  
- Used when trying to break the law. Such as pickpocketing, stealing, or being sneaky.


# Making a Character

## Level 1

Pick an Origin, listed below.
Then gain 2 Core Stat increases (Body, Mind, Soul), 4 Sub-Stat increases with any stat being a max of 2 (Arcana, Crafting, Charm, Nature, Medicine, Thieving), and 3 Traits you meet the requirements for.
Lastly you gain an assortment of items. ***At level 1 all items taken must be non-magical and have a rarity of uncommon or common.***
You may take either: 2 Weapons or 1 Weapon and a Shield.
Then gain Armor of your choosing, 30 gold, a Bandage, an item with the Tool tag, and two other items.

<div className="flex justify-center flex-col bg-dark-400 rounded-lg p-4">
<span className="font-mono text-lg">Health = Level + 4*Body + 3*Mind + 2*Soul</span>
<span className="font-mono text-lg">Strain = 2*Body + 3*Mind + 4*Soul</span> 
<span className="font-mono text-lg">You may know a number of Techniques (Body), Insights (Mind), or Spells (Soul) equal to twice their respective stat.</span> You cannot take Techniques, Insights, or Spells that have a Strain cost higher than your Level+1. 
</div>


## Leveling Up!

Every level gain 1 new Trait that you meet its requirements for.
Every even level gain an additional Combat Dice.
Every odd level gain +1 to a Main-Stat, +2 to a Sub-Stat or +1 to two different Sub-Stats, and gain 2 new Techniques (Body), Insights (Mind), or Spells (Soul) based on which Main-stat you increased. 
**No Main or Sub Stat can be higher than 4.**

<div className="flex justify-center flex-col bg-dark-400 rounded-lg p-4">
<span style="font-family: monospace; font-size: 1.3em">Remember to update Health, Armor, Strain, and any Arts you have.</span>
</div>


## Useful Level Table
| Level | Main/Sub Stat Increases | Total Stat Increases | # of Traits | Combat Dice |
| --- | --- | --- | --- | --- |
| 1 | +2/+4 | 2/4 | 3 | 4 |
| 2 | - | 2/4 | 4 | 5 |
| 3 | +1/+2 | 3/6 | 5 | 5 |
| 4 | - | 3/6 | 6 | 6 |
| 5 | +1/+2 | 4/8 | 7 | 6 |
| 6 | - | 4/8 | 8 | 7 |
| 7 | +1/+2 | 5/10 | 9 | 7 |
| 8 | - | 5/10 | 10 | 8 |
| 9 | +1/+2 | 6/12 | 11 | 8 |
| 10 | - | 6/12 | 12 | 9 |

# Status Effects

## Duration Effects

*Things that may change how you play. May have a duration when applied.*

### Focus

- You are concentrating on an Art over a long period of time.  
- You lose Focus when you gain any amount of Stun, gain stacks of Deaths Door, or through specific Arts such as the spell Daydream.

### Windup

- Similar to focus except you are preparing to do something next turn.  
- You lose Windup when you gain any amount of Stun, gain stacks of Deaths Door, or through specific Arts such as the spell Daydream.

### Prone

- You cannot do or be effected by ranged actions (such as attacks, spells, or effects) that have a sum of 8 or less.
- You cannot do attacks that have a sum of 8 or less.
- Your Speed is set to 2.
- You must give # to go prone or stand up. This counts as a Move action.

### Grappled

- You cannot target anything other than the thing grappling you.  
- You may give ## to do a Body contest against the target grappling you. On success, you are no longer Grappled.  
  - Some Spells or Traits let/force you to roll other stats in the contest instead of Body.

### Obscured

- You cannot do or be effected by ranged actions (such as attacks, spells, or effects) that have a sum of 8 or less.
  - Ranged actions made within 1 tile are excluded.
- Your identity is unknown except by creatures within 1 tile of you, or if you announce yourself.

### Hidden

- You cannot be targeted by ranged actions.  
  - Attacks, spells, effects, etc.  
- You cannot be detected while people are not looking for you.  
- If you are Fully Hidden you do +3 damage on the next attack you do, this removes Hidden.
- You lose Hidden if you: Attack, Cast an Art, Activate a non-Thieving ability, or do a similar action.

### Marked

- Attack sums against you have +1 to the total value.
- Some Traits and Arts do apply deferent effects to Marked targets.

### Hover

- You float off the ground. You are immune to ground effects, such as Rough Terrain, or traps, and you cannot become Prone.

### Flying

- You can move your Speed in the Air.

### Silenced

- You cannot Speak, activate Arts, or give dice to Traits.

### Light Headed

- You cannot activate Windup or Focus abilities or Arts.  
- If you are Winding up or Focusing on something you drop the Windup/Focus.

### Invisible

- You cannot gain stacks of Marked, and lose any you have when becoming Invisible.  
- You are permanently Obscured.  
- You cannot be found when someone Searches unless you are within 2 tiles of them.  
- You cannot be seen by anything except through magic.

### Incorporeal

- You can not interact with the normal world, but can still see it.  
- You cannot do or take damage from non-magical sources.  
  - You can take/do non-magical damage from/to other incorporeal things.  
- You are able to force your way through walls and floors as if it was Rough Terrain.  
- While incorporeal you can only interact with other Incorporeal things.  
- You do not leave traces, and cannot be tracked.

### Blind

- You cannot see, failing any roll that requires sight.  
- You cannot target anything unless you Search First.  
- You cannot do attacks that have a sum of 8 or less.  
- Reduce by 1 at the end of your Turn.

### Poisoned

- You do 1 less damage from weapon or spell attacks.
- You have -1 on all Body rolls.

### Sparking
- You take 1 damage for every one (dice value of 1) you roll, unlock, or generate.
- This effect can happen multiple times per roll, and goes off on ALL rolls.

### Glowing

- You cannot become Obscured except by solid objects such as walls.  
- You cannot become Invisible or Hidden.  
- Reduce by 1 at the end of your Turn.


## Stack Effects

*Effects that are based on the amount of stacks you have.*

### Burn

- Take damage at the start of your turn for every stack of Burn  
- Spend ## to remove all stacks of Burn  
- Reduce by 1 at the end of your Turn.

### Bleed

- Take damage at the start of turn for every stack of Bleed.  
- Remove all stacks of Bleed when you are Healed  
- Reduce by 1 at the end of your Turn.

### Stun

- Roll less dice at the start of your turn for every stack of Stun.  
- You cannot gain Stun the turn after you are affected by Stun  
- Remove all stacks at the end of your turn.



### Slow

- Reduce your Speed by the amount of Slow you have.  
- Remove all stacks at the end of your turn.

### Wet

- Removes or Prevents having/gaining stacks of Burn equal to the amount of wet  
  - 1 Wet prevents 1 Burn  
- Some Spells and Traits do special effects off of Wet Stacks  
- Reduce by 1 at the end of your Turn.


### Death's Door

- When you take damage, roll a Dice. If you roll equal to or less than the number of Death's Door stacks you have You die. Otherwise increase Death's Door by 1.  
- Your default Speed is set to 3 unless it is Lower.  
- Remove all stacks of Deaths Door when you Rest.



# Mysc Rules

## Followers

There are many forms of Follower, familiars, summons, undead, pets, random NPC's you picked up along the way, and more.

Out of combat followers act as expected. For example undead and familiars mill about waiting for their owner to give instructions, NPC's will give input or advice, and pets will... well, be pets. 

However, when the followers do their turn in combat you lump all of them into 1 group rather than individually, and combine all of their health together into one pool. All followers then use the same 3 dice rolled, acting as if they rolled those dice (though they may do different things with said dice). If the group was to take enough damage for one to die, unless it was targeted specifically, roll a dice to decide which dies.


If it would make more sense to do multiple groups, assuming your GM allows it, you may use these same rules to make multiple groups. A good example of this may be with undead vs familiars.


## Crafting Items

In order to craft something you need to spend half the cost of the item, and do a number of successful Crafting rolls equal to the item's Crafting score. Every time you roll to craft an item you must spend an amount of time based on the rarity of the item (listed below). Only a Success counts when making items, Partial Successes do not increase how far along the item is made.  

A default crafting roll cannot make weapons, armors, alchemical items (such as potions), complex items, runes, or magic items. For that you will need to own a set of specialized Tools. However, once you have these Tools you can begin to craft one of these items.
To craft weapons and armors you need a suficent heat source (GM dependent) and a set of Smithing tools.
To craft potions or other alchemical items you need a set of Alchemist tools. Alchemical items, such as potions, can be crafted using Arcana, or Crafting rather than just Crafting. Similarly, Medicine items, such as a bandage, can be crafted using Medicine or Crafting.
To craft complex items you need a set of Tinkers tools.
Lastly to craft runes and magic items you need a set of Runecarvers tools.

	1 minute for a common item.  
	10 minutes for an uncommon item.  
	1 hour for a rare item.  
	1 day for a legendary item.

## Knockback and Fall Damage

When a creature falls or is knocked back, such as from a weapon with knockback, into a solid surface (wall/floor).
Creatures can fall or be knocked back 3 tiles before they take damage. If a creature falls 4 or more tiles they take damage equal to how many tiles they fell. For instance if you where to fall off a short building (3 tiles) you would be fine, however if you where to fall off a 2 story building (6 tiles), you would take 6 damage.

This is true of Knockback. If a creature would be knocked back into a solid surface 4 or more tiles they take damage equal to how much movement they cannot move. For instance if you knocked someone 8 tiles back, but they can only go 3, then they will take 5 damage (3 tiles to the wall, 5 tiles "into" the wall).

## Rough Terrain
Some areas, spells, and effects grant or are rough terrain. When a character moves through this they must spend 2 tiles of movement for every 1 tile they wish to move.

Some examples of this are swimming, climbing, going through thick mud, or dense plant-life.


## Mounts and Vehicles
You can use any creature with the Mount trait as a mount. Mounting or dismounting costs a movement # (1 Movement dice).

While mounted you may replace your speed with the Mounts/Vehicle speed, and when you move the Mount/Vehicle moves with you. Mounts do not count as Followers while mounted and so do not get a turn after you.
Additionally, you may use any ability or effect the Mount/Vehicle has while mounted. For instance if I have a dragon mount I can spend ### (3 dice) to use its Fire breath.

Creatures target you or your Mount/Vehicle separately when doing attacks, checks, or contests.


## Weather Conditions
Weather conditions are effects the GM may give to a particular area to give special effects to it. These are a few of the most common effects that may occur. Your GM may have more weather conditions that are not on this list.

Every Weather Condition, excluding Clear, has 3 types to it, Heavy, Medium, and Light.

### Clear
No special effects are present.

### Snowfall
- Blizzard (Heavy) - All Terrain is Rough Terrain if not in shelter. All creatures gain 2 stacks of Stun at the end of their turn if in the Blizzard.
- Snow Storm (Medium) - All water turns to ice and becomes Rough Terrain if not in shelter. All creatures gain 1 stack of Stun at the end of their turn if in the Storm.
- Light Snowfall (Light) - All water turns to ice and becomes Rough Terrain if not in shelter.

### Rain
- Torrential Rain (Heavy) - Everything gains 1 stack of Blind, and 5 stacks of Wet at the end of their turn if in the Torrential Rain.
- Rainfall (Medium) - Everything gains 3 stacks of Wet at the end of their turn if in the Rain.
- Light Rain (Light) - Everything gains 1 stack of Wet at the end of their turn if in the Rain.

### Winds
- Tornado (Heavy) - A Tornado rips across the land. It moves 8 tiles in a random direction and is 5 tiles wide. Anything that is within its area when it moves is thrown 12 tiles away from the Tornado. 
- Sand/Dust Storm (Medium) - All creatures gain 1 stack of Blind at the end of their turn if in the Storm.
- High Winds (Light) - All attacks are reduced by 1, to a minimum of 1 if in the winds.

### Sun
- Overbearing Heat (Heavy) - All Terrain is Rough Terrain if not in shelter. All creatures loose 5 stacks of Wet at the end of their turn if in the Sun.
- Rainfall (Medium) - All creatures loose 3 stacks of Wet at the end of their turn if in the Sun.
- Light Rain (Light) - All creatures loose 1 stack of Wet at the end of their turn if in the Sun.




# Item Tags

*These are the tags you will commonly see on items.*

## Weapon Tags

| Tag | - | Effect | 
| --- | --- | --- |
| **Damage** | | How much damage weapons do when they hit the target. |
| **Two Handed** | | Requires two hands to be able to use. |
| **Range** | | How many tiles away the item will affect. Weapons can target anything within this range. Weapons with this tag are Ranged Weapons. |
| **Reaching** | | How many tiles away the item will affect. Weapons can target anything within this range. Weapons with this tag are Melee Weapons. |
| **Throw Range** | | How far you can throw the item. |
| **Glow** | | Can be activated with # (1 die) to light up everything within 2 tiles. Items with Glow can be used to cast Spells. |
| **Loading** | | How many times the item can be used before requiring you to spend # (1 die) to reload. |
| **Autoload** | | Fully reloads at the end of your turn. |
| **Launcher** | | Can be used to launch tiny or small items a number of tiles equal to its Range or Throw Range. |


## Armor Tags

| Tag | - | Effect |
| --- | --- | --- |
| **Speed** | | How much Speed you gain/lose when equipping the item. |
| **Dodge** | | Can be spent when taking damage to reduce damage by half (rounded up). Gained at the end of a Rest |
| **Ward** | | When you gain stacks of: Blinded, Burning, Marked, Poisoned, Silenced, Slow, Stunned, or Wet; you may choose to not gain these stacks and reduce your Ward by 1. Gained at the end of a Rest. |
| **Heavy Armor** | | The type/amount of armor you get at the end of a Rest. Gives an amount of Armor equal to 4xBody + 3xMind + Your Level  |
| **Medium Armor** | | The type/amount of armor you get at the end of a Rest. Gives an amount of Armor equal to 2xBody + 2xMind + Your Level  |
| **Armor** | | The type/amount of armor you get at the end of a Rest. Gives an amount of Armor equal to your Level. |
| **Clothing** | | A tag used to denote that you gain no armor but more stacks of Dodge and Ward. |


## General Tags

| Tag | - | Effect |
| --- | --- | --- |
| **** |  |  |
| **** |  |  |
| **** |  |  |
| **** |  |  |
| **** |  |  |
| **** |  |  |
| **** |  |  |
| **** |  |  |
| **** |  |  |
| **** |  |  |

# GM Advice

*This section is for new GMs who have never been a GM in any game or have never been a GM for this game.*

## Out of Combat

*Common things you may want to do when out of combat.*

### Partial Success

When a player rolls a 8-10 on any check it is called a Partial Success. Typically you should have the player succeed at whatever they are doing, however give a but. For example; When trying to quietly lockpick a door, have them unlock the door, but its hinges are squeaky and the noise emanates throughout the area.  
You can be as aggressive or passive about the Buts as you like. However, always have some negative things happen from the roll. Even if that negative thing is remembering just a fragment of info instead of the entire thing, it makes play more interesting for both YOU the GM and your players.

## Perception/Investigation

Typically there are 3 scopes of Perception/Investigation; Broad Scope (seeing something far away, or getting a bigger picture of an area), Local Scope (seeing a specific item in a cluttered room), and Close Scope (seeing a fingerprint on a mug, or a mistyped word on a page). It is good to split up perception/investigation rolls into these 3 scopes, as it lets you pick Body (Broad), Mind (Local), or Soul (Close) for which Main Stat to roll.   
It is also recommended offering a Sub-Stat option whenever doing a roll. For example if you are looking for a tower in a forest, a Body roll would work, but so would Nature. Alternatively, if you are looking at how someone died in a room, you could do Mind for the room, or Medicine to check the body. 

## Combat

### On Deck

When doing Turns for players it is a good idea to tell a player You're on deck. Which means that they are next in initiative. This lets players tune back into combat or prepare to do their turn, either by rolling their dice or by making a plan.

### Enemies

The game is designed to have enemies be scaled on level equal to a characters level. This means that a level 1 creature is "equivalent" to a level 1 player, while a level 6 creature is comparable to a level 6 player. 
Using this setting up combat based on creature level should be as strait forward as taking your parties total levels and making it as similar to the enemies total levels. Being within 1 level is recommended.
For instance if you have 4 party members of level 2, then their total levels would be 8 (4*2). If you wanted them to then fight 'Silverback Wolfs' (each at level 3) them you may want to have the party fight 3 of them (9 total level for the wolfs).
This should be a slightly difficult fight for the players, but still manageable.

It is recommended to make enemies have intertwined initiative amongst the players, that way you dont have the players doing one big turn and then the enemies doing one big turn. This will force you to fudge some numbers but it does have an overall more interesting turn order.  
Armor Broken, and Bloody enemies are good to help give your players a sense of how much damage they have done to the enemies. Armor Broken is when the target no longer has any Armor and is taking health damage. While Bloody is good for when the Enemy is on its last legs (typically 25% or less health).

### Making Enemies

Since this game is still in progress of being built, you may run into an issue of not having a creature you want to use. The best way I have found to make creatures is to first have an idea of what kind of creature you want to make. Then to make the creature set it to an appropriate level. If you are making the creature to fight a party then it is best to make it the same level or 1 less than the party. From there  
BEST STEPS TO MAKE CREATURE

* Determine type/idea  
  * Cow = animial  
  * Ghost = arcana soul  
* Determine wanted level  
  * If fighting party make it = or -1 level of the party  
* Do stats as normal  
* Pick 3 traits, maby more if needed.  
  * Ignore requirements if it makes sense.  
* Pick 3-4 Arts  
  * Too many arts will confuse you (GM) so keep it strong but simple  
  * Pick arts that give stacks and or arts that change the way the players will have to work  
    * For instance a monster that resurrects zombies (lich) makes combat more interesting and unique  
* Fudge the numbers  
  * For instance if you want a fast but tanky enemy give them some speed (from nowhere)  
* Yep


`;function AP(...e){return e.filter(Boolean).join(" ")}function CP({children:e,colorClassName:t}){const n=AP("flex h-6 min-w-fit px-3 items-start justify-center rounded-md text-light m-1 bg-aabase",t);return c.jsx("div",{className:n,style:{whiteSpace:"nowrap"},children:e})}function n0(e,t){return e?(e.endsWith(" ")&&(e=e.slice(0,-1)),e.split(t).map((a,r)=>{const i=a.split(" ");return c.jsx(CP,{colorClassName:"bg-"+i[0].toLowerCase(),children:a},r)})):""}function dl(e){return e.replace(/(?:\r\n|\r|\n)/g,"<br />"),NP(e)}function NP(e){const t=["body","mind","soul","arcana","charm","crafting","nature","medicine","thieving"];let n=e;for(const a of t)n=IP(n,a);return n}function IP(e,t){const n=new RegExp(`\\b(${t})\\b`,"gi");return e.replace(n,`<span class="text-${t} dark:text-${t}-700">$1</span>`)}const Vw=(e,t)=>typeof t=="string"?e+t:oe.Children.toArray(t.props.children).reduce(Vw,e),ki=e=>{const a=oe.Children.toArray(e.children).reduce(Vw,"").toLowerCase().replace(/['".()!/:,]/g,"").replace(/\W/g,"-");return oe.createElement(e.node.tagName,{id:a},e.children)};function lf(e,t){let n="";return e==null?n=t.toLowerCase().split(" ").join("-"):n=e,"#"+n}function uf({items:e}){return c.jsx("ul",{className:"ml-2 px-6 py-2 bg-body-900/50 dark:bg-dark-300/80 rounded-md",children:e.map(t=>t.collapsable?c.jsx(Qe,{as:"li",className:"w-full",children:({open:n})=>c.jsxs(c.Fragment,{children:[c.jsxs("div",{className:"flex ",children:[c.jsx(Qe.Button,{className:"",children:c.jsx(vC,{className:`${n?"":"-rotate-90 transform"} h-6 w-6`})}),c.jsx("a",{href:lf(t.anchorHref,t.name),className:dt("pr-6 md:pr-24 py-1",t.className??""),children:t.name})]}),c.jsx(Qe.Panel,{className:"",children:t.subItems&&c.jsx(uf,{items:t.subItems})})]})}):c.jsxs("li",{className:"w-full",children:[c.jsx("a",{href:lf(t.anchorHref,t.name),className:dt("pr-24 py-1",t.className??""),children:t.name}),t.subItems&&c.jsx(uf,{items:t.subItems})]}))})}function Yo({item:e,className:t}){const n=c.jsx("h3",{className:dt("ml-3",e.className??""),children:e.name});return c.jsxs("div",{className:dt(t??"","rounded-md whitespace-pre-wrap"),children:[e!=null&&e.anchorHref?c.jsx("a",{href:lf(e.anchorHref,e.name),children:n}):c.jsx(c.Fragment,{children:n}),(e==null?void 0:e.subItems)&&c.jsx(uf,{items:e.subItems})]})}const _P={name:"Main Rules",anchorHref:"main-rules",className:"",subItems:[{name:"Locking Dice"},{name:"Checks and Contests",anchorHref:"checks-and-contests",className:"font-semibold",collapsable:!0,subItems:[{name:"Checks"},{name:"Contests"}]},{name:"Default Actions",anchorHref:"default-actions",className:"font-semibold",collapsable:!0,subItems:[{name:"Perception and Investigation"},{name:"Search"},{name:"Arts"},{name:"Shove"},{name:"Grapple"},{name:"Move"},{name:"Attack"},{name:"Jump"},{name:"Lock a Dice"},{name:"Hide"},{name:"Hunker Down"}]},{name:"Combat",anchorHref:"combat",className:"font-semibold",collapsable:!0,subItems:[{name:"Initiative"},{name:"Action Dice (AD)",anchorHref:"action-dice-ad",subItems:[{name:"Attack Dice Values Matter"}]},{name:"Damage and Armor"},{name:"Death's Door",anchorHref:"deaths-door"}]},{name:"Traits",className:"font-semibold",collapsable:!0,subItems:[{name:"Traits Simple List",anchorHref:"traits-simple-listing",subItems:[{name:"Arcana",className:"font-semibold text-arcana dark:text-arcana-700",anchorHref:"traits-simple-arcana"},{name:"Charm",className:"font-semibold text-charm dark:text-charm-700",anchorHref:"traits-simple-charm"},{name:"Crafting",className:"font-semibold text-crafting dark:text-crafting-700",anchorHref:"traits-simple-crafting"},{name:"Nature",className:"font-semibold text-nature dark:text-nature-700",anchorHref:"traits-simple-nature"},{name:"Medicine",className:"font-semibold text-medicine dark:text-medicine-700",anchorHref:"traits-simple-medicine"},{name:"Thieving",className:"font-semibold text-thieving dark:text-thieving-700",anchorHref:"traits-simple-thieving"}]}]},{name:"Arts and Strain",anchorHref:"arts-and-strain",className:"font-semibold",collapsable:!0,subItems:[{name:"Techniques",className:"font-semibold text-body dark:text-body-700"},{name:"Insights",className:"font-semibold text-body dark:text-mind-700"},{name:"Spells and Magic",className:"font-semibold text-body dark:text-soul-700"}]},{name:"Items",className:"font-semibold",collapsable:!0,subItems:[{name:"Equipped Items"},{name:"Runes"},{name:"Bound Items"},{name:"Item Tags"}]},{name:"Rest and Travel",className:"font-semibold",collapsable:!0,subItems:[{name:"Rest"},{name:"Travel"}]}]},RP={name:"Stats and Skills",anchorHref:"stats-and-skills",className:"",subItems:[{name:"Basic Stats",anchorHref:"basic-stats",className:"font-semibold",collapsable:!0,subItems:[{name:"Health",className:"font-semibold text-body dark:text-charm-700"},{name:"Armor",className:"font-semibold text-body dark:text-thieving-700"},{name:"Max Strain",className:"font-semibold text-body dark:text-soul-700"},{name:"Speed",className:"font-semibold text-body dark:text-arcana-700"}]},{name:"Core Stats",anchorHref:"checks-and-contests",className:"font-semibold",collapsable:!0,subItems:[{name:"Body",className:"font-semibold text-body dark:text-body-700"},{name:"Mind",className:"font-semibold text-mind dark:text-mind-700"},{name:"Soul",className:"font-semibold text-soul dark:text-soul-700"}]},{name:"Sub Stats",anchorHref:"sub-stats",className:"font-semibold",collapsable:!0,subItems:[{name:"Arcana",className:"font-semibold text-arcana dark:text-arcana-700"},{name:"Charm",className:"font-semibold text-charm dark:text-charm-700"},{name:"Crafting",className:"font-semibold text-crafting dark:text-crafting-700"},{name:"Nature",className:"font-semibold text-nature dark:text-nature-700"},{name:"Medicine",className:"font-semibold text-medicine dark:text-medicine-700"},{name:"Thieving",className:"font-semibold text-thieving dark:text-thieving-700"}]}]},LP={name:"Making a Character",anchorHref:"making-a-character",subItems:[{name:"Level 1"},{name:"Leveling up!",anchorHref:"leveling-up"},{name:"Leveling Table",anchorHref:"useful-level-table"},{name:"Lineage Table",anchorHref:"lineage-table"}]},OP={name:"Status Effects",anchorHref:"status-effects",subItems:[{name:"Duration Effects",anchorHref:"duration-effects",collapsable:!0,subItems:[{name:"Focus"},{name:"Windup"},{name:"Prone"},{name:"Grappled"},{name:"Obscured"},{name:"Hidden"},{name:"Marked"},{name:"Hover"},{name:"Flying"},{name:"Silenced"},{name:"Light Headed"},{name:"Invisible"},{name:"Incorporeal"},{name:"Blind"},{name:"Poisoned"},{name:"Sparking"},{name:"Glowing"}]},{name:"Stack Effects",anchorHref:"stack-effects",collapsable:!0,subItems:[{name:"Burn"},{name:"Bleed"},{name:"Stun"},{name:"Slow"},{name:"Wet"}]}]},DP={name:"Mysc Rules",anchorHref:"mysc-rules",subItems:[{name:"Followers"},{name:"Crafting Items",anchorHref:"making-items"},{name:"Knockback and Fall Damage"},{name:"Mounts and Vehicles"},{name:"Rough Terrain"},{name:"Weather Conditions",collapsable:!0,subItems:[{name:"Clear"},{name:"Snowfall"},{name:"Rain"},{name:"Winds"},{name:"Sun"}]},{name:"GM Advice"}]};function PP(){return c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2",children:[c.jsx(Yo,{item:_P,className:"row-span-2"}),c.jsx(Yo,{item:LP}),c.jsx(Yo,{item:DP,className:"row-span-2"}),c.jsx(Yo,{item:RP}),c.jsx(Yo,{item:OP})]})}var mt=(e=>(e[e.Trait=0]="Trait",e[e.Item=1]="Item",e[e.Spell=2]="Spell",e[e.Creature=3]="Creature",e))(mt||{});const Kw=[{id:89,name:"rune maker",effect:`At the end of a Rest you can create up to 2 Uncommon Runes of your choosing. If you create different runes using this feature the oldest rune gets replaced. (Items can only have 1 Rune inserted at a time.) 
Additionally, you are able to read and write in Runic.`,req:["arcana 1"],dice:0,is_passive:!0},{id:91,name:"runic carver",effect:"At the end of a Rest you can create 1 Rare Rune and 1 Uncommon Rune of your choosing. If you create different runes using this feature you replace the previously made one of the same level. (Items can only have 1 Rune inserted at a time.)",req:["arcana 2"],dice:0,is_passive:!0},{id:90,name:"discover rune of soul skip",effect:`You have learned how to create a Unique Rune of Soul Skip. At the end of a rest, you can create 1 Rune of Soul Skip and apply it to an item. Only 1 instance of this rune can exist at any time and attempting to create a second will destroy the first.
Rune of Soul Skip: You can cast the Spell 'Soul Skip' without gaining Strain a number of times per day equal to your Arcana resetting at Dawn.`,req:["arcana 2","broken 0"],dice:0,is_passive:!0},{id:512,name:"arcane eyes",effect:"You have learned to see the arcane arts without the aid of magical tools. You can cast the Spell 'Detect Magic' without spending dice or gaining Strain a number of times per day equal to your Arcana. You regain all charges at the end of a Rest.",req:["arcana 3"],dice:1,is_passive:!1},{id:92,name:"runic master",effect:`At the end of a Rest you can create 2 Rare Runes of your choosing. If you create different runes using this feature the oldest rune gets replaced. (Items can only have 1 Rune inserted at a time.)
Additionally, you can apply 1 Rune to your own body. Your Fists gain any weapon bonuses, and your skin gains any Armor bonuses. This effect lasts even when wearing other armors.`,req:["arcana 4"],dice:0,is_passive:!0},{id:405,name:"aquatic",effect:"You can breath underwater without needing air, and you can swim your Speed.",req:["base 0"],dice:0,is_passive:!0},{id:393,name:"avian",effect:"You are able to glide 2 tiles for every 1 tile you fall. This effect does not work if your arms are hindered in any way (Being Grappled, caring something, ext.)",req:["base 0"],dice:0,is_passive:!0},{id:394,name:"beastkin",effect:"Increase your Speed by 1.",req:["base 0"],dice:0,is_passive:!0},{id:407,name:"constructed",effect:`Gain your Level additional Armor Stacks at the end of a Rest. 
Additionally, you may consume inorganic material as a food source.`,req:["base 0"],dice:0,is_passive:!0},{id:478,name:"draconic",effect:"When you lock a dice, increase its value by 1. This cannot increase a 6.",req:["base 0"],dice:0,is_passive:!0},{id:390,name:"generic humanoid",effect:"Pick an extra Skill that doesn't require more than 1 in a base skill (Body, Mind, Soul), you must still meet it's requirement.",req:["base 0"],dice:0,is_passive:!0},{id:481,name:"hell-born",effect:`After taking damage from Burn reduce it by 2 instead of 1.
Additionally, you know the Spell 'Firebolt'. This does not count against the number of known spells you may have.`,req:["base 0"],dice:0,is_passive:!0},{id:482,name:"light-born",effect:`Heal 1 more whenever you would Heal. 
Additionally, You can cast Glow at will. This spell does not count against the number of known spells you may have.`,req:["base 0"],dice:0,is_passive:!0},{id:479,name:"naga-kin",effect:`When you grapple a creature within 1 tile of you, you may Bite them (no cost) to give them Poisoned for a number of turns equal to your Level. 
Additionally, you gain an extra dice when trying to Identify an Illness or Curse.`,req:["base 0"],dice:0,is_passive:!0},{id:480,name:"nymph-born",effect:`You are able to have simple conversations with creatures that have the Animal Tag. 
Additionally, you know the Spell 'Control Elements'. This does not count against the number of known spells you may have.`,req:["base 0"],dice:0,is_passive:!0},{id:392,name:"seeker",effect:`You are mostly blind, only able to see things up to 2 tiles away. To counteract this you are able to see the Souls of living things up to 12 tiles away so long as they are not obstructed by solid objects such as walls. 
Additionally, you know the Spell 'Detect Magic'. This does not count against the number of known spells you may have.`,req:["base 0"],dice:0,is_passive:!0},{id:395,name:"undergrounder",effect:`You learn the spell Glow, and you can cast Fog Light once per Rest without gaining Soul Strain. These spells do not count against the number of known spells you may have. 
Additionally, you are small, and are able to squeeze into places you normally wouldn't. You act as half your size smaller when trying to get through or into a space you wouldn't fit in otherwise.`,req:["base 0"],dice:0,is_passive:!0},{id:51,name:"bloodhound",effect:`Gain 2 extra Speed when moving to a creature that has stacks of Marked or Bleed. 
Additionally, once per turn, refund 1 Strain when you damage a creature that has stacks of Marked.`,req:["body 1"],dice:0,is_passive:!0},{id:25,name:"climber",effect:`Can move your Speed up vertical walls without needing to roll Body.
Additionally, you no longer suffer a speed penalty when climbing up non-magical Rough Terrain.`,req:["body 1"],dice:0,is_passive:!0},{id:24,name:"hearty",effect:`Gain additional Max Health equal to your Body.
Additionally, when you roll Body to lift, pull, or push an object, you gain +1 to the roll.`,req:["body 1"],dice:0,is_passive:!0},{id:568,name:"parkourist",effect:`You can run along walls as if it was normal terrain. You cannot stop while on a wall otherwise you will fall to the ground.
Additionally, when you roll Body to Jump, add 2 to the distance jumped.`,req:["body 1"],dice:0,is_passive:!0},{id:47,name:"pitcher",effect:`Double the Throw Range for all items you Throw. Items that don't have a displayed Throw Range have a Throw Range of 3.
Additionally, once per turn, refund 1 Strain when you throw an item 12 or more tiles.`,req:["body 1"],dice:0,is_passive:!0},{id:28,name:"quick runner",effect:`Gain 1 additional Speed. 
Additionaly, refund 1 Strain when you spend ## (2) or more dice moving in a turn.`,req:["body 1"],dice:0,is_passive:!0},{id:53,name:"swimmer",effect:`Can move your Speed through normal liquids without needing to roll Body. 
Additionally, you no longer suffer a speed penalty for swimming through non-magical Rough Terrain.`,req:["body 1"],dice:0,is_passive:!0},{id:585,name:"walled off",effect:`Creatures of your choice may not move through tiles adjacent to you. They may, however, stop within this area, for instance in doing a melee attack.
Additionally, refund 2 Strain when you don't move or are not displaced by another creature or effect for 2 turns in a row.`,req:["body 1"],dice:0,is_passive:!0},{id:29,name:"battle ready",effect:`Gain +3 on Initiative rolls.
Additionally, when you roll to remember a battle or information regarding a battle, you may use Body instead of Mind for the roll.
`,req:["body 2"],dice:0,is_passive:!0},{id:32,name:"critical",effect:`When you roll two 6's for a Body check, you have Advantage on your next Body roll.
When you give two 6's (sum of 12) for a Melee Weapon Attack, you do an additional 4 damage for that attack.`,req:["body 2"],dice:0,is_passive:!0},{id:37,name:"defender",effect:`When you use the Technique 'Overwatch' to you hit a creature. That creatures Speed is set to 0 and they cannot move until the start of your turn. 
Additionally, you know if a creatures intentions are hostile without needing to do a Charm roll.`,req:["body 2"],dice:1,is_passive:!1},{id:31,name:"tag team",effect:`If you are within 1 tile of an Ally, both you and the Ally get +1 on Body checks.
Additionally, once per turn, refund 2 Strain when an ally attacks a target you damaged on your last turn.`,req:["body 2"],dice:0,is_passive:!0},{id:586,name:"whirlwind",effect:`You can move through dense crowds, or tiles that are occupied by creatures as if it was rough terrain.
Additionally, once per turn, refund 3 Strain when you do a melee attack against 2 or more creatures in a turn.`,req:["body 2"],dice:0,is_passive:!0},{id:34,name:"improved auras",effect:`Your Auras have an increased Range of 1 tile.
Additionally, you may do a Body contest against another creature, within 6 tiles of you, to give your aura to them. If you win, you give the creature your aura. This effect lasts for the aura's duration, or if you dispel it early. For the duration the creature acts as if it had your aura, and you do not gain the bonuses of your aura.`,req:["body 3"],dice:2,is_passive:!1},{id:23,name:"strong punches",effect:`Gain +2 damage on Fist Weapons.
Additionally, once per turn, refund 1 Strain when you do 3 or more Fist weapon attacks.`,req:["body 3"],dice:0,is_passive:!0},{id:43,name:"dagger master",effect:`When you climb a wall you may use a dagger to help climb, gaining +1 to the roll.
Additionally, you may give a 6 instead of giving ## (2 dice) when attacking with a dagger.`,req:["body 4"],dice:0,is_passive:!0},{id:587,name:"great weapon master",effect:`When you roll Body to push an item or break open a door, you may use a two-handed melee weapon as a lever and gain +3 to the roll.
Additionally, when you attack with a two handed melee weapon, you gain Reaching 2 and hit everything within your range.`,req:["body 4"],dice:0,is_passive:!0},{id:45,name:"hammer master",effect:`When you activate a Hammer's Weapon effect you can make the target go Prone instead of knocking them back.
Additionally, you can use Body instead of Crafting when using 'Smithing Tools'. (This can be used to create items.)`,req:["body 4"],dice:0,is_passive:!0},{id:588,name:"polearm master",effect:`Gain +1 Reaching on weapons that have Reaching.
Additionally, when you do a running jump you can do a Pole Vault with a Reaching weapon giving +4 to the distance jumped.`,req:["body 4"],dice:0,is_passive:!0},{id:689,name:"saving face",effect:`When you Fail a Charm roll you may instead spend 3 Strain to turn it into a Partial Success.
Additionally, when you Succeed on a Charm roll Refund 1 Strain. `,req:["charm 1"],dice:0,is_passive:!0},{id:112,name:"jackpot",effect:`When doing a roll, if you roll two dice of the same value you may lock a dice equal to that value.
Additionally, once per turn, when you roll 3 of the same dice refund 2 Strain.`,req:["charm 2"],dice:0,is_passive:!0},{id:118,name:"shock and awe",effect:`Do a Charm contest against a creature you can see. If you win, the creature gains 3 stacks of Stun. If you lose, the creature gains 1 stack of Stun.
Additionally, when you first begin a Performance you may Lock a 6 if you succeed or a 3 if you fail.`,req:["charm 2"],dice:2,is_passive:!1},{id:114,name:"first impression",effect:`When interacting with a creature for the first time, you gain an additional dice to the first Charm roll you make against it.
Additionally, when you use this bonus dice on a charm roll, you are able to discern their social status, occupation, current mood (even if its being concealed), and opinion of you.`,req:["charm 3"],dice:0,is_passive:!0},{id:113,name:"universal language",effect:"You can attempt to converse with Humanoids, Planar, Monstrosities, or Mythic creatures who cannot understand your spoken language. You may do a Charm roll to have simple conversations with these creatures. This does not let you learn their language only converse with them.",req:["charm 4"],dice:0,is_passive:!0},{id:130,name:"rocket jump",effect:"You take half damage from explosions you detonate (rounded up). The explosions you create can be used as tools for propelling yourself through the air. Whenever you detonate an explosion within 1 tile of yourself, you can launch yourself in a direction of your choosing up to 4 tiles. If the explosion would give you knockback, such as with the Poprocks Spell, you can replace this distance with the knockback from the explosion.",req:["crafting 1"],dice:0,is_passive:!0},{id:763,name:"slapdash solutions",effect:"Spend ## (2 dice) and 3 Strain to make any non-magical non-alchemical item you could craft with Tools you own. For example if you have 'Tinkers Tools' you can create complex items such as an alarm clock. However, if you have 'Tinkers Tools' but are missing 'Smithing Tools' you cannot create a revolver. The item lasts for 1 minute (6 turns) before it breaks apart.",req:["crafting 1"],dice:2,is_passive:!1},{id:599,name:"steam suit",effect:`Upgrade your armor with steam enhancements. Depending on armor type you will get a different bonus.
Clothing - Toolbelt - Refund 1 Strain when you use a grenade, potion, or tool.
Light - Steamjet Boots - Spend 1 Strain to Hover for 1 minute (6 turns). You do not lose height while this is active.
Medium - Steampack - You gain +3 Max Strain.
Heavy - Pneumatics - Spend 2 Strain to have +1 on Body rolls and +1 Speed for 1 minute (6 turns).`,req:["crafting 1"],dice:0,is_passive:!0},{id:133,name:"tunneler",effect:`Spend ## (2 dice) and 1 Strain to roll Body or Crafting. 
If you get a 7 or higher: Remove 1 tile cubed worth of soft material such as dirt or lose stones.
On an 11 or higher: Remove 1 tile cubed worth of dense material such as constructed stone or thick wood.
On a 14 or higher: Remove 1 tile cubed worth of reinforced material such as metal walls or solid stone, or 2 tiles cubed worth of soft material.`,req:["crafting 1"],dice:2,is_passive:!1},{id:657,name:"crafting genius",effect:"When you roll Crafting to make an item, Partial Successes give 1 crafting stack. While Successes count for 2 stacks instead of 1.",req:["crafting 2"],dice:0,is_passive:!0},{id:436,name:"remote control",effect:`You can control complex items, traps, and other mechanical things from up to 8 tiles away. You are able to do 'Understand a Contraption' rolls from up to 8 tiles away so long as you can see the contraption. If you have controlled the contraption in the past you may do this roll without seeing it.
If you made the contraption, you may do this roll with # (1 dice) rather than ## (2 dice).`,req:["crafting 2"],dice:2,is_passive:!1},{id:526,name:"steam power",effect:`At the end of a Rest you can create 1 of 3 specialty weapons and 1 of 3 specialty tools. You may only have 1 special weapon and tool at a time. See Items for more info. 
Weapons: An 'Impact Lance'; a lance with extreme knockback, a 'Steamburst Rifle'; a super long range steam powered rifle, or the 'Steamthrower': a steam based Flamethrower.
Tools: 'Grappling Hook'; a harness and pressurized grapple gun, 'Portable Fog Machine'; a high powered fog bomb, or a 'Mobile Spotlight'; the BIG flashlight.`,req:["crafting 2"],dice:0,is_passive:!0},{id:524,name:"explosive expert",effect:`Grenades you create or throw have an additional 1 tile effect radius, and stacks given (such as bleed or blind), knockback, or damage done is increased by 1.
Additionally, you have learned about complex explosives. You may roll a Crafting roll to Identify any explosive you can see. (You learn its name, effect, and source) This does not set off the explosive and can be used to gain an extra dice when trying to disarm it.`,req:["crafting 3"],dice:2,is_passive:!1},{id:764,name:"build them, break them",effect:`You learn the spell 'Quick Repair' and can cast it without spending Strain. This spell does not count against the number of spells you know. 
Additionally, you do an extra 2 damage to objects and Constructs.`,req:["crafting 4"],dice:0,is_passive:!0},{id:633,name:"field medicine",effect:`Spend # (1 dice) and 1 Strain to target a creature within 1 tile of you. Heal 1 and remove all stacks of Bleeding from the creature.
Additionally, crafting healing items costs a quarter of the normal gold cost rather than half.`,req:["medicine 1"],dice:1,is_passive:!1},{id:185,name:"medicinal cooking",effect:`At the end of a Rest you can make up to 2 times your Medicine 'Treats'. These 'Treats' heal 3 and remove all stacks of Bleeding when eaten. 'Treats' last until the end of your next Rest and become mush after this time.
Additionally, you may do a Medicine roll to see if any food or drink has been poisoned within 3 tiles of you.`,req:["medicine 1"],dice:0,is_passive:!0},{id:191,name:"placebo",effect:`Spend # (1 dice) and 2 Strain to give a creature within 6 tiles of you Armor equal to your Medicine. The creature cannot gain this Armor again until the end of their next Rest.
Additionally, you gain +1 to Charm rolls when discussing medicine.`,req:["medicine 2"],dice:1,is_passive:!1},{id:186,name:"professional cook",effect:`When you make food using the Cooking action you may make 3 more meals than normal. 
Additionally, you may add 4 to any Cooking roll you do.`,req:["medicine 2"],dice:0,is_passive:!0},{id:192,name:"trained medic",effect:`When you heal with a Bandage or Medkit, increase the healing by half your Level (rounded up).
Additionally, you may spend ## (2 dice) do a Medicine check to Identify any wound you come across. On Success you learn its effect, source, and age (how long it has been since the wound was made). On Partial Success you learn one of these.`,req:["medicine 2"],dice:2,is_passive:!1},{id:194,name:"medical genius",effect:`When you use a Medkit on a creature they gain all the benefits of a Rest except for fully healing. (Medkit healing is still the same)
Additionally, refund 1 Strain when you heal a creature with an item that has the Medicine tag.`,req:["medicine 3"],dice:0,is_passive:!0},{id:193,name:"recycled meds",effect:"You can use Bandages and Medkits twice instead of once before they are used.",req:["medicine 3","ooc 0"],dice:0,is_passive:!0},{id:195,name:"resuscitate",effect:"Spend ## (2 dice) and 6 Strain to touch a creature. You heal the creature as if you used a Medkit and reduce the targets Deaths Door Count to 1.",req:["medicine 4"],dice:2,is_passive:!1},{id:553,name:"yield to none",effect:"You cannot unwillingly be affected by spells or abilities that would alter, change, or otherwise affect your Stats, Form, or Mind. For instance you cannot unwillingly become mind controlled, polymorphed, or have your stats reduced.",req:["medicine 4"],dice:0,is_passive:!0},{id:490,name:"acute memory",effect:`When you make a Mind check to remember something, you may get +1 to the roll.
Additionally, you can spend 1 minute to perfectly memorize some piece of information such as Text on a piece of paper or placement of objects in a room. You do not need to do a Mind roll when trying to recall this information.`,req:["mind 1"],dice:0,is_passive:!0},{id:63,name:"marked as lost and found",effect:`When you first see a creature, you may give that creature 2 Stacks of Marked.
Additionally, when a creature stops being Obscured or Hidden from you refund 1 Strain.`,req:["mind 1"],dice:0,is_passive:!0},{id:55,name:"mental mage",effect:"You learn 3 Spells that have a Strain cost of your level +1 or lower. These spells may be exchanged at the end of a Rest.",req:["mind 1"],dice:0,is_passive:!0},{id:591,name:"snake eyes",effect:`When you roll snake eyes (2 ones) you may spend 1 Strain to re-roll them.
Additionally, once per turn, refund 1 Strain when you roll two ones.`,req:["mind 1"],dice:0,is_passive:!0},{id:60,name:"weak spot",effect:`You may add 1 to your Attack sum against Marked targets. 
Additionally, once per turn, refund 1 Strain when you damage a marked creature.`,req:["mind 1"],dice:0,is_passive:!0},{id:567,name:"duelist",effect:`While you are wielding a weapon in one hand and nothing in the other that weapon does 1 extra damage. Fists do not count towards this trait, both for damage or offhanded.
Additionally, you know the Technique 'Lunge'. This does not count against the number of Techniques you know.`,req:["mind 2"],dice:0,is_passive:!0},{id:72,name:"enhanced motivate",effect:`When you use the Insight 'Motivate', increase the dices value by 1. This effect doesnt apply if the dice is already 6.
Additionally, you know the Insight 'Motivate'. This does not count against the number of known Insights you know.`,req:["mind 2"],dice:0,is_passive:!0},{id:61,name:"forethought",effect:`When you Lock a dice while already having a Locked dice you may instead add the new dice to the Locked dice's value. This cannot set the locked dice value to be higher than 6.
Additionally, once per turn, when you Lock a 1 or 6 refund 1 Strain.`,req:["mind 2"],dice:0,is_passive:!0},{id:491,name:"investigator",effect:`When you make a Mind roll to Investigate something, you get +1 to the roll.
Additionally, you may spend ## (2 dice) and 3 Strain to do a Mind contest against all creatures of your choosing within 4 tiles. If you win, give the target 4 stacks of Marked. If you lose, give the target 2 stacks of Marked.`,req:["mind 2"],dice:2,is_passive:!1},{id:170,name:"longer marks",effect:`When you apply Marked to a creature, increase the number of Marked stacks gained by 3.
Additionally, you know the Insight 'Mark'. This does not count against the number of known Insights you know.`,req:["mind 2"],dice:0,is_passive:!0},{id:492,name:"sniper",effect:`When you make a weapon attack from 12 or more tiles away increase the weapon damage by 2.

Additionally, you can understand what a creature is saying as long as you can see their mouth and understand the language they are speaking.`,req:["mind 2"],dice:0,is_passive:!0},{id:635,name:"target weakness",effect:`When you do an attack against a target that has stacks of Marked, you may remove an amount of Marked from the target to gain a special effect on the attack. If you remove 3 Marked, you do 1 extra damage. If you remove 4 Marked, you give them a stack of Blind. If you remove 5 Marked, you give a stack of Stun. You can remove as much Marked in a turn as you wish, activating multiple of these effects at once.
Alternatively, you may remove 6 stacks of Marked to gain +1 in any roll against the target.`,req:["mind 3"],dice:0,is_passive:!0},{id:634,name:"eggs in one basket",effect:"You may give up to 8 dice in a turn. When you do, on your next turn, you may roll additional dice equal to however many dice you gave.",req:["mind 4"],dice:0,is_passive:!0},{id:11,name:"aquatic life",effect:"You can only breathe in water.",req:["monster 0"],dice:0,is_passive:!0},{id:696,name:"battle hardened armor",effect:"If you where to receive 5 or less damage from non magical attack you do not take the damage (you can still take damage from drowning, burn, bleed, and knockback).",req:["monster 0"],dice:0,is_passive:!0},{id:557,name:"blessing of fire",effect:`You can create a moat of flame within the palm of your hand. This moat can be thrown as if the spell Firebolt was cast. This ability is not stopped by Silence.
Additionally, after taking damage from Burn reduce it by 2 instead of 1.`,req:["monster 0"],dice:2,is_passive:!1},{id:559,name:"blessing of war",effect:`Your weapon and spell attacks do an extra damage.
Additionally, reduce all damage taken by 1.`,req:["monster 0"],dice:0,is_passive:!0},{id:556,name:"blessing of water",effect:`You always know the direction and distance to the nearest source of water and its type (fresh, polluted, or salt).
Additionally, you are able to breath non-polluted water as if it was air.`,req:["monster 0"],dice:0,is_passive:!0},{id:697,name:"boss monster",effect:`At the end of your turn roll and Lock a dice.
You can Lock up to 2 dice.
Roll initiative twice, gaining a turn at both rolls. (Re-roll if you get 2 of the same rolls.)`,req:["monster 0"],dice:0,is_passive:!0},{id:16,name:"construct",effect:"Does not require food, water, or air to function.",req:["monster 0"],dice:0,is_passive:!0},{id:249,name:"consume",effect:"When you damage a target with a Melee Attack and it would put that creature to your level or less Health they are eaten and become Grappled. Every turn while grappled this way they gain 3 stacks of Burn.",req:["monster 0"],dice:0,is_passive:!0},{id:555,name:"days blessing",effect:"You may cast the spells: Glow, Lightshow, and Fog Light, once per dawn without gaining Soul Strain.",req:["monster 0"],dice:0,is_passive:!0},{id:508,name:"death blast",effect:"When you reach 0 or less health, you Explode, dealing your Level damage to all creatures, other than yourself, within 2 tiles of where you are.",req:["monster 0"],dice:0,is_passive:!0},{id:17,name:"deathless",effect:"Can be revived with a Crafting score of 14 or higher (sum).",req:["monster 0"],dice:0,is_passive:!0},{id:558,name:"divine aspect",effect:`Spend ### (3 dice) to give a copy of your blessing to a creature once per day. This blessing is permanent on the creature unless you willingly remove it.
You are able to cast Spells with 2 less Soul Strain.
Once per day you may cast a spell without gaining Soul Strain.
`,req:["monster 0"],dice:3,is_passive:!1},{id:691,name:"durable",effect:"If you where to receive 2 or less damage from non magical attack you do not take the damage (you can still take damage from drowning, burn, bleed, and knockback).",req:["monster 0"],dice:0,is_passive:!0},{id:21,name:"equipable",effect:"Can use Items that it meets the requirements for.",req:["monster 0"],dice:0,is_passive:!0},{id:493,name:"expanded lungs",effect:`You can hold your breath for up to an hour without needing to breath.
Additionally, when you are breathing normally you only breath half as much air as normal.`,req:["monster 0"],dice:0,is_passive:!0},{id:704,name:"fire immunity",effect:"You cannot take damage from Burn stacks.",req:["monster 0"],dice:0,is_passive:!0},{id:10,name:"flight",effect:"You have permanent Flight.",req:["monster 0"],dice:0,is_passive:!0},{id:18,name:"forced soul",effect:"Get 2 Soul Strain, do not get any spells",req:["monster 0"],dice:0,is_passive:!0},{id:251,name:"hatch",effect:"Starts at 0. Increase by 1 after 24 hours. When this reaches 3 times your DL hatch into a baby.",req:["monster 0"],dice:0,is_passive:!0},{id:698,name:"heat purge",effect:"Spend ### (3 dice) to refund 4 Strain. Your Speed is reduced by 2 until the beginning of your next turn. (This effect can stack.)",req:["monster 0"],dice:3,is_passive:!1},{id:14,name:"hidyhole",effect:"Cast Pocket Dimension on yourself without needing a container. You cannot take items with you when you enter or leave. You are unconscious while inside and do not need to eat, sleep, or breathe until you leave the Hidyhole.",req:["monster 0"],dice:1,is_passive:!1},{id:22,name:"hover",effect:"Floats up to 1 tile over the ground (isn't affected by ground based effects).",req:["monster 0"],dice:0,is_passive:!0},{id:54,name:"jumper",effect:"When you roll Physical Feats to Jump, add 2 to the distance jumped.",req:["monster 0"],dice:0,is_passive:!0},{id:420,name:"mechanical hunger",effect:`Can consume inorganic material instead of normal foods for sustenance, and can use consumed materials to craft as if they had Tinkers Tools or Smiting Tools.
`,req:["monster 0"],dice:0,is_passive:!0},{id:250,name:"mimicry",effect:"You may cast Prop without gaining Soul Strain",req:["monster 0"],dice:1,is_passive:!1},{id:730,name:"monster regeneration",effect:"At the beginning of your turn, Heal an amount equal to your Level.",req:["monster 0"],dice:0,is_passive:!0},{id:13,name:"mount",effect:`When someone rolls to Handle a Beast on you they do so with an extra dice.
Additionally, you can carry another creature without needing to do a Physical Feats roll.`,req:["monster 0"],dice:0,is_passive:!0},{id:15,name:"movement choice 1",effect:"Gain [Climber and Swimmer], [Flight], or [Increase your Speed by 2].",req:["monster 0"],dice:0,is_passive:!0},{id:554,name:"nights blessing",effect:"Once per day you may go Invisible for 1 hour. This Invisibility goes away early if you take or deal damage, or you dispel the Invisibility.",req:["monster 0"],dice:1,is_passive:!1},{id:507,name:"phoenix resurrection",effect:"When you reach 0 or less health, you gain 1 health and de-age 5 years. You cannot die from this and will, at minimum, be 1 week old (after birth/hatching). This effect can only happen once per day.",req:["monster 0"],dice:0,is_passive:!0},{id:729,name:"photosynthesize",effect:"Spend # (1 dice), bask in the sun, and set your Speed to 0 until the start of your next turn. Refund Strain and Heal an amount equal to the dice spent.",req:["monster 0"],dice:0,is_passive:!0},{id:674,name:"placeholder",effect:"This is a Placeholder for Josh's Shinaningry.",req:["monster 0"],dice:0,is_passive:!0},{id:700,name:"rage targeting",effect:"When you take damage, target the creature that has done the most total damage to it this round. You must attack the most recent targeted creature.",req:["monster 0"],dice:0,is_passive:!0},{id:423,name:"shadow skip",effect:"While within a shadow that mostly covers you, you may gain 1 Soul Strain then teleport to another patch of shadow that would mostly cover you within 12 tiles of you that you can see.",req:["monster 0"],dice:1,is_passive:!1},{id:664,name:"speedy",effect:"+2 speed.",req:["monster 0"],dice:0,is_passive:!0},{id:419,name:"spell battery",effect:`When you are affected by a spell, you may learn the spell. On later turns you may cast that spell even if you normally don't know the spell. Another creature may spend 5 minutes teaching you a spell without gaining soul strain to cast it on you.
You may have 3 spells learned this way at a time. Learned spells are known until the end of your next Rest.`,req:["monster 0"],dice:0,is_passive:!0},{id:19,name:"spirit",effect:"Become Incorporeal until the start of your next turn.",req:["monster 0"],dice:2,is_passive:!1},{id:12,name:"strong body",effect:"When you roll Body for lifting or pulling gain +3 to the roll.",req:["monster 0"],dice:0,is_passive:!0},{id:562,name:"undead",effect:"The creature is Undead. When this creature hits 0 or less health they roll deaths door rolls.",req:["monster 0"],dice:0,is_passive:!0},{id:705,name:"water body",effect:`Your body is made mostly of liquid. You always have at least 1 stack of Wet.
Additionally, you are able to squeeze into places you normally wouldn't. You act as half your size smaller when trying to get through or into a space you wouldn't fit in otherwise.`,req:["monster 0"],dice:0,is_passive:!0},{id:489,name:"water breathing",effect:"You can breath water as if it was air.",req:["monster 0"],dice:0,is_passive:!0},{id:421,name:"keen tracker",effect:"When you roll Nature to track a creature you get +1 to the roll. When the creature you are tracking is found, give them 6 stacks of Marked.",req:["nature 1"],dice:0,is_passive:!0},{id:149,name:"knowledge of the forest",effect:`You can use Nature when rolling to Remember information about: your approximate location, local flora, fauna, or approximate time of day (even underground). 
Additionally, when you successfully forage or scrounge in area you are familiar with, you gain a number of extra items equal to your Nature.`,req:["nature 1"],dice:0,is_passive:!0},{id:150,name:"natures friend",effect:`You learn the spell 'Create Familiar' this spell does not count against the number of spells you know. 

When you cast the 'Create Familiar' spell, your familiar may gain the Traits and Arts of one Beast (creature with just the Animal tag) of your choice that you have seen and is half your level or lower (rounded up). You may choose a different creature each time you cast the spell. Additionally, the familiar gains +1 in the chosen animal's highest Main and Sub Stat up to a maximum of 4.`,req:["nature 1"],dice:2,is_passive:!1},{id:600,name:"tail growth",effect:`You grow a tail that you can use similarly to your other appendages. You may pick up and move items with your tail. However, using the item requires at least 1 free hand.
Additionally, you may make a Melee Attack with your tail. It uses the 'Fist' weapon for stats, counts as a Fist weapon, has +1 damage, and Reaching.`,req:["nature 1"],dice:0,is_passive:!0},{id:692,name:"heightened senses",effect:`You can see in poorly lit areas as if they were illuminated.
Additionally, you get +2 when doing rolls based on sight, smell, or hearing.`,req:["nature 2"],dice:0,is_passive:!0},{id:151,name:"scrounger",effect:`Replace your Scrounge with the following:
5+ Find 1 raw item (such as wood, herbs, or metal scraps), Travel Meal, or a clean water source.   
7+ Find 1 small or tiny non-magical item, Cheap Meal, or a unique plant or animal from the local environment.
14+ you may heal yourself or another creature 3 Health with local medicines. 
These can be done multiple times in a roll.`,req:["nature 2","broken 0"],dice:3,is_passive:!1},{id:157,name:"draw roots",effect:"Spend ### (3 dice) to root or unroot yourself in place. While rooted you have a Speed of 0, are uneffected by movement based effects (such as knockback), and the first Art you cast per turn costs 2 less Strain, to a minimum of 0.",req:["nature 3"],dice:1,is_passive:!1},{id:154,name:"one with nature",effect:`You do not get attacked by creatures with the Animal type under normal circumstances or until you attack them.
Additionally, you get +1 when rolling Nature, Charm, or Soul when interacting with creatures with the Animal type.`,req:["nature 4"],dice:0,is_passive:!0},{id:88,name:"dreams of the future",effect:"Spend # (1 dice) to roll a number of dice equal to your Level. You may lock as many dice as you have slots for.",req:["soul 1"],dice:1,is_passive:!1},{id:655,name:"familial arts",effect:"You magically train your familiar in any 3 Arts with a Strain cost of your Level or less. You can replace one of the Arts they know when you level up. The familiar cannot learn Arts that require Focus, or summon another creature (such as Create Familiar).",req:["soul 1"],dice:0,is_passive:!0},{id:77,name:"illusionary mage",effect:`When you cast an Illusion spell you can create it with both sound and visuals.
Additionally, you know the spell 'Minor Illusion'. This spell does not count against the number of spells you know.`,req:["soul 1"],dice:0,is_passive:!0},{id:494,name:"magical knowledge ",effect:"You can know 3 times your Soul number of spells instead of 2 times your Soul.",req:["soul 1"],dice:0,is_passive:!0},{id:78,name:"meditate",effect:"Spend 1 hour meditating. If you are uninterupted after that hour reduce your Strain to 0.",req:["soul 1"],dice:0,is_passive:!0},{id:687,name:"simple spell caster",effect:`Your 0 cost Spells have double their Range or Throw Range. While 0 cost touch Spells gain Reaching (2 tiles).
Additionally, your 0 cost Spells no-longer require Focus. They last for the duration or until dispelled. You cannot have 2 of the same Spell active at once.`,req:["soul 1"],dice:0,is_passive:!0},{id:408,name:"soul bound item",effect:"You bind a number of items to yourself equal to your Soul. Objects bound this way gain the 'Returning' tag and you can spend # (1 dice) to return it to your hand. If the item can be equipped, you may equip it with this dice.",req:["soul 1"],dice:1,is_passive:!1},{id:601,name:"soul covenant",effect:`Make a pact, oath, or pledge to a powerful entity. For example a god, demon, dragon, eldritch being, etc. Work with your GM to create this covenant. For example, a god it may ask you to 'Protect the forest.', or a demon may want you to 'Sacrifice a soul every day!'. Should you fail to keep your covenant you may lose access to this trait.

Pick a Spell of Strain cost 6 or less. Once per Rest, you can offer something to your Patron to cast this spell without gaining Strain. For example, a god may ask for a prayer, or a demon may ask for blood. At level 4 you can do this twice per Rest, at level 6 you can do this three times per Rest, and at level 8 you can do this four times per Rest. `,req:["soul 1"],dice:0,is_passive:!0},{id:595,name:"support follower",effect:"While you only have 1 Follower, when your Follower spends three or more dice in a turn you refund 1 Strain.",req:["soul 1"],dice:0,is_passive:!0},{id:75,name:"telepathy",effect:"Bind your mind to a willing creature's mind. You can use your action on later turns to see/hear through their senses or send/receive simple messages. You can only be bound to one creature at a time.",req:["soul 1"],dice:1,is_passive:!1},{id:74,name:"yoyo",effect:"Move your Speed. At the end of the turn teleport back to where you started the turn.",req:["soul 1"],dice:1,is_passive:!1},{id:581,name:"simple sniper",effect:"Your 0 cost spells have an additional 6 Range or Throw Range.",req:["soul 1","broken 0"],dice:0,is_passive:!0},{id:580,name:"trivial spell casting ",effect:"Your 0 cost spells no-longer require Focus. They last for the duration or until dispelled. You cannot have 2 of the same spell active at once.",req:["soul 1","broken 0"],dice:0,is_passive:!0},{id:594,name:" banner carrier",effect:"Followers within 2 tiles of you gain +1 damage on all attacks and spells.",req:["soul 2"],dice:0,is_passive:!0},{id:593,name:"awakened familiar",effect:"Your Familiar has its Stats equal to your Stats instead of halved. Bonuses gained from other traits or spells are retained. You may only ever have 1 Familiar, and cannot gain more by other Arts or Traits.",req:["soul 2"],dice:0,is_passive:!0},{id:79,name:"conjure shield",effect:"Gain 1 Soul Strain and spend your Locked dice to activate. Create a spectral flat shield shape between you and whatever is attacking you. This shield has an amount of health equal to the value of the locked dice. The damage first goes to the shield then to you. The shield cannot block Area damage and goes away at the end of your next turn.",req:["soul 2"],dice:1,is_passive:!1},{id:81,name:"familial flock",effect:`You are able to create up to 2 Familiars at the same time. At level 5 it becomes 3 familiars and at level 8 it becomes 4. 

When the familiars do their turn in combat you lump all of them into 1 group rather than individually. Combine all of their health together into one pool. All familiars use the same 3 dice rolled, acting as if they rolled those dice (though they may do different things with said dice). If the group was to take enough damage for one to die, unless it was targeted specifically, roll a dice to decide which dies.`,req:["soul 2"],dice:0,is_passive:!0},{id:592,name:"overcharged summons",effect:"The duration of Creation Spells that create creatures is halved. Spells with no duration gain a duration of 1 hour. Your created creatures gain +1 damage on all attacks and spells, +3 Max Strain, and +6 Max Health.",req:["soul 2"],dice:0,is_passive:!0},{id:86,name:"soul shielded",effect:`Gain extra Armor equal to your Level and 1 additional Ward on Rest. 
Additionally, while you have Ward you cannot be tracked by smell, and cant become covered in mud, blood, or other wastes.`,req:["soul 2"],dice:0,is_passive:!0},{id:582,name:"simple enhancements ",effect:"Your 0 cost spells that apply effects, (such as Pull, Wet, Knockback, or Burn) apply 1 additional stack.",req:["soul 2","broken 0"],dice:0,is_passive:!0},{id:583,name:"simple power",effect:"Your 0 cost spells do an additional damage.",req:["soul 2","broken 0"],dice:0,is_passive:!0},{id:688,name:"simple spell enhancements",effect:`Your 0 cost spells that apply stacks, (such as Burn, Wet, Sparking, Knockback, or Pull) apply 1 additional stack.
Additionally, your 0 cost spells that do damage, have 2 additional damage.`,req:["soul 3"],dice:0,is_passive:!0},{id:552,name:"spell expertise",effect:"At the end of a Rest, pick a spell you know with a Strain cost of 2 or less. You may cast this Spell without gaining Strain a number of times equal to twice your Soul.",req:["soul 3"],dice:0,is_passive:!0},{id:85,name:"summoners command",effect:"At the start of your turn you may have all of your followers (constructs, undead, familiars, summons etc) move without you spending a dice.",req:["soul 3"],dice:0,is_passive:!0},{id:80,name:"focused",effect:"You do not lose Focus from taking damage.",req:["soul 3","broken 0"],dice:0,is_passive:!0},{id:87,name:"acceleration",effect:"Spend # (1 dice) to gain Speed equal to your current Strain. This effect goes away at the end of your turn.",req:["soul 4"],dice:1,is_passive:!1},{id:551,name:"efficient spellcasting",effect:"When you cast a Soul spell with a Strain cost of 2 or higher reduce its cost by 1.",req:["soul 4"],dice:0,is_passive:!0},{id:497,name:"purified soul",effect:"When you die you instead turn into a Spirit. While as a spirit you have the tag Undead, and gain the 'Spirit' trait. While a spirit you have half health and cannot carry or use items. If you die as a Spirit you cannot be resurrected. When your body is resurrected, either from a spell or from a Potion of Life you must be present or it will fail.",req:["soul 4"],dice:0,is_passive:!0},{id:82,name:"soul ward",effect:"When you take damage you can gain Ward 1, and gain 2 Soul Strain, then take the damage. This effect cannot happen if you are at max Ward.",req:["soul 4","broken 0"],dice:0,is_passive:!0},{id:84,name:"mirror match",effect:`Gain 3 Soul Strain to target all creatures within 3 tiles of you, excluding yourself. These creatures make a Soul roll against the 3 dice given. You make an Illusionary clone of that creature. On fail the clone has 2 Ward, on success it has 1. Any action that would effect a creature other than itself will get sucked into the clone. 
Additionally, if the creature tries to move past the clone it must win a Soul contest against you. The clone has 1 health and is magical in nature.`,req:["soul 5","broken 0"],dice:3,is_passive:!1},{id:535,name:"apprentice thief",effect:`You know how to talk in special code known only to those who slink in the shadows. You are able to speak, read, and write in Thieves' Cant.
Additionally, you can spend 1 Strain to do a Thieving roll to create a temporary set of Thieves tools which break after one use (see Thieves Tools under Items). `,req:["thieving 1"],dice:0,is_passive:!0},{id:224,name:"silent scaling",effect:`You make no noise while climbing or falling up to half your Speed, and can climb using Thieving instead of Body.

Additionally, you may leave pinions in whatever surface you where climbing to give an extra dice to whoever tries to do this climb later.`,req:["thieving 1"],dice:0,is_passive:!0},{id:598,name:"urban expert",effect:`You know how to navigate through cities with ease. You and your party gain +1 Speed while traveling inside of a city.
Additionally, you learn the location of the Black Market or Underground, if one exists, upon entering a city for the first time.`,req:["thieving 1"],dice:0,is_passive:!0},{id:214,name:"skeleton key",effect:`You can Lockpick without needing tools (see Thieves Tools under Items). 
Additionally, you get Advantage when you Lockpick with Thieves Tools.`,req:["thieving 1","broken 0"],dice:0,is_passive:!0},{id:537,name:"cat burgler",effect:`When you are caught stealing you may roll a Thieving roll to stash the item. On success the stolen item or items are Hidden within 4 tiles of you. You know where the hidden item or items are.
Additionally, you may break items without making noise. Windows, doors, and other entryways can be considered items for use of this effect.`,req:["thieving 2"],dice:0,is_passive:!0},{id:218,name:"eyes of riches",effect:`You can see in poorly light areas as if they were illuminated. 
Additionally, you have learned how to value gems and jewelry. You may roll a Thieving roll to Identify any gem or jewelry you can see. (You learn its name, effect, and source) You also learn its rough market value from this.`,req:["thieving 2"],dice:2,is_passive:!1},{id:675,name:"hidden in plain sight",effect:`While disguised, you can roll Thieving instead of Charm when acting as your disguise.
Additionally, once per turn, refund 1 Strain when you roll Thieving to hide.`,req:["thieving 3"],dice:0,is_passive:!0},{id:217,name:"sneak thief",effect:"Reduce the number of tiles you will be detected by by 1, to a minimum of 1. (This effect happens when someone searches.)",req:["thieving 3","broken 0"],dice:0,is_passive:!0},{id:538,name:"master thief",effect:"When you become Obscured (such as when you enter Fog) you may spend 1 Strain to become Hidden instead.",req:["thieving 4"],dice:0,is_passive:!0},{id:94,name:"arcane armory",effect:`You have learned how to improve the flow of runic magic through your tools. Weapons you wield and armor you wear can have an additional rune inserted into it. This effect can stack with other rune giving effects.
Additionally, you know the Spell 'Pocket Dimension'. This does not count against the number of Spells you know.`,req:["arcana 1","body 1"],dice:1,is_passive:!1},{id:658,name:"ingredient scavenger",effect:`When you start crafting a Alchemical item (item with the alchemical tag), you may spend Strain equal to the items (Crafting score x Rarity), instead of spending half its gold cost. If the alchemical item requires specific things to be crafted you still need the required things.
Common items have a value of 1, Uncommon is 2, Rare is 4, and Legendary is 8.`,req:["arcana 1","mind 1"],dice:0,is_passive:!0},{id:101,name:"skin absorbing",effect:"You may spend ## (2 dice) and 1 Strain to do an Arcana check to try to turn a Potion into a Cream. On Success, when used this cream applies the same effect as the potion used to make it but has triple the duration. On Partial Success, when used the cream gives double the potions duration.",req:["arcana 1","mind 1"],dice:2,is_passive:!1},{id:98,name:"discover rune of poison",effect:`You have learned how to create a Unique Rune of Poison. At the end of a rest, you can create 1 Rune of Poison and apply it to any item. Only 1 instance of this rune can exist at any time and attempting to create a second will destroy the first.
Rune of Poison: This Rune has effects based what it is applied to.
Weapon: On hit give the target Poisoned until the begining of your next turn. If the weapon already applies this effect increase its duration by 1 turn.
Armor: You cannot become Poisoned, and heal 1 when you would be poisoned.
Item: Once per day you may make a poison with a crafting value of 2 or less without needing to roll. This effect resets at Dawn.`,req:["arcana 1","mind 1","broken 0"],dice:0,is_passive:!0},{id:731,name:"spell book",effect:`When you take this trait and level up pick up to 3 Spells that cost your Level+1 or less. You create a magical Spell Book that contains these Spells. Creatures that hold this book can cast any spell within the book as if they know the Spell. If the creature knows the Spell innately, then reduce its Strain cost by 1 to a minimum of 1.
You can only have 1 book written with this trait at a time, if another one is written the first one loses its power.`,req:["arcana 1","soul 1"],dice:0,is_passive:!0},{id:105,name:"scroll crafting",effect:"At the end of a Rest you can create a magical Scroll. This scroll can contain any Spell you know when crafting, and can be used by anyone. The person using the scroll can cast the spell on the scroll for half its Strain cost if they know the spell or at full cost if they don't. You can only have 1 scroll written with this trait at a time, if another one is written the first one loses its power.",req:["arcana 1","soul 1","broken 0"],dice:0,is_passive:!0},{id:427,name:"spell slinging familiar bonus",effect:`Your Familiar(s) gains the 'Spell Battery' trait.

Spell Battery - When you are affected by a spell, you may learn the spell. On later turns you may cast that spell even if you normally don't know the spell. Another creature may spend 5 minutes teaching you a spell without gaining soul strain to cast it on you.
You may have 3 spells learned this way at a time. Learned spells are known until the end of your next Rest.`,req:["arcana 1","soul 1","broken 0"],dice:0,is_passive:!0},{id:752,name:"runic overflow",effect:`You can spend ### (3 dice) and 2 Strain to Windup enhancing one of your runes. On your next turn, if you finish winding up; turn one of your runes into an Aura that effects all targets within 2 tiles of you. The effect only targets Items that are similar to what the rune is currently attached to. For instance if the rune is attached to a weapon then the aura only effects weapons. This Aura lasts until the end of your next Rest. (You cannot have 2 auras active at the same time.)

Additionally, at the end of a Rest you can create 1 Uncommon Rune of your choosing. If you create different rune using this feature you replace the previously made one.`,req:["arcana 2","body 1"],dice:3,is_passive:!1},{id:93,name:"combative running",effect:`You have figured out how to improve the flow of runic magic through your tools. Weapons you wield and armor you wear can have an additional rune inserted into it. 
Additionally, at the end of a Rest craft a Lesser Rune. This rune must be put in your weapon or armor and will be replaced if you make another.`,req:["arcana 2","body 1","broken 0"],dice:0,is_passive:!0},{id:99,name:"complex brews",effect:`You may brew a potion or poison with 2 effects. When you craft a potion or poison you may add half the cost of another potion to add its effect to the concoction. You do not need to do more Arcana or Crafting rolls for this bonus effect.
Additionally, you may roll a Arcana check to Identify any liquid you can see. (You learn its name, effect, and source) `,req:["arcana 2","mind 1"],dice:0,is_passive:!0},{id:100,name:"poisoned strikes",effect:`When you hit an attack with a weapon that has no poison (or similar effect) on it you may give the target a stack of Poisoned.
Additionally, when you apply an oil effect to an item, it gets twice the number of uses before the oil effect runs out.`,req:["arcana 2","mind 1"],dice:0,is_passive:!0},{id:104,name:"potions of power",effect:"When a creature uses a potion you made, they refund 2 Strain.",req:["arcana 2","mind 1"],dice:0,is_passive:!0},{id:106,name:"shaped explosions",effect:"Spend 1 Strain, the next Spell you cast this turn that targets an area, allows you to choose up to 3 creatures within the area. Those creatures Succeed on any contests or checks without needing to roll.",req:["arcana 2","soul 1"],dice:0,is_passive:!0},{id:650,name:"spell battery familiar enhancement",effect:`Your Familiar gains +1 Ward at the end of a Rest, and the Familiar itself gains the Planar type if they don't already have it.
Additionally, when your Familiar is within 1 tile of you, once per turn, you can refund 1 Strain by reducing your Familiar's Strain by 1.`,req:["arcana 2","soul 1"],dice:0,is_passive:!0},{id:107,name:"spell manipulator",effect:`Spend 1 Strain then pick on of the following: 
- Maintain Spell Form: The next Focused spell you cast this turn has its duration doubled. 
- Faster Spells: The next spell you cast this turn requires 1 less dice to cast. Use a 3 for the missing dice value when calculating spells. 
- Hidden Caster: The next spell you cast this turn can be cast without any noticeable movement or sounds.`,req:["arcana 2","soul 1"],dice:1,is_passive:!1},{id:109,name:"discover rune of gravity",effect:`You have learned how to create a Unique Rune of Gravity. At the end of a rest, you can create 1 Rune of Gravity and apply it to any item. Only 1 instance of this rune can exist at any time and attempting to create a second will destroy the first.
Rune of Gravity: the wielder of the item this rune is applied to can activate it as a # (one dice) action. When you activate it you choose which effect takes place. This effect can be turned off for an additional # (one dice) action.
1. Your Gravity is inverted, making it so you will fall upwards. You can take fall damage from this and can leave the atmosphere with this rune.
2. Your Gravity is increased, making you immune to displacements, decreasing your speed by 2
3. Your Gravity is decreased, effects of displacements are doubled and when you do a Physical Feats roll for jumping your jump height is increased by 1.
These effects can be activated a number of times equal to your Arcana, resetting at dawn.`,req:["arcana 2","soul 1","broken 0"],dice:0,is_passive:!0},{id:108,name:"spell book crafting",effect:`At the end of a Rest you can create a magical Spell Book. This book can contain up to 3 Spells you know when crafting, and can be used by anyone. The person using the book can cast any spell in the book without gaining Strain. Once a Spell is cast from the book that spell is then magically removed from the book. 
Alternatively you can remove a Spell page from the book turning it into a Spell Scroll which burns away at Dawn. You can only have 1 book written with this trait at a time, if another one is written the first one loses its power.`,req:["arcana 2","soul 1","broken 0"],dice:0,is_passive:!0},{id:96,name:"discover rune of absorption",effect:`You have learned how to create a Unique Rune of Absorption. At the end of a rest, you can create 1 Rune of Absorption and apply it to any item. Only 1 instance of this rune can exist at any time and attempting to create a second will destroy the first.
Rune of Absorption: Once a day, you may cast the spell Counterspell without gaining soul strain. If a spell is successfully countered then this Rune has additional effects based what it is applied to.
Weapon: If a spell is successfully countered the weapon glows with energy reminiscent of the spell countered and your next Weapon Attack has a -2 to the High Roll threshhold and the attack does 2 additional damage.
Armor: If a spell is successfully countered the armor glows with energy reminiscent of the spell countered and you gain armor equivalent to double the countered spell's Soul Strain with a minimum of 2.
Item: You counterspell with a value of 6 regardless of what value the locked die spent is.`,req:["arcana 3","body 2","broken 0"],dice:0,is_passive:!0},{id:753,name:"runic swap",effect:`You can spend # (1 dice) to remove or apply a Rune you can see within 6 tiles of you rather than its normal Rest requirements. You cannot target Runes made by other creatures.

Additionally, at the end of a Rest you can create 1 Uncommon Rune of your choosing. If you create different rune using this feature you replace the previously made one.
 `,req:["arcana 3","body 3"],dice:1,is_passive:!1},{id:102,name:"potent alchemy",effect:"Alchemical items you brew have their effect duration doubled. (This is taken into effect after all other bonus effects.)",req:["arcana 3","mind 3"],dice:0,is_passive:!0},{id:110,name:"reactive explosions",effect:"When you do an area of effect spell, you can set one of the required dice to 5 (You still spend 3 dice, you just change the value of one dice).",req:["arcana 3","soul 2"],dice:0,is_passive:!0},{id:513,name:"spell augmenter",effect:`Spend 1 Strain then pick on of the following: 
- Soul Slinger: The next spell you cast this turn has an extra 4 Range, and if it effects an area, increase the radius by 1. 
- Elemental Change: The next spell you cast this turn replaces half of the stacks given to one of the following: Burn, Wet, Knockback, or Sparking. (This effect can be stacked.)
- Intensify Spell: The next spell you cast this turn does 1 extra damage.`,req:["arcana 3","soul 2"],dice:1,is_passive:!1},{id:97,name:"runic augmentation",effect:"You learned the secrets of augmenting creatures with runes. You may spend 1 hour do an Arcana roll. On Success, Partial Success does not count as a Success, you cast 'Flesh Shaper'. However, the effects are permanent instead of temporary. You may only do this once per Rest.",req:["arcana 4","body 2"],dice:0,is_passive:!0},{id:103,name:"double dosing",effect:"Alchemical items you brew can be used twice before it is consumed.",req:["arcana 4","mind 2"],dice:0,is_passive:!0},{id:450,name:"rune gate",effect:`Spend 5 minutes drawing, or 1 day carving, a set of runes onto a flat surface. At a later time or when written you can create a gate to another Rune Gate. The gate lasts for 1 minute after which it closes. 
If the runes were drawn they burn away leaving an illegible scorch mark after the gate closes. If the runes were carved they stay on the surface. If there is more than one other Rune gate with the same rune code the gate opens to one of them randomly.`,req:["arcana 4","soul 3"],dice:3,is_passive:!1},{id:740,name:"soulbound familiar enhancement",effect:"Your Familiar(s) gains the Spell 'Swapper' with a Strain cost of 1. However, it only can target you. Additionally, the you can cast spells through the familiar as if you where the familiar. Spells that target yourself cast this way target the familiar instead. (Soul Skip teleports the familiar not you)",req:["arcana 4","soul 4"],dice:0,is_passive:!0},{id:486,name:"large",effect:"You can't be affected by knockback, be impeded by non-magical rough terrain, and double your carry weight.",req:["body 1","monster 0"],dice:0,is_passive:!0},{id:546,name:"divine caster",effect:`You cannot be Cursed by spells or items. You can still be cursed by powerful creatures/gods.
Additionaly, you know the Spell 'Bless'. This does not count against the number of Spells you know.`,req:["body 1","soul 1"],dice:0,is_passive:!0},{id:39,name:"combo finisher",effect:"If you hit the same creature twice this turn you can do another Weapon Attack without spending more dice, this roll is always a 6. You cannot use this feature more than once per turn.",req:["body 3","mind 2","ooc 0"],dice:0,is_passive:!0},{id:35,name:"death's reaper",effect:`When you kill a creature gain lock a 3 (dice value of 3) and refund 1 Strain.
Additionally, when you do a Charm roll against Undead or to intimidate or scare, gain +2 on the roll.`,req:["body 4","soul 2"],dice:0,is_passive:!0},{id:119,name:"fancy feet",effect:`While Performing you can convince others to join in. You may spend ## (2 dice) to do a Charm contest against any creatures that can see you and are not aggressive to you. If you win, they will join in on the performance in an appropriate way. If you lose, they may watch or leave.
Additionally, allies within your aura ignore non-magical Rough Terrain.`,req:["charm 1","body 1"],dice:2,is_passive:!1},{id:115,name:"dance performer",effect:`When you do the Action 'Performance' you may Dance. This action can be used with Charm or Body. You may Focus on dancing while in combat to continue dancing, roll at the beginning of your turn to determine the current turns outcome. While dancing you get the following bonus based on the roll:
Failure: Loose your footing and stop dancing.
Success: Gain 1 Dodge when you are hit with an attack, this takes place before damage is dealt.
Great Success: Gain 1 Speed for the turn and gain 1 Dodge when you are hit with an attack, this takes place before damage is dealt.
Perfected Success: Gain 2 Speed for the turn and gain 2 Dodge when you are hit with an attack, this takes place before damage is dealt.`,req:["charm 1","body 1","broken 0"],dice:2,is_passive:!1},{id:516,name:"apprentice detective",effect:`When you investigate a crime scene you always find at least 1 clue or piece of evidence, regardless of dice given.
Additionally, you may spend ## (2 dice) do a Mind contest against a target. If you win, you give them 8 stacks of Marked. If you lose, you give them 2 stacks instead.`,req:["charm 1","mind 1"],dice:2,is_passive:!1},{id:127,name:"intrusive soul",effect:`You can cast Intrusive Thoughts without gaining Soul Strain. 
Additionally you can use Charm instead of Soul when using the save.`,req:["charm 1","soul 1"],dice:0,is_passive:!0},{id:128,name:"rendition",effect:`When you cast the 'Minor Illusion' spell the illusions created can by physically interacted with. Items made this way have 1 health. These items only look real, they cannot do damage, give stacks (such as a flashbang), or do other effects.
Additionaly, you know the Spell 'Minor Illusion'. This does not count against the number of Spells you know.`,req:["charm 1","soul 1"],dice:0,is_passive:!0},{id:124,name:"ventriloquism",effect:`Spend ## (2 dice) to do a Soul Contest against a creature you can see within 6 tiles of you. If you win, you make the target say a sentence. They believe the sentence was their own and have no memory of the magic. If you lose, they know someone tried to cast magic on them but not what it was or who cast it.
Additionally, when you cast an Illusion spell with sound you can do a Charm check to try to perfectly mimic a sound or someone's voice. You do not need to roll to mimic your own voice.`,req:["charm 1","soul 1"],dice:2,is_passive:!1},{id:126,name:"change face",effect:`You can magically change your appearance to look like another. This illusion covers your entire body letting you change clothes, race, sex, and general appearance.
It is, however, still an illusion and touching it reveals the illusion. A creature can make a Core Roll against you to discern if it is an illusion.
If a creature discovers this illusion then they are able to see through it regardless of what you look like.`,req:["charm 1","soul 1","broken 0"],dice:0,is_passive:!0},{id:426,name:"playing familiar bonus",effect:`Your Familiar(s) gains Taunt trait, Mimicry trait, and gains the Monstrosity type if they don't already have it.

Taunt - ## - Make a Contested Charm roll against a creature you can see. On success the creature cannot willingly move away from you and must spend a dice to move closer if possible.

Mimicry - # - You may cast the spell 'Prop' without gaining Soul Strain.`,req:["charm 1","soul 1","broken 0"],dice:0,is_passive:!0},{id:767,name:"show, dont tell",effect:`When you do a performance you can subtly add a message into it. While performing can cast 'Far Whispers' without saying the message or spending dice. You can pick multiple creatures when you do this.
Additionally, you learn the Arts 'Distracting Shot' and 'Footwork Lure'. These Arts do not count against the number of Arts you know.`,req:["charm 2","body 1"],dice:0,is_passive:!0},{id:517,name:"pin the blame",effect:"You have learned that not all crimes can be solved, at least properly. You can spend ## (2 dice) to do a Charm contest against a creature within 10 tiles of you. If you win, you create evidence that connects the creature to some crime that may or may not have happened. You roll this contest with disadvantage if the crime in question did not happen. While having this 'evidence' you gain +1 to Charm rolls against this creature. If you lose, you don't make this evidence and they know you tried to convict them of this 'crime'. You may only fabricate evidence against a creature once per day.",req:["charm 2","mind 1"],dice:2,is_passive:!1},{id:518,name:"trained detective",effect:`Do a Mind or Charm contest against a creature you are talking to, or if you are in a location of importance to that creature. If you win, you learn one secret or piece of important information about them. This information may be a piece of evidence for a crime, their weapon of choice, heritage, something they are lying about, or other strange information. If this was done at a location, the information would be relevant to the location.
Additionally, you can remove 12 stacks from a creature to refund 6 Strain.`,req:["charm 2","mind 1"],dice:0,is_passive:!0},{id:121,name:"act like you belong",effect:"When making a check to make pass as a member of a group or to blend in with a group of people, you may roll Charm instead of Thievery.",req:["charm 2","mind 1","broken 0"],dice:0,is_passive:!0},{id:451,name:"good advice",effect:"When a creature does a roll you may give them your locked dice as a bonus dice so long as they can see or hear you.",req:["charm 2","mind 1","broken 0"],dice:1,is_passive:!1},{id:238,name:"body possession",effect:"You Windup a spell targeting a humanoid body within 1 tile of you. You loose Windup if you move or are moved away from this body. On your next turn, if you finish winding up; you become Incorporeal and Invisible, occupying the same space as another humanoids body. For up to 10 minutes you are able to control the body. If the target is alive then the affected creature must be unconscious and will wake up if it takes health damage. If the body is dead it gains half its max Armor (from armor) and 1 Health. While controlling a body you use their ability's as if you where that creature and loose your abilities. You gain any stacks of Soul Strain if the body was to cast a spell. At the end of the effect, if you choose to leave the body, or if the creature takes health damage, you loose Incorporeal and Invisible and are booted to the nearest safe tile next to the creature. You cannot enter the same body for 1 day after using this effect on them.",req:["charm 2","soul 1"],dice:3,is_passive:!1},{id:521,name:"faceless",effect:"You are able to take on the form of another humanoid. You are able to cast the spell 'Flesh Shaper': Change Appearance, without gaining Soul Strain. ",req:["charm 2","soul 1"],dice:2,is_passive:!1},{id:129,name:"who are you",effect:"Do a contested Soul roll against a creature within 6 tiles of you. If you win, you make the creature forget all knowledge associated to your identity. Actions you undertook are still remembered by the creature but you all memories of you are replaced with that creatures idea of what the perpetrator might look like. Creatures that know you well will remember you and know who you are, but will have no memory of what actions you took. They will make up a reason for the memory loss and have no memory of the magic. If you lose, they know someone tried to cast magic on them but not what it was or who cast it.",req:["charm 2","soul 1"],dice:0,is_passive:!0},{id:765,name:"for the crowd",effect:`Your Auras gain additional range equal to your Charm score.
Additionally, once per turn, when you effect 2 or more creatures other than yourself with an Aura, refund 1 Strain.`,req:["charm 3","body 3"],dice:0,is_passive:!0},{id:519,name:"heart to heart",effect:"You Windup a conversation. On your next turn, if you finish winding up; you may target a creature within 6 tiles of you. You may then do a Charm contest against the creature. If you win, the creature is friendly to you if they where neutral; or they become neutral if they where angry with you. This may have the creature join your side in combat or stop them from fighting you. This effect lasts for 1 hour after which they will return to normal.",req:["charm 3","mind 2"],dice:3,is_passive:!1},{id:122,name:"expose",effect:`Do a Charm contest against a creature you can see within 6 tiles of you. On a success, give the creature 2 stacks of Stun every turn for 30 seconds (3 turns). On a failure, they are immune to this feature for 1 minute.
Additionally, When you succeed on a Discern others Intentions roll and determine that a character is not telling the truth (roll at least a 9+) that character has disadvantage on checks for a minute.`,req:["charm 3","mind 2","broken 0"],dice:2,is_passive:!1},{id:522,name:"stolen dreams",effect:`You Windup a spell targeting a humanoid within 6 tiles of you. You lose Windup if you move or are moved out of range from this creature. On your next turn, if you finish winding up; you spend 2 Strain and learn 1 peace of information the humanoid knows. This information must be something they would remember easily (such as a password or name), or be something that happened to them in the past 12 hours. 

Alternatively, you may spend 4 Strain instead to inject a memory into them. The memory must not be more than 10 seconds long. A creature that is affected by this may do a Soul contest against you to see if this memory is truly theirs.`,req:["charm 3","soul 2"],dice:3,is_passive:!1},{id:120,name:"the show must go on",effect:`While you are Performing you cannot be interrupted by Charm effects, and if you have an Aura active while Performing you cannot gain stacks of Blind, Stun, or Slow.
Additionally, when you fail a Death's Door roll, you can instead turn it into a 6. You can do this 3 times per Rest.`,req:["charm 4","body 4"],dice:0,is_passive:!0},{id:520,name:"master detective",effect:`While you have stacks of Marked on a creature you may determine what the creatures next most likely action is going to be on their turn. This may be where they are moving, who they are attacking, if they are going to hide something, or other actions.

Additionally, when you have at least 3 pieces of evidence against a creature, you know their motivation for why they did the crime. (This effect does nothing if one of the evidence pieces was fabricated through 'Pin the Blame')`,req:["charm 4","mind 2"],dice:0,is_passive:!0},{id:123,name:"clueless",effect:"When a creature makes a Charm check to Discern your Intentions reduce their sum by 4.",req:["charm 4","mind 2","broken 0"],dice:0,is_passive:!0},{id:453,name:"good cop bad cop",effect:`Good Cop: When you succeed on a Charm roll to Convince, the target's damage against you is decreased by 1 and you get +4 when rolling harm to Convince them. Attempting a Charm roll to Intimidate ends this effect.
Bad Cop: When you succeed on a Charm roll to Intimidate, your damage against the target is increased by 1 and you get +4 bonus to Charm rolls to Discern Intent. Attempting a Charm roll to Convince ends this effect.
The effect ends after 10 minutes of non-use.`,req:["charm 4","mind 2","broken 0"],dice:0,is_passive:!0},{id:523,name:"puppet master",effect:"Target a humanoid within 6 tiles of you and gain 3 soul strain, you are able to do a Charm or Soul contest against a creature. If you win, you are able to control that creature for 1 turn. They believe the actions where their own and have no memory of the magic. If you lose, you give the target 4 stacks of Stun, they know someone tried to cast magic on them but not what it was or who cast it. You can only target the same creature once per hour.",req:["charm 4","soul 2"],dice:2,is_passive:!1},{id:702,name:"apprentice blacksmith",effect:`At the end of a Rest, you can hone a Weapon or Armor. You can hone a number of items equal to your Crafting. When you hone an item pick one of the following hones: Glow, Light Weight, or Slotted. An item can only have one of the changes applied to it. Applying an additional change to an item replaces the first change.
- Glow: Items with this tag can be used to cast spells. Spend # (1 dice) to activate or deactivate the item, making it emit light out 4 tiles in all directions while activated.
- Light Weight: Reduce the Speed penalty of armors by 1. Weapons gain: 'Refund 1 Strain when you give two 6's (sum of 12) for a Weapon Attack.'
- Slotted: The item can be augmented with an additional Rune. (Items can only have 1 Rune at a time without this.) 

Additionally, you may spend ## (2 dice) do a Crafting check to Identify any solid material you come across. On Success you learn its effects, source, and age. On Partial Success you learn one of these.`,req:["crafting 1","body 1"],dice:2,is_passive:!1},{id:578,name:"fast hands",effect:`At the beginning of your turn, you may reload a max of 2 ammo into your loading weapons.
Additionally, you may spend # (1 dice) instead of ## (2 dice) to use grenades.`,req:["crafting 1","mind 1"],dice:0,is_passive:!0},{id:137,name:"turreted weapon",effect:`Spend # (1 dice) and 2 Strain, to turn one of your equipped weapons into a Turret follower. If the Turret is destroyed the weapon drops and you must Succeed a Crafting check to repair it (no gold cost). If the Turret is not destroyed you can pick up the weapon returning it to being a normal weapon and refunding 2 Strain.

In addition, you may turn or give one of the following items to create or enhance a Turret with special properties:
Alarm Clock: The turret will ring an alarm if a creature comes within 6 tiles of it. This will trigger off of Obscured or Hidden enemies. You may set any number of creatures that will not trigger this alarm.
Rope: The turret gains a crane with a length of rope equal to the rope you gave it. It is able to lift up to 300 lb (~136 kg) with this crane.
Lantern: The turret becomes a source of light, being able to illuminate up to 6 tiles around it or 18 tiles in front of it.`,req:["crafting 1","mind 1"],dice:1,is_passive:!1},{id:656,name:"abjurer",effect:`When you cast the 'Soul Shield' spell it can target any creature within 8 tiles of you.
Additionally, you know the Spell 'Soul Shield'. This does not count against the number of known spells you know.`,req:["crafting 1","soul 1"],dice:0,is_passive:!0},{id:143,name:"simple magical craftsman",effect:`You have learned how to craft Lesser Magic items using appropriate tools.

Additionally, you have learned how to make Spectral grenades. Gain 1 Soul Strain to create a Spectral Grenade (it counts as a grenade for the purposes of other traits) within the palm of your hand. The grenade has a throw range of 6 and lasts 1 minute or until thrown (throwing is ##). The grenade detonates with Burst 1. All target's within this area take 2 damage.`,req:["crafting 1","soul 1"],dice:1,is_passive:!1},{id:732,name:"blacksmiths touch",effect:`When you hit a target with a Melee attack, you may remove all stacks of Burn on the target to do additional damage equal to the amount of Burned removed.
Additionally, you can not gain stacks of Burn from items you wear or hold.`,req:["crafting 2","body 1"],dice:0,is_passive:!0},{id:136,name:"reforge",effect:"While holding a non-magical non-complex item, you can spend 1 Strain to instantly reforge it into another non-magical non-complex item of equivalent rarity. Any Runes or attributes applied to it from other Traits are retained.",req:["crafting 2","body 1"],dice:0,is_passive:!0},{id:139,name:"overclock",effect:`Spend ### (3 dice) and 3 Strain to Windup your weapon. On your next turn, if you finish winding up; you choose to either do 2 additional damage or have 8 additional Range or Throw Range for your next 3 attacks. Weapons must have a Range or Throw Range to gain bonus Range.
Additionally, you can do a Crafting check to overclock a non-weapon item for 10 minutes. On Success: the item's effects/abilities are doubled for this duration. On Partial Success: the item's effects/abilities are doubled for this duration, after which the item breaks. This effect can be applied to machines.`,req:["crafting 2","mind 1"],dice:3,is_passive:!1},{id:651,name:"clockwork familiar enhancement",effect:`Your Familiar's weapon gains 16 Range but does -1 Damage (minimum of 1), and the Familiar itself gains the Construct type if they don't already have it.
Additionally, when your Familiar is within 1 tile of you, you can act as if you had 'Thieves Tools', 'Trapmakers Tools', 'Tinkers Tools', 'Alchemist tools', or 'Smithing Tools'.`,req:["crafting 2","soul 1"],dice:0,is_passive:!0},{id:776,name:"fractal creations",effect:`When you cast a Spell that has the tag Creation, if that spell creates a basic shape, such as, 'Cube', 'Pillar', or 'Dome', you may spend dice and Strain to cast that spell again and focus on both.
Additionally, you learn the spell 'Cube'. This spell does not count against the number of spells you know. `,req:["crafting 2","soul 1"],dice:0,is_passive:!0},{id:144,name:"spectral artillery",effect:`Spend ### (3 dice) and 2 Strain to Windup an artillery shot. On your next turn, if you finish winding up; pick up to half your level (rounded up) locations within 36 tiles (1 medium tile) of you as well as a type: Explosive, Smoke, Flash, or Impact. One or more spectral artillery shots are fired from some far off place. At the beginning of your next turn the artillery will land. The artillery will hit roofs or tops of caves if its landing zone is covered. When the artillery lands its effect goes off.

Explosive: An explosive detonation damages everything within Burst 1 dealing 2 damage to anything inside its radius.
Smoke: A cloud of thick smoke (you may pick its color) encompasses all tiles within Burst 3 (this effect can go around walls). For 10 minutes anything within this area is Obscured.
Flash: A glowing orb lands giving all creatures within Burst 2 one stack of Blind. Afterwards the orb floats right above impact lighting up everything within its radius for 10 minutes.
Impact: A jolt of energy impacts the location dealing 5 damage to whatever it lands on.`,req:["crafting 2","soul 1"],dice:3,is_passive:!1},{id:425,name:"familiar ranger module",effect:`Your Familiar(s) Weapon gets 4 additional range and gains Armor Piercing (does double damage to armor). 
Additionally, your familiar(s) gain the Mark trait.`,req:["crafting 2","soul 1","broken 0"],dice:0,is_passive:!0},{id:134,name:"flaming blow",effect:`When you hit a target with a Melee Attack, you may spend 1 Strain to give the target an additional 1 stack of Burn.
Additionally, you can light or snuff out small fires using your weapon, and do not need a forge or sufficient heat source to use Smithing Tools.`,req:["crafting 3","body 2"],dice:0,is_passive:!0},{id:648,name:"holes in the armor",effect:"Spend ## and 5 Strain to target a Creature within 8 tiles of you. Give or remove Armor equal to half the number of Marked stacks they have (rounded up). Then remove all stacks of Marked. This trait only can give Temporary Armor, and cannot give more than your Level to a creature per use.",req:["crafting 3","mind 2"],dice:2,is_passive:!1},{id:147,name:"magical craftsman",effect:`You have learned how to craft Greater Magic items using appropriate tools.
Additionally, you can be Bound to twice as many magic items.`,req:["crafting 3","soul 2"],dice:0,is_passive:!0},{id:701,name:"expert blacksmith",effect:`At the end of a Rest, you can enhance a Weapon or Armor. You can enhance a number of items equal to your Crafting. When you enhance an item pick one of the following enhancements: Indestructible, Balanced, or Channeled. An item can only have one of these changes applied to it. Applying an additional change to an item replaces the first change.
- Indestructible: Items with this tag cannot be broken, except by magic.
- Balanced: Armors give +1 Speed when worn. Weapons do an extra 1 damage on hit.
- Channeled: The item can be augmented with an additional Rune. (Items can only have 1 Rune at a time without this.) 

Additionally, you may spend ## (2 dice) do a Crafting check to Identify any weapon or armor you come across. On Success you learn its effects, source, and age. On Partial Success you learn one of these.`,req:["crafting 4","body 2"],dice:2,is_passive:!1},{id:775,name:"wellspring of creation",effect:`When you finish crafting a magic item you can create a common non-magical non-alchemical item without doing a roll or spending gold.
Additionally, when you stop Focusing on a Creation Spell (a spell with the tag Creation) refund 1 Strain.`,req:["crafting 4","soul 4"],dice:0,is_passive:!0},{id:187,name:"blood magic",effect:`Gain an amount of Max Health equal to your Maximum Strain. You can no longer gain Strain, instead you take damage equal to the amount of Strain you would have gained. This damage bypasses Armor, and cannot be reduced in any way.
Additionally, gain a number of Spells equal to your Medicine. You can no longer cast Healing spells.`,req:["medicine 1","body 1"],dice:0,is_passive:!0},{id:630,name:"herbal medicine",effect:`You can spend 1 minute (6 turns) casting 'Healing Hands' with Alchemist tools.
Additionally, when a potion you craft is consumed, heal the consumer 1 health.`,req:["medicine 1","mind 1"],dice:0,is_passive:!0},{id:632,name:"medical leaches",effect:`Spend # (1 dice) to give a willing target within 1 tile of you 3 stacks of Bleed. Remove all stacks of Poisoned, and any effect from a uncommon or lower poison or illness.
Additionally, you gain +1 to Medicine when trying to Identify any illness or poison.`,req:["medicine 1","mind 1"],dice:1,is_passive:!1},{id:631,name:"voodoo curse",effect:`Spend ## (2 dice) and 2 Strain, you Focus on a voodoo curse against a creature within 8 tiles of you. While you are within 8 tiles of the creature, at the beginning of the creatures turn roll a dice. On a 1 or 2 give the creature 1 Poisoned, on a 3 or 4 give the creature 2 Slow, on a 5 or 6 give the creature 1 Stun.
This curse lasts 1 minute, until dispelled, you cast another Focus Art, or you loose Focus.`,req:["medicine 1","mind 1"],dice:2,is_passive:!1},{id:596,name:"curse caster",effect:`You have learned about the intricacies of blessings and curses. You may do a Soul roll to Identify any curse on a creature or item you can see. (You learn its name, effect, and source)
Additionally, you learn 1 Curse Spell of your choosing. This spell may be exchanged at the end of a Rest.`,req:["medicine 1","soul 1"],dice:0,is_passive:!0},{id:422,name:"halo of light or dark",effect:`Gain 2 Soul Strain. Give a creature Armor Health equal to your Medicine. Then pick one Light or Dark, which changes the halos effect; the creature can only have one type of halo at a time.
Light: While they have this Armor Health they Glow as if the spell Glow was cast on them.
Dark: While they have this Armor Health they cannot gain stacks of Marked.
`,req:["medicine 1","soul 1"],dice:1,is_passive:!1},{id:210,name:"healthy hands",effect:`When you cast the 'Healing Hands' spell it heals for and additional 2. 
You know the Spell 'Healing Hands'. This does not count against the number of known spells you know.`,req:["medicine 1","soul 1"],dice:0,is_passive:!0},{id:197,name:"if these walls could talk",effect:"Spend 1 minute and 1 Strain at crime scene or dead body, the spirits whisper what happened up to 24 hours prior. You may ask up to 3 questions. The spirits will answer the best they can but will never give more than a rough description. The spirits also cannot describe something that happened through magic or if it was hidden with magic, such as a creature moving under the Invisibility spell.",req:["medicine 1","soul 1"],dice:0,is_passive:!0},{id:495,name:"soul crystallization",effect:`You may gain 3 Soul Strain to create a Soul Crystal. When a creature breaks a crystal they remove up to 3 Soul Strain. You can have up to 4 Crystals made at a time from this trait. 

Soul Crystals can be used as a power source in some machines and can be given away to other casters for the same effect.`,req:["medicine 1","soul 1"],dice:3,is_passive:!1},{id:189,name:"bloody mess",effect:`Whenever you would apply Bleed to a creature, heal an amount of health equal to the number of Bleed stacks applied. 
Additionally, you may spend ## (2 dice) do a Medicine roll to to analyze blood. On a Success, you learn the following information: you learn the creatures lineage, the creatures highest Stat, how old the blood is, and what kind of wound made this blood. On Partial Success you learn one of these.`,req:["medicine 2","body 1"],dice:2,is_passive:!1},{id:485,name:"deep wounds",effect:`When you inflict Bleed on a target, while they have Bleed stacks any healing they recieve is decreased by your Medicine to a minimum of 1.
Additionally, when you apply Bleed to a target you may use Medicine instead of Nature to track them for 1 hour.`,req:["medicine 2","body 1"],dice:0,is_passive:!0},{id:649,name:"acupuncture",effect:`You may spend 10 minutes working on a creature, other than yourself, to set their Strain to 0. 
Additionally, refund 1 Strain when you heal a creature using a bandage or medkit.`,req:["medicine 2","mind 1"],dice:0,is_passive:!0},{id:213,name:"chain healing",effect:"When you heal a creature you may heal another creature within 1 tile of them for half the healing (rounded down).",req:["medicine 2","soul 1"],dice:0,is_passive:!0},{id:201,name:"curse ward",effect:`You get Advantage when rolling to succeed against a Curse or using Purge to remove a Curse. 
Additionally, you can cast Purge once per rest without gaining Soul Strain.`,req:["medicine 2","soul 1"],dice:0,is_passive:!0},{id:200,name:"eyebite",effect:"When you effect someone with a spell that you cast, you can Blinded them until the start of your next turn.",req:["medicine 2","soul 1"],dice:0,is_passive:!0},{id:202,name:"eyes of the night",effect:"You can see in poorly light areas as if they were illuminated, and can see through magical darkness. You cannot be blinded by magic.",req:["medicine 2","soul 1"],dice:0,is_passive:!0},{id:653,name:"medical assistant familiar enhancement",effect:`Your Familiar's weapon does damage based on its Soul rather than 2 and the Familiar itself gains the Undead type if they don't already have it.
Additionally, while your Familiar is within 1 tile of you, when you heal a creature, heal them for 1 more. This healing bonus does not stack (if you have multiple followers with this bonus).`,req:["medicine 2","soul 1"],dice:0,is_passive:!0},{id:212,name:"soul healer",effect:"Touch a living creature, cannot target Undead or Constructs. The creature regains Half their max Health. You can do this once per Rest.",req:["medicine 2","soul 1"],dice:2,is_passive:!1},{id:190,name:"plague doctor",effect:"Spend # (1 dice) and 3 Strain to target a creature within 1 tile of you. Give the target 3 stacks of Bleeding, and heal them 1 + two times your Medicine.",req:["medicine 3","mind 2"],dice:1,is_passive:!1},{id:724,name:"pressure points",effect:"When you make a Fist Melee Attack against a target you can spend 1 Strain to refund or reduce 2 Strain from the target. If you do, this attack does no damage.",req:["medicine 3","mind 2"],dice:0,is_passive:!0},{id:496,name:"soul absorption",effect:`You Windup a spell. On your next turn, if you finish winding up; target a dead creature within 3 tiles of you to generate a Soul Crystal. You cannot target dead Constructs or Undead. Once a Crystal is made the body turns to dust. 
Small creatures, such as rats or birds do not provide Soul Crystals, while larger creatures such as Giants or Dragons may provide up to 3.`,req:["medicine 3","soul 2"],dice:3,is_passive:!1},{id:203,name:"undead tinkerer",effect:"When you cast the spell Raise Undead, Instead of making a Zombie you can make a Shambler, Burster, or Spitter instead.",req:["medicine 3","soul 2"],dice:0,is_passive:!0},{id:774,name:"power from pain",effect:"While your Health is less than half your Max Health you deal 1 extra damage on Attacks, and Arts you cast cost 1 less. While you have stacks of Death's Door you deal 1 extra damage on Attacks and Arts you cast cost 1 less. These effects stack with one another. You retain this trait while Shapeshifted.",req:["medicine 4","body 4"],dice:0,is_passive:!0},{id:208,name:"conqueror of darkness",effect:"Reduce the Soul Strain cost by 1 for any Dark Spells you cast. (Dark Spells have the tag Dark) (Curses from traits do not activate this trait) This cannot reduce the cost of spells below 1.",req:["medicine 4","soul 2"],dice:0,is_passive:!0},{id:597,name:"curse master",effect:"Reduce the Soul Strain cost by 1 for any Curse Spells you cast. This cannot reduce the cost of spells below 1.",req:["medicine 4","soul 2"],dice:0,is_passive:!0},{id:206,name:"undead king",effect:`You do not get attacked by creatures with the Undead type unless you attack them. 
Additionally, you can do a Soul Contest against uncontrolled Undead (No owner) to try to gain control of them. This has no effect on target's with this trait.`,req:["medicine 4","soul 2"],dice:2,is_passive:!1},{id:239,name:"kite",effect:`When you give a 9 or higher on a Weapon Attack you may then move 3 Tiles with no dice cost.
Additionally, refund 2 Strain when you gain or spend Dodge stacks.`,req:["mind 1","body 1"],dice:0,is_passive:!0},{id:543,name:"fortell",effect:"Gain 1 Soul Strain and roll 3 dice. You may Lock as many dice as you have Spots for. You also learn either the time, actions, or outcome of the next minor event you focus on. (A minor event may be the weather, the outcome of a dice roll during gambling, or when a candle goes out. This is based on the GM).",req:["mind 1","soul 1"],dice:1,is_passive:!1},{id:241,name:"lucky",effect:"When you roll a 1 you can re-roll that dice. You can only do this a number of times equal to your level per Rest.",req:["mind 1","soul 2"],dice:0,is_passive:!0},{id:240,name:"foresight",effect:`When you lock a dice, you may increase or decrease its value by 1. This effect cannot increase a dice's value over 6 or decrease it lower than 1.
`,req:["mind 2","soul 1"],dice:0,is_passive:!0},{id:242,name:"past and future",effect:"You can now Lock two dice. When you would Lock a dice while having two Locked you may pick which Locked dice to replace.",req:["mind 2","soul 1"],dice:0,is_passive:!0},{id:544,name:"alter fate",effect:`You may give your Locked dice to another creature within 8 tiles of you. They immediately lock this dice, replacing any current locked dice.
Additionally, after you expend a Locked dice Lock a 1.`,req:["mind 3","soul 2"],dice:1,is_passive:!1},{id:545,name:"diviner",effect:"You Windup a spell. On your next turn, if you finish winding up; gain 5 Soul Strain, then you reach out and can ask a god, spirits, or other powerful entity 1 question relating to the future or past. The entity will then answer the best they can. If they where not around for a question about the past, or you ask a specific question about a possible future that they cannot answer you gain 2 Soul Strain instead. You may do this up to Once per week.",req:["mind 4","soul 2"],dice:3,is_passive:!1},{id:156,name:"nature's bind",effect:`You can Grapple someone using earth or plants within 4 tiles of you instead of having to be within 1 tile. All other rules still apply to the Grapple. A grappled creature can attack the earth/plants or you when grappled this way. The earth/plants have 1 armor and 1 max health.
Additionally, you may spend # (1 dice) and 1 Strain to have plants grow out from a ceiling within 4 tiles of you. These plants can be used to store items (like a shelf), as a rope, or removed for plant matter.`,req:["nature 1","body 1"],dice:0,is_passive:!0},{id:165,name:"hidden in the bush",effect:"You have figured out how to camoflage yourself with bushes and pelts. You may use Nature instead of Thieving to Hide as plant-life, or you can cover yourself with a pelt to use Nature instead of Charm to act like that pelts creature. The pelt and plant-life must be large enough to cover most of you for this effect to work.",req:["nature 1","mind 1"],dice:0,is_passive:!0},{id:534,name:"apprentice elementalist",effect:`Whenever you spend Strain by casting an Elemental spell, if that spell applies stacks of Burn, Wet, Sparking or does Knockback. You may increase the value of stacks given or Knockback by 1. 
Additionally, you learn 2 additional spells. These spells must be Elemental spells and must have a Strain cost of 2 or less.`,req:["nature 1","soul 1"],dice:0,is_passive:!0},{id:173,name:"animal form",effect:`Spend # (1 dice) and 2 Strain; to shapeshift into a Beast (creature with just the Animal tag) that you have seen. The creature must be your Level or lower. Items you hold or wear may either fall to the ground, or morphs into your new form. The Shapeshift lasts until dispelled or you die. While transformed you replace your Stats, Traits, Items, and Arts with the Animals. Your Health, Strain, and any effects that augment your Shapeshift (such as this Trait) remain unchanged.

Additionally, while shapeshifted, you can have simple conversations with creatures with the animal tag, and can use Nature instead of Charm when talking to them.`,req:["nature 1","soul 1","broken 0"],dice:1,is_passive:!1},{id:430,name:"animal friend familiar bonus",effect:`Your Familiar(s) gain the Thick Hide armor replacing its current 'Hide' armor. Gains Keen Tracker' trait, and the Animal type if they don't already have it.

Thick Hide - Gives 4*Level Armor Health, Light Armor

Keen Tracker - Gain an additional dice when rolling for 'Tracking a Creature'. You may use sight, smell, or sound to make this roll. When the creature you are tracking is found (you see the creature), give them Marked for 1 minute (6 stacks of Marked).`,req:["nature 1","soul 1","broken 0"],dice:0,is_passive:!0},{id:171,name:"nature speak",effect:"You can have simple conversations with animals, and can use Nature instead of Charm when talking to them.",req:["nature 1","soul 1","broken 0"],dice:0,is_passive:!0},{id:161,name:"canopy",effect:`Spend ## (2 dice) and 1 Strain to make a Stealth roll for another target within 1 tile of you. This roll uses Nature instead of Thieving. If the target starts its turn more than 1 tile from you they lose their Obscured or Hidden. 
Additionally, when you spend dice to move affected creatures may gain stacks of Stun to stay within 1 tile of you. They gain an amount of Stun equal to the number of dice you spend to move. They cannot lose Obscured or Hidden from this effect.`,req:["nature 2","body 1"],dice:2,is_passive:!1},{id:589,name:"smothering vines",effect:`While you have a creature grappled, you may spend 1 Strain to do 1 damage to the creature.
Additionally, while you grapple a creature that creature is Silenced.`,req:["nature 2","body 1"],dice:0,is_passive:!0},{id:155,name:"viney slam",effect:"Do a ground slam. Vines burst out of the cracks left in the ground. In a 3 tile cone in front of you all creatures in this area make a Body roll against the 3 dice given. On failure the creature is grappled until the start of your next turn.",req:["nature 2","body 1","broken 0"],dice:3,is_passive:!1},{id:168,name:"mark of the hunter",effect:`Whenever you apply stacks of Marked to a target increase the amount by 1. Marks you apply don't reduce at the end of their turn while you are within 2 Large tiles (4,320x4,320 tiles) of the Marked target.
Additionally, when you use the Insight; 'Mark' double its range.`,req:["nature 2","mind 1"],dice:0,is_passive:!0},{id:167,name:"marked as dangerous",effect:`When you Mark a Creature you may spend 4 Strain to know the creatures highest Stat and Sub-Stat (name and number).
Additionally, once per turn, refund 1 Strain when a target you Marked does damage.`,req:["nature 2","mind 1"],dice:0,is_passive:!0},{id:166,name:"marked as prey",effect:`When you damage a Marked target, you do an extra Damage and reduce the target's Mark stacks by 1. 
Additionally, you know the rough direction of creatures you Mark and the creatures highest Stat and Sub-stat (name only).`,req:["nature 2","mind 1"],dice:0,is_passive:!0},{id:652,name:"animal friend familiar enhancement",effect:`Your Familiar gains +2 Dodge at the end of a Rest, and the Familiar itself gains the Animal type if they don't already have it.
Additionally, while your Familiar is within 1 tile of you, you have +1 on Nature rolls when tracking and +1 to Search rolls.
`,req:["nature 2","soul 1"],dice:0,is_passive:!0},{id:758,name:"aquatic form",effect:`You can add your Nature to the number of minutes you can hold your breath.
When you shapeshift into an Animal you gain the following bonuses:
- You can breath water as if it was air.
- You can swim your Speed without rolling Body.
- ***Small Only*** - You gain +2 Speed while swimming.
- You know the spell 'Water Ball'.

Additionally, you learn the spell 'Animal Form'. This spell does not count against the number of spells you know. `,req:["nature 2","soul 1"],dice:0,is_passive:!0},{id:182,name:"crystalized soul",effect:"Whenever you gain Soul Strain from the result of casting a spell. Gain 1 Armor Health for every 2 Strain gained.",req:["nature 2","soul 1"],dice:0,is_passive:!0},{id:754,name:"digger form",effect:`Spend # (1 dice) and 1 Strain to create a set of temporary 'Tunneler's Tools'. These tools last for 1 hour after which they break.
When you shapeshift into an Animal you may spend 1 Strain to gain the following bonuses: 
- You can spend ## to move (1+Body) tiles cubed worth of soft material such as dirt or loose stones.
- You can move your Speed through soft material.
- ***Large Only*** - You can move your Speed through hard material such as solid stone.
- Your senses improve, gaining +2 when doing rolls based on sight, smell, or hearing.

Additionally, you learn the spell 'Animal Form'. This spell does not count against the number of spells you know.`,req:["nature 2","soul 1"],dice:1,is_passive:!1},{id:177,name:"improved animal form",effect:`When you shapeshift into an Animal you gain the following bonuses:
- You can move your Speed up vertical walls without needing to roll Body.
- You can have simple conversations with creatures with the Animal tag, and can use Nature instead of Charm when talking to them.
- You can speak normally while shapeshifted.

Additionally, you learn the spell 'Animal Form'. This spell does not count against the number of spells you know.`,req:["nature 2","soul 1"],dice:0,is_passive:!0},{id:175,name:"plant growth",effect:"Pick a point within 4 tiles of you and gain 2 Soul Strain to make plants in Burst 3 grow explosively. Plants in this area grow and blossom becoming rough terrain for 1 minute (6 turns) and any creature, other than yourself, that enters or starts its turn in this area must make a Body contest against your Soul. If you win, the creature is grappled until the start of your next turn.",req:["nature 2","soul 1"],dice:2,is_passive:!1},{id:174,name:"poisoned magic",effect:`When you effect a target with a spell that costs Soul Strain you may give them a stack of Poisoned. 
Additionally, you can roll Nature instead of Arcana to make poisons.`,req:["nature 2","soul 1"],dice:0,is_passive:!0},{id:757,name:"shelled form",effect:`When you shapeshift into an Animal you may spend 1 Strain to gain the following bonuses: 
- You gain the Technique: 'Fortify'.
- If you where to receive 1 damage from non-spell attack you do not take the damage (you can still take damage from drowning, burn, bleed, and knockback).

Additionally, you learn the spell 'Animal Form'. This spell does not count against the number of spells you know.`,req:["nature 2","soul 1"],dice:0,is_passive:!0},{id:761,name:"packmate form",effect:`When you shapeshift into an Animal you may spend 1 Strain to gain the following bonuses:
- If you are within 1 tile of an Ally, both you and the Ally get +1 on Body checks.
- Once per turn, refund 2 Strain when an ally attacks a target you damaged on your last turn.
- You know the 'Followup Strike' and 'Lightstep Aura' Techniques.
- ***Medium Only*** - If you are within 2 tiles of an Ally, you gain +1 damage on Melee weapon attacks.

Additionally, you learn the spell 'Animal Form'. This spell does not count against the number of spells you know.`,req:["nature 2","soul 1","ooc 0"],dice:0,is_passive:!0},{id:162,name:"overgrowth",effect:"You become noticeably larger, get +1 on Body rolls, and can lift/carry twice your usual weight.",req:["nature 3","body 2"],dice:0,is_passive:!0},{id:169,name:"elemental shots",effect:`You infuse your weapon or ammo with elemental energy. Spend # (1 dice) and spend 2 Strain, the next Weapon Attack you do this turn does 1 additional damage and has one of the following effects: 
Fire: On hit, give the target 1 stack of Burn.
Ice: On hit, give the target 1 additional stack of Stun or 3 stacks of Wet.
Earth: On hit, the target is knocked back 3 tiles.
Wind: On hit, another target within 2 tiles takes half damage (rounded down) or makes a cloud within Burst 1 which Obscures everything for up to 30 seconds (3 turns).`,req:["nature 3","mind 2"],dice:1,is_passive:!1},{id:178,name:"updraft",effect:"Whenever you gain Strain by casting an Elemental spell you can Fly (Move your speed in the air) until end of your turn. (10 seconds out of combat)",req:["nature 3","soul 2"],dice:0,is_passive:!0},{id:181,name:"frostbite",effect:"When you effect a creature with Stun, Webbed, or effects that reduce movement, deal 1 damage to them.",req:["nature 3","soul 2","broken 0"],dice:0,is_passive:!0},{id:183,name:"stronger flames",effect:"Non-cantrip Spells that apply Burn apply an additional stack of Burn.",req:["nature 3","soul 2","broken 0"],dice:0,is_passive:!0},{id:530,name:"elemental fangs",effect:`When you shapeshift into an Animal choose a type: Fire, Water, Earth, Air. You gain the following bonuses based on what you choose:

Fire: While transformed your Weapon Attacks inflict an additional 1 Burn, and when you are gain stacks of Burn reduce the number of stacks gained by 1. 
Water: You can't lose Speed from non-magical sources, and can breath underwater as if it was air. 
Earth: While transformed do an additional 1 Damage on your Weapon Attacks, and gain the 'Fortify' Technique. 
Wind: While transformed you get an additional 2 Speed.`,req:["nature 3","soul 3"],dice:0,is_passive:!0},{id:533,name:"elementalist adept",effect:`When you gain stacks of Burn, Stun, Sparking or are affected by Knockback you may refund 1 Strain. 

Additionally, You learn the Spell 'Control Elements'. It does not count towards your total spells known. When you cast 'Control Elements', you can affect up to 2 tiles of material instead of 1.`,req:["nature 3","soul 3"],dice:0,is_passive:!0},{id:760,name:"serpent form",effect:`You cannot gain stacks of Poisoned.
When you shapeshift into an Animal you gain the following bonuses:
- When you grapple a creature within 1 tile of you, you may bite them (no cost) to give them Poisoned for 3 turns.
- Your 'Bite' attack gains: On a 9 or Higher, give the target 1 stack of Poisoned.
- ***Small Only*** - You can 'see' heat, allowing you to roll Nature when doing a Search roll instead of a Body, Mind, or Soul.

Additionally, you learn the spell 'Animal Form'. This spell does not count against the number of spells you know. `,req:["nature 3","soul 3"],dice:0,is_passive:!0},{id:756,name:"war form",effect:`When you shapeshift into an Animal you gain the following bonuses:
- Gain bonus Armor equal to your Level
- ***Small Only*** - Gain +1 Dodge.
- You know the Technique 'Dual Wield', you can use the attack 'Bite' for this Technique.
- Your 'Bite' attack does +1 Damage

Additionally, you learn the spell 'Animal Form'. This spell does not count against the number of spells you know.`,req:["nature 3","soul 3"],dice:0,is_passive:!0},{id:163,name:"warden's grasp",effect:`You may spend 2 Strain to have plants grow out from you to pick up objects within 8 tiles of you. The plants cannot do grapple contests, and can collectively carry the same amount of weight as you. If you have the trait 'Natures Bind' you may use this ability to make grapple contests.
Additionally, once per turn, refund 3 Strain when you Grapple a creature.`,req:["nature 4","body 2"],dice:0,is_passive:!0},{id:529,name:"master huntsman",effect:`You have learned to follow your prey through anything. While you have a creature Marked, you may Windup the spell 'Track Creature'. On your next turn if you finish winding up you cast the spell ' Track Creature' without gaining Soul Strain.
Additionally, you also know what plane of existence the Marked creature is on, how far from you the creature is, and if they are traveling alone or in a group.`,req:["nature 4","mind 2"],dice:3,is_passive:!1},{id:180,name:"soulbound tree hopper",effect:"Spend 24 hours binding your Soul to a tree turning it into a Soulbound Tree. While this tree stands you are able to spend 5 Strain and walk into another tree to teleport yourself, and anyone touching you, to this Soulbound tree. You can have any number of Soulbound Trees.",req:["nature 4","soul 2"],dice:1,is_passive:!1},{id:531,name:"magical beast form",effect:"Spend ## (2 dice) and gain 4 Soul Strain, you can transform into a creature that has the Animal tag. You must have seen this creature. The creature must have a Difficulty Rating (DR) your level or lower. The Shapeshift lasts until dispelled or you die. While transformed you replace your Character sheet with the Beast's sheet. Your Health and Ward remain unchanged.",req:["nature 4","soul 2","broken 0"],dice:2,is_passive:!1},{id:176,name:"soul hardened spirit animal",effect:`Your Spirit Animal gains Ward 2 and 1 Armor stack. 
Additionally, its Armor Becomes Medium`,req:["nature 4","soul 2","broken 0"],dice:0,is_passive:!0},{id:759,name:"dragon form",effect:`You learn one 2 or less cost Spell that has the Elemental tag. This spell does not count against the number of spells you know.
When you shapeshift into an Animal you can spend 1 Strain to gain the following bonuses:
- When you lock a dice, turn it into a 6.
- You know the Technique: 'Dragon Aura', and can cast it without spending Strain.
- ***Large Only*** - You can cast the Spell that was learned with this Trait.

Additionally, you learn the spell 'Animal Form'. This spell does not count against the number of spells you know.`,req:["nature 4","soul 4"],dice:0,is_passive:!0},{id:755,name:"flight form",effect:`You learn the spells 'Spectral Parachute' and 'Animal Form' these spells do not count against the number of spells you know. 
When you shapeshift into an Animal you can spend 1 Strain to gain the following bonus:
- You can Fly your Speed.
- You learn the 'Wind Wall' Spell.`,req:["nature 4","soul 4"],dice:0,is_passive:!0},{id:36,name:"guarding aura",effect:"You know how many creatures are within your Aura, even if they are Hidden. At the beginning of your turn, for every creature in your Aura you get 1 Armor Health. If you do not have an Aura you get one with the following effect: Spend a dice to toggle on or off this Aura you can only have one Aura active at a time. While this Aura is Active a soft glow appears within 2 tiles of you.",req:["nature 6","body 4","broken 0"],dice:0,is_passive:!0},{id:244,name:"soul stealer",effect:"When you kill an enemy with a Melee Attack, remove 2 stacks of Soul Strain",req:["soul 2","body 1","ooc 0"],dice:0,is_passive:!0},{id:590,name:"bully",effect:`When you apply knockback, do additional knockback equal to your Body.
Additionally, once per turn, refund 1 Strain when you move another creature 2 or more tiles.`,req:["thieving 1","body 1"],dice:0,is_passive:!0},{id:30,name:"defensive duelist",effect:`While you are wielding two weapons you may roll using Thieving instead of Body for contests.
Additionally, refund 1 Strain and gain 1 Armor when you give a 4 or less for a Melee Weapon Attack.`,req:["thieving 1","body 1"],dice:0,is_passive:!0},{id:223,name:"concealed item",effect:`You can completely conceal a small item on your person. When you roll Thieving to hide an item on yourself you get +2 on the roll, and creatures searching you get -2 on their roll. 
Additionally, once per turn, refund 1 Strain when you make an Attack out of being Obscured or Hidden.`,req:["thieving 1","mind 1"],dice:0,is_passive:!0},{id:542,name:"apprentice spell thief",effect:`If you see a spell being cast by someone else, you temporarily know that spell and how to cast it for 1 minute (6 turns) regardless of if you know the spell innately.

Additionally, you can spend 1 minute (6 turns) casting 'Dispel Magic' with 'Thieves Tools' without spending Strain.`,req:["thieving 1","soul 1"],dice:2,is_passive:!1},{id:432,name:"shadow-born familiar bonus",effect:`Your Familiar(s) gains the Spirit Claw weapon, Shadow Skip trait, Pocket Dimension spell, and the Planar type if they don't already have it.

Spirit Claw - ## - Do 2 damage. Increases its damage by 1 every 2 levels you have. On a 9 or Higher: give the target 1 stack of Soul Strain.

Shadow Skip - # - While within a shadow that mostly covers you, you may gain 1 Soul Strain then teleport to another patch of shadow that would mostly cover you within 12 tiles of you that you can see.

Pocket Dimension - # - Create a small hole in space from a container you are touching that is no larger than 1 tile in size. The space is 1 tile square of empty space accessible through the opening of the container. Every time you cast this spell it connects to the same space regardless of container. Only you can access this space, and if you die its contents are scattered through the planes. This effect lasts for 3 turns.`,req:["thieving 1","soul 1","broken 0"],dice:0,is_passive:!0},{id:220,name:"larceny",effect:"Spend ## (2 dice) and 3 Strain to do a contested Body or Thieving contest against a target within 1 tile of you. If you win, you wrestle a medium or smaller item you can see the target holding or wearing away from them. If you lose, you are pushed back 2 tiles.",req:["thieving 2","body 1"],dice:2,is_passive:!1},{id:539,name:"silent strike",effect:`When you do a Weapon attack while Hidden your attack and the target make no noise. If the target dies or is an object you do not loose Hidden.
Additionally, once per turn, refund 1 Strain when you make an Attack out of being Obscured or Hidden.`,req:["thieving 2","mind 1"],dice:0,is_passive:!0},{id:229,name:"toys a plenty",effect:"Spend ## (2 dice) and 3 Strain to make a Thieving contest against a target within 6 tiles of you. Unheld items have a Thieving of 0. If you win, you may activate one item they are holding or carrying with a dice sum of 6. (This can set off grenades, magic items, traps, and more.)",req:["thieving 2","mind 1"],dice:2,is_passive:!1},{id:577,name:"trained aim",effect:`When you attack a target that has stacks of Marked on them you may treat any attack sum as a 5 or higher. 
Additionally, you get +1 on contests, or Thieving checks you initiate against a Marked target.`,req:["thieving 2","mind 1"],dice:0,is_passive:!0},{id:236,name:"now you see me",effect:`When you do the Move action while under the effects of a movement based Spell or Trait you are Invisible.
Additionally, while you are Hidden you may spend # (1 dice) and 1 Strain to turn Invisible until the end of your turn.`,req:["thieving 2","soul 1"],dice:1,is_passive:!1},{id:654,name:"shadow-born familiar enhancement",effect:`Your Familiar's weapon gains 'On a 9 or Higher: reduce the targets Strain by 1.' and the Familiar itself gains the Planar type if they don't already have it.
Additionally, when your Familiar is within 1 tile of you, while within darkness that mostly covers you, you may spend 1 Strain then teleport yourself and your Familiar to another patch of darkness that would mostly cover you. This darkness must be within 12 tiles of you, and you must be able to see it.`,req:["thieving 2","soul 1"],dice:0,is_passive:!0},{id:237,name:"spell thief",effect:`If you successfully 'Counterspell' a Spell. You may cast that spell for half its Strain cost (rounded up) on your next turn. 

Additionally, you can spend ## (2 dice) and 2 Strain to learn 1 random spell from creature you can see. You know this spell for 1 hour, and you may learn spells that are too high level for you to acquire normally.`,req:["thieving 2","soul 1"],dice:1,is_passive:!1},{id:221,name:"get rough",effect:`You can push creatures additional number of tiles equal to your Body.

Additionally, when you grapple you may Silence the grappled creature.`,req:["thieving 3","body 2"],dice:0,is_passive:!0},{id:227,name:"assassinate",effect:"When you do a Melee Weapon attack, after damaging them, if the target has your Level or less health set their health to 0. If they roll Deaths Door rolls they roll 3 times.",req:["thieving 3","mind 2"],dice:0,is_passive:!0},{id:216,name:"backstab",effect:"The next Melee Attack you do gains Armor Penetration if it does not already have it.If you attack while hidden or from the target's backside do an additional damage.",req:["thieving 3","ooc 0","broken 0"],dice:1,is_passive:!1},{id:232,name:"obscured spell",effect:"While you are Hidden or Obscured you may conceal the fact that you are casting a spell. This spell makes no noise (unless the spell is designed to) and casting a non-damaging spell does not break you out of Hidden.",req:["thieving 3","soul 2"],dice:0,is_passive:!0},{id:234,name:"silencing strike",effect:`Gain 2 Soul Strain, then make a Weapon Attack. Give the target a Stack of Silence. If you activate the effect of your weapon give them 2 stacks of Silence instead. 
Alternatively you can do no damage to the target and give 3 stacks instead.`,req:["thieving 3","soul 2","broken 0"],dice:2,is_passive:!1},{id:703,name:"double headlock",effect:"You can grapple up to 2 creatures at once. While you are grappling 2 creatures you cannot do any action other than: lock a dice, move, using an Art that moves you (such as 'Bullrush'), or activate an ability that is based on Grappling.",req:["thieving 4","body 2"],dice:0,is_passive:!0},{id:540,name:"marked for death",effect:`When you apply stacks of Marked to a creature they take damage equal to half of the Marked stacks gained (rounded down), with a minimum of 1.
Additionally, you may spend 12 stacks of Marked to make a Thieving roll to hide without spending dice.`,req:["thieving 4","mind 2"],dice:0,is_passive:!0},{id:226,name:"hidden in plain sight",effect:"While disguised, you can roll Thieving instead of Charm to Convince Someone of Something as your disguise.",req:["thieving 4","mind 2","broken 0"],dice:0,is_passive:!0},{id:766,name:"blurred spells",effect:`If you successfully 'Counterspell' a Spell, you may blur the spell. While the spell is blurred, the caster can not cast the spell for a number of turns equal to the spells level. Only 1 spell can be blurred per creature.
Additionally, when you cast the Spell 'Counterspell' you may add 1 to the dice value. This can increase the dice value above 6.`,req:["thieving 4","soul 4"],dice:0,is_passive:!0},{id:228,name:"redirect",effect:"When you get hit spend your Locked dice to redirect the attack to a creature within 1 tile of you. You cannot do this if there are no creatures within 1 tile of you.",req:["thieving 5","mind 3","broken 0"],dice:1,is_passive:!1}];function c1(e,t){const n=e.map(r=>t.indexOf(r)).filter(r=>r!==-1),a=e.includes("magical 0")==!0?5:0;return n.length>0?Math.min(...n)+a:1/0}function Qw(e){return e==null?void 0:e.sort((t,n)=>(t.name??"")>(n.name??"")?-1:1)}function Bs(e){return(e==null?void 0:e.sort((n,a)=>(n.name??"")<(a.name??"")?-1:1)).sort((n,a)=>(n.level??0)-(a.level??0))}function Hs(e){return Qw(e).sort((n,a)=>{var o,s,l,u;let r=n.req.length,i=a.req.length;return((o=n.req)!=null&&o.includes("ooc 0")||(s=n.req)!=null&&s.includes("broken 0"))&&r--,((l=a.req)!=null&&l.includes("ooc 0")||(u=a.req)!=null&&u.includes("broken 0"))&&i--,r==i?(n.req??"")<(a.req??"0")?-1:1:r<i?-1:1})}function MP(e){return Qw(e).sort((n,a)=>{var s,l;const r=["common 0","uncommon 0","rare 0","legendary 0"];let i=c1(n.tags,r)*10,o=c1(a.tags,r)*10;return i+=n.req.length,o+=a.req.length,(s=n.req)!=null&&s.includes("broken 0")&&i--,(l=a.req)!=null&&l.includes("broken 0")&&o--,i==o?(n.req??"")<(a.req??"0")?-1:1:i<o?-1:1})}function FP(e){return e==null?void 0:e.filter(t=>{if(t.tags)return t.tags.includes("BROKEN")||t.tags.includes("broken")?"":t.tags})}function d1(e){return e==null?void 0:e.filter(t=>{if(t.req)return t.req.includes("BROKEN 0")||t.req.includes("broken 0")?"":t.req})}function a0(e,t,n,a=0){const[r,i]=g.useState([]),[o,s]=g.useState([]),[l,u]=g.useState([]),[d,f]=g.useState(!1),{auth:m}=g.useContext(dm);g.useEffect(()=>{async function y(){let b;try{if(window.localStorage.getItem("useBackup")=="true")throw new Error("Use Backup");const w=await t();b=Object.values(w)}catch(w){if(w instanceof Error&&w.message=="Network Error")console.log("WARNING YOU ARE OFFLINE! A backup is being used, however it is not up to date and may have incorrect data."),b=Object.values(Kw);else{w instanceof Error&&console.log(w.message);return}}if(!m.isAuthenticated||!m.admin)switch(e){case mt.Trait:b=d1(b);break;case mt.Item:b=d1(b);break;case mt.Spell:b=FP(b);break;default:console.log("CREATURE! WHY? HOW? THIS ISENT REAL YET!");break}switch(e){case mt.Trait:b=Hs(b);break;case mt.Item:b=MP(b);break;case mt.Spell:b=Bs(b);break;default:console.log("CREATURE! WHY? HOW? THIS ISENT REAL YET!");break}i(b),u(b);const x=Ko(n,b);x&&s(x),f(!0)}y()},[m,e,t,n,a]),g.useEffect(()=>{if(d==!1)return;const y=o.map(b=>b.name);window.localStorage.setItem(n,y.join(";|;"))},[d,n,o]);const p=g.useCallback(y=>{const b=[...o,y];if(e==mt.Spell){s(Bs(b));return}else if(e==mt.Trait||e==mt.Item){s(Hs(b));return}s(b)},[e,o]),v=g.useCallback(y=>{const b=o.indexOf(y),x=o.slice();x.splice(b,1),s(x)},[o]),k=g.useCallback(y=>{u(r.filter(y))},[r]),T=g.useCallback(()=>{u(r)},[r]);return{all:r,pinned:o,displayed:l,addToPinned:p,removeFromPinned:v,filter:k,resetFilter:T}}function ko(e=0){const{all:t,pinned:n,displayed:a,addToPinned:r,removeFromPinned:i,filter:o,resetFilter:s}=a0(mt.Trait,fb.getAllTraits,"pinnedTraitNames",e);return{allTraits:t,pinnedTraits:n,displayedTraits:a,addToPinnedTraits:r,removeFromPinnedTraits:i,filterTraits:o,resetFilterTraits:s}}function h1({_trait:e}){var r,i;const t=dl(e.effect??""),n=n0(((r=e.req)==null?void 0:r.toString().replace(" 0",""))??"",",");let a=`bg-gradient-to-br from-${e.req[0].toString().replace(/[0-9\s]/g,"")??""} to-${((i=e.req[0])==null?void 0:i.toString().replace(/[0-9\s]/g,""))??""} p-2`;return e.req.length>1&&(a=`bg-gradient-to-br from-${e.req[0].toString().replace(/[0-9\s]/g,"")??""} to-${e.req[1].toString().replace(/[0-9\s]/g,"")??""} p-2`),c.jsxs("div",{className:"flex flex-col bg-dark-400 rounded-md border-solid border-2 border-body-700/20 m-4",children:[c.jsxs("div",{className:"flex flex-row items-center bg-dark rounded-md justify-between",children:[c.jsx("div",{className:"text-lg font-bold capitalize p-2",children:e.name??""}),c.jsx("div",{className:"flex flex-row items-center capitalize",children:n})]}),c.jsx("div",{className:a}),c.jsx("div",{dangerouslySetInnerHTML:{__html:t},className:"whitespace-pre-wrap text-left m-5 indent-5 text-sm"})]})}function jP({allTraits:e,wantedLoneList:t,wantedComboList:n,headers:a,subNotes:r}){const i=Er(t,e),o=Er(n,e);return c.jsxs("div",{children:[c.jsx("h1",{className:`capitalize text-${a[0]} text-5xl`,id:`traits-simple-${a[0]}`,children:a[0]}),c.jsx("p",{className:"italic",children:r[0]}),c.jsx("div",{className:"grid grid-cols-1 md:grid-cols-4",children:i.map((s,l)=>{if(s.name!="Error")return c.jsx(h1,{_trait:s},l)})}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3",children:[c.jsx("h3",{className:"capitalize",children:a[1]}),c.jsx("h3",{className:"capitalize",children:a[2]}),c.jsx("h3",{className:"capitalize",children:a[3]}),c.jsx("p",{className:"italic text-sm",children:r[1]}),c.jsx("p",{className:"italic text-sm",children:r[2]}),c.jsx("p",{className:"italic text-sm",children:r[3]}),o.map((s,l)=>{if(s.name!="Error")return c.jsx(h1,{_trait:s},l)})]})]})}const BP=[{wantedLoneList:"",wantedComboList:"criminal;|;aquatic;|;constructed;|;child of faith;|;cloudhopper;|;cursed;|;undergrounder;|;merchant house;|;elemental;|;warriors of old;|;nomad;|;nature born",headers:["Origin","Flexible","Middle Grounder","Eye Catchers"],subNotes:["Your Origin Stat is Body, Mind, or Soul. You pick your Origin Stat when you make the character.","Common ones with a lot of room for change.","More specific, but still flexible","For those with very specific origins."]},{wantedLoneList:"hearty;|;battle ready;|;critical;|;great weapon master",wantedComboList:"quick runner;|;bloodhound;|;walled off;|;whirlwind;|;tag team;|;defender;|;strong punches;|;improved auras;|;guarding aura;|;dagger master;|;hammer master;|;polearm master",headers:["body","Aggression","Teamwork","Defensive"],subNotes:["Practice is better than theory.","Hit them hard and fast.","Traits that work better with a team than without.","Defend and Protect."]},{wantedLoneList:"acute memory;|;investigator;|;placeholder;|;placeholder",wantedComboList:"snake eyes;|;marked as lost and found;|;placeholder;|;forethought;|;longer marks;|;placeholder;|;placeholder;|;target weakness;|;placeholder;|;eggs in one basket;|;placeholder;|;placeholder",headers:["mind","Dice Manipulation","Marks","___"],subNotes:["Using your head to solve problems.","Change the dice to change your fate.","Applying and utilizing stacks of Marked.","___"]},{wantedLoneList:"telepathy;|;soul shielded;|;simple spell enhancements;|;efficient spellcasting",wantedComboList:"yoyo;|;soul covenant;|;apprentice elementalist;|;placeholder;|;placeholder;|;placeholder;|;placeholder;|;placeholder;|;elementalist adept;|;acceleration;|;purified soul;|;updraft",headers:["soul","Movement","Religious","Elementalist"],subNotes:["Spellcasters and Summoners.","Positioning is key.","Clerics, Paladins, and Warlocks","Manipulate the elements to your wim"]},{wantedLoneList:"rune maker;|;runic carver;|;arcane eyes;|;runic master",wantedComboList:"arcane armory;|;ingredient scavenger;|;spell book;|;runic overflow;|;complex brews;|;spell manipulator;|;runic swap;|;potent alchemy;|;spell augmenter;|;placeholder;|;double dosing;|;spell expertise",headers:["arcana","runeblade","alchemist","lore master"],subNotes:["Manipulation of the world by use of magical Runes.","Enhancing yourself and your tools.","Creating and using potions.","Augmenting Arts in weird ways."]},{wantedLoneList:"saving face;|;heart to heart;|;first impression;|;universal language",wantedComboList:"fancy feet;|;apprentice detective;|;ventriloquism;|;show, dont tell;|;trained detective;|;body possession;|;for the crowd;|;holes in the armor;|;stolen dreams;|;the show must go on;|;expert detective;|;puppet master",headers:["charm","performer","detective","puppeteer"],subNotes:["Talk and manipulate others.","Give people a good show, and gain buffs while doing it.","Solve crimes, even if the local guard dont like it.","Control people, figuratively and literally."]},{wantedLoneList:"slapdash solutions;|;placeholder;|;placeholder;|;build them, break them",wantedComboList:"apprentice blacksmith;|;steam power;|;abjurer;|;reforge;|;turreted item;|;spectral artillery;|;placeholder;|;placeholder;|;fractal creations;|;expert blacksmith;|;placeholder;|;wellspring of creation",headers:["crafting","blacksmith","clockworks","artificer"],subNotes:["Create powerful contraptions from simple parts.","Hone weapons and armor.","Use advanced gears and gyros to do impossible feats.","Magic explosions and items, what more could you ask for?"]},{wantedLoneList:"hidden in the bush;|;heightened senses;|;placeholder;|;one with nature",wantedComboList:"nature's bind;|;knowledge of the forest;|;placeholder;|;canopy;|;marked as prey;|;plant growth;|;placeholder;|;placeholder;|;draw roots;|;warden's grasp;|;master huntsman;|;placeholder",headers:["nature","warden","hunter","druid"],subNotes:["Work with nature to improve yourself.","Become a guardian of the forest (and your allies).","Hunt down any prey no matter how far.","Harness natures elements and become the monsters you fear most."]},{wantedLoneList:"field medicine;|;trained medic;|;recycled meds;|;resuscitate",wantedComboList:"blood magic;|;medical leaches;|;if these walls could talk;|;bloody mess;|;placeholder;|;soul absorption;|;placeholder;|;plague doctor;|;undead tinkerer;|;power from pain;|;transformative surgery;|;undead king",headers:["medicine","blood magic","strange healers","necromancer"],subNotes:["Become the doctor you always wanted to be.","Using blood for spells and effects.","There is more than one way to heal.","Stop dealth in its tracks, one way or another."]},{wantedLoneList:"apprentice thief;|;cat burgler;|;hidden in plain sight;|;master thief",wantedComboList:"bully;|;marked for death;|;apprentice spell thief;|;larceny;|;silent strike;|;spell thief;|;get rough;|;placeholder;|;obscured spell;|;double headlock;|;assassinate;|;blurred spells",headers:["thieving","thug","assasin","spellthief"],subNotes:["Steal and kill without a trace.","Steal peoples lunch money and get away with it.","Efficent killer.","Steal and use other peoples spells."]}];function HP(){const{allTraits:e}=ko();return c.jsx("div",{id:"traits-simple-listing",children:BP.map((t,n)=>c.jsx(jP,{allTraits:e,wantedLoneList:t.wantedLoneList,wantedComboList:t.wantedComboList,headers:t.headers,subNotes:t.subNotes},n))})}const qP=dl(SP);function UP(){return c.jsxs(c.Fragment,{children:[c.jsx("h3",{children:"Pages"}),c.jsxs("div",{className:"flex flex-column flex-wrap gap-4 justify-center mb-2",children:[c.jsx(hn,{to:"traits",children:c.jsx(G,{leftIcon:qb,variant:"body",children:"Traits"})}),c.jsx(hn,{to:"items",children:c.jsx(G,{leftIcon:Ub,variant:"mind",children:"Items"})}),c.jsx(hn,{to:"spells",children:c.jsx(G,{leftIcon:Wb,variant:"soul",children:"Arts"})}),c.jsx(hn,{to:"creatures",children:c.jsx(G,{leftIcon:Dm,variant:"medicine",children:"Creatures"})})]}),c.jsxs("div",{className:" mx-auto text-left max-w-4xl markdown-styles",children:[c.jsx("h1",{children:"Table of Contents"}),c.jsx(PP,{}),c.jsx(t8,{remarkPlugins:[hL],rehypePlugins:[EP],components:{h1:ki,h2:ki,h3:ki,h4:ki,h5:ki,h6:ki},children:qP})]}),c.jsx("div",{className:"justify-start",children:c.jsx(Qe,{defaultOpen:!0,children:({open:e})=>c.jsxs(c.Fragment,{children:[c.jsx(Qe.Button,{children:c.jsx(G,{variant:"dark",size:"xl",className:"mb-2",open:e,rightIcon:wa,children:"Trait Simple Listing"})}),c.jsx(Qe.Panel,{children:c.jsx(HP,{})})]})})})]})}function Xr({displayedTraits:e,moveTrait:t,moveIsAdd:n=!0}){return c.jsxs("table",{className:"border-collapse table-fixed md:table-auto dark:text-light text-dark rounded-md",children:[c.jsx("thead",{className:"dark:bg-dark-400 bg-light-300 font-bold",children:c.jsxs("tr",{children:[c.jsx("th",{className:"hidden md:table-cell",children:"Name"}),c.jsx("th",{className:"table-cell md:hidden w-[30%]",children:"Trait"}),c.jsx("th",{className:"hidden md:table-cell",children:"Requirements"}),c.jsx("th",{className:"hidden md:table-cell",children:"Dice"}),c.jsx("th",{children:"Effect"}),t!=null&&c.jsx("th",{className:"hidden md:table-cell",children:n?"Save":"Unsave"})]})}),c.jsx("tbody",{children:e.map((a,r)=>{var s;const i=dl(a.effect??""),o=n0(((s=a.req)==null?void 0:s.toString().replace(" 0",""))??"",",");return c.jsxs("tr",{children:[c.jsx("td",{className:"font-bold capitalize hidden md:table-cell",children:a.name}),c.jsxs("td",{className:"table-cell min-w-24 md:hidden capitalize",children:[" ",c.jsx("span",{className:"font-bold underline",children:a.name})," ",c.jsx("br",{}),"Dice:"," ",a.dice?"#".repeat(a.dice??1):"P",c.jsx("div",{className:"flex flex-col items-center",children:o})," ",t!=null&&c.jsx(G,{variant:n?"subtle-nature":"subtle-medicine",leftIcon:n?oi:si,className:"rounded-md w-6 h-8",onClick:()=>{t(a)}})]}),c.jsx("td",{className:"capitalize hidden md:table-cell",align:"center",children:o}),c.jsx("td",{className:"hidden md:table-cell",children:a.dice?"#".repeat(a.dice??1):"P"}),c.jsx("td",{dangerouslySetInnerHTML:{__html:i},className:"whitespace-pre-wrap text-left"}),t!=null&&c.jsx("td",{className:"hidden md:table-cell",children:c.jsx(G,{variant:n?"subtle-nature":"subtle-medicine",leftIcon:n?oi:si,className:"rounded-md w-6 h-8",onClick:()=>{t(a)}})})]},r)})})]})}function WP({filter:e,resetFilter:t,filterClass:n,initialSearch:a}){const[r,i]=g.useState("hidden"),[o,s]=g.useState(a??""),[l,u]=g.useState("");return g.useEffect(()=>{if(a!=""&&a!=null){s(""),i("hidden"),u(a);return}if(o==""){t(),i("hidden");return}u(o),i("visible")}),g.useEffect(()=>{switch(console.log("init",l),n){case mt.Trait:{e(d=>{var f,m;try{return((m=[d.name.toLowerCase(),(f=d.effect)==null?void 0:f.toLowerCase().replace(`
`,"")," "].join(";|;").match(new RegExp(l,"g")))==null?void 0:m.length)!=null}catch(p){console.error("Bad regex:",p)}return!1});return}case mt.Item:{e(d=>{var f,m,p;try{return((p=[d.name.toLowerCase(),(f=d.effect)==null?void 0:f.toLowerCase().replace(/(\r\n|\n|\r)/gm,""),(m=d.tags)==null?void 0:m.join(",").toLowerCase()].join(";|;").match(new RegExp(l,"g")))==null?void 0:p.length)!=null}catch(v){console.error("Bad regex:",v)}return!1});return}case mt.Spell:{e(d=>{var f,m,p;try{return((p=[d.name.toLowerCase(),(f=d.effect)==null?void 0:f.toLowerCase().replace(`
`,""),(m=d.tags)==null?void 0:m.join(",").toLowerCase()].join(";|;").match(new RegExp(l,"g")))==null?void 0:p.length)!=null}catch(v){console.error("Bad regex:",v)}return!1});return}case mt.Creature:return}},[l]),c.jsxs("div",{className:"flex-column flex max-h-10 w-full items-center rounded-full bg-dark-700 px-2 py-1 md:w-56",children:[c.jsx(Yb,{className:"h-6 w-6 text-light"}),c.jsx("input",{value:o,type:"text",name:"search",placeholder:"Search",className:"w-16 flex-grow bg-dark-700 pl-1",onChange:d=>{s(d.target.value.toLowerCase())}}),c.jsx(rl,{className:"h-6 w-6 cursor-pointer opacity-50",visibility:r,onClick:()=>{s(""),i("hidden")}})]})}function Nc({displayedContentName:e,displayedContent:t,isOpen:n,setIsOpen:a}){function r(){a(!1)}return c.jsx(c.Fragment,{children:c.jsx(aa,{appear:!0,show:n,as:g.Fragment,children:c.jsxs(na,{as:"div",className:"relative z-10",onClose:r,children:[c.jsx(aa.Child,{as:g.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0",enterTo:"opacity-100",leave:"ease-in duration-200",leaveFrom:"opacity-100",leaveTo:"opacity-0",children:c.jsx("div",{className:"fixed inset-0 bg-black/25"})}),c.jsx("div",{className:"fixed inset-0 overflow-y-auto m-6",children:c.jsx("div",{className:"flex items-center justify-center p-4 pt-0 text-center",children:c.jsx(aa.Child,{as:g.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0 scale-95",enterTo:"opacity-100 scale-100",leave:"ease-in duration-200",leaveFrom:"opacity-100 scale-100",leaveTo:"opacity-0 scale-95",children:c.jsxs(na.Panel,{className:"w-[95%] lg:w-[80%] h-[50%] transform overflow-hidden rounded-2xl p-6 pt-0 text-left align-middle shadow-xl transition-all bg-light dark:bg-dark",children:[c.jsxs(na.Title,{as:"div",className:"text-lg font-medium leading-6 flex flex-row justify-between",children:[c.jsx("h3",{className:"capitalize",children:e}),c.jsx("div",{className:"mt-4",children:c.jsx(rl,{className:"h-6 w-6 opacity-50 cursor-pointer",onClick:r})})]}),t]})})})})]})})})}function an({items:e,className:t,selected:n,setSelected:a}){const[r,i]=g.useState("");let o=t;const s=r===""?e:e.filter(l=>l.toLowerCase().replace(/\s+/g,"").includes(r.toLowerCase().replace(/\s+/g,"")));return c.jsx("div",{className:o,children:c.jsx(jo,{value:n,onChange:a,children:c.jsxs("div",{className:"relative mt-1 w-full",children:[c.jsxs("div",{className:"relative w-full cursor-default overflow-hidden rounded-lg text-left shadow-md focus:outline-none focus-visible:ring-2 focus-visible:ring-light focus-visible:ring-offset-2 focus-visible:ring-offset-light sm:text-sm",children:[c.jsx(jo.Input,{className:"w-full border-none py-2 pl-3 pr-10 text-sm leading-5 text-light focus:ring-0",displayValue:l=>l,onChange:l=>i(l.target.value)}),c.jsx(jo.Button,{className:"absolute inset-y-0 right-0 flex items-center pr-2",children:c.jsx(Yh,{className:"h-5 w-5 text-light-400","aria-hidden":"true"})})]}),c.jsx(aa,{as:g.Fragment,leave:"transition ease-in duration-100",leaveFrom:"opacity-100",leaveTo:"opacity-0",afterLeave:()=>i(""),children:c.jsx(jo.Options,{className:"absolute bg-dark-300 mt-1 max-h-60 w-full overflow-auto rounded-md py-1 text-base shadow-lg ring-1 ring-dark focus:outline-none sm:text-sm z-50",children:s.length===0&&r!==""?c.jsx("div",{className:"relative cursor-default select-none px-4 py-2 text-dark-300",children:"Nothing found."}):s.map((l,u)=>c.jsx(jo.Option,{className:({active:d})=>`relative cursor-default select-none py-2 pl-10 pr-4 ${d?"bg-dark-300 text-light":"text-light-700"}`,value:l,children:({selected:d,active:f})=>c.jsxs(c.Fragment,{children:[c.jsx("span",{className:`block truncate ${d?"font-medium":"font-normal"}`,children:l}),d?c.jsx("span",{className:`absolute inset-y-0 left-0 flex items-center pl-3 ${f?"text-white":"text-teal-600"}`,children:c.jsx(gC,{className:"h-5 w-5","aria-hidden":"true"})}):null]})},u))})})]})})})}function pi({filter:e,resetFilter:t,filterClass:n,tagList:a}){const[r,i]=g.useState(""),[o,s]=g.useState(""),[l,u]=g.useState(""),[d,f]=g.useState(""),[m,p]=g.useState(!1);return g.useEffect(()=>{if(o==""&&l==""&&d==""){i("");return}let v="";if(d[0]==","&&f(d.slice(1)),d!=""){const k=d.replace(/, | ,/g,",").split(",");v=hC(k)}i(`(^(.*${o}.*);\\|;(.*${l}.*);\\|;(.*${v}.*))`)},[o,l,d]),c.jsxs("div",{children:[c.jsxs("div",{className:"flex flex-row items-center",children:[c.jsx(EC,{className:"h-6 w-6 cursor-pointer opacity-50",onClick:()=>{p(!0)}}),c.jsx("div",{className:"p-1",hidden:!(r!=""&&r!=null),children:c.jsx(IC,{className:"h-6 w-6 cursor-pointer opacity-50",onClick:()=>{s(""),u(""),f("")}})}),c.jsx("div",{className:"p-1",hidden:r!=""&&r!=null,children:c.jsx(WP,{filter:e,resetFilter:t,filterClass:n,initialSearch:r})})]}),c.jsx(Nc,{displayedContentName:"advanced filtering",isOpen:m,setIsOpen:p,displayedContent:c.jsxs("div",{className:"bg-dark-400 p-4 m-4 mb-10 rounded-lg",children:[c.jsxs("div",{className:"md:col-span-2 md:row-span-2 justify-center",children:[c.jsx("h3",{className:"flex flex-row capitalize mt-1",children:"Name"}),c.jsx("input",{type:"text",placeholder:"Feather",className:"flex flex-row h-9 rounded-lg p-2 mt-1 w-[100%] shadow-md",value:o,onChange:v=>s(v.target.value)})]}),c.jsxs("div",{className:"md:col-span-2",children:[c.jsx("h3",{className:"flex flex-row capitalize",children:"Effect"}),c.jsx("input",{type:"text",className:"flex flex-row h-9 rounded-lg p-2 mt-1 w-[100%] shadow-md",value:l,onChange:v=>u(v.target.value)})]}),c.jsxs("div",{className:"md:col-span-2",children:[c.jsx("h3",{className:"flex flex-row capitalize",children:"tags"}),c.jsx("input",{type:"text",className:"flex flex-row h-9 rounded-lg p-2 mt-1 w-[100%] shadow-md",value:d,onChange:v=>f(v.target.value)}),c.jsx(an,{items:a,className:"flex flex-row",selected:"",setSelected:v=>{f(d.concat(",",v))}})]})]})})]})}function YP(e){return e<5?"w-12":e<7?"w-16":"w-20"}const zP=[""],f1=["Base","Body","Mind","Soul","Arcana","Charm","Crafting","Nature","Medicine","Thieving","Monster"];function $P(){const{allTraits:e,pinnedTraits:t,displayedTraits:n,addToPinnedTraits:a,removeFromPinnedTraits:r,filterTraits:i,resetFilterTraits:o}=ko();return c.jsxs(c.Fragment,{children:[c.jsx("h1",{children:"Traits"}),c.jsx(G,{onClick:()=>pc(JSON.stringify(e,null,2),"traits.json","text/json"),variant:"link-body",children:"Download Traits Json"}),t.length>0&&c.jsx(c.Fragment,{children:c.jsx("div",{className:"justify-start",children:c.jsx(Qe,{defaultOpen:!0,children:({open:s})=>c.jsxs(c.Fragment,{children:[c.jsx(Qe.Button,{children:c.jsx(G,{variant:"dark",size:"xl",className:"mb-2",open:s,rightIcon:wa,children:"Pinned Traits"})}),c.jsxs(Qe.Panel,{children:[c.jsx(Xr,{displayedTraits:t,moveTrait:l=>{r(l)},moveIsAdd:!1}),c.jsx("hr",{})]})]})})})}),c.jsxs(pe.Group,{as:"div",className:"w-full ",children:[c.jsxs("div",{className:"md:flex-column w-full py-1 align-middle md:flex md:justify-between",children:[c.jsxs(pe.List,{className:"flex flex-wrap gap-2 p-1",children:[c.jsx(pe,{className:({selected:s})=>dt("w-10 rounded-md bg-body-700/20 px-2 py-1 ring-aabase hover:font-bold dark:bg-dark-600",s?"ring-2":""),children:"All"}),f1.map((s,l)=>c.jsx(pe,{className:({selected:u})=>dt("w-16 rounded-md bg-body-700/20 px-1 py-1 ring-aabase hover:font-bold dark:bg-dark-600",YP(s.length),`text-${s.toLowerCase()} dark:text-${s.toLowerCase()}-700 ring-${s.toLowerCase()}-600 dark:ring-${s.toLowerCase()}-600`,u?"ring-2":""),children:s},l))]}),c.jsx(pi,{filter:i,resetFilter:o,filterClass:mt.Trait,tagList:zP})]}),c.jsxs(pe.Panels,{children:[c.jsx(pe.Panel,{children:c.jsx(Xr,{displayedTraits:n,moveTrait:s=>{a(s)}})}),f1.map((s,l)=>c.jsx(pe.Panel,{children:c.jsx(Xr,{displayedTraits:n.filter(u=>{var d;return(d=u.req)==null?void 0:d.toString().includes(s.toLowerCase())}),moveTrait:u=>{a(u)}})},l))]})]})]})}function ja({displayedItems:e,moveItem:t,moveIsAdd:n=!0}){return c.jsxs("table",{className:"border-collapse table-fixed md:table-auto dark:text-light text-dark rounded-md",children:[c.jsx("thead",{className:"dark:bg-dark-400 bg-light-300 font-bold",children:c.jsxs("tr",{children:[c.jsx("th",{className:"hidden md:table-cell",children:"Name"}),c.jsx("th",{className:"table-cell md:hidden w-1/4be",children:"Item"}),c.jsx("th",{className:"hidden md:table-cell",children:"Requirements"}),c.jsx("th",{children:"Effect"}),c.jsx("th",{className:"hidden md:table-cell",children:"Tags"}),c.jsx("th",{className:"hidden md:table-cell",children:"Cost"}),c.jsx("th",{className:"hidden md:table-cell",children:"Craft"}),t!=null&&c.jsx("th",{className:"hidden md:table-cell",children:n?"Save":"Unsave"})]})}),c.jsx("tbody",{children:e.map((a,r)=>{var s,l,u;const i=dl(a.effect??""),o=n0(((s=a.req)==null?void 0:s.toString().replace(" 0",""))??"",",");return c.jsxs("tr",{children:[c.jsx("td",{className:"font-bold capitalize hidden md:table-cell",children:a.name}),c.jsxs("td",{className:"table-cell min-w-24 md:hidden capitalize",children:[c.jsx("span",{className:"font-bold underline",children:a.name}),c.jsx("br",{}),o," Cost: ",a.cost," Craft: ",a.craft," ","Tags:"," ",(l=a.tags)==null?void 0:l.join(", ").replace(/ 0/gi,"")," ",t!=null&&c.jsx(G,{variant:n?"subtle-nature":"subtle-medicine",leftIcon:n?oi:si,className:"rounded-md w-6 h-8",onClick:()=>{t(a)}})]}),c.jsx("td",{className:"capitalize hidden md:table-cell",align:"center",children:o}),c.jsx("td",{dangerouslySetInnerHTML:{__html:i},className:"whitespace-pre-wrap"}),c.jsx("td",{className:"capitalize hidden md:table-cell",children:(u=a.tags)==null?void 0:u.join(", ").replace(/ 0/gi,"")}),c.jsxs("td",{className:"hidden md:table-cell",children:[" ",a.cost," "]}),c.jsxs("td",{className:"hidden md:table-cell",children:[" ",a.craft," "]}),t!=null&&c.jsx("td",{className:"hidden md:table-cell",children:c.jsx(G,{variant:n?"subtle-nature":"subtle-medicine",leftIcon:n?oi:si,className:"rounded-md w-6 h-8",onClick:()=>{t(a)}})})]},r)})})]})}function hl(e=0){const{all:t,pinned:n,displayed:a,addToPinned:r,removeFromPinned:i,filter:o,resetFilter:s}=a0(mt.Item,db.getAllItems,"pinnedItemNames",e);return{allItems:t,pinnedItems:n,displayedItems:a,addToPinnedItems:r,removeFromPinnedItems:i,filterItems:o,resetFilterItems:s}}function GP(e){return e<5?"w-14":e<8?"w-20":"w-28"}const VP=["tiny","small","medium","large","huge","bigabongus","grenade","medicine","item","weapon","alchemical","tool","rune","armor _","magical","common","uncommon","rare","legendary","consumable","complex","vehicle","bound","1 damage","loading _","range _","two handed","throw range _","glow","ward _","dodge _","speed _"],m1=["Weapon","Armor","Rune","Medicine","Alchemical","Grenade","Tool","Item","Magical"];function KP(){const{allItems:e,pinnedItems:t,displayedItems:n,addToPinnedItems:a,removeFromPinnedItems:r,filterItems:i,resetFilterItems:o}=hl();return c.jsxs(c.Fragment,{children:[c.jsx("h1",{children:"Items"}),c.jsx(G,{onClick:()=>pc(JSON.stringify(e,null,2),"items.json","text/json"),variant:"link-soul",children:"Download Items Json"}),t.length>0&&c.jsx(c.Fragment,{children:c.jsx("div",{className:"justify-start",children:c.jsx(Qe,{defaultOpen:!0,children:({open:s})=>c.jsxs(c.Fragment,{children:[c.jsx(Qe.Button,{children:c.jsx(G,{variant:"dark",className:"mb-2 w-full",size:"xl",open:s,rightIcon:wa,children:"Pinned Items"})}),c.jsxs(Qe.Panel,{children:[c.jsx(ja,{displayedItems:t,moveItem:l=>{r(l)},moveIsAdd:!1}),c.jsx("hr",{})]})]})})})}),c.jsxs(pe.Group,{as:"div",className:"w-full ",children:[c.jsxs("div",{className:"md:flex-column w-full py-1 align-middle md:flex md:justify-between",children:[c.jsxs(pe.List,{className:"flex flex-wrap gap-2 p-1",children:[c.jsx(pe,{className:({selected:s})=>dt("w-10 rounded-md bg-body-700/20 px-2 py-1 ring-body-700 hover:font-bold dark:bg-dark-600 dark:ring-light",s?"ring-2":""),children:"All"},0),m1.map((s,l)=>c.jsx(pe,{className:({selected:u})=>dt("rounded-md bg-body-700/20 px-2 py-1 ring-body-700 hover:font-bold dark:bg-dark-600 dark:ring-light",GP(s.length),u?"ring-2":""),children:s},l+1))]}),c.jsx(pi,{filter:i,resetFilter:o,filterClass:mt.Item,tagList:VP})]}),c.jsxs(pe.Panels,{children:[c.jsx(pe.Panel,{children:c.jsx(ja,{displayedItems:n,moveItem:s=>{a(s)}})}),m1.map((s,l)=>c.jsx(pe.Panel,{children:c.jsx(ja,{displayedItems:n.filter(u=>{var d;return(d=u.tags)==null?void 0:d.toString().toLowerCase().includes(s.toLowerCase())}),moveItem:u=>{a(u)}})},l))]})]})]})}function Jr({displayedSpells:e,moveSpell:t,moveIsAdd:n=!0}){return c.jsxs("table",{className:"border-collapse table-fixed md:table-auto dark:text-light text-dark rounded-md",children:[c.jsx("thead",{className:"dark:bg-dark-700 bg-light-300 font-bold",children:c.jsxs("tr",{children:[c.jsx("th",{className:"hidden md:table-cell",children:"Name"}),c.jsx("th",{className:"table-cell md:hidden w-1/4",children:"Spell"}),c.jsx("th",{className:"hidden md:table-cell",children:"Strain"}),c.jsx("th",{className:"hidden md:table-cell",children:"Dice"}),c.jsx("th",{children:"Effect"}),c.jsx("th",{className:"hidden md:table-cell",children:"Tags"}),t!=null&&c.jsx("th",{className:"hidden md:table-cell",children:n?"Save":"Unsave"})]})}),c.jsx("tbody",{children:e.map((a,r)=>{var o,s;const i=dl(a.effect??"");return c.jsxs("tr",{children:[c.jsx("td",{className:"font-bold capitalize hidden md:table-cell",children:a.name}),c.jsxs("td",{className:"table-cell md:hidden capitalize",children:[c.jsx("span",{className:"font-bold underline",children:a.name}),c.jsx("br",{}),"Strain: ",a.level," Dice:"," ","#".repeat(a.dice??1)," Tags:"," ",(o=a.tags)==null?void 0:o.join(", ")," ",t!=null&&c.jsx(G,{variant:n?"subtle-nature":"subtle-medicine",leftIcon:n?oi:si,className:"rounded-md w-6 h-8",onClick:()=>{t(a)}})]}),c.jsx("td",{className:"hidden md:table-cell",children:a.level}),c.jsx("td",{className:"hidden md:table-cell",children:"#".repeat(a.dice??1)}),c.jsx("td",{dangerouslySetInnerHTML:{__html:i},className:"whitespace-pre-wrap text-left"}),c.jsx("td",{className:"capitalize hidden md:table-cell",align:"center",children:(s=a.tags)==null?void 0:s.join(", ")}),t!=null&&c.jsx("td",{className:"hidden md:table-cell",children:c.jsx(G,{variant:n?"subtle-nature":"subtle-medicine",leftIcon:n?oi:si,className:"rounded-md w-6 h-8",onClick:()=>{t(a)}})})]},r)})})]})}function Ic(e=0){const{all:t,pinned:n,displayed:a,addToPinned:r,removeFromPinned:i,filter:o,resetFilter:s}=a0(mt.Spell,hb.getAllSpells,"pinnedSpellNames",e);return{allSpells:t,pinnedSpells:n,displayedSpells:a,addToPinnedSpells:r,removeFromPinnedSpells:i,filterSpells:o,resetFilterSpells:s}}const QP=["elemental","divine","soul","creation","control","divination","protection","power","healing","illusion","ranged","touch","focus","ritual","windup","technique","insight"];function XP(){const{allSpells:e,pinnedSpells:t,displayedSpells:n,addToPinnedSpells:a,removeFromPinnedSpells:r,filterSpells:i,resetFilterSpells:o}=Ic(),s=[0,1,2,3,4,5,6,7,8,9],[l,u]=g.useState("spell");return c.jsxs(c.Fragment,{children:[c.jsxs("h1",{className:"capitalize",children:[l,"s"]}),c.jsxs("div",{className:"flex row justify-center gap-2 p-3",children:[c.jsx(G,{onClick:()=>u("technique"),variant:"body",children:"Techniques"}),c.jsx(G,{onClick:()=>u("insight"),variant:"mind",children:"Insights"}),c.jsx(G,{onClick:()=>u("spell"),variant:"soul",children:"Spells"})]}),c.jsx(G,{onClick:()=>pc(JSON.stringify(e,null,2),"spells.json","text/json"),variant:"subtle-nature",children:"Download Arts Json"}),t.length>0&&c.jsx(c.Fragment,{children:c.jsx("div",{className:"justify-start",children:c.jsx(Qe,{defaultOpen:!0,children:({open:d})=>c.jsxs(c.Fragment,{children:[c.jsx(Qe.Button,{children:c.jsx(G,{variant:"dark",size:"xl",className:"mb-2",open:d,rightIcon:wa,children:"Pinned Spells"})}),c.jsxs(Qe.Panel,{children:[c.jsx(Jr,{displayedSpells:t,moveSpell:f=>{r(f)},moveIsAdd:!1}),c.jsx("hr",{})]})]})})})}),c.jsxs(pe.Group,{as:"div",className:"w-full ",children:[c.jsxs("div",{className:"md:flex-column w-full py-1 align-middle md:flex md:justify-between",children:[c.jsxs(pe.List,{className:"flex flex-wrap gap-2 p-1",children:[c.jsx(pe,{className:({selected:d})=>dt("w-10 rounded-md bg-body-700/20 px-2 py-1 ring-body-700 hover:font-bold dark:bg-dark-600 dark:ring-light",d?"ring-2":""),children:"All"}),s.map((d,f)=>c.jsx(pe,{className:({selected:m})=>dt("w-6 rounded-md bg-body-700/20 px-2 py-1 ring-body-700 hover:font-bold dark:bg-dark-600 dark:ring-light",m?"ring-2":""),children:d},f))]}),c.jsx(pi,{filter:i,resetFilter:o,filterClass:mt.Spell,tagList:QP})]}),c.jsxs(pe.Panels,{children:[c.jsx(pe.Panel,{children:c.jsx(Jr,{displayedSpells:n.filter(d=>l=="spell"?!d.tags.includes("technique")&&!d.tags.includes("insight"):d.tags.includes(l)),moveSpell:d=>{a(d)}})}),s.map((d,f)=>c.jsx(pe.Panel,{children:c.jsx(Jr,{displayedSpells:n.filter(m=>l=="spell"?m.level==d&&!m.tags.includes("technique")&&!m.tags.includes("insight"):m.level==d&&m.tags.includes(l)),moveSpell:m=>{a(m)}})},f))]})]})]})}const JP=[{id:7,name:"bertles ball",effect:`You Focus on creating a small ball, which can be no bigger than your palm or smaller than a marble. The ball glows slightly giving it a faint outline for you even through walls. You are always able to see the ball, even through walls. (This lets you cast spells that require line of sight in places you cant see.)
This ball can be made out of any physical material, can be thrown up to 12 tiles away, and can be used to cast spells.
The ball lasts until dispelled, you cast another Focused spell, or you loose Focus.`,dice:1,level:0,tags:["soul","creation","touch","focus"]},{id:10,name:"control elements",effect:`You can change the general shape, color, and temperature of loose earth (such as dirt, gravel, or sand), non-magical gasses (such as fog, smoke, or air), fires, and water up to a maximum of 1 cubic tile. 
Some examples are; being able to freeze water, ignite or snuff out small fires, dry wet objects or creatures (remove 2 Wet per cast), make air bubbles in water (extends breathable air up to 10 minutes), and remove grime from surfaces.
This effect lasts for 1 hour if not stable (frozen water in the sun, unstable earthen structures, or bubbles of air in water).`,dice:1,level:0,tags:["elemental","control","touch"]},{id:142,name:"curse of pain",effect:`You Focus on cursing a creature you can see within 18 tiles of you. The creature takes 1 damage at the beginning of their turn. On the 3 turn the damage is increased to 3. At the end of the spell's duration if you did not lose focus deal 6 damage to the target.
This spell lasts for 1 minute (6 turns), until dispelled, you loose Focus, or you cast another Focus spell.`,dice:2,level:0,tags:["soul","power","focus","ranged"]},{id:152,name:"dual wield",effect:"After you do an Attack with a non-two handed weapon, you can do another attack with a different non-two handed weapon. Each Fist counts as a different weapon for the purpose of this Technique. This cannot trigger off itself.",dice:1,level:0,tags:["technique","weapon"]},{id:6,name:"far whispers",effect:"Target a Creature you can see. Whisper a message no longer than 10 seconds long. The target, and only your target, will hear your whisper regardless of distance.",dice:1,level:0,tags:["divine","illusion","ranged"]},{id:1,name:"fire bolt",effect:`Hurl a molt of fire. Make a Thrown Spell Attack against a target you can see within 18 tiles of you. Give the target 1 stack of Burn. When your Strain is 0 or less, give 2 stacks of Burn instead of 1. 
On a 9 or Higher: give the target 1 additional stack of Burn.`,dice:2,level:0,tags:["elemental","power","ranged"]},{id:5,name:"glow",effect:`Touch an object to make it glow. It illuminates 2 tiles around it. This effect lasts until dispelled or you cast Glow on another object.
An object with this spell applied to it can be used to cast magic instead of doing physical movements (See 'Magic' for more info).`,dice:1,level:0,tags:["divine","illusion","touch"]},{id:143,name:"hidden writing",effect:"You wave your hand over a surface leaving behind words or an image on the surface. You can write up to 30 words or leave an image as large as your palm. You can then wave your hand over a section of written language or an image turning it invisible. The writing or image becomes visible again if a creature re-casts this spell on it. Additionally, spells that let you see invisibility such as 'Detect Magic', will show the hidden wording.",dice:1,level:0,tags:["elemental","illusion","touch"]},{id:268,name:"magic trick",effect:`When you cast this spell pick one of the following; Move, Soul Fragment, or Small Hole. Based on what you choose do the effect listed below. These effects last for up to 1 minute (6 turns) or until you dispel it.
- Move - Touch a small item. Once per turn, you may spend # (1 dice) to make that item move up to 3 tiles in a strait line.
- Soul Fragment - Summon a soul fragment with a piece of your soul. When made you can have enter with 1 memory or thought that is no longer than 1 minute long. When a creature touches the fragment they then telepathically hear and/or see this memory/thought.
- Small Hole - Create a portal, no larger than a marble, in front of you with an exit up to 1 tile away. You do not need to see the exit point to make this portal. (It can be on the other side of a wall.)`,dice:1,level:0,tags:["soul","creation","touch"]},{id:189,name:"mark",effect:"Pick a target within 6 tiles of you. Give the target 3 stacks of Marked.",dice:1,level:0,tags:["insight","control","ranged"]},{id:9,name:"minor illusion",effect:`Focus on creating a visual or non-verbal sound Illusion of your choice that is no larger in size than 1 foot square within 6 tiles of you. A creature do a 'Mind' contest against your Soul, to discern if it is an illusion.
The illusion lasts for 1 minute (6 turns), until dispelled, you cast another Focused spell, or you lose Focus. You can spend an additional dice on the following turns to animate the illusion, resetting the number of turns until it dispels.`,dice:2,level:0,tags:["elemental","illusion","ranged","focus"]},{id:162,name:"overwatch",effect:"Spend your locked dice instead of a combat dice when using this Technique. Do a Weapon Attack against a target that moves into or out of your max range. Weapons without a range have a range of 1.",dice:1,level:0,tags:["technique","weapon"]},{id:11,name:"phantom fishing rod",effect:`This spell counts as a Fishing rod for the purposes of Fishing (See Items). Pick a target within Range 18, increase this range by your Max Strain. Pull a light object to you or if you target a large object or creature make a Spell Attack. Pull the target 3 tiles to you. 
On a 9 or Higher: Pull the target 4 tiles instead of 3.`,dice:2,level:0,tags:["soul","control","ranged"]},{id:8,name:"pocket dimension",effect:"Create a small hole in space from a container you are touching that is no larger than 1 tile in size. The space is 1 tile square of empty space accessible through the opening of the container. Every time you cast this spell it connects to the same space regardless of container. Only you can access this space, and if you die its contents are scattered through the planes. This effect lasts for 30 seconds (3 turns) before the door to the pocket dimension closes.",dice:1,level:0,tags:["soul","creation","touch"]},{id:2,name:"poprocks",effect:`Turn a rock into a little explosive. Make a Thrown Spell Attack against a target you can see within 18 tiles of you. Move the target a number of tiles equal to (your Soul + 1).
On a 9 or Higher: Move the target 2 tiles further.`,dice:2,level:0,tags:["elemental","power","ranged"]},{id:149,name:"shield throw",effect:"Throw your shield up to 6 tiles. This does 2 damage for a normal shield and 4 for a tower shield. You retain your armor gained from this shield.",dice:2,level:0,tags:["technique","power"]},{id:267,name:"shooting star",effect:"Make a Spell Attack against a target you can see within 18 tiles of you. The target gains 1 stack of Glowing. Until end of turn, the target takes 1 damage for every tile they move. This effect does not stack.",dice:2,level:0,tags:["soul","power","ranged"]},{id:4,name:"spark",effect:`Create a spark between two fingers which can ignite flammable objects or generate a small amount of electricity. Alternatively you can make a Melee Spell Attack against a target. Do 2 damage. When your Strain is 0 or less, do 3 damage instead. Wet targets lose a stack of Wet and take an additional 2 damage. Constructs take an additional 1 damage.
On a 9 or Higher: Give the target 2 stacks of Sparking.`,dice:2,level:0,tags:["elemental","power","touch"]},{id:3,name:"water whip",effect:`Make a Spell Attack against a target you can see within 18 tiles of you. You may then either give the target 2 stacks of Wet or remove up to 4 stacks of Wet. If you remove stacks of Wet do damage equal to the number of Wet stacks removed. 
On a 9 or Higher: Give or remove 2 additional stacks of Wet.`,dice:2,level:0,tags:["elemental","power","ranged"]},{id:128,name:"alarm runes",effect:`You draw runes on a tile. This tile may be an entryway such as a doorway/window, or another empty tile. You may set specific creatures or types of creatures that do not trigger the alarm. Whenever a creature moves onto or through that tile the alarm goes off, making a non-verbal sound of your choice which can either be heard only by you (any range) or being able to be heard from up to 1 medium tile away (36 normal tiles). This sound wakes you up if you are sleeping.
These runes last for 1 day after which they become inert. Alternatively, you may spend 1 day etching the runes into a surface gaining an additional 3 Soul Strain to make them permanent.`,dice:3,level:1,tags:["elemental","protection","touch"]},{id:154,name:"blade wave",effect:"Do a Melee Weapon Attack with a range equal to your Arcana +2.",dice:2,level:1,tags:["technique","power","weapon"]},{id:16,name:"bless",effect:"Touch an Object or Creature. If cast on water it becomes Holy Water. If cast on a Creature they cannot be Cursed for 1 hour. If cast on a weapon the weapon does an extra 1 damage to Undead for 1 hour. If cast on a dead body, that body cannot be resurrected as an Undead.",dice:1,level:1,tags:["divine","protection","touch"]},{id:236,name:"chaos cannon",effect:`Make a Spell Attack against a target you can see within 18 tiles of you, then roll a dice. A different effect happens depending on value rolled. 
1: The target takes 1 damage. 
2: The target gains 2 stacks of Wet. 
3: The target gains 2 stacks of Sparking.
4: The target is knocked back 4 tiles.
5: The target gains 2 stacks of Burn.
6: The target takes 3 damage.
On a 9 or Higher: Roll another dice and do its effect.`,dice:2,level:1,tags:["elemental","power","ranged"]},{id:26,name:"conjure fog",effect:`You Focus on creating a thick fog. Pick a tile you can see within 18 tiles of you. All tiles within 3 tiles of the chosen point become covered in thick fog. This area counts as being Obscured for its duration. 
The fog lasts 1 minute (6 turns), until dispelled, you cast another Focused spell, or you lose Focus.`,dice:1,level:1,tags:["elemental","creation","ranged","focus"]},{id:98,name:"create familiar",effect:`You Windup a summon spell. On your next turn, if you finish winding up; create a Familiar (See Creatures). You may pick its type (Animal, Construct, Monstrosity, Planar, or Undead), movement bonus (Climber and Swimmer, Flight, or Increased Speed by 2.), and appearance each time it is created. You may only ever have 1 familiar at a time, if you where to create a familiar while one already exists the first one morphs into the new one.

The familiar goes immediately after your turn in combat, however it may only ever roll 3 dice regardless of level. If you die the familiar also dies.`,dice:3,level:1,tags:["soul","creation","touch","windup"]},{id:18,name:"cube",effect:`You can Focus on creating a Spectral Cube within 6 tiles of you. The cube can be up to 1 tile long on any side. The cube has 1 Health and 5 Armor Health.
The cube goes away after 1 minute (6 turns), if you dispel it, you cast another Focused spell, the cube dies, or loose Focus.`,dice:1,level:1,tags:["soul","creation","ranged","focus"]},{id:177,name:"dark aura",effect:`This Aura lasts for a number of turns equal to the dice spent. (You cannot have 2 auras active at the same time.)
While this Aura is active shadows seem to become longer within 2 tiles of you. Creatures in this area cannot heal more than 2 health at a time, and Undead in this aura deal 1 extra damage on Melee Attacks.`,dice:1,level:1,tags:["technique","aura"]},{id:17,name:"dark burst",effect:`Make a Spell Attack against a target you can see within 18 tiles of you. Do 2 damage, and the target gains 1 stack of Blind. 
On a 4 or Less: the target does not gain a stack of Blind. 
On a 9 or Higher: the target gains 2 stacks of Blind instead.`,dice:2,level:1,tags:["divine","power","ranged"]},{id:204,name:"distracting shot",effect:"The next Weapon Attack you do this turn allows an ally within 6 tiles of you to immediately move up to 3 tiles.",dice:1,level:1,tags:["insight","movement","weapon"]},{id:140,name:"divine detection",effect:`For 1 minute (6 turns), you know the location of any Undead, Planar, or Mythical creatures (creatures with one or more of these types), within 8 tiles of you. You know the type of creature you sense, but not its name. 
Additionally, you also detect any place or item that has been blessed or cursed.`,dice:1,level:1,tags:["divine","divination","ranged"]},{id:190,name:"feint",effect:"Do a weapon attack, then move 3 tiles.",dice:2,level:1,tags:["insight","movement","weapon"]},{id:12,name:"flame claw",effect:`Make a Melee Spell Attack against a target. Give the target 3 Burn. 
On a 4 or Lower: give the target 2 stack of Burn instead of 3. 
On a 9 or Higher: give the target 4 stacks of Burn instead of 3.`,dice:2,level:1,tags:["elemental","power","touch"]},{id:181,name:"forest aura",effect:`This Aura lasts for a number of turns equal to the dice spent. (You cannot have 2 auras active at the same time.)
While this Aura is active you stimulate the growth of plants within 2 tiles of you. This area acts as difficult terrain for anyone other than yourself. Additionally, any plants within this area blossom or bloom, and grass or moss grows if there wasn't plant-life there already.`,dice:1,level:1,tags:["technique","aura"]},{id:153,name:"fortify",effect:"You cannot be move or be moved, have a Speed of 0, gain 2 Ward, and Temporary Armor equal to the dice given until the start of your next turn.",dice:1,level:1,tags:["technique","protection"]},{id:271,name:"glamour",effect:`You Focus on surrounding yourself with illusions which visually change your appearance. The illusion can change your physical appearance, your clothes, or the way you smell. You may also add an unusual addition to your appearance, such as glowing eyes, tiny spirits around you, flames on your hat, etc. These changes are only illusions and attempting to interact with them will reveal them as such. A creature can do a Mind contest against your Soul, to discern if it is an illusion.
The illusion lasts until the end of your next Rest, until dispelled, you cast another Focused spell, or you lose Focus.`,dice:1,level:1,tags:["soul","illusion","self","focus"]},{id:165,name:"guardian's riposte",effect:"Spend your locked dice instead of a combat dice when using this Technique. When an ally takes damage from an attack originating within 1 tile of you, you may make a Melee weapon attack against the source.",dice:1,level:1,tags:["technique","protection","weapon"]},{id:20,name:"healing hands",effect:"Touch a Creature, cannot target Undead or Constructs. Heal the target an amount equal to your Medicine.",dice:1,level:1,tags:["divine","healing","touch"]},{id:169,name:"heavy swing",effect:"Your next Weapon Attack you do this turn does knockback equal to half the dice spent (rounded up). This effect can stack.",dice:1,level:1,tags:["technique","power","weapon"]},{id:163,name:"i'll take it",effect:"Spend your locked dice instead of a combat dice when using this Technique. When an ally within 1 tile of you takes damage from an attack, you may take all damage and effects instead.",dice:1,level:1,tags:["technique","protection"]},{id:176,name:"light aura",effect:`This Aura lasts for a number of turns equal to the dice spent. (You cannot have 2 auras active at the same time.)
While this Aura is active you emanate a glow illuminating everything within 2 tiles of you. This removes effects such as magical darkness, or fog and creatures cannot become blinded by magic while inside your aura. 
`,dice:1,level:1,tags:["technique","aura"]},{id:23,name:"lightshow",effect:`Pick a tile you can see within 18 tiles of you. All targets within 3 tiles of this point must make a 'Soul' check. 
On Failure, the target gains 2 stacks of Blind. 
On Partial Success, the target gains 1 stack of Blind.
On Success, they gain no stacks of Blind.`,dice:2,level:1,tags:["divine","illusion","ranged"]},{id:168,name:"long volley",effect:"Your next Weapon Attack you do this turn has increased range or throw range equal to the dice spent. (Weapons must have a Range or Throw Range in order to gain this effect.) ",dice:1,level:1,tags:["technique","power","weapon"]},{id:150,name:"lunge",effect:"Move 3 tiles then do a weapon attack.",dice:2,level:1,tags:["technique","movement","weapon"]},{id:151,name:"machinegun punches",effect:"This can only be done after doing a Fist Weapon Attack, do a Fist Weapon Attack. This can trigger off itself",dice:1,level:1,tags:["technique","weapon"]},{id:182,name:"monsoon aura",effect:`This Aura lasts for a number of turns equal to the dice spent. (You cannot have 2 auras active at the same time.)
While this Aura is active water and wind lash violently within 2 tiles of you, this area gives 2 Wet to any creature, other than yourself, that starts its turn in it. Additionally, while active, you cannot gain stacks of Burn and items on fire are put out. `,dice:1,level:1,tags:["technique","aura"]},{id:192,name:"motivate",effect:"Give a creature within 12 tiles of you the dice spent on this Insight. This can only be used outside of combat once every 5 minutes, and gives a random dice.",dice:1,level:1,tags:["insight","dice","ranged"]},{id:178,name:"order aura",effect:`This Aura lasts for a number of turns equal to the dice spent. (You cannot have 2 auras active at the same time.)
While this Aura is active harsh winds seem to subside and everything becomes quieter within 2 tiles of you. Any dice rolled by a creature or item in this area becomes a 4. Additionally, Creatures in this area cannot become Deafened.`,dice:1,level:1,tags:["technique","aura"]},{id:120,name:"poisoned sting",effect:`Do a Spell Attack against a target you can see within 18 tiles of you. The target takes 2 damage and gains 1 stack of Poisoned.
On a 4 or Less: the target does not gain a stack of Poisoned. 
On a 9 or Higher: the target gains 2 stacks of Poisoned instead.`,dice:2,level:1,tags:["elemental","power","ranged"]},{id:27,name:"predict",effect:"Roll 3 dice. You may Lock one of them and must discard the other two.",dice:1,level:1,tags:["divine","divination","self"]},{id:22,name:"quick repair",effect:`Touch a broken item or Construct. Repair the target equal to your Crafting.
Alternatively, give Armor Stacks equal to your Crafting. You cannot give Armor stacks to someone who has Armor Stacks.`,dice:1,level:1,tags:["elemental","control","touch"]},{id:13,name:"root trap",effect:`You Focus on making an area into a root trap. Pick a tile you can see within 18 tiles of you. All floor or wall tiles within 3 tiles of the chosen point become heavily rooted. This area counts as being Rough Terrain for its duration. 
This effect lasts for 1 hour, until dispelled, you cast another Focused spell, or you lose Focus.`,dice:2,level:1,tags:["elemental","protection","ranged","focus"]},{id:180,name:"sandstorm aura",effect:`This Aura lasts for a number of turns equal to the dice spent. (You cannot have 2 auras active at the same time.)
While this Aura is active harsh winds pick up sand, dirt, or dust to create a miniature sandstorm within 2 tiles of you, everything in this area is Obscured.`,dice:1,level:1,tags:["technique","aura"]},{id:191,name:"size up",effect:"Target a creature you can see. You determine which of the target's Primary Stats (Body | Mind | Soul) are highest and lowest. You do not know the values of these Stats.",dice:1,level:1,tags:["insight","divination","ranged"]},{id:164,name:"slap back",effect:"Spend your locked dice instead of a combat dice when using this Technique. When you take damage from an attack within 1 tile of you, you may make a Melee weapon attack against the source.",dice:1,level:1,tags:["technique","weapon"]},{id:21,name:"sleeping powder",effect:"Put creatures into a magical slumber. Target a number of Creatures you can see within 18 tiles whos combined Health total is equal to or less than the sum of the dice given +4 (Armor does not count as Health). You cannot target Undead or Constructs. These creatures are forcefully put to sleep for 1 minute (6 turns), until another creature spends ## (2 dice) to wake them, or they take damage.",dice:3,level:1,tags:["soul","illusion","ranged"]},{id:24,name:"smite",effect:"The next Weapon Attack you do this turn does an extra 2 Damage. If the target is Undead do an extra 3 Damage instead.",dice:1,level:1,tags:["divine","power","weapon"]},{id:28,name:"soul shard",effect:`Make a Spell Attack against a target you can see within 18 tiles of you. The target takes 2 damage, and the next time you cast this spell this turn do 2 more damage. This bonus damage stacks and resets to 0 at the end of the turn.
On a 9 or Higher: The bonus damage is increased by 3 instead of 2.`,dice:2,level:1,tags:["soul","power","ranged"]},{id:115,name:"speak with animals",effect:`Focus on giving a creature you touch the ability to talk to animals. The target is able to have conversations with creatures that have the Animal Tag for the duration. This does not make the Animal intelligence it only lets the target converse with them.
The spells effects go away after 1 hour, if you dispel it, you cast another Focused spell, or you lose Focus.`,dice:1,level:1,tags:["elemental","divination","touch","focus"]},{id:15,name:"spectral parachute",effect:`Pick 5 targets within 6 tiles of you to slow their falling to 4 tiles a round. While spell is active all targets cannot take fall damage.
This effect lasts for 10 minutes, or until dispelled.`,dice:1,level:1,tags:["soul","protection","ranged"]},{id:92,name:"spectral webs",effect:"Pick a tile you can see within 18 tiles of you. All targets within 3 tiles of this point must do a Body contest against your Soul. If you win, the target becomes Grappled and has a Speed of 0 until the start of their next turn. If you loose, the target gains 2 stacks of Slow instead",dice:2,level:1,tags:["soul","protection","ranged"]},{id:19,name:"spirit walk",effect:"Touch a willing Creature. You make the target Incorporeal and reduce the creatures speed by 2 until the start of your next turn.",dice:1,level:1,tags:["soul","protection","touch"]},{id:25,name:"sponge",effect:"Pick an area of liquid within 6 tiles. Remove no larger than 2 cubic tiles worth of liquid, banishing it to a random demi plane. This can target Wet targets, removing all stacks of Wet on them.",dice:1,level:1,tags:["elemental","power","ranged"]},{id:266,name:"spring step",effect:"Touch a creature. For the next hour when the creature rolls Body to Jump they can jump a number of extra tiles equal to (3 x Your Soul).",dice:1,level:1,tags:["elemental","control","touch"]},{id:253,name:"storm aura",effect:`This Aura lasts for a number of turns equal to the dice spent. (You cannot have 2 auras active at the same time.)
While this Aura is active sparks fly from items within 2 tiles of you, this area gives 2 Sparking to any target, other than yourself, that starts its turn in it. 
Additionally, when a target gains Sparking from this Aura, if they have a stack of Wet they lose a stack of Wet and take 2 damage. Constructs that gain Sparking from this Aura take 1 damage.`,dice:1,level:1,tags:["technique","aura"]},{id:122,name:"summon humming sprite",effect:`You Windup a summon spell. On your next turn, if you finish winding up; summon a Humming Sprite within 3 tiles of you. The Humming Sprite is a Follower of the caster (See 'Follower' rules under 'Mysc'). The Sprite is capable of doing any simple action such as fetching an object, cleaning, or holding items. The Sprite likes to hum a random tune while it works. If the Sprite is forced to stop humming it will pout and disappear early, or if music is played it will hum along with the music.
The sprite lasts for 8 hours before disappearing.`,dice:3,level:1,tags:["soul","creation","ranged","windup"]},{id:119,name:"telekinetic toss",effect:`Pickup and magically launch a freestanding item within 6 tiles of you. The damage and range is based on the size of the item launched. This damage effects both the target the item collides with as well as the item itself. A small item can be launched 36 tiles doing 2 damage on impact. A medium item can be launched 18 tiles doing 4 damage. Lastly a large item can be launched 6 tiles doing 6 damage.
On a 4 or Less: you can only launch a small or medium item. 
On a 9 or Higher: you can launch a huge item 1 tile doing 8 damage.`,dice:2,level:1,tags:["soul","power","ranged"]},{id:209,name:"think ahead",effect:"Gain 2 dice which are half of the dice given. This cannot split a 1. If this Insight is used on an odd value, split into one dice of even value and one of odd value (5=>3,2).",dice:1,level:1,tags:["insight","dice","self"]},{id:179,name:"volcano aura",effect:`This Aura lasts for a number of turns equal to the dice spent. (You cannot have 2 auras active at the same time.)
While this Aura is active molts of fire and molten rock start bubbling within 2 tiles of you, this area gives 1 Burn to any creature, other than yourself, that starts its turn in it. Additionally, while active, ice melts, water dries, and flora wilts in this area, potentially removing difficult terrain.`,dice:1,level:1,tags:["technique","aura"]},{id:14,name:"water ball",effect:`Create a water ball about 1 ft in diameter. Make a Spell Attack against a target you can see within 18 tiles of you. The target gets knocked back 4 tiles, and gets 4 stacks of Wet. 
On a 4 or Less: they get knocked back 3 tiles and gain 2 stacks of Wet instead. 
On a 9 or Higher: they get knocked back 5 tiles and gain 6 stacks of Wet instead.`,dice:2,level:1,tags:["elemental","control","ranged"]},{id:183,name:"waterdance aura",effect:`This Aura lasts for a number of turns equal to the dice spent. (You cannot have 2 auras active at the same time.)
While this Aura is active water stands still within 2 tiles of you, creatures in this area can walk on water and +1 Speed when wet or walking on water, ice, or snow.`,dice:1,level:1,tags:["technique","aura","movement"]},{id:263,name:"animal form",effect:`You Windup shapeshifting. On your next turn, if you finish winding up; you shapeshift into an Animal. When you shapeshift pick a size: Small, Medium, or Large. You gain effects based on what size form you choose. While transformed you replace your Speed, Armor, Ward, Dodge, Traits, Items, and Arts with the Animal Form sheet based on what size you picked. Your Stats (mostly), Health, Strain, and any effects that augment your Shapeshift (such as this Trait) remain unchanged. Items you hold or wear may either fall to the ground, or morph into your new form. 
The Shapeshift lasts until dispelled or you die. `,dice:2,level:2,tags:["elemental","control","self","windup"]},{id:171,name:"armor slice",effect:"Your next Weapon Attack you do this turn removes 4 armor then does damage.",dice:1,level:2,tags:["technique","power","weapon"]},{id:188,name:"armor up",effect:"Touch a target to give it an amount of Temporary Armor equal to 2 times Crafting. Temporary Armor given from this technique is reduced before other sources of Armor, and goes away at the end of a Rest. Temporary Armor is replaced if you cast this technique on the same creature while they have this Temporary Armor.",dice:2,level:2,tags:["technique","protection","touch"]},{id:41,name:"beast bond",effect:`Make a Nature Contest against a beast creature within 4 tiles of you. On Success the beast becomes friendly to you and neutral to any creature that hasn't harmed it. 
You can control up to your level of personal minions with your dice, but they must all be given the same Command. If the beast is not given any commands it does not do any action. When you spend a dice to move you may also have the beast move as well.
This effect lasts until you harm the beast, you cast this spell again, dismiss the spell, or the beast dies. When the spell ends the beast will react based on how you treated it.`,dice:2,level:2,tags:["attack","ranged","summon","utility","broken"]},{id:30,name:"boulder toss",effect:"Pick a tile you can see within 18 tiles of you. All targets within 2 tiles of this point must do a Soul contest against you. If you win, the target takes 2 damage and is knocked back 5 tiles from the point. If you lose, the target takes no damage and is knocked back 5 tiles from the point.",dice:2,level:2,tags:["elemental","power","ranged"]},{id:155,name:"bull rush",effect:"Move a number of tiles up to your speed in a straight line, you may move through creatures, and weak walls, such as wood or drywall. Do a Body Contest against any creature within 1 tile during the move. On Success, knock the target back 3 tiles away from your path.",dice:1,level:2,tags:["technique","movement"]},{id:50,name:"butter fingers",effect:"Do a 'Soul' Contest against a target within 18 tiles of you. On failure, the target cannot use their hands to manipulate or grasp objects or surfaces and fails any checks made to do so. If they are holding something, they drop any items they are holding. This effect lasts until the end of your next turn.",dice:2,level:2,tags:["elemental","protection","ranged"]},{id:210,name:"change of thinking",effect:"Gain a randomly rolled dice.",dice:1,level:2,tags:["insight","dice","self"]},{id:172,name:"cleave",effect:"Your next Melee Weapon Attack you do this turn hits all targets in a horizontal line in front of you (Directly in front, to the left, and right of that tile).",dice:1,level:2,tags:["technique","power","weapon"]},{id:194,name:"clockwork traps",effect:`Make a clockwork trap within 1 tile of you. You can have a number of clockwork traps active equal to your Crafting. Creatures do a Crafting contest against you to detect the trap.

Caltrops: A bag of caltrops that when activated spreads thorny metal shards everywhere within 3 tiles. Any creature that moves through this area takes 1 damage per tile moved. Caltrops do not disappear but can be cleaned up over the course of 5 minutes and will refund 2 strain if cleaned up, even if triggered.

Noise Boy: A wooden box containing a small smoke bomb and a dummy. When triggered a puff of smoke reveals the dummy, making all creatures unaware of the trap within 3 tiles of the trap must roll a die. On a 3 or less the must spend their remaining dice to flee. On a 4 or higher they must move closer and attack the dummy. 

Landmine: A thick metal plate that when activated explodes damaging all creatures within 2 tiles, dealing 3 damage.`,dice:2,level:2,tags:["insight","creation","touch"]},{id:193,name:"command",effect:"Give a creature within 6 tiles of you the 2 dice used on this Insight. They may then use these 2 dice to do any action on their character sheet during your turn.",dice:2,level:2,tags:["insight","dice","ranged"]},{id:225,name:"companion cargo",effect:"For the rest of your turn, when you move, you may move any willing creatures within 1 tile of you. They remain in their respective adjacent spaces when you finish moving.",dice:1,level:2,tags:["technique","movement"]},{id:36,name:"conjure spectral claws",effect:`Focus on conjuring a set of Spectral Claws (See weapons). On cast you can do an Attack with them with the same dice used to cast the spell. These claws do damage based on your Soul, count as Fist Weapons, and can target creatures within 1 tile of you. (You get a Spectral Claw per open hand.)
On a 4 or Lower: you do 2 less damage (to a minimum of 1). 
On a 9 or Higher: you reduce the creature's Strain by 2.
The claws go away after 1 minute (6 turns), if you dispel it, you cast another Focused spell, or you lose Focus.`,dice:2,level:2,tags:["soul","creation","touch","focus"]},{id:44,name:"create illusion",effect:`Focus on creating a visual or non-verbal sound Illusion of your choice that is no larger in size than 1 tile square within 6 tiles of you. A creature can do a Mind contest against you, to discern if it is an illusion. You may use Soul or Mind for this contest.
The illusion lasts for 1 minute (6 turns), until dispelled, you cast another Focused spell, or you lose Focus. You can spend # (a dice) on the following turns to animate the illusion (no extra Strain cost).`,dice:2,level:2,tags:["elemental","illusion","ranged","focus"]},{id:206,name:"crippling shot",effect:"The next Weapon Attack you do this turn gives 2 stacks of Slow, to a maximum of 4 given from this Insight per turn.",dice:1,level:2,tags:["insight","power","weapon"]},{id:240,name:"death's grasp",effect:"Pick a creature you can see within 36 tiles of you. The creature must do a Body contest against your Soul. If you win, the creature takes 3 damage, and cannot regain Health until the end of your next turn. If you lose, the target only takes 3 damage.",dice:2,level:2,tags:["divine","power","ranged"]},{id:105,name:"deserts curse",effect:`You Windup a curse spell. On your next turn, if you finish winding up; do a 'Soul' Contest against a target you can see within 18 tiles of you. If you win, give the target the 'Curse of the Desert'. If you lose, remove all stacks of Wet from the target.

Curse of the Desert - Any water you drink turns to sand in your mouth. You cannot have stacks of Wet. If you have stacks of Wet, lose them. This curse ends when it rains.`,dice:3,level:2,tags:["elemental","power","ranged","windup"]},{id:52,name:"detect magic",effect:`You Focus on the waves of Soul around you. Objects and creatures that you can see and are affected by magic glow a set color and pattern based on what type of spell is affecting it:
Creation - Blue, Control - Green, Divination - Yellow, Protection - Orange, Power - Red, Healing - Pink, or Illusion - Grey
Elemental - Swirls, Divine - Flames, or Soul - Waves
This effect lasts for 6 turns, until dispelled, you cast another Focused spell, or you lose Focus.`,dice:1,level:2,tags:["soul","divination","ranged","focus"]},{id:53,name:"dispel magic",effect:"Target a creature or object being affected by magic within 6 tiles of you. Reduce the spells duration by the dice given. If the magic has no duration it is instead dispelled as if the owner dispelled it. Permanent magic (such as Blessings, Curses, or Wards) are suppressed a number of turns (10 second intervals) based on the dice given.",dice:1,level:2,tags:["soul","protection","ranged"]},{id:215,name:"dolphin dive",effect:"Move up to your Speed then go Prone.",dice:1,level:2,tags:["insight","movement","self"]},{id:157,name:"fearsome roar",effect:"Do a fearsome roar. Do a Charm contest against all creatures within 3 tiles of you. If you win, the creature must spend movement dice on their next turn moving until they can no longer see you or run out of movement.",dice:2,level:2,tags:["technique","illusion"]},{id:96,name:"find object",effect:`Name or describe an object. The object can be a general item, such as a sword or crate, or it can be more specific such as a letter with a gold bird on its front. You can be as specific as you would like, such as 'My golden short sword'. You then Focus on knowing the approximate distance and direction of the nearest object you described. This has a max range of 1 large tile (2,160x2,160 tiles), failing if no item is within this range.
This effect lasts 1 hour, until dispelled, you cast another Focused spell, or you lose Focus.`,dice:1,level:2,tags:["elemental","divination","ranged","focus"]},{id:29,name:"fire breath",effect:"Breath a Cone of flame outward to a max of 6 tiles away. Ignite all flammable objects within the area that aren't being worn or carried. All targets within the area must do a Mind contest against your Soul. If you win, give the target 3 stacks of Burn. If you lose, give the target 2 stacks of Burn instead.",dice:2,level:2,tags:["elemental","power","ranged"]},{id:45,name:"flesh shaper",effect:`You alter the body of yourself or another creature with the aid of runes. You Windup a spell. On your next turn, if you finish winding up; touch a willing creature. Written runes appear on the creature granting a them one of the benefits listed below. Each creature can only have 1 rune alteration and the runes used for the change are visible somewhere on the body (can be hidden with clothing). This effect lasts for 24 hours or until the runes are removed.

Wings: Change the creatures arms to resemble wings. The creature is able to glide 2 tiles for every 1 tile it would fall. This effect does not work if their arms are hindered in any way (caring an item, being tied up, being Grappled, ext.).
Gills/Fins: Change the creature to be better in the water. The creature can breath underwater without needing air, and it can swim its Speed.
Change Appearance: Physically alter the creatures body to look like anothers. You can change sex, height, race, and appearance. This does not change the creatures Race Trait.`,dice:1,level:2,tags:["elemental","control","touch","windup"]},{id:42,name:"fog light",effect:`Focus on a tile you can see within 18 tiles of you. You summon a pillar of light. The pillar is 6 tiles illuminates everything within 3 tiles. It clears any fog within its light and counts as sunlight. You can spend any amount of dice on later turns to move the beam up to 6 tiles per die spent.
The light lasts for 10 minutes, until dispelled, you cast another Focused spell, or you lose Focus.`,dice:1,level:2,tags:["divine","illusion","ranged","focus"]},{id:265,name:"followup strike",effect:"Spend your locked dice instead of a combat dice when using this Technique. When an Ally damages a target within 1 tile of you, you may make a Melee Attack against the target.",dice:1,level:2,tags:["technique","weapon"]},{id:174,name:"footwork lure",effect:"Your next Weapon Attack you do this turn allows you to move the target to any tile within 1 tile of you. The target must already be within 1 tile of you.",dice:1,level:2,tags:["technique","control","weapon"]},{id:31,name:"freezing wave",effect:"Breath a Cone of ice outward to a max of 6 tiles away. Freeze all liquids within the area that aren't being worn or carried. All targets within the area must do a Mind contest against your Soul. Wet targets lose 1 Wet then gain 2 stacks of Slow. If you win, give the target 1 stack of Stun. If you lose, give the target 2 stacks of Slow instead. ",dice:2,level:2,tags:["elemental","power","ranged"]},{id:173,name:"goading strike",effect:"Your next Weapon Attack you do this turn forces the target to attack you. The target must make an Attack against you on their next turn. ",dice:1,level:2,tags:["technique","illusion","weapon"]},{id:156,name:"grappling strike",effect:"Do a Melee Weapon Attack, then do a free Grapple Contest against the same target.",dice:2,level:2,tags:["technique","control","weapon"]},{id:37,name:"healing drop",effect:"Target a Creature you can see within 8 tiles. You cannot target Undead or Constructs. Heal the target an amount equal to your Medicine.",dice:1,level:2,tags:["divine","healing","ranged"]},{id:167,name:"hold it there",effect:"Spend your locked dice instead of a combat dice when using this Technique. Stop a target from moving past you. The target must be trying to travel within 1 tile of you. This can effect projectiles, you take damage from projectiles blocked this way.",dice:1,level:2,tags:["technique","protection"]},{id:40,name:"ice knife",effect:"Create a Knife made of Ice. This knife does an extra damage and breaks after 3 turns or if thrown. On cast you can do an Attack.",dice:2,level:2,tags:["attack","damage","ranged","utility","water","broken"]},{id:43,name:"intrusive thoughts",effect:"Do a contested 'Soul' roll against a creature within 6 tiles of you. If you win, you can implant a thought into the targets mind. They believe the thought was their own and have no memory of the magic. If you lose, they know you tried to cast magic on them but not what the spell was.",dice:2,level:2,tags:["soul","control","ranged"]},{id:38,name:"invisibility",effect:`You Focus on touching a creature, giving them Invisibility for 10 minutes. You can increase the number of targeted creatures by gaining 1 extra Strain per creature. 
The Invisibility goes away early if the creature takes or does damage, you dispel the Invisibility, you cast another Focused spell, or you lose Focus.`,dice:1,level:2,tags:["soul","illusion","touch","focus"]},{id:32,name:"lightning",effect:"Pick a tile you can see within 8 tiles of you. All targets between you and this point must do a Soul contest against you. If you win, the target takes 4 damage. If you lose, the target takes 2 damage. Wet targets lose a stack of Wet and take an additional 2 damage. Constructs take an additional 1 damage.",dice:2,level:2,tags:["elemental","power","ranged"]},{id:112,name:"linguists curse",effect:`You Windup a curse spell. On your next turn, if you finish winding up; do a 'Soul' Contest against a target you can see within 18 tiles of you. If you win, give the target the 'Curse of the Linguist'. If you lose, give the target 2 stacks of Silence.

Curse of the Linguist - You can no longer read, write, speak, or understand a specific language. Attempting to speak results in gibberish. This language is chosen when the curse is applied. This curse ends when someone reads a 100 page or longer book in that language to you.`,dice:3,level:2,tags:["soul","illusion","ranged","windup"]},{id:111,name:"lost mans curse",effect:`You Windup a curse spell. On your next turn, if you finish winding up; do a 'Soul' Contest against a target you can see within 18 tiles of you. If you win, give the target the 'Curse of the Lost'. If you lose, give the target 3 stacks of Blind.

Curse of the Lost - You cannot take the correct path to reach your destination. A creature may lead you to your destination so long as they are touching you or are on the same vehicle. Additionally, you are unable to read maps or tell which direction you are facing. This curse ends when you eat a map.`,dice:3,level:2,tags:["soul","illusion","ranged","windup"]},{id:205,name:"marking shot",effect:"The next Weapon Attack you do this turn gives 2 stacks of Marked.",dice:1,level:2,tags:["insight","control","weapon"]},{id:195,name:"natural traps",effect:`Make a natural trap within 1 tile of you. You can have a number of natural traps active equal to your Nature. Creatures do a Nature contest against you to detect the trap.

Pitfall: A 5 tile deep hole covered in camouflage that breaks when stepped on. The edge is covered in a slick surface which prevents climbing up it. 

Poison: A gas canister that when triggered unleashes poisonous gas. The gas explodes in Burst 3 lingering for 1 minute or until a strong wind blows it away. Any creature inside the gas becomes Blind, and at the start of the creatures turn, they take 1 damage if they are in the gas.

Goo: An orb of strange goo that bursts on touch. The goo explodes covering everything within 3 tiles. Targets in this area gain Burn 2 and loose 3 Armor.`,dice:2,level:2,tags:["insight","creation","touch"]},{id:199,name:"outsmart",effect:"Spend your locked dice instead of a combat dice when using this Insight. When a creature that you can see rolls you may replace one of the dice rolled with the given dice.",dice:1,level:2,tags:["insight","dice","ranged"]},{id:166,name:"parry",effect:"Spend your locked dice instead of a combat dice when using this Technique. Reduce the damage from an attack that hits you by the dice spent.",dice:1,level:2,tags:["technique","protection"]},{id:35,name:"pillar",effect:`You can Focus on creating a Spectral Pillar within 6 tiles of you. The pillar can be up to 1 tile long on any side and up to 3 tiles tall. The pillar has 3 health and 9 Armor Health. If a pillar is made under a creature that creature is pushed up to the top of the pillar. If a creature cannot be lifted (from hitting a ceiling) then the creature takes Knockback damage.
The pillar goes away after 1 minute (6 turns), if you dispel it, you cast another Focused spell, the pillar dies, or you loose Focus.`,dice:1,level:2,tags:["soul","creation","ranged","focus"]},{id:33,name:"purge",effect:`Attempt to purge a Curse on a target. Do a Soul roll decreasing your bonus by the Strain cost of the Curse. This decrease can become negative. 
On Success, remove the Curse. 
On Partial Success, you learn the name and how to remove the Curse. 
On Failure, you learn the name of the Curse.`,dice:2,level:2,tags:["soul","protection","touch"]},{id:104,name:"rains curse",effect:`You Windup a curse spell. On your next turn, if you finish winding up; do a 'Soul' Contest against a target you can see within 18 tiles of you. If you win, give the target the 'Curse of the Raincloud'. If you lose, give the target 3 stacks of Wet.

Curse of the Raincloud - You always have a little raincloud above you. You cannot have less than 1 stack of Wet. If you have no stacks of Wet gain 1 stack of Wet. This curse ends when you dive completely underwater.`,dice:3,level:2,tags:["elemental","creation","ranged","windup"]},{id:170,name:"rip and tear",effect:"Your next Weapon Attack you do this turn gives the target an additional 1 stack of Bleed.",dice:1,level:2,tags:["technique","power","weapon"]},{id:211,name:"second opinion",effect:"Gain a dice equal to the locked dice of an ally within 8 tiles of you.",dice:1,level:2,tags:["insight","dice","ranged"]},{id:49,name:"shockwave",effect:"All targets within 2 tiles of you (excluding yourself) must do a Soul contest against you. If you win, the target gets knocked back 6 tiles from you. If you lose, the target is knocked back 3 tiles instead.",dice:2,level:2,tags:["elemental","power","self"]},{id:51,name:"soul chains",effect:`Focus on binding a target you can see within 18 tiles of you. Make a 'Soul' Contest against the target. On Failure they are grappled. You can spend an additional dice each turn to pull the target 3 tiles to you. If the target tries to escape they need to do a 'Soul' Contest instead of Body.
The chains last for 1 minute (6 turns), until dispelled, you cast another Focused spell, or you lose Focus.`,dice:2,level:2,tags:["soul","control","ranged","focus"]},{id:48,name:"soul shield",effect:"Touch a creature. Give that creature Temporary Armor equal to 2 times your Soul. Temporary Armor given from this spell is reduced before other sources of Armor, and goes away at the end of a Rest. Temporary Armor is replaced if you cast this spell on the same creature while they have this Temporary Armor.",dice:1,level:2,tags:["soul","protection","touch"]},{id:39,name:"soul skip",effect:"Teleport to a location that you can see up to your Speed away.",dice:1,level:2,tags:["soul","control","ranged"]},{id:46,name:"soul slash",effect:`Make a Melee Attack against a target. Give the creature 3 Strain. 
On a 4 or Lower: the target gains 2 Strain instead of 3. 
On a 9 or Higher: give the target 4 Soul Strain instead of 3.`,dice:2,level:2,tags:["soul","power","touch"]},{id:256,name:"spear of light",effect:`Make a Thrown Spell Attack against a target within 18 tiles of you. Do 4 damage, and the target gains 1 stack of Glowing. Undead take 2 additional damage.
On a 4 or Less: the target does not gain a stack of Glowing. 
On a 9 or Higher: the target gains 2 stacks of Glowing instead.`,dice:2,level:2,tags:["technique","divine","power","ranged"]},{id:221,name:"stone disk",effect:`Break a stone disk out from the ground. This spell fails if you are in a position where no stone is present, such as on a boat. Make a Spell Attack against a target you can see within 36 tiles of you. Do 2 damage, the disk then lands 2 tiles from the target on a tile closest to you. If you are standing within 1 tile of a stone disk, you may use that disk instead of making a new disk. If you do so this spell does +2 damage.
On a 4 or Less: Do -1 damage and Knockback the target 1 tile.
On a 9 or Higher: Do +1 damage and the disk lands 4 tiles from the target on a tile closest to you.`,dice:2,level:2,tags:["elemental","control","ranged"]},{id:260,name:"stone gauntlets",effect:`Focus on creating a set of Stone Gauntlets (See weapons). On cast you can do an Attack with them with the same dice used to cast the spell. These gauntlets do 1 damage, have +4 Knockback, count as Fist Weapons, and can target creatures within 1 tile of you. (You get a Stone Gauntlet per open hand.)
On a 4 or Lower: -2 Knockback. 
On a 9 or Higher: +2 Knockback.
The gauntlets go away after 1 minute (6 turns), if you dispel it, you cast another Focused spell, or you lose Focus.`,dice:2,level:2,tags:["elemental","creation","touch","focus"]},{id:75,name:"summon guiding sprite",effect:`Focus on Summoning a Guiding Sprite within 3 tiles of you, when you first summon the sprite pick a type: Elemental, Divine, or Soul. By using a dice on later turns, or when the Sprite is Summoned you may have it tether to a creature of your choice within 3 tiles of the sprite. At the beginning of your turn or when first tethered the sprite gives one of the following effects based on what type you summoned it as:
Elemental: The tethered creature reduces Burn, Wet, and Poisoned by 2 at the end of their turn instead of 1. Additionally, the sprite can cast 'Control Elements' once. 
Divine: The tethered creature cannot have stacks of Blind or Defend and loses all stacks if they have them. Additionally, the sprite illuminates 2 tiles around itself.
Soul: When the tethered creature uses the move action, they may spend 2 tiles of movement to teleport to any space they can see within 2 tiles. This ability can be used once per turn.
The sprite lasts for 10 minutes, if you dispel it, you cast another Focused spell, or you lose Focus.`,dice:1,level:2,tags:["elemental","creation","ranged","focus"]},{id:158,name:"undeniable challenge",effect:"Do a Charm contest against a target within 3 tiles of you. On success, the creature must spend dice on their next turn moving until they are 1 tile from you, or as close as possible without injury.",dice:2,level:2,tags:["technique","illusion","ranged"]},{id:207,name:"volatile shot",effect:"The next Weapon Attack you do this turn does an additional 1 damage. If you give a 4 or Lower on the attack do 2 additional damage instead.",dice:1,level:2,tags:["insight","power","weapon"]},{id:47,name:"weightless",effect:`Focus on making a target within 3 tiles of you weightless. If the target is unwilling, do a 'Soul' Contest against them. If you win, the target is no longer tied down by gravity and can move in air as though it was Water (Swim). All terrain is counted as Rough Terrain while 'swimming'.
This effect lasts for 10 minutes, until dispelled, you cast another Focused spell, or you lose Focus.`,dice:2,level:2,tags:["soul","protection","ranged"]},{id:159,name:"adrenaline rush",effect:"When activated you get a burst of adrenaline for 1 minute (6 turns). When activated gain Temporary Armor equal to your Level. While you have this adrenaline you gain 1 Speed. This Technique cannot be activated while its already active.",dice:1,level:3,tags:["technique","power","self"]},{id:145,name:"big or small",effect:`Focus on picking a object or creature within 6 tiles of you. You cannot target objects being worn or carried by another creature or a target that is larger than 2 tiles square. If the target is unwilling do a Soul Contest against them. If you win, the target is either made Bigger or Smaller. 

Bigger: The target doubles in size and weight, gains +1 to Body rolls, +1 to Melee Weapon damage, and -1 to Thieving rolls. If you target a creature all items they are wearing or carrying grow with the creature. Dropped items shrink to normal size and items picked up after becoming bigger do not grow.

Smaller: The target halves in size and weight, gets -1 to Body rolls, -1 to Melee Weapon damage, and +1 to Thieving rolls. You can not reduce damage below 1. If you target a creature all items they are wearing or carrying shrink with the creature. Dropped items grow to normal size and items picked up after becoming smaller do not shrink.

This effect goes away after 1 hour, if you dispel it, you cast another Focused spell, or you loose Focus.`,dice:2,level:3,tags:["soul","control","ranged","focus"]},{id:208,name:"coordinated shot",effect:"The next Weapon Attack you do this turn allows an ally within 1 tile of the target to make a Melee Attack against the target. They use a sum of 6 for this attack.",dice:1,level:3,tags:["insight","power","weapon"]},{id:66,name:"counterspell",effect:"Spend your Locked dice to cast. You counter a spell that you can see being cast within 18 tiles of you. That spell must have a Strain cost less than or equal to the locked dice value. This can be cast on another creatures turn.",dice:1,level:3,tags:["soul","protection","ranged"]},{id:57,name:"debuff barrier",effect:"Target a creature within 6 tiles of you. Remove all stacks of one of the following: Blinded, Burning, Marked, Poisoned, Silenced, Slow, Stunned, or Wet. If this is cast on a creature that has no stacks they gain 1 Ward. This effect lasts for 12 hours.",dice:2,level:3,tags:["divine","protection","ranged"]},{id:97,name:"displacement",effect:`You Focus on your ability to dodge. When you cast this spell and at the start of your turn if you have less than 2 Dodge, gain 1 Dodge.
This effect lasts for 1 minute (6 turns), until dispelled, you cast another Focused spell, or you lose Focus. `,dice:1,level:3,tags:["elemental","protection","self","focus"]},{id:201,name:"dodge roll",effect:"Spend your locked dice instead of a combat dice when using this Insight. When you take damage from an Attack you may gain 1 stack of Dodge then take the damage.",dice:1,level:3,tags:["insight","protection","self"]},{id:184,name:"dragon aura",effect:`This Aura lasts for a number of turns equal to the dice spent. (You cannot have 2 auras active at the same time.)
While this Aura is active shadows of dragons dance within 2 tiles of you, you can do a Charm contest (no cost) against all creatures in this area. If you win, the creature must spend movement dice on their next turn moving until they can no longer see you or run out of movement.`,dice:1,level:3,tags:["technique","illusion","aura"]},{id:219,name:"drill shot",effect:`Make a Spell Attack against a target you can see within 36 tiles of you, that you can see. Remove 4 Armor from the target then do 3 damage. 
On a 4 or Lower: -1 Damage. 
On a 9 or Higher: +1 Damage.`,dice:2,level:3,tags:["elemental","power","ranged"]},{id:94,name:"find traps",effect:`You Focus on detecting traps within 6 tiles of you. When a trap comes within this area it will glow depending on the type of trap: Orange, Blue, or Purple. Orange are triggers for traps, such as a length of rope or a pressure plate. Blue are the traps themselves, such as a pitfall or crossbow trap. Lastly Purple are magical traps, such as ones made by 'Alarm Runes'.

This effect lasts 1 hour, until dispelled, you cast another Focused spell, or you lose Focus.`,dice:1,level:3,tags:["elemental","divination","ranged","focus"]},{id:186,name:"general's aura",effect:`This Aura lasts for a number of turns equal to the dice spent. (You cannot have 2 auras active at the same time.)
While this Aura is active spectral banners appear within 2 tiles of you, allies in this area deal 1 extra damage and cannot gain stacks of Stun. `,dice:1,level:3,tags:["technique","power","aura"]},{id:60,name:"ghost",effect:`Touch a willing Creature, cannot target Undead or Constructs. You Focus on making the target Incorporeal for 1 minute (6 turns). The creature has 2 less Speed while Incorporeal.
This effect goes away early if you dispel it, you cast another Focused spell, or you lose Focus.`,dice:1,level:3,tags:["soul","control","touch","focus"]},{id:216,name:"ground slam",effect:"Slam the ground in front of you. All targets within a 3 by 3 in front of you must do a Body contest against you. If you win, the target falls prone. If you lose, the target is knocked back 2 tiles away.",dice:2,level:3,tags:["technique","control"]},{id:185,name:"healing aura",effect:`This Aura lasts for a number of turns equal to the dice spent. (You cannot have 2 auras active at the same time.)
While this Aura is active creatures feel at ease within 2 tiles of you. At the beginning of your turn you may target a number of creatures equal to your Medicine. You cannot target Undead or Constructs. Each targeted creature regains 1 health.`,dice:1,level:3,tags:["technique","healing","aura"]},{id:61,name:"healing bloom",effect:"Pick a tile you can see within 8 tiles of you. All targets within 1 tile around the chosen tile are healed an amount equal to your Medicine. Does not affect Undead or Constructs.",dice:1,level:3,tags:["divine","healing","ranged"]},{id:242,name:"imbue weapon",effect:`Touch and Focus on a weapon. When that weapon hits, it may give 1 stack of the following: Burn, Wet, Sparking, Poisoned, or Marked.
This spell lasts for 10 minutes, until dispelled, you lose Focus, or you cast another Focus spell.`,dice:1,level:3,tags:["elemental","power","touch","focus"]},{id:56,name:"lightning strike",effect:`Make a Spell Attack against a target you can see within 36 tiles of you. You may add 1 to the given dice if the target is wearing metal. A bolt of lightning comes from the sky to strike the target doing 8 damage. Wet targets lose a stack of Wet and take an additional 2 damage. Constructs take an additional 1 damage. Targets under cover (such as in a building or cave) do not take damage.
On a 4 or Less: do 4 damage instead of 8. 
On a 9 or Higher: Give the target 2 stacks of Sparking.`,dice:2,level:3,tags:["elemental","power","ranged"]},{id:139,name:"limitless air",effect:`You Focus on giving a creature you touch the ability to breathe without air. The creature can breathe without needing air, such as underwater or in poison gas, without drowning or becoming poisoned.
This effect goes away after 8 hours, or until dispelled.`,dice:1,level:3,tags:["elemental","protection","touch"]},{id:161,name:"meteor leap",effect:"You Windup a massive jump. On your next turn, if you finish winding up; you are able to jump twice your normal jump distance. When you land you are able to spend ## (2 dice) to do an attack against a target you landed on or next to. If you do, you do bonus damage equal to half (rounded down) the distance jumped.",dice:3,level:3,tags:["technique","movement","self","weapon","windup"]},{id:62,name:"mood swing",effect:"Do a 'Soul' contest against a creature within 6 tiles of you. If you win, you forcibly change their mood to one you specify. This may stop them from fighting or may help incite fights. They believe the thought was their own and have no memory of the magic. If you lose, they know you tried to cast magic on them but not what the spell was.",dice:2,level:3,tags:["soul","control","ranged"]},{id:101,name:"natures curse",effect:`You Windup a curse spell. On your next turn, if you finish winding up; do a 'Soul' Contest against a target you can see within 18 tiles of you. If you win, give the target the 'Curse of Nature'. If you lose, give the target 3 stacks of Poisoned.

Curse of Nature - When you roll 'Nature' you roll a max of 2 dice. This curse ends when you plant a seed or tame a creature. `,dice:3,level:3,tags:["elemental","control","ranged","windup"]},{id:123,name:"nightmare",effect:`Focus on giving a sleeping creature within 36 tiles of you a nightmare. The creature will begin to have a nightmare, taking 4 damage at the beginning of your turn. This damage does not wake up the creature. Additionally, while having the nightmare the creature cannot wake up unless another creature spends ## (2 dice) to wake up the creature or they take another source of damage.
The spells effects go away after 1 minute (6 turns), if you dispel it, you cast another Focused spell, or you lose Focus.`,dice:2,level:3,tags:["soul","illusion","ranged","focus"]},{id:244,name:"piercing shot",effect:"The next Weapon Attack you do this turn damages all targets in a line up to your maximum weapons range. Target's that are hit this way take 1 less damage for every target that took damage (to a minimum of 1). This may shoot through walls (walls do not count as targets for the sake of damage reduction).",dice:1,level:3,tags:["insight","power","weapon"]},{id:64,name:"prop",effect:`You Focus on turning into a simple non-magical inanimate prop that is no smaller than a cup or larger than yourself. While in this form you have 3 Armor health and 1 Health. If you loose this Health or do an action that requires movement, such as doing an attack or casting a spell, the spell ends early. You can be moved by other creatures without loosing this effect. 
If you are put in a position you would not fit in when you become normal you are shunted out of that space taking knockback damage equal to how far you are shunted. See Mysc Rules - Prop for weird use ruling.`,dice:1,level:3,tags:["soul","illusion","self","focus"]},{id:196,name:"quip",effect:"Do a Charm contest against a target within 8 tiles of you. If you win, reduce their max value dice by 2, on the next roll the creature makes. If you lose, reduce their max value dice by 1, on the next roll the creature makes.",dice:2,level:3,tags:["insight","dice","ranged"]},{id:160,name:"rage",effect:"When activated you become enraged for 1 minute (6 turns). While you are enraged you deal an extra 1 damage with weapon attacks and gain +1 to Body rolls. This Technique cannot be activated while its already active.",dice:1,level:3,tags:["technique","power","self"]},{id:55,name:"rain",effect:"You call a rain cloud to form in the sky above you. Choose a tile within 8 tiles of you. A burst of rain covers 3 tiles around it. Anything in that area gets 6 stacks of Wet. Targets that are indoors gain no stacks. Targets that are outdoors but under a roof or cover gain 2 stacks instead.",dice:1,level:3,tags:["elemental","creation","ranged"]},{id:187,name:"reaper aura",effect:`This Aura lasts for a number of turns equal to the dice spent. (You cannot have 2 auras active at the same time.)
While this Aura is active ghosts can be seen out of the corner of your eye within 2 tiles of you. Whenever a creature within 2 tiles of you would gain stacks of Bleed, it gains an additional stack of Bleed.`,dice:1,level:3,tags:["technique","power","aura"]},{id:136,name:"ritual of storms",effect:`Begin working on the Ritual of Storms. For the next minute (6 turns), once per turn, you and any creature nearby may do a Soul or Nature check to give stacks to the ritual. On Success, the ritual gets 2 stacks. On Partial Success, the ritual gets 1 stack. On Failure, the ritual gets nothing. If the caster Fails two times in a row the ritual completes early.
When the ritual completes you must be able to see the sky. If you are, then you may alter the weather of the surrounding area. Increase the range of the effect by 1 medium tile (36 normal tiles) per ritual stack. The weather change lasts for 1 week if it is natural to the area, or 1 day if it is unnatural (Rain in a jungle vs rain in a desert).`,dice:3,level:3,tags:["elemental","control","ranged","ritual"]},{id:248,name:"rose shield",effect:`Giving a creature you Touch Temporary Armor equal to your Soul. While they have this Temporary Armor, they do 2 damage to any creature that hits them with a Melee Attack.
This spell lasts for 1 minute (6 turns). When the spell ends the Temporary Armor is lost, regardless of if it was used.`,dice:1,level:3,tags:["elemental","protection","touch"]},{id:212,name:"scan the battlefield",effect:"Gain a dice with a value equal to the number of enemies within 3 tiles of you (max value of 6).",dice:1,level:3,tags:["insight","dice","ranged"]},{id:116,name:"speak with undead",effect:`Focus on giving a creature you touch the ability to talk to undead. The target is able to have conversations with undead creatures that have the Undead Tag for the duration. This does not make the undead intelligent it only lets the target converse with them.
The spells effects go away after 1 hour, if you dispel it, you cast another Focused spell, or you lose Focus.`,dice:1,level:3,tags:["divine","divination","touch","focus"]},{id:234,name:"stagger",effect:"The next Weapon Attack you do this turn makes the target (or targets) do a Body check. On a Failure; the target falls over and becomes Prone. On a Partial Success; the target stumbles and gains 2 stacks of Slow. On a Success; nothing extra happens.",dice:1,level:3,tags:["technique","power","weapon"]},{id:175,name:"stunning strike",effect:"Your next Weapon Attack you do this turn gives 1 stack of Stun.",dice:1,level:3,tags:["technique","power","weapon"]},{id:251,name:"summon spirit animal",effect:`Focus on summoning spirit animal within 3 tiles of you. When you first summon the spirit pick a Beast of level 1 or lower (a Beast is a creature with just the animal tag). A ghostly spirit of that animal will appear as a Follower of you. The creature has the Undead tag in addition to its other types.
The summon goes away after 1 hour, if you dispel it, you cast another Focused spell, or you lose Focus.`,dice:3,level:3,tags:["soul","creation","ranged","focus"]},{id:102,name:"sun curse",effect:`You Windup a curse spell. On your next turn, if you finish winding up; do a 'Soul' Contest against a target you can see within 18 tiles of you. If you win, give the target the 'Curse of the Sun'. If you lose, make the target Glow for 5 minutes.

Curse of the Sun - You always illuminate 4 tiles around you. Additionally, you cannot sleep at night. This curse ends when you go underground.`,dice:3,level:3,tags:["divine","illusion","ranged","windup"]},{id:65,name:"swapper",effect:"Swap a your location with another target you can see up to your Speed away, you cannot target items that are being worn or carried. If the target is unwilling, do a 'Soul' contest against them. If you win, you teleport to the targets location, and they teleport to your previous location (swap places).",dice:2,level:3,tags:["soul","control","ranged"]},{id:269,name:"thorny roots",effect:`You Focus on making an area into thorny roots. Pick a tile you can see within 18 tiles of you. All floor or wall tiles within 3 tiles of the chosen point become thorn roots. This area counts as being Rough Terrain for its duration. If a creature was to move though this area they take 1 damage for every tile they would move through the roots. If this spell is cast over non-magical Rough Terrain, or roots made by an effect or Art such as 'Root Trap' increase this damage by 1 for its duration. 
This effect lasts for 10 minutes, until dispelled, you cast another Focused spell, or you lose Focus.`,dice:1,level:3,tags:["elemental","protection","ranged","focus"]},{id:200,name:"trick of the eye",effect:"Spend your locked dice instead of a combat dice when using this Insight. Pick an enemy within 6 tiles. Do a Thieving or Mind contest against them. On success, you are Obscured from them until the start of your next turn. This goes away if you attack the enemy.",dice:1,level:3,tags:["insight","illusion","ranged"]},{id:130,name:"wall",effect:`You Windup a spell. On your next turn, if you finish winding up; you can Focus on creating a Spectral Wall within 6 tiles of you. The wall can be up to 8 tiles long, up to 1 tile wide, and up to 2 tiles tall. The wall has 15 health and 15 Armor. If a wall is made under a creature that creature is pushed to one side of the wall. If a creature cannot be pushed (from hitting a wall) then the creature becomes Grappled and gains 8 stacks of Stun. Creatures and objects cannot move through the wall once made.
The wall goes away after 1 minute (6 turns), if you dispel it, you cast another Focused spell, the wall dies, or you lose Focus.`,dice:3,level:3,tags:["soul","creation","windup","focus","ranged"]},{id:54,name:"wall of thorns",effect:`You Focus on summoning a Wall of Thorns within 6 tiles of you. The wall is up to 6 tiles long, 1 tile wide, and 2 tiles tall. The wall has 10 Health, and any creature that touches the wall takes 2 damage at the start of their turn. If a creature is knocked back into the wall they take 4 damage immediately and are touching the wall.
The wall lasts for 10 minutes, until dispelled, you cast another Focused spell, or you lose Focus.`,dice:1,level:3,tags:["elemental","protection","ranged","focus"]},{id:228,name:"water walk",effect:`Pick up to 5 targets within 6 tiles of you. While spell is active all targets can move on top of any liquid surface as if it was normal terrain. Liquid Rough Terrain, such as mud, shallow water, snow, quicksand, or lava, acts as if it was normal terrain. If you pick targets submerged in liquid they float upward 4 tiles in a round.
This effect lasts for 10 minutes, or until dispelled.`,dice:1,level:3,tags:["elemental","protection","ranged"]},{id:63,name:"winds grace",effect:`Touch a creature. Focus on giving that creature 2 Speed. 
The spells effects go away after 1 hour, if you dispel it, you cast another Focused spell, or you lose Focus.`,dice:1,level:3,tags:["elemental","protection","touch","focus"]},{id:68,name:"chain lightning",effect:`Pick a target within Range 18. Make a Spell Attack against that target. Do 5 damage. Wet targets lose a stack of Wet and take an additional 2 damage. Constructs take an additional 1 damage. Pick another target within 4 tiles of the current target, the lightning jumps to that target damaging them as well. You can do this up to 2 times. 
On a 4 or Lower: the Lightning jumps 1 time instead of 2. 
On a 9 or Higher: the lightning jumps 3 times instead of 2.`,dice:2,level:4,tags:["elemental","power","ranged"]},{id:144,name:"create airship",effect:`You Windup a creation spell. On your next turn, if you finish winding up; you may turn a boat, cart, or similar entity into a makeshift airship. This airship has the same speed as the item it was made with, or 2 if it had none prior. This airship has a max height of 1 medium tile off the ground. 
This spell lasts for 1 day after which the airship falls from the sky.`,dice:3,level:4,tags:["divine","control","touch","windup"]},{id:148,name:"darkness",effect:`You Focus on making an area complete darkness. Pick a tile you can see within 10 tiles of you. All tiles within 3 tiles of the chosen point become covered complete darkness. This area counts as being Hidden for its duration. Any creature within the area is Blinded, and Hidden until they leave the area. 
The darkness lasts 1 minute (6 turns), until dispelled, you cast another Focused spell, or you lose Focus.`,dice:1,level:4,tags:["divine","illusion","ranged","focus"]},{id:124,name:"daydream",effect:"You distract a creature by filling its head with irrelevant thoughts. Do a 'Soul' contest against a creature you can see within 18 tiles of you. If you win, the creature gains 3 Stun and loses its Locked dice, and current thought (if it has any). If you lose, the creature gains 1 Stun.",dice:2,level:4,tags:["soul","illusion","ranged"]},{id:74,name:"deja vu",effect:"Do a 'Mind' contested against a creature within 6 tiles of you. If you win, you make the creature forget the last 5 minutes. They believe the thought was their own and have no memory of the magic. If you lose, they know you tried to cast magic on them but not what the spell was.",dice:2,level:4,tags:["soul","control","ranged"]},{id:141,name:"detect planar anomaly",effect:`You know the location of any Undead, Planar, or Mythical creatures (creatures with one or more of these types), within 1 large tile (2,160 normal tiles) of you. You know the type of creature you sense, but not its name. 
Additionally, you also detect any rift or planar fragments (such as ones made by 'Create Rift' or 'Summon Planar Fragment').`,dice:2,level:4,tags:["divine","divination","ranged"]},{id:59,name:"dome",effect:`You Windup a spell. On your next turn, if you finish winding up; you can Focus on creating a Spectral Dome within 6 tiles of you. The dome can be up to 3 tiles in radius (6 diameter). The dome has 15 health and 15 Armor Health. While being made if a creature would be inside the domes shape it is not affected by the creation. Creatures and objects cannot move through the dome once made.
The dome goes away after 1 hour, if you dispel it, you cast another Focused spell, the dome dies, or you lose Focus.`,dice:3,level:4,tags:["soul","creation","windup","focus","ranged"]},{id:249,name:"elemental resistance",effect:`Give a creature you Touch resistance to an element. Pick a type: Burn, Wet, Knockback, Sparking, Blind, or Glowing. When the creature gains stacks of the chosen type, reduce the number gained by 2. (For knockback reduce the amount of tiles moved by 2.)
This spell lasts for 1 hour.`,dice:1,level:4,tags:["elemental","protection","touch"]},{id:67,name:"fireball",effect:`Pick a tile you can see within 18 tiles of you. All targets within 2 tiles of this point must make a 'Mind' roll.
On Failure, the target gains 3 Burn.
On Partial Success, the target gains 2 Burn.
On Success, the target gains 1 Burn.`,dice:2,level:4,tags:["elemental","power","ranged"]},{id:270,name:"gravity well",effect:"Pick a tile you can see within 36 tiles of you. All targets within 3 tiles of this point must do a Body contest against your Soul. Objects have a Body of 0 unless they are large or attached to a wall or floor, then they have 1 Body. If you win, the target is pulled towards the tile you picked. Creatures and objects pulled this way can take knockback damage if they cannot be placed in the tile chosen. If you lose, the target becomes prone instead.",dice:2,level:4,tags:["soul","protection","ranged"]},{id:72,name:"greater illusion",effect:`Focus on creating a visual or non-verbal sound Illusion of your choice that is no larger in size than 3 tiles cubed within 6 tiles of you. A creature can make a 'Mind' contest against you, to discern if it is an illusion. You may use Soul or Mind for this contest.
The illusion lasts for 1 minute (6 turns), until dispelled, you cast another Focused spell, or you lose Focus. You can spend # (a dice) on the following turns to animate the illusion (no extra Strain cost).`,dice:2,level:4,tags:["elemental","illusion","ranged","focus"]},{id:129,name:"guarding runes",effect:`You draw runes around an area. This area can be as large as 6 tiles in radius (12 tiles in diameter). Divination spells cannot see, converse, or detect any item that is within this area. Additionally, Creation spells, and summons, cannot travel from inside to outside the area, or vice versa.
These runes last for 1 day after which they become inert. Alternatively, you may spend 1 day etching the runes into a surface gaining an additional 12 Soul Strain to make them permanent.`,dice:3,level:4,tags:["soul","protection","touch"]},{id:235,name:"interrupting attack",effect:"The next Weapon Attack you do this turn makes the target (or targets) lose all Locked dice they have and lose Focus/Windup.",dice:1,level:4,tags:["insight","power","weapon"]},{id:246,name:"life core",effect:` - ### - 4 - You Windup a spell. On your next turn, if you finish winding up; Focus on turning into a life core. All items you are wearing or carrying transform with you into your new form. While you are in this form you have +2 Speed, are 1/8th your normal size, have +1 Thieving to Hide, and cannot use or manipulate items. 

The spells effect away after 1 hour, if you dispel it, you cast another Focused spell, or lose Focus.`,dice:1,level:4,tags:["elemental","control","self","focus","windup"]},{id:264,name:"lightstep aura",effect:`This Aura lasts for a number of turns equal to the dice spent. (You cannot have 2 auras active at the same time.)
While this Aura is active everything feels lighter within 2 tiles of you, creatures in this area gain +1 Speed.`,dice:1,level:4,tags:["technique","aura"]},{id:100,name:"marking curse",effect:`You Windup a curse spell. On your next turn, if you finish winding up; do a 'Soul' Contest against a target you can see within 18 tiles of you. If you win, give the target the 'Curse of the Marked'. If you lose, give the target 6 stacks of Marked.

Curse of the Marked - You cannot have less than 1 stack of marked. If you have no stacks of Mark gain 1 stack of Mark. This curse ends when there is no creature that can see you within 12 tiles of you.`,dice:3,level:4,tags:["soul","illusion","ranged","windup"]},{id:202,name:"paint the bullseye",effect:"Spend your locked dice instead of a combat dice when using this Insight. Pick a Marked target within 8 tiles of you. They take additional 1 damage from all sources, until the start of your next turn.",dice:1,level:4,tags:["insight","control","ranged"]},{id:58,name:"raise undead",effect:`Touch a dead creature. Curse that creature turning them into a Zombie (DR 1). The Zombie is a Follower of the caster (See 'Follower' rules under 'Mysc').
You can control up to your level of zombies at a time. If you create an zombie while at the limit, the created zombie is unbound and will act on its own will.

When multiple controlled zombies do their turn in combat you lump all of them into 1 group rather than individually. Combine all of their health together into one pool. All zombies use the same 3 dice rolled, acting as if they rolled those dice (though they may do different things with said dice). If the group was to take enough damage for one to die, unless it was targeted specifically, roll a dice to decide which dies.`,dice:2,level:4,tags:["divine","creation","touch"]},{id:110,name:"rat king curse",effect:`You Windup a curse spell. On your next turn, if you finish winding up; do a 'Soul' Contest against a target you can see within 18 tiles of you. If you win, give the target the 'Rat Kings Curse'. If you lose, give the target 6 stacks of Poisoned.

Rat Kings Curse - You have a slight smell of trash. You cannot have less than 1 stack of Poisoned. If you have no stacks of Poisoned gain 1 stack of Poisoned. This curse ends when you throw up. In which you throw up a rat.`,dice:3,level:4,tags:["elemental","illusion","ranged","windup"]},{id:213,name:"recalculate",effect:"You may flip the dice given to show its opposite face (16, 25, 34). This returns the dice.",dice:1,level:4,tags:["insight","dice","self"]},{id:245,name:"redirect",effect:"Spend your locked dice instead of a combat dice when using this Insight. When you take damage from a weapon attack redirect the attack to a creature within 1 tile of you. You cannot target the creature doing the weapon attack and cannot do this if there are no other creatures within 1 tile of you.",dice:1,level:4,tags:["insight","protection","self"]},{id:137,name:"ritual of revival",effect:`Begin working on the Ritual of Revival. For the next minute (6 turns), once per turn, you and any creature nearby may do a Soul or Medicine check to give stacks  to the ritual. On Success, the ritual gets 2 stacks. On Partial Success, the ritual gets 1 stack. On Failure, the ritual gets nothing. If the caster Fails two times in a row the ritual completes early.
When the ritual completes you may target a dead creature within 6 tiles of you. If the total number of stacks is 18 or higher the creature is revived. The creatures Soul must be free, and the creature cannot have been dead for more than an hour. If the creature has been revived with this ritual before increase the stacks needed by two times the number of times they have been revived this way.`,dice:3,level:4,tags:["divine","healing","ranged","ritual"]},{id:103,name:"shackling curse",effect:`You Windup a curse spell. On your next turn, if you finish winding up; do a 'Soul' Contest against a target you can see within 18 tiles of you. If you win, give the target the 'Curse of the Shackle'. If you lose, give the target 3 stacks of Slow.

Curse of the Shackle - When the caster of this spell takes damage you take the same amount of damage. This curse ends when the caster dies, or you break a set of Shackles.`,dice:3,level:4,tags:["soul","control","ranged","windup"]},{id:73,name:"soul bind",effect:`You make a pact with a creature. This pact may be as simple as a 'your mine until sundown' or as complex as a short story. If the creature agrees to the pact give the creature the 'Curse of Binding'. The curse ends when the pact is fulfilled.

Curse of Binding - You become a Follower of the caster of the Curse (See 'Follower' rules under 'Mysc'). This curse ends when your pact is fulfilled or the caster dies.`,dice:3,level:4,tags:["soul","control","touch"]},{id:70,name:"stepping stones",effect:"Gain an amount of teleport equal to twice your Speed. You can then Teleport to a location that you can see up to a total of this teleport away. You can break up this teleportation into any number of steps where you can do other actions. If you do not use up all of the teleportation by the end of your turn you lose the remaining steps.",dice:1,level:4,tags:["soul","control","ranged"]},{id:126,name:"sudden slumber",effect:"Pick a creature you can see within 36 tiles of you. You cannot target Undead or Constructs. This creature must do a Mind contest against your Soul. If you win, the target is forcefully put to sleep for 1 minute (6 turns), until another creature spends ## (2 dice) to wake them, or they take damage. If you lose, the target gains 3 Slow instead and isn't put to sleep.",dice:2,level:4,tags:["soul","illusion","ranged"]},{id:257,name:"sunspot",effect:`Focus on a tile you can see within 18 tiles of you. You summon a pillar of light from a distant star. The pillar is 6 tiles tall and all targets within 2 tiles of this pillar are illuminated. Targets that start their turn within this light take 5 damage. The light clears any fog and counts as sunlight.  You can spend any amount of dice on later turns to move the beam up to 6 tiles per dice spent.
The light lasts for 1 minute (6 turns), until dispelled, you cast another Focused spell, or you lose Focus.`,dice:2,level:4,tags:["divine","power","ranged","focus"]},{id:197,name:"taunt",effect:"Do a Charm contest against a target within 8 tiles of you. If you win, the creature must spend dice on their next turn moving until they are 1 tile from you, or as close as possible without injury.",dice:2,level:4,tags:["insight","illusion","ranged"]},{id:229,name:"tent",effect:`You Windup a creation spell. On your next turn, if you finish winding up; create a spectral tent. The tent can be up to 2 tiles square on the outside and 6 tiles square on the inside. When created you may have the tent contain: up to 3 beds, an empty chest 1 tile large, a table of any size, any number of chairs, a light which illuminates the entire tent, and a rug. Items made this way cannot leave the tent. 
The tent lasts for 12 hours before disappearing. Creatures and items inside the tent are placed in the nearest open tile when the tent disappears.`,dice:3,level:4,tags:["soul","creation","touch","windup"]},{id:95,name:"track creature",effect:`You Focus on following the path of a creature which you have named or have evidence of. This evidence can be a piece of hair, clothing, or some other identifier. The path may show as glowing footprints or wisps of colored air representing their scent. The path has a max length of up to 4 tiles in front of you, moving as you move. This has a max range of 1 large tile (2,160x2,160 tiles), failing to find the creature if its not in this range.

This effect lasts 1 hour, until dispelled, you cast another Focused spell, or you loose Focus.`,dice:2,level:4,tags:["soul","divination","ranged","focus"]},{id:131,name:"wind wall",effect:`You can Focus on creating a Wall of Wind within 6 tiles of you. The wall can be up to 6 tiles long, up to 1 tile wide, and up to 2 tiles tall. The wall stops projectiles and knocks creatures 6 tiles into the air if they walk within 1 tile of the wall. If a creature cannot be lifted (from hitting a ceiling) then the creature takes Knockback damage.
The wall goes away after 1 minute (6 turns), if you dispel it, you cast another Focused spell, or you lose Focus.`,dice:1,level:4,tags:["elemental","protection","ranged","focus"]},{id:71,name:"wings of mercy",effect:"Teleport to a Creature (other than yourself) that is on Death's Door, that you can see up to twice your Speed away. Heal the target an amount equal to your Medicine.",dice:1,level:4,tags:["divine","healing","ranged"]},{id:198,name:"at a glance",effect:"Choose a Stat or Sub-stat (Body, Mind, or Soul ; Arcana, Crafting, Charm, Nature, Medicine, or Thieving). The next time you roll that Stat or Substat this turn, you gain +1 to the sum.",dice:1,level:5,tags:["insight","control","self"]},{id:99,name:"blinding curse",effect:`You Windup a curse spell. On your next turn, if you finish winding up; do a 'Soul' Contest against a target you can see within 18 tiles of you. If you win, give the target the 'Curse of the Blind Man'. If you lose, give the target 3 stacks of Blind.

Curse of the Blind Man - You cannot have less than 1 stack of Blind. If you have no stacks of Blind gain 1 stack of Blind. This curse ends when you Blind another creature. (This can be done through spells/items/or cutting.)`,dice:3,level:5,tags:["elemental","illusion","ranged","windup"]},{id:80,name:"burning curse",effect:`You Windup a curse spell. On your next turn, if you finish winding up; do a 'Soul' Contest against a target you can see within 18 tiles of you. If you win, give the target 'Cursed Flames'. If you lose, give the target 3 stacks of Burn.

Cursed Flames - You no-longer lose stacks of Burn. However, you cannot be killed by Burn. You still take damage from the Burn. If you die or survive 1 year with this curse you become a Burned Soul (See Creatures). Then become a Follower of the caster of the Curse (See 'Follower' rules under 'Mysc'). This curse ends when you are doused in Holy water.`,dice:3,level:5,tags:["elemental","power","ranged","windup"]},{id:134,name:"farsight",effect:`You can Focus on observing a location far away from you. Pick a location you have been or know of that is on the same plane of existence as you. The better you know an area the closer you see it. For instance if you pick your home then you are able to be inside it and move around it. Or alternatively if you pick somewhere you have never been, such as a strange city, you are only able to observe it from far above it. You can see and hear through the location as if you where there. While you are focusing on the location you are Deafened and Blinded to your body's current location.
This effect goes away after 1 hour, if you dispel it, you cast another Focused spell, or you lose Focus`,dice:3,level:5,tags:["soul","divination","ranged","focus"]},{id:76,name:"frogrify",effect:`You Windup a curse spell. On your next turn, if you finish winding up; do a 'Soul' Contest against a target you can see within 18 tiles of you. If you win, give the target the 'Curse of the Molefrog'. If you lose, give the target 3 stacks of Stun.

Curse of the Molefrog - Turn into a Molefrog, your character sheet is replaced with that of a Molefrog. This curse ends when you are kissed or after 1 hour.`,dice:3,level:5,tags:["soul","illusion","ranged","windup"]},{id:247,name:"hallowed armor",effect:`You Windup a protection spell. On your next turn, if you finish winding up; touch a set of armor and pick a type: Monstrosity, Planar, or Undead. When the wearer of the armor takes damage from a creature with the chosen type, reduce it by 2. This cannot reduce damage below 1.
This effect lasts for 1 hour.`,dice:3,level:5,tags:["divine","protection","touch","windup"]},{id:121,name:"haste",effect:`Focus on giving a willing creature you touch 2 extra dice whenever they do a roll. When this spell ends the creature gains 10 Stun and has a Speed of 0.
The spells effects go away after 1 minute (6 turns), if you dispel it, you cast another Focused spell, or you lose Focus.`,dice:1,level:5,tags:["elemental","power","touch"]},{id:147,name:"heat metal",effect:`You Focus on a metal object you can see within 18 tiles of you. The object becomes white-hot and illuminates 2 tiles around it. Any creature that touches the object for the first time in a turn gains 2 stacks of Burn. 
This effect lasts 1 minute (6 turns), until dispelled, you cast another Focused spell, or you lose Focus.`,dice:2,level:5,tags:["elemental","control","ranged","focus"]},{id:138,name:"ritual of healing",effect:`Begin working on the Ritual of Healing. For the next minute (6 turns), once per turn, you and any creature nearby may do a Medicine check to give stacks  to the ritual. On Success, the ritual gets 2 stacks. On Partial Success, the ritual gets 1 stack. On Failure, the ritual gets nothing. If the caster Fails two times in a row the ritual completes early.
When the ritual completes, pick any number of Creatures you can see. Heal a total amount of health equal to the number of stacks the ritual has. The healing may be given to one creature or divided as you choose among several. `,dice:3,level:5,tags:["elemental","healing","ranged","ritual"]},{id:255,name:"ritual of unbroken glass",effect:`Begin working on the Ritual of Unbroken Glass. For the next minute (6 turns), once per turn, you and any creature nearby may do a Crafting check to give stacks to the ritual. On Success, the ritual gets 2 stacks. On Partial Success, the ritual gets 1 stack. On Failure, the ritual gets nothing. If the caster Fails two times in a row the ritual completes early.
When the ritual completes, pick an object within 6 tiles of you. The item becomes unbreakable for a number of days equal to the amount of ritual stacks. This has no effect on how damage is taken for Armor.`,dice:3,level:5,tags:["elemental","protection","ranged","ritual"]},{id:82,name:"soul shatter",effect:"Make a Spell Attack against a creature within 1 tile of you. Max out the targets Strain.",dice:2,level:5,tags:["soul","power","touch","broken"]},{id:81,name:"soul to body",effect:"Touch a creature. If the creature is unwilling do a 'Soul' Contest against them. If you win, swap the creatures Soul and Body Core Stats. The creature keeps their Max Soul Strain. However, cannot cast Spells with a Soul Strain cost higher than 0. This effect lasts for 1 minute (6 turns) or until you dismiss it.",dice:2,level:5,tags:["soul","protection","touch"]},{id:117,name:"speak with plants",effect:`Focus on giving a creature you touch the ability to talk to plants. The target is able to have conversations with plants or plant creatures that have the Monstrosity Tag for the duration. This does not make the plant intelligent it only lets the target converse with them.
The spells effects go away after 1 hour, if you dispel it, you cast another Focused spell, or you lose Focus.`,dice:1,level:5,tags:["elemental","divination","touch","focus"]},{id:214,name:"split mind",effect:"Gain 2 dice which are equal to the dice spent on this Insight.",dice:1,level:5,tags:["insight","dice","self"]},{id:252,name:"summon bestial spirits",effect:`Focus on summoning bestial spirits within 3 tiles of you. When you first summon the spirit pick one of the following: a Beast of level 2, two Beasts of level 1 or four Beasts of level 0 (a Beast is a creature with just the animal tag). A number of ghostly spirits of the chosen animal will appear as Followers of you. The creatures have the Undead tag in addition to its other types.
The summons go away after 1 hour, if you dispel it, you cast another Focused spell, or you lose Focus.`,dice:3,level:5,tags:["soul","creation","ranged","focus"]},{id:223,name:"swarm",effect:`You Focus on summoning a swarm to an area. Pick a tile you can see within 18 tiles of you. All tiles within 3 tiles of the chosen point become engulfed in a swarm. This area counts as being Obscured for its duration. Creatures that start their turn within the swarm gain 1 stack of Bleed.
The swarm lasts 1 minute (6 turns), until dispelled, you cast another Focused spell, or you lose Focus.`,dice:1,level:5,tags:["soul","creation","ranged","focus"]},{id:132,name:"wall of fire",effect:`You can Focus on creating a Wall of Fire within 6 tiles of you. The wall can be up to 6 tiles long, up to 1 tile wide, and up to 2 tiles tall. At the beginning of a creatures turn or the first time in a turn that they get within 1 tile of the wall gain 4 stacks of Burn.
The wall goes away after 1 minute (6 turns), if you dispel it, you cast another Focused spell, or you lose Focus.`,dice:1,level:5,tags:["elemental","protection","ranged","focus"]},{id:133,name:"wave",effect:"You create a wave starting from 1 tile behind you. The wave can be 6 tiles wide and up to 2 tiles tall. The wave moves forward 8 tiles in a line. Everything, excluding yourself, that is within this path must do a Body contest against your Soul. If you win, the target is pushed to the end of the wave and gains 12 stacks of Wet. If a creature cannot be pushed (from hitting a wall) then the target takes Knockback damage. If you lose, the target gains 12 stacks of wet and is not pushed.",dice:2,level:5,tags:["elemental","creation","ranged"]},{id:127,name:"bedtime",effect:"Pick a tile you can see within 18 tiles of you. All targets within 4 tiles of this point must do a Mind contest against your Soul. If you win, the target is forcefully put to sleep for 1 minute (6 turns), until another creature spends ## (2 dice) to wake them, or they take damage. If you lose, the target gains 3 Slow instead and isn't put to sleep.",dice:2,level:6,tags:["soul","illusion","ranged"]},{id:258,name:"dawn",effect:`You Focus on illuminating everything within 1 large tile (2,160x2,160 normal tiles) of you.  The entire area is covered in a bright light. This light counts as sunlight and everything within the area permanently has at least 1 Glowing. Only darkness or fog effects that cost 6 or more Strain can be cast within this area, which then dispels both effects.
The Light lasts for 1 day, until dispelled, you cast another Focused spell, or you lose Focus.`,dice:1,level:6,tags:["divine","illusion","ranged","focus"]},{id:87,name:"dragon form",effect:`Touch a creature within 1 tile of you, you then Focus on changing their form to that reminiscing a dragon. While active they gain the following benefits: 
Their hands become claws, granting them +1 damage, and give 1 stack of Bleed on hit.
Magical wings sprout from their back, granting them Flight.
Their skin grows hardened scales, granting them 4 Armor, 2 Ward, and making them immune to Knockback.

The spells effects go away after 10 minutes, if you dispel it, you cast another Focused spell, or you lose Focus.`,dice:2,level:6,tags:["divine","protection","touch","focus"]},{id:259,name:"dusk",effect:`You Focus on covering everything within 1 large tile (2,160x2,160 normal tiles) of you in darkness.  The entire area is covered in a darkness as if it was night time. Everything within the area is permanently Obscured and any sources of light are snuffed out. Only light effects that cost 6 or more Strain can be cast within this area, which then dispels both effects. 
The darkness lasts for 1 day, until dispelled, you cast another Focused spell, or you lose Focus.`,dice:1,level:6,tags:["divine","illusion","ranged","focus"]},{id:83,name:"far skip",effect:"Teleport to a location that is up to twice your Speed away.",dice:1,level:6,tags:["soul","control","ranged"]},{id:217,name:"flurry of attacks",effect:`You Windup a series of attacks. On your next turn, if you finish winding up; make a Weapon Attack against every creature within weapon range that has stacks of Marked. You use a 7 for all these attacks and must have the ammo to attack each target.
`,dice:3,level:6,tags:["insight","power","weapon","windup"]},{id:218,name:"fly",effect:`Focus on giving a Creature you touch Flight. They can move their Speed in the air as if it was ground. 
This effect lasts for 10 minutes, until dispelled, you cast another Focused spell, or you lose Focus.`,dice:1,level:6,tags:["elemental","control","touch","focus"]},{id:243,name:"hyper beam",effect:"You Windup a spell. On your next turn, if you finish winding up; create a 3 tile wide 18 tiles long beam. Everything within this area takes 7 damage.",dice:3,level:6,tags:["soul","power","ranged","windup"]},{id:203,name:"illusion of choice",effect:"Spend your locked dice instead of a combat dice when using this Insight. Pick a target within 6 tiles of you. Re-roll the target's highest or lowest 2 dice. This must be done at the beginning of a turn before results are announced.",dice:1,level:6,tags:["insight","dice","ranged"]},{id:125,name:"kaleidoscope",effect:`Focus on making illusionary clones of yourself. You make 8 illusionary clones of yourself (one in every direction of you). Clones that are created in a wall start on the same tile as you. When you move the clones move in a random direction (roll a dice 1-4 are cardinal directions 5-6 are re-roll). Clones are not smart and will walk off ledges or into walls. A creature may do a Mind contest against your Soul to determine if a clone is an illusion. At any point you may give a dice to swap locations with yourself and any clone. 
The spells effects go away after 1 minute (6 turns), if you dispel it, you cast another Focused spell, or you lose Focus.`,dice:2,level:6,tags:["soul","illusion","ranged","focus"]},{id:90,name:"kamikaze",effect:`All targets within 3 tiles of you (excluding yourself) must make a 'Mind' roll. On Failure or Partial Success, the target takes an amount of damage equal to your current health. On Success, the target takes half this damage (rounded up).
Afterwards your Health is set to 0 (this damage cannot be mitigated) and you are put on Death's Door. Until your next rest you cannot regain health while you have Strain.`,dice:2,level:6,tags:["elemental","power","self"]},{id:254,name:"make a plan",effect:"Pick a number of creatures equal to the dice value that can see or hear you. Roll a dice. Then give all of the chosen creatures its value.",dice:1,level:6,tags:["insight","dice","ranged"]},{id:239,name:"mental break",effect:"Pick a target you can see within 36 tiles of you. Do a Mind contest against the target. You may use Soul or Mind for this contest. If you win, the target takes 14 damage, and additional damage equal to their Mind. If you lose, the target takes 7 damage instead.",dice:2,level:6,tags:["soul","illusion","ranged"]},{id:224,name:"mire",effect:`You Focus on making an area into a murky mire. Pick a tile you can see within 18 tiles of you. All floor tiles within 6 tiles of the chosen point become a murky mire. This area is Rough Terrain. If a creature starts their turn in the mire, they gain 1 stack of Poison.
The mire goes away after 1 hour, if you dispel it, you cast another Focused spell, or you loose Focus.`,dice:1,level:6,tags:["elemental","control","ranged","focus"]},{id:226,name:"paralyzing touch",effect:"You Windup a spell. On your next turn, if you finish winding up; touch a creature to give them 99 stacks of Stun.",dice:3,level:6,tags:["soul","control","touch","windup"]},{id:135,name:"scry",effect:`You can Focus on observing a creature far away from you. Pick a creature you have seen or have evidence off  that is on the same plane of existence as you. This evidence can be a piece of hair, clothing, or some other identifier. The better you know the creature the closer you see them. For instance if you pick your sibling then you are able to see them from right next to them. Or alternatively if you pick someone you have only evidence of you are only able to observe them from far above. You can see and hear through the location as if you where there. While you are focusing on the creature you are Deafened and Blinded to your body's current location. The creature knows they are being watched, though they do not know who is watching them. Creatures can still become Hidden from you.
This effect goes away after 1 hour, if you dispel it, you cast another Focused spell, or you lose Focus`,dice:3,level:6,tags:["soul","divination","ranged","focus"]},{id:232,name:"summon soul",effect:`You Windup a summon spell. On your next turn, if you finish winding up; summon a spirit of a dead creature. You must have something that directly ties to the creature. Some examples; a bit of hair or fur, some blood, the weapon that killed them, or a body part. The spirit can only answer questions or give guidance it cannot do damage, cast Arts, or interact with the world. The spirit must obey the summoner.
The spirit lasts for 8 hours before disappearing.`,dice:3,level:6,tags:["divine","creation","touch","windup"]},{id:231,name:"unrelenting pursuit",effect:`You Focus on a target within your Speed tiles away from you. At the beginning of your turn, or when you cast the spell, you teleport to a safe tile within 1 tile of them.
This effect lasts for 1 minute (6 turns), until dispelled, you cast another Focused spell, or you lose Focus.`,dice:1,level:6,tags:["soul","control","ranged","focus"]},{id:241,name:"conjure storm",effect:`You Windup a spell. On your next turn, if you finish winding up; you can Focus on creating a storm within 1 medium tile (36x36 tiles) of you. At the beginning of your turn anything in the storm gains 3 stacks of Wet. Targets that are indoors gain no stacks. Targets that are outdoors but under a roof or cover gain 1 stack instead. While you are focusing you may spend ## to cast the spell 'Lightning Strike' without gaining Strain. The range of 'Lightning Strike' is increased to any target within the storm.

This spell lasts for 1 minute (6 turns), until dispelled, you lose Focus, or you cast another Focus spell.`,dice:3,level:7,tags:["elemental","control","ranged","windup","focus"]},{id:250,name:"control zone",effect:`You Windup a protection spell. On your next turn, if you finish winding up; You Focus on drawing a ring of runes that can cover up to 1 medium tile (36x36 normal tiles). When drawn pick a type: Walled, Fog, Light, Silence, or Magical. The protection goes away after 1 day, if you dispel it, you cast another Focused spell, or you lose Focus. If the same effect is cast on the same area for 1 week the spell becomes permanent. Only one instance of this spell can effect a set area at a time.
Walled: Only creatures you designate may enter or leave the area. You may be specific with the designation or vague (such as John and I, or only Beasts).
Fog: The entire area is covered in thick fog. This area counts as being Obscured for its duration, and creatures that enter the area for the first time have the spell 'Lost Mans Curse' cast on them (use your Soul for the roll). You can designate creatures who are not effected by the curse.
Light: The entire area is covered in a bright light. Everything within the area permanently has at least 1 Glowing, and effects that would cover the area in darkness or fog do not work.
Silence: The area becomes dead quiet. Everything within the area permanently has at least 1 Silenced.
Magical: Pick a spell that targets a single creature or item and has a Strain cost of 3 or less. Creatures and items that enter the area have the chosen spell cast on them. You do not need to Focus or Windup for this spell. You can denote creatures and items that do not trigger this effect.`,dice:3,level:7,tags:["soul","protection","ranged","focus","windup"]},{id:113,name:"decaying curse",effect:`You Windup a curse spell. On your next turn, if you finish winding up; do a 'Soul' Contest against a target you can see within 18 tiles of you. If you win, give the target the 'Curse of Decay'. If you lose, give the target 3 stacks of Poisoned.

Curse of Decay - Your skin loses its color, and whenever you would be healed instead you take damage. This curse ends when you gain 1 or more stacks of Poisoned`,dice:3,level:7,tags:["divine","healing","ranged","windup"]},{id:238,name:"disintegrate",effect:"Pick a target you can see within 36 tiles of you. Do 3 damage to that target. If the target was an object or a creature on 0 health, turn the target to dust without doing Death's Door rolls. If a creature turns to dust, all items they where wearing or carrying also turn to dust.",dice:2,level:7,tags:["divine","power","ranged"]},{id:222,name:"earthquake",effect:`You Windup a spell. On your next turn, if you finish winding up; you create an earthquake within 1 medium tile (36x36 tiles) of you. Objects, statues, and buildings take 12 damage and may shake apart. Creatures within this area must make a Body roll. 
On Failure, they take 12 damage and are knocked Prone. 
On Partial Success, they take 8 damage and are knocked Prone.
On Success, they take 8 damage.`,dice:3,level:7,tags:["elemental","power","ranged","windup"]},{id:114,name:"sleeping curse",effect:`You Windup a curse spell. On your next turn, if you finish winding up; do a 'Soul' Contest against a target you can see within 18 tiles of you. If you win, give the target the 'Curse of Narcolepsy'. If you lose, give the target 3 stacks of Slow.

Curse of Narcolepsy - You are constantly tired and must sleep at least 3/4 of each day, failing to do so gives you a permanent stack of Slow and Stun for every 4 hours you do not sleep. This curse ends when you forcefully stay awake for 24 hours.`,dice:3,level:7,tags:["soul","illusion","ranged","windup"]},{id:84,name:"starfall",effect:`Do a 'Soul' contest against a creature within 36 tiles of you. On Failure, the creature gains 2 stacks of Marked. 
At the beginning of your next turn a 'star' falls from the sky. If a creature has stacks of Marked (Prioritizing the one you targeted) the star falls on them. If no creature has Marked when the star falls, the spot the targeted creature was standing when you cast the spell becomes marked.

All creatures within 4 tiles of the starfall location are knocked up into the air 4 tiles until the beginning of their next turn and take 10 Damage. Marked creatures in this area take an extra 4 damage and lose a stack of Marked.`,dice:2,level:7,tags:["elemental","creation","ranged"]},{id:230,name:"castle of stone",effect:"You Windup a creation spell. On your next turn, if you finish winding up; create a castle made of stone. The castle may have up to 6 outer walls, 6 defensive towers, an inner keep with any number of rooms, and a moat with at least once drawbridge. The castle must have a way in and out, aside from the sky, and must be on solid ground. The castle may be up to 3 medium tiles square in size (108x108 normal tiles).",dice:3,level:8,tags:["elemental","control","touch","windup"]},{id:109,name:"diamond curse",effect:`You Windup a curse spell. On your next turn, if you finish winding up; do a 'Soul' Contest against a target you can see within 18 tiles of you. If you win, give the target the 'Curse of the Diamond'. If you lose, give the target 2 stacks of Stun.

Curse of the Diamond - Your Body is reduced by 1. This curse can stack. If your Body is reduced to -6, set your max Health to 1. One instance of this curse ends when you drink a potion of Body. `,dice:3,level:8,tags:["divine","power","ranged","windup"]},{id:86,name:"door stop",effect:"Touch a Creature, the next time the creature is put on death's door, heal to half the creatures HP and remove this effect. This effect does not trigger if the creature cannot regain Health, such as from the 'Kamikaze' spell. The creature is not given death's door for this action. This effect lasts for 12 hours. If this spell triggers or ends the creature cannot be effected by this spell for 1 week.",dice:3,level:8,tags:["divine","protection","touch"]},{id:106,name:"fragility curse",effect:`You Windup a curse spell. On your next turn, if you finish winding up; do a 'Soul' Contest against a target you can see within 18 tiles of you. If you win, give the target the 'Curse of Fragility'. If you lose, do 3 damage to the target.

Curse of Fragility - Your Max Health is reduced by 5. You cannot have less than 1 Max Health. This curse ends when you drink a potion of Health.`,dice:3,level:8,tags:["divine","power","ranged","windup"]},{id:85,name:"lichs curse",effect:`Touch a willing Creature. Give the creature the 'Curse of the Lich'.

Curse of the Lich - When you die, resurrect. You become Undead in addition to your other types. At the end of a year lose 1 level. If you reach level 0 you die and cannot be resurrected until this curse is removed. If this curse ends while you are Undead you die.`,dice:3,level:8,tags:["divine","protection","touch"]},{id:107,name:"onyx curse",effect:`You Windup a curse spell. On your next turn, if you finish winding up; do a 'Soul' Contest against a target you can see within 18 tiles of you. If you win, give the target the 'Curse of the Onyx'. If you lose, give the target 2 stacks of Stun.

Curse of the Onyx - Your Soul is reduced by 1. This curse can stack. If your Soul is reduced to -6, set your max Health to 1. One instance of this curse ends when you drink a potion of Soul.`,dice:3,level:8,tags:["divine","power","ranged","windup"]},{id:108,name:"sapphire curse",effect:`You Windup a curse spell. On your next turn, if you finish winding up; do a 'Soul' Contest against a target you can see within 18 tiles of you. If you win, give the target the 'Curse of the Sapphire'. If you lose, give the target 2 stacks of Stun.

Curse of the Sapphire - Your Mind is reduced by 1. This curse can stack. If your Mind is reduced to -6, set your max Health to 1. One instance of this curse ends when you drink a potion of Mind.`,dice:3,level:8,tags:["divine","power","ranged","windup"]},{id:118,name:"speak with items",effect:`Focus on giving a creature you touch the ability to talk to items. The target is able to have conversations with items or creatures that have the Construct Tag for the duration. This does not make the item intelligent it only lets the target converse with them.
The spells effects go away after 1 hour, if you dispel it, you cast another Focused spell, or you lose Focus.`,dice:1,level:8,tags:["soul","divination","touch","focus"]},{id:262,name:"bleed",effect:"You Windup a destructive spell. On your next turn, if you finish winding up; target a creature within 18 tiles of you. Give that creature 18 stacks of Bleed.",dice:3,level:9,tags:["soul","power","ranged","windup"]},{id:233,name:"create private plane",effect:`You Windup a creation spell. On your next turn, if you finish winding up; create a portal to your private plane. If you don't already have a private plane, the plane can look and contain anything you wish. Creatures and items made this way cannot leave the plane. 
The portal lasts for 10 minutes before closing. If you cast this spell from within your private plane, the portal opens to the last dimension (other than the plane) you where in.`,dice:3,level:9,tags:["divine","creation","windup"]},{id:91,name:"determine fate",effect:`State an event that will happen and how far into the future it will happen. Do two 'Soul' checks to determine if these events will happen. The first 'Soul' roll is how close the event will happen. On Failure, the event will be in the far future. On Partial Failure, your GM determines how far into the future the event will be. On Success the event will happen around when you specified. The second 'Soul' roll is how accurate the event will take place. On Failure, the event will not happen as described in the slightest. On Partial Success, your GM determines how the event will be changed. On Success, the event will happen very similarly to how you described it.

Events leading up to the outcome of the roll will line up to ensure the outcome. Depending on outcome the GM may give +6 or -6 to rolls depending on if they will lead to, or alter, the events leading to the outcome. Once the outcome has passed gain 9 additional Strain.`,dice:3,level:9,tags:["divine","divination","touch"]},{id:237,name:"obliterate",effect:"You Windup a destructive spell. On your next turn, if you finish winding up; target a creature within 36 tiles of you. Do 20 damage to that creature.",dice:3,level:9,tags:["divine","power","ranged","windup"]},{id:88,name:"revivify",effect:"Revive a dead creature. You must have at least 60% of the body (though it may be ash), the creatures Soul must be free, and the creature cannot have been dead for more than 1 month. The creature comes back to life with 1 Health regenerating any lost limbs and healing all wounds and scars.",dice:1,level:9,tags:["divine","healing","touch"]},{id:89,name:"time stop",effect:`You stop the time for everyone but yourself. No time passes for other creatures, letting you act for 1 minute (6 turns) freely. During this time you can do anything you could do during your normal turns with the exception of casting this spell. Touching an object or creature makes time pass normally while you are touching that creature or object. If you stop touching a creature they still get 10 seconds (1 turn) to do their turn before this effect ends. (If you attack/manipulate a creature it gets a turn.)
When this spell ends you get an additional 6 Strain.`,dice:1,level:9,tags:["divine","control","touch"]},{id:261,name:"vampires curse",effect:`You Windup a curse spell. On your next turn, if you finish winding up; do a 'Soul' Contest against a target you can see within 18 tiles of you. If you win, give the target the 'Curse of Vampirism'. If you lose, give the target 2 stacks of Bleed.

Curse of Vampirism - This is an evolving curse. At level 1 you gain the following effects: You count as Undead in addition to your other types.
You no longer need to eat or sleep, instead you have a deep hunger for blood. You must drink 1 medium creature's worth of blood once every 2 days or you will lose 2 max health for every day you don't drink. (Small creatures count as 1/4th of a medium creature and a large creature counts as 4). 
You no longer roll Deaths Door rolls, instead when you reach 0 Health or Max Health you become unconscious and begin a Rest. You will only die when your heart is destroyed. This can happen while you have more than 0 Health. 
While you are in Sunlight you have -1 to all rolls, and lose 1 Strain or Blood token per turn (6 seconds). 
Once you have drunk 360 medium creatures worth of blood in total, this curse evolves to level 2.

At level 2 you gain the following: All effects from lower levels.
You no longer spend Strain to cast Arts, instead you spend Blood tokens. You gain a number of blood tokens equal to the creatures max Strain, when you kill a creature with a melee attack. Alternatively, you can gain half this value if you do a Melee attack against a creature that died within the past hour. You can have any number of blood tokens.
Once you have drunk 9000 medium creatures worth of blood in total, this curse evolves to level 3.

At level 3, you gain the following: All effects from lower levels.
You gain twice the number of Blood tokens when you gain Blood tokens. 
You gain the following Arts; 'Rip and Tear', 'Cleave', 'Conjure Spectral Claws', 'Intrusive Thoughts', 'Darkness', and 'Deja Vu'
These Arts can be cast for 1 Blood token instead of their normal cost.
Once you have drunk 300,000 medium creatures worth of blood in total, this curse evolves to level 4.

At level 4, you are a Vampire Lord and gain the following: All effects from lower levels.
Whenever a creature gains stacks of Bleed you may remove these stacks to do that much damage and gain that many Blood tokens.
You can spend 5 Blood tokens to become a mist. While as a mist you can move through cracks that would let air in and you take half damage from all sources.
You gain 1 Blood token at the end of a Rest.
You are immune to sunlight and sunlight based effects.`,dice:3,level:9,tags:["divine","power","ranged","windup"]}],ZP=[{id:768,name:"ball bat",effect:`If this weapon hits an object double the throw range of the object.
On a 9 or Higher: Knockback the target 4 tiles away from you.`,req:[],cost:20,craft:1,tags:["2 damage","two handed 0","weapon 0","common 0"]},{id:299,name:"bandage",effect:`Target a creature, cannot target Undead or Constructs. Heal the creature equal to your Medicine + 1 and remove all Bleed stacks they have.
Can be crafted with Medicine or Crafting.`,req:[],cost:4,craft:1,tags:["consumable 0","medicine 0","tiny 0","common 0"]},{id:456,name:"basic fishing rod",effect:`Go Fishing. Use Soul or Nature for the check. All fishing takes 30 minutes to do between catches.

Failure: You get Nothing.
Partial Success: You get 1 small fish (Travel Meal) or 2 gold worth of Junk.
Success: You get 2 fish (Travel Meals) or 5 gold worth of Junk.`,req:[],cost:10,craft:1,tags:["small 0","tool 0","common 0"]},{id:646,name:"blowgun",effect:"On a 9 or Higher: give the target 1 stack of Poisoned.",req:[],cost:25,craft:2,tags:["1 damage","range 8","launcher 0","weapon 0","common 0"]},{id:256,name:"boomerang",effect:`The Boomerang automatically returns to you after it hits its target.
On a 4 or Less: you don't catch the Boomerang and it flys 4 tiles behind you.
On a 9 or Higher: give the target 1 stack of Stun.`,req:[],cost:10,craft:4,tags:["1 damage","throw range 8","weapon 0","common 0"]},{id:638,name:"clothing",effect:`Gain 3 stacks of Dodge on Rest. 
+1 Speed while worn.`,req:[],cost:5,craft:6,tags:["dodge 4","speed 1","unarmored 0","common 0"]},{id:441,name:"club",effect:"On a 9 or Higher: give the target 1 stack of Stun. This effect does not stack on the same target.",req:[],cost:2,craft:1,tags:["1 damage","weapon 0","common 0"]},{id:607,name:"common antidote",effect:"When ingested, lose all stacks of Poison. Does not remove other poison effects you may have.",req:[],cost:100,craft:2,tags:["consumable 0","common 0","alchemical 0","tiny 0"]},{id:326,name:"cooking tools",effect:"Using these tools allows you to craft food. See Crafting Items under Mysc rules in the main rulebook. This can be used with Mind, Nature, or Medicine.",req:[],cost:30,craft:1,tags:["small 0","complex 0","tool 0","common 0"]},{id:253,name:"dagger",effect:"On a 9 or Higher: give the target an additional 1 stack of Bleed.",req:[],cost:5,craft:1,tags:["1 damage","throw range 6","weapon 0","common 0"]},{id:252,name:"fists",effect:"On a 9 or Higher: move the target 2 tiles of your choosing.",req:[],cost:0,craft:0,tags:["1 damage","weapon 0","common 0"]},{id:304,name:"flashbang",effect:"Spend ## (2 dice) to throw the grenade up to 6 tiles away. Target's within 2 tile of where the grenade lands, must make a 'Soul' roll. On failure, the target gains 3 stacks of Blind. On Partial Success, the target gains 2 stacks of blind. On Success, the target gains 1 stack of Blind.",req:[],cost:8,craft:1,tags:["consumable 0","grenade 0","tiny 0","complex 0","common 0"]},{id:303,name:"frag grenade",effect:"Spend ## (2 dice) to throw the grenade up to 6 tiles away. Target's within 1 tile of where the grenade lands, take 2 damage.",req:[],cost:10,craft:2,tags:["consumable 0","grenade 0","tiny 0","complex 0","common 0"]},{id:254,name:"great hammer",effect:`This weapon does Double Damage to objects.
On a 9 or Higher: Knockback the Target 4 tiles away from you.`,req:[],cost:15,craft:3,tags:["2 damage","two handed 0","weapon 0","common 0"]},{id:727,name:"hammer",effect:`This weapon does Double Damage to objects.
On a 9 or Higher: Knockback the Target 2 tiles away from you.`,req:[],cost:5,craft:2,tags:["1 damage","weapon 0","common 0"]},{id:255,name:"hand crossbow",effect:`On a 4 or Less: your hand slips, do 2 less damage to Armor
On a 9 or Higher: Do 2 additional Damage`,req:[],cost:50,craft:6,tags:["1 damage","range 12","loading 1","autoload 0","launcher 0","weapon 0","complex 0","common 0"]},{id:640,name:"heavy halfplate",effect:`Gain Armor equal to 4xBody + 3xMind + your Level at the end of a Rest.
-2 Speed while worn.`,req:[],cost:60,craft:7,tags:["heavy armor 1","speed -2","common 0"]},{id:636,name:"light leather",effect:"Gain 2 stacks of Dodge and Armor equal to your Level on Rest.",req:[],cost:15,craft:6,tags:["dodge 2","armor 1","common 0"]},{id:716,name:"mace",effect:`Does 1 additional Damage to targets that are Prone.
On a 9 or Higher: Do 2 additional Damage`,req:[],cost:10,craft:2,tags:["1 damage","weapon 0","common 0"]},{id:344,name:"map",effect:`You gain +4 when you roll Mind or Nature to figure out where you are or which path to take.
This effect only applies if you are in an area the map shows.`,req:[],cost:40,craft:3,tags:["tiny 0","tool 0","common 0"]},{id:639,name:"medium chainmail",effect:`Gain Armor equal to 2xBody + 2xMind + your Level at the end of a Rest. 
-1 Speed while worn.`,req:[],cost:30,craft:10,tags:["medium armor 1","speed -1","common 0"]},{id:433,name:"molotov",effect:"Spend ## (2 dice) to throw the grenade up to 6 tiles away. Target's within 1 tile of where the grenade lands, gain 2 stacks of Burn.",req:[],cost:4,craft:1,tags:["consumable 0","grenade 0","tiny 0","complex 0","common 0"]},{id:641,name:"naked",effect:"+1 speed while 'worn'.",req:[],cost:0,craft:0,tags:["speed 1","unarmored 0","common 0"]},{id:503,name:"pop grenade",effect:"Spend ## (2 dice) to throw the grenade up to 6 tiles away. Target's within 2 tiles of where the grenade lands, are knocked back 3 tiles from the grenade. This grenade explodes on impact.",req:[],cost:5,craft:1,tags:["consumable 0","grenade 0","tiny 0","complex 0","common 0"]},{id:605,name:"potion of foresight",effect:`When ingested, lock a 6. On your next turn, (10 seconds later) lock another 6.
The potion looks like a vibrant blue/purple color with a small white cloud of liquid floating within.`,req:[],cost:100,craft:6,tags:["consumable 0","common 0","alchemical 0","tiny 0"]},{id:603,name:"potion of glow",effect:`When shaken, the potion illuminates up to 4 tiles around it. This effect lasts 1 hour.
The potion looks like a light yellow liquid with a pebble inside.`,req:[],cost:100,craft:2,tags:["consumable 0","common 0","alchemical 0","tiny 0"]},{id:606,name:"potion of rainbows",effect:`When ingested, your skin and hair begins to change colors. For the next hour, you may change your skin and hair color to whatever you would like. If you drink this potion every day for a year it becomes permanent.
The potion looks like a rainbow of constantly shifting colors.`,req:[],cost:100,craft:1,tags:["consumable 0","common 0","alchemical 0","tiny 0"]},{id:308,name:"potion of soul stich",effect:`When ingested refund 3 Strain.
The potion looks like a light purple liquid with a small amount of herbs floating on top.`,req:[],cost:100,craft:5,tags:["consumable 0","common 0","alchemical 0","tiny 0"]},{id:604,name:"potion of water breathing",effect:`When ingested, you can breathe water as if it was air for up to 1 hour.
The potion looks like a almost clear blue liquid with a small fish scale inside.`,req:[],cost:100,craft:4,tags:["consumable 0","common 0","alchemical 0","tiny 0"]},{id:415,name:"shard infused lanturn",effect:`Instead of doing damage this weapon gives stacks of Burn equal to its Damage.
On a 9 or Higher: give the target 2 stacks of Marked.`,req:[],cost:20,craft:10,tags:["1 damage","range 3","glow 0","weapon 0","common 0"]},{id:294,name:"shield",effect:`Gives additional Armor equal to your Level at the end of a Rest.
Uses 1 hand rather than being worn.
While worn, you can use the action 'Hunker Down' without being behind a wall or object.`,req:[],cost:10,craft:6,tags:["armor 1","common 0"]},{id:258,name:"shovel",effect:"On a 9 or Higher: you can throw dirt into the Target's eyes to give them 1 stack of Blind.",req:[],cost:5,craft:2,tags:["2 damage","two handed 0","weapon 0","common 0"]},{id:302,name:"smoke grenade",effect:`Spend ## (2 dice) to throw the grenade up to 6 tiles away. Everything within 3 tiles of the chosen point become covered in thick fog. This area counts as being Obscured for its duration. 
The fog lasts 1 minute (6 turns). `,req:[],cost:10,craft:1,tags:["consumable 0","grenade 0","tiny 0","complex 0","common 0"]},{id:338,name:"travel supplies",effect:"Contains all the necessities for travel (excluding food). The supplies include a Backpack, Fire starters, a Bedroll, a Lantern, and 10 tiles of Rope (50 ft)",req:[],cost:0,craft:1,tags:["medium 0","tool 0","common 0"]},{id:715,name:"war pick",effect:`This weapon does Double Damage to objects.
On a 9 or Higher: Reduce the target's Armor by 3 then do damage.`,req:[],cost:5,craft:2,tags:["1 damage","weapon 0","common 0"]},{id:437,name:"water balloon",effect:"Spend ## (2 dice) to throw the grenade up to 6 tiles away. Target's within 1 tile of where the grenade lands, gain 2 stacks of Wet.",req:[],cost:2,craft:1,tags:["consumable 0","grenade 0","tiny 0","common 0"]},{id:270,name:"whip",effect:"On a 9 or Higher: Gain 2 additional Reaching range.",req:[],cost:10,craft:3,tags:["1 damage","reaching 2","weapon 0","common 0"]},{id:261,name:"axe",effect:`On a 4 or Less: do 1 less Damage
On a 9 or Higher: reduce the target's Armor by 3 then do damage.`,req:["body 1"],cost:15,craft:4,tags:["2 damage","throw range 6","weapon 0","common 0"]},{id:264,name:"crossbow",effect:`On a 4 or Less: do 1 less Damage
On a 9 or Higher: do 2 additional Damage`,req:["body 1"],cost:40,craft:6,tags:["2 damage","range 12","loading 1","autoload 0","launcher 0","weapon 0","complex 0","common 0"]},{id:720,name:"greataxe",effect:`On a 4 or Less: do 2 less Damage
On a 9 or Higher: Reduce the target's Armor by 3 then do damage.`,req:["body 1"],cost:30,craft:5,tags:["3 damage","two handed 0","weapon 0","common 0"]},{id:718,name:"halberd",effect:`On a 4 or Less: You do not gain the benefit of Reaching. You have a Range of 1 instead of 2.
On a 9 or Higher: Reduce the target's Armor by 3 then do damage.`,req:["body 1"],cost:50,craft:5,tags:["2 damage","reaching 2","two handed 0","weapon 0","common 0"]},{id:260,name:"long sword",effect:`On a 4 or Less: do 2 less Damage. 
On a 9 or Higher: do an additional 2 Damage.`,req:["body 1"],cost:25,craft:5,tags:["3 damage","two handed 0","weapon 0","common 0"]},{id:259,name:"short sword",effect:"On a 9 or Higher: do 2 additional Damage",req:["body 1"],cost:10,craft:3,tags:["2 damage","weapon 0","common 0"]},{id:262,name:"spear",effect:`You can wield this weapon with one hand instead of two. When you do, you do 1 less damage.
On a 4 or Less: You do not gain the benefit of Reaching. You have a Range of 1 instead of 2.
On a 9 or Higher: You damage Target's in a line in front of you instead of just the first Target hit.`,req:["body 1"],cost:5,craft:2,tags:["2 damage","throw range 6","reaching 2","two handed 0","weapon 0","common 0"]},{id:717,name:"battleaxe",effect:`On a 4 or Less: do 1 less Damage
On a 9 or Higher: Reduce the target's Armor by 2 then do damage.

This is basicly a middleman between the axe and the greataxe (im unsure how to make this work as a unique item)`,req:["body 1","broken 0"],cost:0,craft:0,tags:["3 damage","two handed 0","weapon 0","common 0"]},{id:414,name:"longbow",effect:`On a 4 or Less: You mishandle the weapon, gain 2 Slow
On a 9 or Higher: Do 2 additional Damage`,req:["mind 1"],cost:50,craft:3,tags:["1 damage","range 16","two handed 0","weapon 0","common 0"]},{id:267,name:"popshard revolver",effect:`On a 4 or Less: your hand slips, do 2 less damage to Armor
On a 9 or Higher: Spend 2 Strain and roll a dice. If you roll less than or equal to the number of rounds left in this weapon, you may spend 1 ammo to do 1 damage to the same target and repeat this action. You do not spend additional Strain on subsequent rolls.`,req:["mind 1"],cost:95,craft:5,tags:["1 damage","range 12","loading 6","weapon 0","complex 0","common 0"]},{id:269,name:"popshard shotgun",effect:`Hits Target's to the left and right of the target you aimed at.
On a 4 or Less: only hits 1 target.
On a 9 or Higher: it attacks in a Cone in front of you.`,req:["mind 1"],cost:100,craft:5,tags:["2 damage","loading 2","range 3","two handed 0","weapon 0","complex 0","common 0"]},{id:266,name:"rapier",effect:"On a 9 or Higher: Before or after attacking you may Move 3 tiles.",req:["mind 1"],cost:25,craft:3,tags:["2 damage","weapon 0","common 0"]},{id:263,name:"short bow",effect:`On a 4 or Less: your hand slips, do 2 less damage to Armor
On a 9 or Higher: Give the target 2 stacks of Slow.`,req:["mind 1"],cost:25,craft:3,tags:["1 damage","range 16","two handed 0","weapon 0","common 0"]},{id:571,name:"stiletto dagger",effect:`On a 4 or Less: you leave the dagger in the target (Do a Body contest to get it back).
On a 9 or Higher: give the target an additional 2 stacks of Bleed.`,req:["mind 1"],cost:8,craft:2,tags:["1 damage","throw range 6","weapon 0","common 0"]},{id:265,name:"popshard rifle",effect:`On a 4 or Less: Misfire spending 2 ammo instead of 1 on this shot.
On a 9 or Higher: Reduce the target's Armor by 3 then do damage.`,req:["mind 2"],cost:115,craft:6,tags:["1 damage","range 18","two handed 0","loading 6","weapon 0","complex 0","common 0"]},{id:660,name:"heavy defense",effect:"Gain Armor equal to 4xBody + 3xMind + your Level at the end of a Rest, -2 Speed.",req:["monster 0"],cost:0,craft:0,tags:["heavy armor 1","speed -2","common 0"]},{id:659,name:"light defense",effect:"Gain 2 stacks of Dodge and Armor equal to your Level on Rest.",req:["monster 0"],cost:0,craft:0,tags:["dodge 2","armor 1","common 0"]},{id:661,name:"medium defense",effect:"Gain Armor equal to 2xBody + 2xMind + your Level at the end of a Rest, -1 Speed.",req:["monster 0"],cost:0,craft:0,tags:["medium armor 1","speed -1","common 0"]},{id:663,name:"rending strike",effect:"On a 9 or Higher: do an additional 1 Damage.",req:["monster 0"],cost:0,craft:0,tags:["1 damage","weapon 0","common 0"]},{id:662,name:"simple defense",effect:"Gain 3 stacks of Dodge on Rest, +1 Speed.",req:["monster 0"],cost:0,craft:0,tags:["dodge 4","speed 1","unarmored 0","common 0"]},{id:439,name:"combat yoyo",effect:`On a 4 or Less: your hand slips, do 2 less damage to Armor
On a 9 or Higher: Gain 2 additional Reaching range.`,req:["soul 1"],cost:20,craft:3,tags:["1 damage","reaching 2","glow 0","weapon 0","common 0"]},{id:713,name:"mage gauntlets",effect:`This weapon counts as a Fist weapon.
On a 9 or Higher: Before or after attacking you may Move 3 tiles.`,req:["soul 1"],cost:25,craft:2,tags:["1 damage","glow 0","weapon 0","common 0"]},{id:712,name:"paladin hammer",effect:`This weapon does Double Damage to objects.
On a 4 or Less: You mishandle the weapon, gain 2 stacks of Slow
On a 9 or Higher: Knockback the Target 4 tiles away from you.`,req:["soul 1"],cost:40,craft:4,tags:["2 damage","two handed 0","glow 0","weapon 0","common 0"]},{id:271,name:"shard blade dagger",effect:`On a 4 or Less: You mishandle the weapon, gain 1 stack of Burn.
On a 9 or Higher: Give the target 1 stack of Burn.`,req:["soul 1"],cost:16,craft:3,tags:["1 damage","throw range 6","glow 0","weapon 0","common 0"]},{id:272,name:"shard infused staff",effect:`On a 4 or Less: You do not gain the benefit of Reaching. You have a Range of 1 instead of 2.
On a 9 or Higher: Give the target 1 stack of Stun. This effect does not stack on the same target.`,req:["soul 1"],cost:30,craft:3,tags:["1 damage","reaching 2","two handed 0","glow 0","weapon 0","common 0"]},{id:440,name:"spectral claws",effect:`Does damage based on the wielders Soul. This weapon counts as a Fist weapon.
On a 4 or Lower: you do 2 less damage (to a minimum of 1). 
On a 9 or Higher: you reduce the creature's Strain by 2.`,req:["spell 1"],cost:0,craft:0,tags:["0 damage","weapon 0","common 0"]},{id:739,name:"stone gauntlet",effect:`Hits Knockback the target 4 tiles away from you. This weapon counts as a Fist weapon.
On a 4 or Lower: -2 Knockback. 
On a 9 or Higher: +2 Knockback.`,req:["spell 1"],cost:0,craft:0,tags:["1 damage","weapon 0","common 0"]},{id:322,name:"acid vial",effect:"When applied to an object or splashed onto a creature reduce the targets Armor by 6.",req:[],cost:60,craft:3,tags:["small 0","consumable 0","alchemical 0","uncommon 0"]},{id:325,name:"alchemist tools",effect:"Using these tools allows you to craft Alchemical items, such as potions. See <a href='/rpg-hell-frontend/rulebook#making-items'>Crafting Items</a> under Mysc rules in the main rulebook.",req:[],cost:35,craft:2,tags:["small 0","complex 0","tool 0","uncommon 0"]},{id:505,name:"ammo belt",effect:"While equipped you may reload a weapon with Loading without spending a dice (weapons with loading have an amount of ammo before needing to spend # [a dice] to reload).  You may do this once after which you will need to spend ## (2 dice) to rearm the belt.",req:[],cost:60,craft:2,tags:["tiny 0","tool 0","uncommon 0"]},{id:647,name:"brass knuckles",effect:`This weapon counts as a Fist weapon.
On a 9 or Higher: give the target 1 stack of Bleed.`,req:[],cost:10,craft:2,tags:["1 damage","weapon 0","uncommon 0"]},{id:417,name:"doctor's bag",effect:"A bag of medical supplies. Lets you hold 3 additional medicine items, such as Bandages. When found (or taken) contains 1 Medkit, and 2 Bandages.",req:[],cost:40,craft:2,tags:["small 0","tool 0","uncommon 0"]},{id:455,name:"fishing rod",effect:`Go Fishing. Use Soul or Nature for the check. All fishing takes 30 minutes to do between catches.

Failure: You get 1 gold worth of Junk.
Partial Success: You get 2 small fish (Travel Meals) or 1 Medium Fish (Cheap Meal).
Success: You get 2 medium fish (Cheap Meals) or 1 Large Fish (Decent Meal).`,req:[],cost:35,craft:1,tags:["small 0","complex 0","tool 0","uncommon 0"]},{id:411,name:"grenade bandolier",effect:"A bandolier of grenades helping you hold grenades for quick access. Lets you hold 3 additional grenades. When found (or taken) contains 3 common grenades.",req:[],cost:40,craft:1,tags:["small 0","tool 0","uncommon 0"]},{id:629,name:"hand wraps",effect:`This weapon counts as a Fist weapon.
On a 9 or Higher: move the target up to 4 tiles of your choosing.`,req:[],cost:10,craft:2,tags:["1 damage","weapon 0","uncommon 0"]},{id:501,name:"makeup tools",effect:`Spend ### (3 dice) and gain 1 Strain to target a creature within 1 tile of you. You may pick yourself. After 10 minutes the creature gains the following benefits: When the creature rolls Charm to act like the disguise they gain +1 to the roll. When the creature rolls for a Performance they gain +1 to the roll. Lastly, other creatures may do a Soul or Charm contest against the disguised creature to determine their real identity. 
This makeup lasts until the end of a Rest, it becomes Wet (you gain stacks of Wet), or you spend 1 hour removing it.`,req:[],cost:35,craft:1,tags:["small 0","complex 0","tool 0","uncommon 0"]},{id:644,name:"paladin halfplate",effect:`Gain 2 Ward and Armor equal to 4xBody + 3xMind + your Level at the end of a Rest.
-2 Speed while worn.`,req:[],cost:140,craft:8,tags:["heavy armor 1","ward 2","speed -2","uncommon 0"]},{id:410,name:"potion belt",effect:"A belt of potions helping you hold potions. Lets you hold 3 additional potions. When found (or taken) contains 3 common potions, or 1 uncommon potion and 1 common potion.",req:[],cost:60,craft:2,tags:["small 0","tool 0","uncommon 0"]},{id:617,name:"potion of animal speech",effect:`When ingested, you are able to have simple conversations with creatures that have the Animal Tag. This effect lasts 1 hour. 
The potion looks like a dark green potion with a bit of fur floating inside.`,req:[],cost:250,craft:1,tags:["consumable 0","uncommon 0","alchemical 0","tiny 0"]},{id:318,name:"potion of body",effect:`When ingested, gain +1 to Body rolls for 1 hour.
The potion looks like a thick bright orange liquid.`,req:[],cost:250,craft:3,tags:["consumable 0","uncommon 0","alchemical 0","tiny 0"]},{id:612,name:"potion of charm",effect:`When ingested, gain +1 to Charm rolls for 1 hour.
The potion looks like a thick pink liquid.`,req:[],cost:250,craft:3,tags:["consumable 0","uncommon 0","alchemical 0","tiny 0"]},{id:305,name:"potion of cold resistance",effect:`When ingested, whenever you would gain stacks of Slow reduce the amount gained by 1. This effect lasts 1 hour.
The potion looks like a snow white liquid with a piece of wood floating inside.`,req:[],cost:250,craft:3,tags:["consumable 0","uncommon 0","alchemical 0","tiny 0"]},{id:611,name:"potion of crafting",effect:`When ingested, gain +1 to Crafting rolls for 1 hour.
The potion looks like a thick brown liquid.`,req:[],cost:250,craft:3,tags:["consumable 0","uncommon 0","alchemical 0","tiny 0"]},{id:619,name:"potion of fire breathing",effect:`When ingested, you are able to cast the Spell 'Fire Breath' as if you knew it. Casting this spell this way gives 1 Strain instead of its normal cost. This effect lasts 1 hour. 
The potion looks like a dark red liquid with bits of burnt wood floating inside.`,req:[],cost:250,craft:3,tags:["consumable 0","uncommon 0","alchemical 0","tiny 0"]},{id:306,name:"potion of fire resistance",effect:`When ingested, whenever you would gain stacks of Burn reduce the amount gained by 1. This effect lasts 1 hour.
The potion looks like a dark red liquid with a piece of obsidian floating inside.`,req:[],cost:250,craft:3,tags:["consumable 0","uncommon 0","alchemical 0","tiny 0"]},{id:317,name:"potion of heart",effect:`When ingested, gain +3 Max Health for 1 hour.
The potion looks like a blood red liquid with a heart shaped stone inside.`,req:[],cost:250,craft:4,tags:["consumable 0","uncommon 0","alchemical 0","tiny 0"]},{id:608,name:"potion of lightning resist",effect:`When ingested, whenever you would gain stacks of Sparking reduce the amount gained by 1. This effect lasts 1 hour.
The potion looks like a light blue/grey liquid. The potion itself feels sparky to the tongue.`,req:[],cost:250,craft:3,tags:["consumable 0","uncommon 0","alchemical 0","tiny 0"]},{id:614,name:"potion of medicine",effect:`When ingested, gain +1 to Medicine rolls for 1 hour.
The potion looks like a thick red liquid.`,req:[],cost:250,craft:3,tags:["consumable 0","uncommon 0","alchemical 0","tiny 0"]},{id:319,name:"potion of mind",effect:`When ingested, gain +1 to Mind rolls for 1 hour.
The potion looks like a thick bright blue liquid.`,req:[],cost:250,craft:3,tags:["consumable 0","uncommon 0","alchemical 0","tiny 0"]},{id:613,name:"potion of nature",effect:`When ingested, gain +1 to Nature rolls for 1 hour.
The potion looks like a thick green liquid.`,req:[],cost:250,craft:3,tags:["consumable 0","uncommon 0","alchemical 0","tiny 0"]},{id:320,name:"potion of soul",effect:`When ingested, gain +1 to Soul rolls for 1 hour.
The potion looks like a thick bright purple liquid.`,req:[],cost:250,craft:3,tags:["consumable 0","uncommon 0","alchemical 0","tiny 0"]},{id:616,name:"potion of speed",effect:`When ingested, gain +1 Speed for 1 hour.
The potion looks like a almost clear white liquid, which sloshes around violently regardless of how fast you move it.`,req:[],cost:250,craft:6,tags:["consumable 0","uncommon 0","alchemical 0","tiny 0"]},{id:314,name:"potion of stoneskin",effect:`When ingested, immediately gain 3 Armor, and for the next hour, you are immune to effects that would forcefully move you.
The potion looks like a thick stone grey liquid.`,req:[],cost:250,craft:3,tags:["consumable 0","uncommon 0","alchemical 0","tiny 0"]},{id:615,name:"potion of thieving",effect:`When ingested, gain +1 to Thieving rolls for 1 hour.
The potion looks like a thick dark grey liquid.`,req:[],cost:250,craft:3,tags:["consumable 0","uncommon 0","alchemical 0","tiny 0"]},{id:609,name:"potion of visual clarity",effect:`When ingested, whenever you would gain stacks of Blind reduce the amount gained by 1. This effect lasts 1 hour.
The potion looks like a sky blue liquid with a carrot floating inside. `,req:[],cost:250,craft:3,tags:["consumable 0","uncommon 0","alchemical 0","tiny 0"]},{id:618,name:"powerful antidote",effect:"When ingested, lose all stacks of Poison, and any effect from a uncommon or lower poison. Does not remove poison effects from higher rarity poisons.",req:[],cost:250,craft:2,tags:["consumable 0","uncommon 0","alchemical 0","tiny 0"]},{id:367,name:"rune of branding",effect:"The rune glows faintly, always giving off a soft heat. It always seems to leave a mark whenever it touches something. Marks left on surfaces can be washed off. If applied to a weapon, it applies 1 Mark on hit. If applied to Armor, while worn, the user always has a minimum of 1 stack of Marked.",req:[],cost:500,craft:4,tags:["uncommon 0","rune 0","tiny 0"]},{id:363,name:"rune of friendship",effect:"When the owner is within 6 tiles of another creature that possesses a Rune of Friendship, they may spend # (1 dice). If they do, the other creature may roll an extra random dice on their turn. This can only be used once every 5 minutes.",req:[],cost:500,craft:4,tags:["uncommon 0","rune 0","tiny 0"]},{id:361,name:"rune of heart",effect:"On Rest gives the owner an additional 3 Max Health.",req:[],cost:500,craft:4,tags:["uncommon 0","rune 0","tiny 0"]},{id:362,name:"rune of hostility",effect:"When applied, name a type of creature (Humanoid, Beast, Construct, Monstrosity, Mythic, Undead or Planar). The rune glows when that type of creature becomes hostile within 20 tiles of the rune. It glows brighter the closer it is to the creature, starting with a soft glow becoming a bright glow covering up to 6 tiles around it.",req:[],cost:500,craft:4,tags:["uncommon 0","rune 0","tiny 0"]},{id:357,name:"rune of hunger",effect:"You can spend # (1 dice) to activate or deactivate this rune. While active creatures holding the rune take 1 damage at the start of their turn; but refund 1 Strain.",req:[],cost:500,craft:4,tags:["uncommon 0","rune 0","tiny 0"]},{id:366,name:"rune of lead",effect:"Increases the weight of whatever it is applied to by double. If applied to a weapon, it gains the two-handed tag and increases damage by 1. If applied to Armor, it increases the Speed penalty by 1 and gives an additional Armor equal to Level.",req:[],cost:500,craft:4,tags:["uncommon 0","rune 0","tiny 0"]},{id:354,name:"rune of light",effect:"The rune has a soft white glow to it at all times. The user can spend # (1 dice) to activate this rune. While activated the rune glows a bright light covering everything within 8 tiles of it. This effect lasts for 10 minutes and can be activated 3 times per day, resetting at dawn.",req:[],cost:500,craft:4,tags:["uncommon 0","rune 0","tiny 0"]},{id:666,name:"rune of sense",effect:`This rune can sense its surroundings and activate items or other runes. When a set trigger (determined below) goes off the rune will activate an item its applied to or is within 3 tiles of. The rune can only trigger once every minute. The user can spend # (1 dice) to change the trigger to one of the following: Creature; if a creature comes within 3 tiles of the rune. Items; if an item moves or is activated within 3 tiles of the rune. Spells; if a spell is cast within 3 tiles of the rune. 
You may set specific Creatures, Items, or Spells or types of Creatures, Items, or Spells that do not trigger the rune.`,req:[],cost:500,craft:4,tags:["uncommon 0","rune 0","tiny 0"]},{id:360,name:"rune of souls",effect:"Increases the Users Max Strain by 1, and lets them learn an extra Art with a Strain cost of 1 or less.",req:[],cost:500,craft:4,tags:["uncommon 0","rune 0","tiny 0"]},{id:365,name:"rune of the feather",effect:"Reduces the weight of whatever it is applied to by half. If applied to a weapon, it looses the two-handed tag and reduces damage by 1. If applied to Armor, it reduces the Speed penalty by 1 and removes Armor gained from Level.",req:[],cost:500,craft:4,tags:["uncommon 0","rune 0","tiny 0"]},{id:681,name:"smithing tools",effect:"Using these tools and a sufficient heat source, such as one provided by a forge, allows you to craft weapons and armor. See <a href='/rpg-hell-frontend/rulebook#making-items'>Crafting Items</a> under Mysc rules in the main rulebook.",req:[],cost:30,craft:1,tags:["small 0","complex 0","tool 0","uncommon 0"]},{id:293,name:"soul weave clothing",effect:"Gain 4 stacks of Dodge and 2 Ward on Rest. +1 Speed.",req:[],cost:45,craft:10,tags:["dodge 4","ward 2","unarmored 0","uncommon 0"]},{id:560,name:"stick of tnt",effect:"Spend ## (2 dice) to throw the grenade up to 6 tiles away. Target's within 2 tiles of where the grenade lands, take 4 damage. A fuse can be applied to make the stick explode after a set delay.",req:[],cost:80,craft:3,tags:["consumable 0","grenade 0","tiny 0","complex 0","uncommon 0"]},{id:327,name:"thieves' tools",effect:`Spend ## (2 dice) and pick a lock within 1 tile of you. Do a contest against the lock makers Crafting score. You may pick Mind, Crafting, or Thieving when doing this contest. Magical Locks can be picked with Soul or Arcana against an Arcana score.
On a Success you unlock the target. On Failure, you cannot try to unlock the item for 10 minutes.`,req:[],cost:30,craft:1,tags:["small 0","complex 0","tool 0","uncommon 0"]},{id:324,name:"tinkers tools",effect:"Using these tools allows you to craft complex items. See <a href='/rpg-hell-frontend/rulebook#making-items'>Crafting Items</a> under Mysc rules in the main rulebook.",req:[],cost:30,craft:1,tags:["small 0","complex 0","tool 0","uncommon 0"]},{id:602,name:"totem",effect:"Spend ## (2 dice) to throw the grenade up to 6 tiles away. While the totem is on the ground and you activate one of your auras, you may give a copy of the aura to this Totem (You still keep the aura on yourself). You can only have 1 Totem active at a time. The Totem can be picked up if it is not destroyed.",req:[],cost:100,craft:6,tags:["tiny 0","grenade 0","uncommon 0"]},{id:409,name:"trapmaker's tools",effect:`Spend 1 minute, or ## (2 dice) if in combat, to make one of 3 traps listed below. Each trap costs 5 gold to craft, and covers 1 tile or item. Traps can be reclaimed if unused. Creatures roll a Nature or Crafting contest against you to detect the trap.

Tripwire: A small hidden wire which will knock over any creature that steps on it or can be triggered to activate items. 
Snare: A loop of rope that when triggered Grapples and lifts its prey 2 tiles off the ground. 
Popmine: A plate that when activated knocks its prey 3 tiles in a direction. The direction is decided during the trap's creation.`,req:[],cost:30,craft:1,tags:["small 0","complex 0","tool 0","uncommon 0"]},{id:296,name:"tower shield",effect:`Gives additional Armor equal to your Level and 2 Ward at the end of a Rest.
Uses 1 hand rather than being worn.
While worn, you can use the action 'Hunker Down' without being behind a wall or object.`,req:["body 2"],cost:40,craft:6,tags:["ward 2","armor 1","uncommon 0"]},{id:300,name:"medkit",effect:`Target a creature, cannot target Undead or Constructs. Heal the target equal to twice your Medicine and remove all Bleed stacks they have.
Can be crafted with Medicine or Crafting.`,req:["medicine 1"],cost:30,craft:2,tags:["consumable 0","medicine 0","small 0","uncommon 0"]},{id:714,name:"the lobber",effect:`On a 4 or Less: The shot is too strong, get knocked back 2 tiles (from the direction you fired).
On a 9 or Higher: Knockback the Target 4 tiles away from you.`,req:["mind 1"],cost:0,craft:0,tags:["1 damage","range 18","two handed 0","loading 1","autoload 0","launcher 0","weapon 0","uncommon 0"]},{id:719,name:"heavy crossbow",effect:`On a 4 or Less: The shot is too strong, get knocked back 4 tiles (from the direction you fired).
On a 9 or Higher: Knockback the Target 4 tiles away from you.`,req:["body 1","mind 1"],cost:60,craft:6,tags:["2 damage","range 18","two handed 0","loading 1","autoload 0","weapon 0","complex 0","uncommon 0"]},{id:434,name:"ba-boom-ba",effect:"Spend ## (2 dice) to throw the grenade up to 6 tiles away. Target's within 2 tile of where the grenade lands,take 6 damage.",req:[],cost:112,craft:3,tags:["consumable 0","grenade 0","tiny 0","complex 0","rare 0"]},{id:506,name:"combat vest",effect:"While equipped you may reload a weapon with Loading without spending a dice (weapons with loading have an amount of ammo before needing to spend # [a dice] to reload).  You may do this twice after which you will need to spend ## (2 dice) to rearm the vest.",req:[],cost:1e3,craft:4,tags:["small 0","tool 0","rare 0"]},{id:747,name:"flasklock pistol",effect:`A mechanical pistol with a slot in the back for a flask.

This weapon must be loaded with a potion or poison. When a target is hit they gain the effect of the potion or poison, with a duration of 1 minute or 1 turn if the normal duration is less than that. Once fired the potion or poison is spent as if it was consumed.

On a 4 or Less: your hand slips, the effect only lasts 1 turn.
On a 9 or Higher: the effect lasts for twice as long.`,req:[],cost:5e3,craft:7,tags:["1 damage","range 12","loading 1","autoload 0","launcher 0","weapon 0","complex 0","rare 0"]},{id:500,name:"forgery tools",effect:"You can attempt to make a forgery of an item or signature. You may use Soul, Crafting, or Thieving for this craft and can spend one quarter of the cost to craft an item. You do not need other tools to make this item (such as Smithing tools for weapons). A forged item has no effects other than looking like the item it was based on. For instance a forged potion will not give any bonuses when consumed. A creature can do a Soul contest against you to determine if the item is fake.",req:[],cost:300,craft:4,tags:["small 0","complex 0","tool 0","rare 0"]},{id:316,name:"haste potion",effect:`When ingested, Lock a 6. At the beginning of your turn Lock a 6. This effect lasts for 1 minute (6 turns) after which you may not lock dice for 1 minute (6 turns).
The potion is clear with small sparks jolting throughout it.`,req:[],cost:1e3,craft:3,tags:["tiny 0","consumable 0","alchemical 0","rare 0"]},{id:625,name:"high end antidote",effect:"When ingested, lose all stacks of Poison, and any effect from a rare or lower poison. Does not remove poison effects from legendary poisons.",req:[],cost:1e3,craft:2,tags:["consumable 0","rare 0","alchemical 0","tiny 0"]},{id:328,name:"navigational tools",effect:"You gain +4 when you roll Mind or Nature to figure out where you are or which path to take.",req:[],cost:150,craft:4,tags:["small 0","complex 0","tool 0","rare 0"]},{id:741,name:"potion of blind rage",effect:`When ingested, you gain +2 damage on attacks and are Blind for the duration. This effect lasts 1 minute (6 turns).
The potion looks like a thin orange liquid with a black powder sitting at the bottom.`,req:[],cost:1e3,craft:5,tags:["consumable 0","rare 0","alchemical 0","tiny 0"]},{id:624,name:"potion of draconic might",effect:`When ingested, you gain +1 to Charm contests, and when you lock a dice, increase its value by 2. This cannot increase a dice higher than 6. This effect lasts 1 hour.
The potion looks like a shiny oil, color varies, with a small scale floating inside.`,req:[],cost:1e3,craft:8,tags:["consumable 0","rare 0","alchemical 0","tiny 0"]},{id:315,name:"potion of flight",effect:`When ingested, you can move in the air as if you had Flight and are not affected by ground based effects as if you had Hover. This effect lasts 1 hour.
The potion looks like a white liquid, with a feather floating inside.`,req:[],cost:1e3,craft:8,tags:["consumable 0","rare 0","alchemical 0","tiny 0"]},{id:620,name:"potion of focus",effect:`When ingested, whenever you would gain stacks of Stun reduce the amount gained by 1. This effect lasts 1 hour.
The potion is hard to focus on. It's hard to tell what color it is. and can even be hard to even notice in the first place.`,req:[],cost:1e3,craft:3,tags:["consumable 0","rare 0","alchemical 0","tiny 0"]},{id:622,name:"potion of growth",effect:`When ingested, you double in size and weight, gain +1 to Body rolls, +1 to Melee Weapon damage, and -1 to Thieving rolls. All items you are wearing or carrying grow with you. Dropped items shrink to normal size and items picked up after becoming bigger do not grow. This effect lasts 10 minutes.
The potion looks like a light green potion with a large mushroom floating inside.`,req:[],cost:1e3,craft:4,tags:["consumable 0","rare 0","alchemical 0","tiny 0"]},{id:474,name:"potion of invisibility",effect:`When ingested, you become Invisible for up to 1 hour. This effect ends early if you do an attack or activate an Art.
The potion looks like a clear empty vial, and has been mistaken many times for an empty bottle.`,req:[],cost:1e3,craft:3,tags:["consumable 0","rare 0","alchemical 0","tiny 0"]},{id:621,name:"potion of mind reading",effect:`When ingested, you are able read another creatures mind. You can only read surface level thoughts, however while reading someone's mind you get +1 to Charm rolls against them. This effect lasts 1 hour. 
The potion looks like a dark green potion with a bit of fur floating inside.`,req:[],cost:1e3,craft:6,tags:["consumable 0","rare 0","alchemical 0","tiny 0"]},{id:623,name:"potion of strong grip",effect:`When ingested, you gain +1 to Grapple contests, and can climb walls without needing to roll Body. This effect lasts 1 hour.
The potion looks like a light brown liquid with lots of pebbles floating around inside it.`,req:[],cost:1e3,craft:3,tags:["consumable 0","rare 0","alchemical 0","tiny 0"]},{id:307,name:"potion of the ghost",effect:`When ingested, you become Intangible for 1 minute (6 turns).
The potion looks like an airy almost clear purple color. The liquid feels almost weightless.`,req:[],cost:1e3,craft:6,tags:["consumable 0","rare 0","alchemical 0","tiny 0"]},{id:773,name:"rune of absorption",effect:"Items with this rune cannot be detected by magic. A creature holding an item with this rune can use it to cast the spell 'Counterspell' once per Dawn. If applied to a Weapon, if a spell is successfully countered the weapon glows with energy reminiscent of the spell countered and your next Weapon Attack has a -2 to the High Roll threshold and the attack does 2 additional damage. If applied to Armor, while worn, if a spell is successfully countered the armor glows with energy reminiscent of the spell countered and you gain stacks of Ward equal to the countered spell's Strain cost. With a minimum of 1 Ward gained.",req:[],cost:2e3,craft:6,tags:["rare 0","rune 0","tiny 0"]},{id:667,name:"rune of advanced sense",effect:"This rune can sense its surroundings and activate items or other runes. When a set trigger (determined below) goes off the rune will activate an item its applied to or is within 3 tiles of. The rune can only trigger once every minute. The user can spend # (1 dice) to change the trigger. The user may set the trigger to be as simple or as complex as they would like. The rune has a max sense radius of 3 tiles around it.",req:[],cost:2e3,craft:4,tags:["rare 0","rune 0","tiny 0"]},{id:352,name:"rune of air",effect:"This rune feels almost weightless. The user can spend # (1 dice) to activate this rune. While activated, the rune becomes as light as air itself, the rune and anything its applied to gains the Hover effect. This effect lasts for 10 minutes and can be activated 3 times per day, resetting at dawn. If applied to a Weapon, it applies an additional 1 Sparking on hit. If applied to Armor, while worn, when you activate this rune you also gain the Hover effect.",req:[],cost:2e3,craft:4,tags:["rare 0","rune 0","tiny 0"]},{id:358,name:"rune of chaos",effect:"While in possession of this rune, when its owner rolls dice, if they roll a 6 turn another non 1 or 6 into a 6. When rolling a 1 turn another non 1 or 6 into a 1.",req:[],cost:2e3,craft:4,tags:["rare 0","rune 0","tiny 0"]},{id:353,name:"rune of earth",effect:`This rune has an unnatural weight to it. The user can spend # (1 dice) to activate this rune. While activated, the rune becomes impossibly heavy making the item fall to the ground and unable to be lifted. This can Grapple targets if they are pinned underneath, roll Arcana instead of Body to free yourself. This effect lasts for 10 minutes and can be activated 3 times per day, resetting at dawn. If applied to a Weapon, it applies an additional 3 Knockback on hit. If applied to Armor, while worn, you cannot be forcefully displaced (knockback).
`,req:[],cost:2e3,craft:4,tags:["rare 0","rune 0","tiny 0"]},{id:350,name:"rune of fire",effect:"The rune is warm to the touch. The user can spend # (1 dice) to activate this rune. While activated the rune ignites anything that its applied to or touches (gives 1 stack of Burn at the start of turn). This effect lasts for 10 minutes and can be activated 3 times per day, resetting at dawn. If applied to a weapon, it applies 1 Burn on hit. If applied to Armor, while worn, when the user gains stacks of Burn, reduce its value by 1 (to a minimum of 1).",req:[],cost:2e3,craft:4,tags:["rare 0","rune 0","tiny 0"]},{id:351,name:"rune of ice",effect:"The rune is cold to the touch. The user can spend # (1 dice) to activate this rune. While activated the rune freezes anything that its applied to or touches (has no effect on living things). This effect lasts for 10 minutes and can be activated 3 times per day, resetting at dawn. If applied to a weapon, attacks made that give stacks of Stun give 1 more stack of Stun. If applied to Armor, while worn, when the user gains stacks of Slow or Stun, reduce its value by 1 (to a minimum of 1).",req:[],cost:2e3,craft:4,tags:["rare 0","rune 0","tiny 0"]},{id:771,name:"rune of poison",effect:"Items with this rune drip a weak poison. This poison can be collected once per dawn to gain a non-magical common poison. If applied to a Weapon, it gives the target 1 additional stack of Poisoned. If applied to Armor, while worn, you cannot become Poisoned, and heal 1 when you would gain a stack of Poisoned.",req:[],cost:2e3,craft:4,tags:["rare 0","rune 0","tiny 0"]},{id:348,name:"rune of power",effect:"The user can spend # (1 dice) to activate this rune. When activated the rune glows a bright blue, and the user gains a dice with the value 6. This effect can be activated 3 times per day, resetting at dawn. If applied to a weapon, attacks made have +1 damage. If applied to Armor, while worn its user gains an additional Ward at the end of a Rest.",req:[],cost:2e3,craft:4,tags:["rare 0","rune 0","tiny 0"]},{id:665,name:"rune of protection",effect:"The user can spend # (1 dice) to activate this rune. When activated the rune and anything its applied to becomes Unbreakable for 1 minute (6 turns). This has no effect on how damage is taken for Armor. This effect can be activated 3 times per day, resetting at dawn. If applied to a weapon, attacks cannot kill or destroy a target. If a creature is set to 0 Health with this weapon they are knocked unconscious for 1 hour or more (GM dependent). If applied to Armor, while worn its user gains 1 additional Ward and bonus Armor equal to Level at the end of a Rest.",req:[],cost:2e3,craft:4,tags:["rare 0","rune 0","tiny 0"]},{id:770,name:"rune of skipping",effect:"Items with this rune can not be hit by magical Attacks. This has no effect on worn armors. If applied to a Weapon, it gains the tag 'Returning'. If applied to Armor, while worn, you can spend # (1 dice) and 2 Strain to teleport to a location that you can see up to your Speed away.",req:[],cost:2e3,craft:4,tags:["rare 0","rune 0","tiny 0"]},{id:349,name:"rune of swiftness",effect:"The user can spend # (1 dice) to activate this rune. While activated the rune becomes blurry as if it was in motion, and the user gains +1 Speed. This effect lasts for 10 minutes and can be activated 3 times per day, resetting at dawn. If applied to a weapon, attacks made have +1 to the attack sum. If applied to Armor, while worn its user gains +1 Speed.",req:[],cost:2e3,craft:4,tags:["rare 0","rune 0","tiny 0"]},{id:359,name:"rune of the darkness",effect:"Items with this rune are invisible while not in magical light. If applied to a Weapon, it applies an additional 1 Blind on hit. If applied to Armor, while worn, you cannot gain stacks of Blind.",req:[],cost:2e3,craft:4,tags:["rare 0","rune 0","tiny 0"]},{id:680,name:"runecarvers tools",effect:"Using these tools allows you to craft magic items or runes. See <a href='/rpg-hell-frontend/rulebook#making-items'>Crafting Items</a> under Mysc rules in the main rulebook.",req:[],cost:60,craft:3,tags:["small 0","complex 0","tool 0","rare 0"]},{id:642,name:"thorny chainmail",effect:`Gain Armor equal to 2xBody + 2xMind + your Level at the end of a Rest. 
-1 Speed while worn.
While Grappling or when being Grappled by a creature give the creature 2 stacks of Bleed at the beginning of your turn.`,req:[],cost:270,craft:10,tags:["medium armor 1","speed -1","rare 0"]},{id:723,name:"ironwood greataxe",effect:`A greataxe with wooden shaft is as hard as iron. The metal blade looks as though it grew out of the shaft naturally.

On a 4 or Less: do 2 less Damage
On a 9 or Higher: Reduce the target's Armor by 3 then do damage.

This weapon is stronger than iron and can only be damaged or broken by magic.`,req:["body 1"],cost:3e3,craft:5,tags:["4 damage","two handed 0","weapon 0","rare 0"]},{id:722,name:"ironwood short sword",effect:`A short sword with wooden handle is as hard as iron. The metal blade looks as though it grew out of the handle naturally.

On a 9 or Higher: do 2 additional Damage

This weapon is stronger than iron and can only be damaged or broken by magic.`,req:["body 1"],cost:1500,craft:3,tags:["3 damage","weapon 0","rare 0"]},{id:721,name:"ironwood spear",effect:`A spear with wooden shaft is as hard as iron. The metal tip looks as though it grew out of the shaft naturally.

You can wield this weapon with one hand instead of two. When you do, you do 1 less damage.
On a 4 or Less: You do not gain the benefit of Reaching. You have a Range of 1 instead of 2.
On a 9 or Higher: You damage Target's in a line in front of you instead of just the first Target hit.

This weapon is stronger than iron and can only be damaged or broken by magic.`,req:["body 1"],cost:2e3,craft:4,tags:["3 damage","throw range 6","reaching 2","two handed 0","weapon 0","rare 0"]},{id:301,name:"healing spray",effect:`Target a creature, cannot target Undead or Constructs. Heal the creature 2 + your Level and remove all stacks of Bleed they have.
Can be crafted with Medicine or Crafting.`,req:["medicine 3"],cost:120,craft:5,tags:["consumable 0","medicine 0","tiny 0","rare 0"]},{id:695,name:"popcannon",effect:`On a 4 or Less: do 2 less damage. 
On a 9 or Higher: do 4 more damage
`,req:["mind 4"],cost:0,craft:0,tags:["3 damage","loading 1","range 25","mounted 0","rare 0","weapon 0"]},{id:570,name:"jackhammer gauntlets",effect:`This weapon counts as a Fist weapon.

On a 9 or Higher: Spend 1 Strain and roll a dice. If you roll less than or equal to the number of rounds left in this weapon, you may do another Attack with this weapon without spending more dice. This attack uses a 9 for the sum.`,req:["body 1","mind 1"],cost:0,craft:4,tags:["2 damage","loading 5","weapon 0","rare 0"]},{id:274,name:"bronze bolter",effect:`On a 4 or Less: the weapon jams; do not autoload at the end of the turn.
On a 9 or Higher: do half damage (rounded up) twice to the target. This attack hits twice but only costs 1 loading shot.`,req:["crafting 3","mind 2"],cost:4600,craft:9,tags:["2 damage","range 12","loading 2","autoload 0","weapon 0","rare 0"]},{id:276,name:"clockwork cannon",effect:`Attacks hit all targets within 1 tile of the attack.
On a 4 or Less: the weapon jams; do not autoload at the end of the turn.
On a 9 or Higher: give all Target's 1 stack of Bleed.`,req:["crafting 3","mind 2"],cost:5200,craft:9,tags:["3 damage","range 6","loading 2","autoload 0","two handed 0","weapon 0","rare 0"]},{id:627,name:"cureall",effect:"When ingested, lose all stacks of Poison, and any/all effects from poisons or illnesses.",req:[],cost:6e4,craft:2,tags:["consumable 0","legendary 0","alchemical 0","tiny 0"]},{id:477,name:"potion of fish man",effect:`When ingested, you gain the 'Swimmer', 'Water Breathing', and 'Bloodhound' traits; your Fist weapons do +1 damage and apply 1 stack of poison on hit; your skin grows hardened scales which act like Medium armor (if you wear other armor you do not gain the bonus/downside of this effect); and you are able to cast the Spell 'Water Ball' twice per Rest without gaining Strain.
In order to craft you must combine a frog tongue, some catfish whiskers, fresh seawater, an aquatic whisper-weed seed, a peace of lightning struck wood, and some fish-man's blood.
The potion looks like the sea was put into a bottle, small creatures which look like fish, and little pieces of grass can be seen 'growing' in the liquid.`,req:[],cost:6e4,craft:2,tags:["consumable 0","legendary 0","alchemical 0","tiny 0"]},{id:321,name:"potion of life",effect:`Pour this over a dead creature. If the creature is not cursed as an Undead, they are revived. The creature's Soul must be free and the creature cannot have been dead for more than 1 month.
In order to craft you must combine a Phoenix Feather, Undying Heart, and Holy Water.
The potion looks like a vibrant slew of purples, oranges, and reds all dancing around a single point in the center.`,req:[],cost:5e5,craft:30,tags:["consumable 0","legendary 0","alchemical 0","tiny 0"]},{id:626,name:"potion of the ages",effect:`When ingested, roll a dice. You de-age an amount of years equal to this roll.
In order to craft you must combine blood from a dragon, a pure diamond, white sand, and Holy Water.
The potion looks like a red wine, with an almost grainy texture to it.`,req:[],cost:6e4,craft:10,tags:["consumable 0","legendary 0","alchemical 0","tiny 0"]},{id:628,name:"potion of the dragon's aspect",effect:`When ingested, your character sheet is replaced with a dragon sheet. The type of dragon is based on the crafting materials used when making the potion. Items you are wearing or carrying are dropped on the ground. You can still level up, however all Stats and Traits you have before ingesting the potion are lost.
In order to craft you must combine blood from a dragon, a dragon bone or dragon scale, a piece of blessed gold, and boiled water.
The potion looks more like the inside of an egg than an actual liquid. Its color varies depending on material used.`,req:[],cost:5e5,craft:20,tags:["consumable 0","legendary 0","alchemical 0","tiny 0"]},{id:772,name:"rune of gravity",effect:`This rune  tends to distort gravity around it. Objects can have no gravity or too much gravity, and is usually the cause of floating islands or perfectly flat wastelands.

Items with this rune can affect gravity of other things. When something touches the rune, for 1 minute (6 turns), that thing becomes affected by the rune. A creature can touch the rune and spend ## (2 dice) to change the effect of the rune to one of the following; Weightless, Extreme Pressure, Inverted, or Normal.
- Weightless - Effected things are no longer tied down by gravity and can move in air as though it was Water (Swim). All terrain is counted as Rough Terrain while 'swimming'.
- Extreme Pressure - Effected things are immune to other displacements and must do a Body roll before doing a Move action. On a Success, they have a speed of 3. On a Partial Success, they have a speed of 1. On Failure, they become Prone.
- Inverted - Effected things will fall upwards. They can take fall damage from this and can leave the atmosphere with this rune.
- Normal - No strange effects.

In order to craft you must use a piece of sky island, super dense rock, and a meteorite.`,req:[],cost:5e4,craft:4,tags:["legendary 0","rune 0","tiny 0"]},{id:668,name:"rune of growth",effect:`This rune can always be found with life thriving around it. Plants will grow and thrive regardless of area. Runes that have been left in one spot for a very long time have been known to become the center of Druid Groves. Items with this rune repair themselves 1 Health or Armor every turn. If applied to a Weapon, it gains the Reaching tag if it doesn't have it, and/or gains double Range if it has a Range. If applied to Armor, while worn, you cannot gain stacks of Bleed, and heal 1 Health or Armor every turn.
In order to craft you must use a Dryad's heart.`,req:[],cost:5e4,craft:4,tags:["legendary 0","rune 0","tiny 0"]},{id:511,name:"lightning rail cannon",effect:`Requires a Windup to Fire. Gain 2 Strain on attack. Attacks all Target's in a Line. Damage cannot be negated by Dodge or Arts.
On a 4 or Less: have 10 less Range.
On a 9 or Higher: have 10 more Range.`,req:["mind 4"],cost:0,craft:5,tags:["10 damage","loading 1","range 20","mounted 0","weapon 0","legendary 0"]},{id:699,name:"coil cannon",effect:"Requires a Windup to Fire. Targets hit by this weapon are knocked back 5 tiles, and cannot negate the damage by Dodge or Arts. This cannon pushes its wielder back 3 tiles when fired, (ignores knockback negating effects on wielder). When reloading, the cannon must vent (cast 'Conjure Fog' on itself for 1 turn) before regaining ammo. This cannon cannot fire the same turn it starts reloading (casted 'Conjure Fog').",req:["monster 0"],cost:0,craft:0,tags:["20 damage","loading 1","range 36","mounted 0","weapon 0","legendary 0"]},{id:742,name:"elemental ammo",effect:`A special ammo with a elemental rune carved onto its side. When found or made pick an element: Fire, Water, Earth, Air, Light, or Darkness.

When fired from a ranged weapon apply one of the following effects to the target based on picked element:
Fire: 1 stack of Burning, Water: 2 stacks of Wet, Earth: 2 Knockback, Air: 1 stack of Sparking, Light: 1 stack of Glow, Darkness: 1 stack of Blind, `,req:[],cost:16,craft:2,tags:["tiny 0","consumable 0","magical 0","common 0"]},{id:309,name:"holy water",effect:`Deals 1 damage to Undead when in contact, such as being splashed onto them, or as a puddle. This contact does not remove the Holy Water. Holy Water cannot become poisoned in any way. If given any curse the curse is negated and this water becomes normal. 
This is needed to craft legendary potions. Can only be crafted with a 'Bless' Spell.`,req:[],cost:250,craft:0,tags:["consumable 0","common 0","alchemical 0","tiny 0","magical 0"]},{id:762,name:"jar of wisps",effect:`A small jar with colorful wisps or balls of glowing light.

The jar gives off a faint glow illuminating itself. The jar can be opened to let the wisps out illuminating everything within 4 tiles of the jar. This effect follows the jar for 6 hours after which the wisps fade. A creature can manipulate the wisps to change their appearance.`,req:[],cost:50,craft:1,tags:["small 0","consumable 0","magical 0","common 0"]},{id:376,name:"parachute ring",effect:`A silver ring with a small engraving of a cloud.

Once per day, when the wearer falls 5 or more tiles the ring will cast 'Spectral Parachute' on only the wearer. This effect resets at Dawn.`,req:[],cost:120,craft:2,tags:["tiny 0","magical 0","common 0"]},{id:736,name:"bloody tooth",effect:`A large tooth taken from some unknown beast. the blade always drips in blood.

On a 9 or Higher: give the target 3 stacks of Bleed.

You can spend 10 minutes collecting the blood from this blade to gain one vial of blood.`,req:[],cost:420,craft:2,tags:["1 damage","throw range 6","weapon 0","uncommon 0","magical 0"]},{id:463,name:"boots of skipping",effect:`Description: A set of leather boots with blue glowing runes inscribed on the outer heel. 
Activation: Once per Rest the wearer can spend # (1 dice) and tap both heels together to activate the boots.

Effect: When activated the user casts 'Soul Skip' without Spending Strain.

`,req:[],cost:520,craft:3,tags:["small 0","magical 0","uncommon 0"]},{id:468,name:"boots of waterwalking",effect:`Description: A set of blue fish scale boots. 
Activation: Walk on water.

Effect: While wearing the boots, the user can walk on water as if it were sandy land. The user can force their feet through the water in order to dive into it. Alternatively, they can put their feet on the surface while in the water to start to stand on it.`,req:[],cost:480,craft:4,tags:["small 0","uncommon 0","magical 0"]},{id:748,name:"dragon egg pendant",effect:`A small silver dragon egg on a golden chain.

Once per day, a creature can kiss the pendant to change any dice rolled into a 6.`,req:[],cost:360,craft:3,tags:["tiny 0","magical 0","uncommon 0"]},{id:572,name:"drake ring (topaz)",effect:`Description: A small Ouroboros drake ring with Topaz gems for eyes.
Activation: A user may activate the ring by rubbing the head of the drake. This can be done 1 handed and while worn. The this ring can be activated up to 3 times per day, resetting at dawn.

Effect: Once activated the user may make one request of the drake and it will try its best to complete the task. The drake has a 2 in Thieving, 0 in every other stat, the Climber trait, and 1 health. The drake can carry up to half a pound (~0.25 kg), or push/drag up to 1 pound (~0.5 kg). The drake only remembers information learned from its activation, and loses all of it upon deactivation. Once the request has been completed the drake returns to being a ring and Deactivates. (Be warned a drake will return to a ring once it completes its task regardless of where it is at the time.)`,req:[],cost:220,craft:3,tags:["tiny 0","uncommon 0","magical 0"]},{id:584,name:"floating disk",effect:`Description: A flat floating disk roughly the size of a chair. Runes adorn the side of the disk.
Activation: The disk activates when the user binds to it. Binding to a user after they hold it for 1 hour.

Effect: The disk floats within 3 tiles of the bound creature moving as they move. The bound creature can move the disk manually, making it float up to 1 tile off the ground. The disc can carry up to 1000 lb (~450 kg), falling to the ground if more weight is applied.`,req:[],cost:500,craft:4,tags:["medium 0","uncommon 0","magical 0","bound 0"]},{id:462,name:"flying broom",effect:`Description: A normal wood and straw broom which has runes engraved on the handle. 
Activation: Speak the runes out loud. The broom is activated until the runes are spoken again or the broom has been active for 2 hours in total that day. The broom can be activated or deactivated once every minute (reduce the remaining flight time by 1 minute intervals). The broom regains all spent time at dawn.

Effect: Once activated the broom starts to hover and fly. When deactivated or after 2 total hours of flight the broom loses its hover and flight. A creature can ride the broom using it as a mount with a Speed of 6, a Body of 4, and the Hover and Flight Traits.`,req:[],cost:1600,craft:4,tags:["medium 0","vehicle 0","uncommon 0","magical 0"]},{id:749,name:"ghost cloak",effect:`An almost fully transparent cloak with a blue and white tinge.

Once a wearer becomes Hidden while wearing this cloak they become Bound to the cloak. While Bound the wearer can walk through walls as if it was Rough Terrain. The user can walk through 3 walls per Rest.`,req:[],cost:620,craft:6,tags:["small 0","magical 0","bound 0","uncommon 0"]},{id:458,name:"goggles of magic sight",effect:`A set of purple tinted Goggles with glowing runes on the outer bands. 

While wearing these goggles the user can spend ## (2 dice) to cast the spell 'Detect Magic' without spending Strain. The goggles can be activated 3 times per day. Resetting at Dawn.`,req:[],cost:350,craft:3,tags:["tiny 0","magical 0","uncommon 0"]},{id:459,name:"goggles of owl eyes",effect:`A set of purple tinted Goggles with glowing runes on the outer bands. 

While wearing these goggles the user can see in poorly light areas as if they were illuminated. This effect does not work in complete darkness, such as in a cave system or in magical darkness.`,req:[],cost:260,craft:2,tags:["tiny 0","magical 0","uncommon 0"]},{id:750,name:"lightbolt pendant",effect:`A small gold and orange pendant in the shape of a rod.

A creature can spend # (1 dice) to break the pendant and gain 6 speed. This effect lasts 1 minute.`,req:[],cost:340,craft:3,tags:["tiny 0","consumable 0","magical 0","uncommon 0"]},{id:476,name:"magical skillet",effect:`A single cooking skillet with a set of runes along the bottom side.

This can be used as a set of 'Cooking Tools'. Once a day you can cook over a fire to make up to 6 Meals of your choosing (Travel to Royal meals). Roll a dice: On a 4 or higher the meals are real and can be added to your inventory. On a 3 or lower the meals are not real, and are only an illusion of the requested meal. This effect is reset at Dawn.`,req:[],cost:325,craft:3,tags:["small 0","magical 0","uncommon 0"]},{id:682,name:"orb of scrying",effect:`Description: A smooth orb, with moving smoke floating within.
Activation: The user places their hand on the orb and thinks of a place or person.

Effect: Once activated the orb will cast the Spell 'Farsight' or 'Scry' depending on if they thought of a place or person respectively. The spell is cast as if the orb knows everything the user does, but the user does not need to Focus on these spells. The spell lasts for its entire duration or if a user has the orb cast a different spell. The orb can be activated up to 3 times per day, resetting at dawn.`,req:[],cost:320,craft:4,tags:["small 0","uncommon 0","magical 0"]},{id:743,name:"ricochet ammo",effect:`A special ammo with a set of runes carved onto its side. 

When fired from a ranged weapon the shot will first hit the target then will bounce to the next closest creature or object and do the attacks effect to it. (Walls, Doors, and carried items do not count for this ricochet.) You can hit yourself with this shot.`,req:[],cost:32,craft:3,tags:["tiny 0","consumable 0","magical 0","uncommon 0"]},{id:372,name:"ring of illusions",effect:`A ring carved with ever changing runes that seem to describe any number of lost secrets.

The ring will binding to a user after they wear it for 1 hour. Once bound to a user, the user can cast 'Minor Illusion' at will, and 'Create Illusion' twice per Rest without spending Strain.`,req:[],cost:600,craft:3,tags:["tiny 0","magical 0","bound 0","uncommon 0"]},{id:460,name:"ring of invisibility",effect:`A ring carved with completely clear runes that give the illusion of being holes in the ring. 

While being worn the creature can spend # (1 dice) to cast Invisibility, without spending Strain. The ring can be activated 2 times per day. Resetting at Dawn.`,req:[],cost:500,craft:3,tags:["tiny 0","magical 0","uncommon 0"]},{id:670,name:"ring of nightcaps",effect:`Description: A silver ring with a black opal gemstone.
Activation: A user may activate the ring by first wearing the ring, or by blowing on it once bound. The this ring can be activated once per day, resetting at dawn.

Effect: Once activated the ring will cast Sleeping Powder at a point the user specifies. If the user first puts on the ring the spell will be cast on the wearer (this does not use a charge). If the user does not fall asleep they become bound to the ring. The ring will become unbound when the ring is taken off.
`,req:[],cost:250,craft:3,tags:["tiny 0","uncommon 0","magical 0","bound 0"]},{id:461,name:"sandles of speed",effect:`A set of leather sandals with golden inlay that looks like wind. 

While worn, the user has an additional 2 Speed.`,req:[],cost:600,craft:4,tags:["small 0","magical 0","uncommon 0"]},{id:371,name:"scarf of the fish's tale",effect:`An ornate scarf decorated with a story of love lost at sea. 

The scarf will bind to a user when, while worn, the user gets stacks of Wet. Once bound to a user, while worn, they are able to breathe underwater and can talk to aquatic life.`,req:[],cost:325,craft:3,tags:["small 0","magical 0","bound 0","uncommon 0"]},{id:673,name:"sending skulls",effect:`Description: A set of small skull earrings with a silver hook. Always found as a set of 2 or more.
Activation: Will always work.

Effect: While worn, the wearer can hear anything said within 1 tile of any other paired sending skull. The skulls are paired when created and will become useless if only 1 is made or remains.`,req:[],cost:600,craft:4,tags:["tiny 0","uncommon 0","magical 0"]},{id:738,name:"shield necklace",effect:`Description: A silver necklace with a pendent in the shape of a shield.
Activation: The necklace activates when its bound user takes damage or receives stacks. The necklace will bind to a user after they wear it over the course of a Rest.

Effect: While worn, the necklace creates an invisible field around the user. The field can absorb up to 10 damage or stacks, after which it will break. The field will regenerate at the end of a Rest. Damage and Stacks taken go to the field first then the user.`,req:[],cost:600,craft:4,tags:["tiny 0","uncommon 0","magical 0","bound 0"]},{id:685,name:"slate of knowledge",effect:`Description: A smooth flat plate of slate.
Activation: Scratch a question in runic is scratched onto its face.

Effect: The slate has a library of information stored within. All relating to a specific or general topic. When a question written in runic is scratched onto a face, if the Slate has knowledge about that topic, it will fill the rest of that face with knowledge written in runic about that topic. If it does not know information about that topic it will fill the face with random symbols. The face can be wiped clean to ask another question. A Slate cannot gain, or lose knowledge once created.`,req:[],cost:250,craft:2,tags:["small 0","uncommon 0","magical 0"]},{id:735,name:"viper",effect:`A dagger with the head of a snake for the pommel and a line of green emerald going through its blade.

On a 9 or Higher: give the target an 1 stack of Poisoned.

When you hit a target with this weapon you can remove 5 stacks of Poisoned from them to give them 2 stacks of Stunned. `,req:[],cost:730,craft:2,tags:["1 damage","throw range 6","weapon 0","uncommon 0","magical 0"]},{id:645,name:"wand of cubes",effect:`Description: A long rectangular wand, made of some kind of stone. 
Activation: A user may activate the wand by pointing it in a direction and saying 'Cube'. The wand can be activated up to 3 times per day, resetting at dawn.

Effect: Once activated the wand will cast the Spell 'Cube' in the spot the user points to. The wand focuses on the spell, lasting the entire duration of the spell or until it is recast using this wand.`,req:[],cost:900,craft:6,tags:["small 0","uncommon 0","magical 0"]},{id:470,name:"onyx blade",effect:`A short sword which has been imbued with a dark curse turning its blade an Onyx black.

On a 4 or Less: do 1 less Damage. 
On a 9 or Higher: do an additional 2 Damage.

When held or wielded for 1 hour the user gains the 'Curse of the Onyx' (see 'Onyx Curse'). If this curse is removed the timer is reset. When a creature is damaged by this weapon the spell 'Onyx Curse' is cast on them (Using the users stats for casting stats). This effect can only happen on a creature once per hour, regardless of if they gained the curse or not.`,req:["body 1"],cost:320,craft:3,tags:["2 damage","weapon 0","uncommon 0","magical 0"]},{id:707,name:"silverwolf greataxe",effect:`A greataxe with the blade resembling a howling silverwolf.

On a 4 or Less: Do 2 less Damage. 
On a 9 or Higher: On a 9 or Higher: reduce the target's Armor by 3 then do damage.

This greataxe has a bloodlust and will bind itself to the first person who gives another creature stacks of Bleed. While bound, whenever the bound creature gives stacks of Bleed using this weapon they give 1 more.`,req:["body 1"],cost:1550,craft:4,tags:["3 damage","two handed 0","weapon 0","uncommon 0","magical 0","bound 0"]},{id:504,name:"cane of the crowmaster",effect:`A short ebony cane with a silver crow head carved as the topper.

On a 4 or Less: have 1 less Range.
On a 9 or Higher: give the target 1 stack of Stun. This effect does not stack on the same target.

The wielder may spend ### (3 dice) to bind this item to yourself and summon a Crow (Small Bird) to the top of this cane. The Crow acts as a Follower and obeys your orders. You may only ever have 1 Crow from this staff.
Alternatively, if you have a bird Follower you may instead summon the bird instead. The bird will also be bound to the cane if you do this.

You may spend # (1 dice) to teleport the Crow or follower bird to the top of the cane. When the Crow or follower bird dies you may gain 6 Strain to revive them. You may may do this for up to 10 minutes after they die, after which they are permanently dead and cannot be revived using this cane. (Crows can be re-summoned after 1 day without Strain cost).`,req:["soul 2"],cost:1200,craft:3,tags:["1 damage","glow 0","weapon 0","bound 0","uncommon 0","magical 0"]},{id:510,name:"armor of bones",effect:`Gain 2 stacks of Dodge and Armor equal to your Level on Rest.
The armor allows the wearer to float in water without the need to swim.
Additionally, when the wearer is effected by a curse they may instead reduce their Armor by the Strain cost of the Curse and are not effected by the Curse.`,req:[],cost:2100,craft:3,tags:["dodge 2","armor 1","rare 0","magical 0"]},{id:709,name:"bag of bartering",effect:`Description: An empty messenger bag designed to look like a common shop.
Activation: Put an item or gold coins into the bag.

Effect: When an item is placed into the bag, the item will disappear and the bag will fill with its equivalent worth of gold coin as if it was sold to a shop. When gold is placed into the bag, the gold will disappear and a non-magical item of equivalent value will enter the bag. If you state the name of a non-magical item, the item named (or similar) will enter the bag instead.`,req:[],cost:4500,craft:5,tags:["small 0","rare 0","magical 0"]},{id:728,name:"bandana of the darkened skys",effect:`Description: A dark grey bandana with silver threading.
Activation: Wear the bandana at night time to bind to it. Stand in darkness/shadow.

Effect: While bound to a user and the user is within darkness that mostly covers them, they may gain 1 Strain then teleport themself to another patch of darkness that would mostly cover them. This darkness must be within 12 tiles, and they must be able to see it.

`,req:[],cost:3500,craft:4,tags:["small 0","rare 0","magical 0","bound 0"]},{id:683,name:"book of stars",effect:`Description: A book with a blue crystal spine and black pages. Every page depicts a different constellation: Archer, Dragon, Goblet, Lamp, Tree, and the Turtle.
Activation: A creature can spend # (1 dice) to rip a page out of the book.

Effect: When a page is removed from the book the user casts the respective constellation spell without spending Strain. The creature still must Focus or Windup on spells that require it. Once a page is removed it cannot be added back to the book. Spell list: Archer (Starfall), Dragon (Dragon Form), Goblet (Wave), Lamp (Fireball), Tree (Healing Bloom), and the Turtle (Create Familiar).`,req:[],cost:4500,craft:5,tags:["small 0","rare 0","magical 0"]},{id:671,name:"crystal of grandeur",effect:`Description: A clear diamond lens with silver and gold handles.
Activation: Look through the lens.

Effect: While looking through the lens items of value will begin to give a golden glow. The more valuable the item is the brighter the glow. The glow will pass through up to 1 tile worth of walls or floors.
`,req:[],cost:6e3,craft:6,tags:["tiny 0","rare 0","magical 0"]},{id:751,name:"cursed signet ring",effect:`A brass ring with an emblem of a group attached to a side.

When the owner of the ring is killed, this ring will bind itself to the first creature that holds it. It will burn away any gloves or destroy any non-magical rings in order to go onto the bound creature. While bound this way the ring cannot be removed. The ring can only be removed by a creature wearing a non-cursed signet ring with the same emblem.

While bound, any creature with a similar signet ring knows that the bound creature has this ring. These creatures do not know it is cursed.`,req:[],cost:1500,craft:4,tags:["tiny 0","magical 0","rare 0","bound 0"]},{id:733,name:"deepforge hammer",effect:`A hammer with pitch black head. A diamond shines as the pommel for the hammer.

This weapon does Double Damage to objects.
On a 9 or Higher: Knockback the Target 2 tiles away from you.

When this hammer strikes an inorganic target you may spend 2 Strain to absorb a part of the target doing an extra 1 damage and put a forge stack on the hammer.
At any point you can spend 10 minutes to focus within the hammer itself to create an item with a cost equal to the amount of forge stacks on the hammer. After an item is made, set the number of forge stacks to 0. Do this even if you did not spend all stacks to create an item.

Additionally, this hammer acts as a magical forge and can be used to craft items that would require 'Smithing Tools' and a heat source.`,req:[],cost:6e3,craft:5,tags:["1 damage","weapon 0","rare 0","magical 0"]},{id:573,name:"drake ring (emerald)",effect:`Description: A small Ouroboros drake ring with Emerald gems for eyes.
Activation: A user may activate the ring by rubbing the head of the drake. This can be done 1 handed and while worn. The this ring can be activated up to 6 times per day, resetting at dawn.

Effect: Once activated the user may make one request of the drake and it will try its best to complete the task. The drake has a 2 in Thieving, 0 in every other stat, the Climber trait, and 2 health. The drake can carry up to a pound (~0.5 kg), or push/drag up to 2 pounds (~1 kg). The drake only remembers information learned from its activation, and loses all of it upon deactivation. Once the request has been completed the drake returns to being a ring and Deactivates. (Be warned a drake will return to a ring once it completes its task regardless of where it is at the time.)`,req:[],cost:1200,craft:4,tags:["tiny 0","rare 0","magical 0"]},{id:726,name:"everlasting flask",effect:`Description: A flask with gold vines wrapping around the outer shell and a series of runes etched around the lip.
Activation: Spend # (1 dice) and drink or pour out the liquid within. The flask can be activated up to 3 times per day, resetting at dawn.

Effect: When tilted out the flask will pour out 1 dosage worth of liquid. The amount a dosage is depends on liquid. For instance if wine is poured out the flask will give 1 cup worth of liquid, while if you have a poison only a small amount will come out. You can pour in a new liquid to change what liquid the flask contains. `,req:[],cost:7250,craft:6,tags:["tiny 0","rare 0","magical 0"]},{id:708,name:"gluttons fork",effect:`Description: A fork with iridescent metal head and a wooden handle.
Activation: The fork can be activated by spending # (1 dice) and stabbing any non-organic material. The fork can be activated up to 3 times per day, resetting at dawn.

Effect: Once activated, whatever the fork was stabbed into becomes edible. Consumed items heal and refund Strain to the user equal to the items rarity. Common items heal and refund 1. Uncommon: 2, Rare: 4, and Legendary: 8. Magical items grant double the heal and Strain refunded.`,req:[],cost:2450,craft:2,tags:["tiny 0","rare 0","magical 0"]},{id:672,name:"hat of dimensions",effect:`Description: A nondescript hat with an extremely dense set of runes on the inner tag.
Activation: A user may activate the hat by putting it on.

Effect: Once worn the user will be transported to a different dimension, determined when the hat was made. The wearer will stay in this dimension until they take the hat off, at which point they will return to their original dimension.`,req:[],cost:1e4,craft:8,tags:["rare 0","tiny 0","magical 0"]},{id:464,name:"immovable rod",effect:`A silver rod with a button on either end of it. 

A user may spend # (1 dice) to press either button. When either button is pressed the rod magically freezes in place, becoming immovable even in the air. Either button can be pressed again to undo this effect. While immovable the rod can hold up to ~2000 kg or ~4500 pounds. If a creature try's to move the rod while it is immovable without pressing the buttons they must roll Body with a DL increase of 8.`,req:[],cost:2100,craft:5,tags:["tiny 0","magical 0","rare 0"]},{id:373,name:"living map",effect:`Description: A ebony cloth map that shows glowing gold and white details.
Activation: Open the map.

Effect: When the map is opened it shows a detailed map of the surrounding area (216x216 tiles). The map shows the location of any creatures in its area. It wont show hidden areas or things disguised by magic such as Invisible creatures.
You gain +4 when you roll Mind or Nature to figure out where you are or which path to take.`,req:[],cost:2500,craft:3,tags:["small 0","tool 0","rare 0","magical 0"]},{id:725,name:"marksman's arcane eye",effect:`Description: A stone eye, with a pupil of blue and gold runes.
Activation: Once inserted into the users head the eye binds itself to the user. Give a target stacks of Marked.

Effect: While you have a creature Marked you are able to see a glowing outline of them, even through walls. You are always able to hit the target marked this way, even if they are Hidden or Obscured.`,req:[],cost:5500,craft:4,tags:["tiny 0","rare 0","magical 0","bound 0"]},{id:467,name:"overconfidence",effect:`Gain Armor equal to 4xBody + 3xMind + your Level at the end of a Rest.
-2 Speed while worn.
Once bound to a user, while worn, if the wearer is above half health (rounded up), they Heal 1 at the beginning of their turn (every 6 seconds). While they are below half health (rounded up), they take 1 damage at the beginning of their turn instead. Max Health does not include Armor Stacks. `,req:[],cost:3900,craft:7,tags:["heavy armor 1","speed -2","bound 0","rare 0","magical 0"]},{id:706,name:"rocket maul",effect:`A pointed maul with an orange and red crystal embedded within its head. Metal piping can be seen forcing explosive force from the crystal to the back of the maul.

This weapon does Double Damage to objects.
On a 4 or Less: the user falls Prone. 
On a 9 or Higher: Knockback the Target 4 tiles away from you.

The wielder can spend # (1 dice) and gain 1 Strain to activate the crystal. Your next Weapon Attack you do with this weapon this turn, does an an additional 3 damage, but counts as an attack sum of 4 or less, regardless of dice given.`,req:[],cost:3250,craft:4,tags:["2 damage","two handed 0","weapon 0","rare 0","magical 0"]},{id:744,name:"skipping ammo",effect:`A special ammo with a spell rune carved onto its side. 

When fired from a ranged weapon the shot will teleport to the target. This shot cannot be Dodged or re-targeted (such as from the insight 'Redirect'). This shot will ignore creatures, objects, or walls that are in the way. However, you must still see the target to hit them.`,req:[],cost:100,craft:6,tags:["tiny 0","consumable 0","magical 0","rare 0"]},{id:498,name:"soul crystal",effect:`When a creature breaks a crystal they refund 3 Strain. Soul Crystals can be used as a power source in some machines.
Can only be created by traits or found in highly magical areas.`,req:[],cost:150,craft:0,tags:["tiny 0","medicine 0","rare 0","magical 0"]},{id:745,name:"spellshot ammo",effect:`A special ammo with a spell carved onto its side. When found or made pick a spell that costs 4 or less.

When fired from a ranged weapon apply the effect of the carved spell to the target. If the spell has no target (such as an area spell) the target is the center of the spell.`,req:[],cost:60,craft:4,tags:["tiny 0","consumable 0","magical 0","rare 0"]},{id:684,name:"trackers watch",effect:`Description: A wristwatch with only a single arrowhead on its face.
Activation: A creature can bind to the watch by wearing it for 24 hours. Once bound a creature can spend # (1 dice) to tap its face to target a creature or item within 36 tiles of the watch.

Effect: While something is targeted the watch will point at the target and will heat up or cool down depending on distance (closer being hotter). The watch will become as warm as a weak flame when within 8 tiles of the target, and as cold as ice when 36 or more tiles away (You cannot be injured from this heat/cold). If a target is within 8 tiles of the watch, they gain 1 stack of Mark at the beginning of the bound creatures turn. The watch cannot point up or down, nor can it point to a target in a different dimension.`,req:[],cost:4e3,craft:4,tags:["tiny 0","rare 0","magical 0","bound 0"]},{id:734,name:"runeshot pistol",effect:`A pistol with 3 barrels. Gold runes adorn the outside of each of the barrels. 

On a 4 or Less: your hand slips, do 2 less damage to Armor
On a 9 or Higher: Spend 2 Strain to leave a trail of sparking runes along the path of the shot. This trail lasts until the beginning of your next turn. If a creature walks within 1 tile of this path they take 1 damage and are knocked back 1 tile. Multiple paths can be placed on the same line, stacking this effect.`,req:["arcana 1","mind 1"],cost:5700,craft:5,tags:["2 damage","range 12","loading 3","weapon 0","complex 0","rare 0","magical 0"]},{id:769,name:"red-spark ball bat",effect:`A red Ball Bat with a black handle and an orange gem on its head.

If this weapon hits an object double the Throw Range of the object.
On a 9 or Higher: Knockback the target 4 tiles away from you.

The wielder learns the spell 'Bertles Ball'. This spell does not count against the number of spells they know. 
The wielder can spend ### (3 dice) and 1 Strain to create a spectral ball and hit it with the bat. They then roll a dice and do the following effect based on its value;
1: Bunt - The ball goes 1 tile doing 6 damage to anything hit.
2-3: Close Hit - The ball goes up to 8 tiles doing 3 damage to anything hit.
4-5: Far Hit - The ball goes up to 18 tiles doing 3 damage to anything hit.
6: Out of the Park - The ball goes up to 36 tiles and does 6 damage to anything hit.`,req:["body 1","soul 1"],cost:6500,craft:4,tags:["2 damage","two handed 0","weapon 0","magical 0","rare 0"]},{id:466,name:"cap of everywhere",effect:`A gray newsboy cap with a jet black interior. 

The cap can be thrown (# in combat), when it lands the owner is teleported to wherever the cap landed springing up so that the cap is being worn. The cap can be called back to the owner by spending # (1 dice) teleporting it to the owners head.

Cursed: The cap is sentient and will Bind itself to the first host that puts it on. The sentience living in the hat will try to make the user steal random objects. When an object is unguarded the cap will try to force its owner to steal it, the owner must do a Mind contest against the cap (it has a Mind of 2). On failure, the owner must take and keep the item. The cap has an unusual affinity for candles and will try extra hard to make the user take them (roll with a Mind of 4 for this contest). `,req:[],cost:1e6,craft:12,tags:["small 0","bound 0","legendary 0","magical 0"]},{id:737,name:"dawn",effect:`A mace with a head made of a pure golden crystal. The crystal shines continuously as if it was a piece of the sun.

Applies 2 stacks of Burn and 1 stack of Glowing to targets hit. Does 1 additional Damage to targets that are Prone.
On a 9 or Higher: Do 2 additional Damage.

The mace has a Max Strain of 20, which its wielder can use to cast any of the following Arts: Light Aura, Lightshow, Fog Light, Control Zone (Light only), Dawn, Spear of Light, and Sunspot. You still spend dice and must Windup or Focus (if applicable) when casting these spells.

The mace refunds 1 Strain for every hour it is within natural sunlight.

You need a 'God Shard' to craft this item.`,req:[],cost:4e6,craft:4,tags:["1 damage","glow 0","weapon 0","legendary 0","magical 0"]},{id:574,name:"drake ring (diamond)",effect:`Description: A small Ouroboros drake ring with Topaz gems for eyes.
Activation: A user may activate the ring by rubbing the head of the drake. This can be done 1 handed and while worn. The this ring can be activated up to 12 times per day, resetting at dawn.

Effect: Once activated the user may make one request of the drake and it will try its best to complete the task. The drake has a 2 in Thieving, 0 in every other stat, the Climber trait, and 1 health. The drake can carry up to 2 pounds (~1 kg), or push/drag up to 4 pounds (~2 kg). The drake only remembers information learned from its activation, and looses all of it upon deactivation. Once the request has been completed the drake returns to being a ring and Deactivates. (Be warned a drake will return to a ring once it completes its task regardless of where it is at the time.)`,req:[],cost:0,craft:4,tags:["tiny 0","magical 0","legendary 0"]},{id:435,name:"holy hand grenade",effect:"Spend ## (2 dice) to throw the grenade up to 6 tiles away. Target's within 4 tile of where the grenade lands, take 12 damage. If the creature is Undead, they take an additional 12 Damage and cannot roll Deaths Door rolls.",req:[],cost:250,craft:5,tags:["consumable 0","grenade 0","tiny 0","complex 0","magical 0","legendary 0"]},{id:465,name:"pen of fates",effect:`An ornate gold and purple feather pen. This pen seems to give off an almost divine glow when in light. 

When charged this pen casts Determine Fate using the words written for the spell context. The magic can only be used once per Month after which it becomes a normal pen while charging. The pen will cast Determine Fate regardless of the words written. So for instance if you write 46 gold the spell will fail and the charge will be used.`,req:[],cost:5e6,craft:8,tags:["tiny 0","magical 0","legendary 0"]},{id:377,name:"philosopher's stone",effect:`A small red/pink stone that numbs the touch.

You can convert small or tiny non-magic items into your possession into an amount of gold pieces equal to what it would cost to craft that item. Alternatively, you can turn gold into a raw non-magic item such as 3 gold to an iron ingot.`,req:[],cost:5e5,craft:6,tags:["small 0","legendary 0","magical 0"]},{id:346,name:"phoenix feather",effect:`A golden orange feather that is warm to the touch.
If a Creature dies while in possession of the feather the feather turns to dust, the creature's Health is set to 1, and they are no longer on Death's Door.
This is needed to craft a potion of Life.`,req:[],cost:1e5,craft:0,tags:["consumable 0","medicine 0","tiny 0","legendary 0","magical 0"]},{id:686,name:"the all knowing book",effect:`Description: A book with a wooden mask for a front cover and pages written in ever changing runic.

Activation/Effect: When held the mask will awaken and will state the following: 'I am the tome of the All Knowing. I can answer almost any question. I have the power to answer # of questions. Ask.' After which it will sit there waiting for a question to be spoken aloud. The first question spoken aloud within 6 tiles of the held book will be answered if possible. The book will then lose 1 charge and say the above line again. The book starts with a random dice value (1d6) worth of charges. Once all charges have been spent the book will go to sleep. For every year the book is asleep it will regain 1 charge.

This book cannot be Crafted, only created through the use of powerful magic.`,req:[],cost:5e4,craft:0,tags:["legendary 0","small 0","magical 0"]},{id:746,name:"true spellshot ammo",effect:`A special ammo with a spell carved onto its side. When found or made pick a spell.

When fired from a ranged weapon apply the effect of the carved spell to the target. If the spell has no target (such as an area spell) the target is the center of the spell.`,req:[],cost:5e3,craft:9,tags:["tiny 0","consumable 0","magical 0","legendary 0"]},{id:347,name:"undying heart",effect:`A heart that continues to beat even when its body is lost.
Activation: Eat the heart.

Effect: Once activated the user permanently increases their Max Health by 5. Found in a 'dead' lich. This is needed to craft a potion of Life.
`,req:[],cost:6e4,craft:0,tags:["consumable 0","medicine 0","small 0","legendary 0","magical 0"]},{id:379,name:"alarm clock",effect:"A device to tell time, which can be given an amount of time. After the given time the clock will ring loudly.",req:[],cost:0,craft:2,tags:["item 0","small 0","complex 0"]},{id:475,name:"antidote",effect:"When ingested lose any Poisoned effects you may have.",req:[],cost:0,craft:1,tags:["consumable 0","potion 0","tiny 0"]},{id:331,name:"backpack",effect:"Increases items that can be carried by 1 tile [8 bits].",req:[],cost:0,craft:1,tags:["non-magic item 0","small 0"]},{id:336,name:"bedroll",effect:"Comfy sleep on the road.",req:[],cost:10,craft:2,tags:["non-magic item 0","small 0"]},{id:335,name:"big boat",effect:"Allows for crafting while traveling, and can carry 2*4*6 [384 bits] (width, length, height) tiles of stuff. Only works in water.",req:[],cost:0,craft:4,tags:["large 0","non-magic item 0","vehicle 0"]},{id:445,name:"bunk rooms access",effect:"Grants one nights stay at a bunk room. Bunk rooms usually have one big room with multiple beds each having a single chest or basket to hold the tenants stuff overnight. Places like this can be dangerous but its better than living outside.",req:[],cost:3,craft:9,tags:["tiny 0","item 0"]},{id:332,name:"cart",effect:"Can carry 1*2*2 [32 bits] (width, length, height) tiles of stuff.",req:[],cost:0,craft:3,tags:["large 0","non-magic item 0","vehicle 0"]},{id:340,name:"cheap meal",effect:"One prepared meal. It's better than a Travel Meal but not by much.",req:[],cost:2,craft:1,tags:["consumable 0","non-magic item 0","tiny 0"]},{id:446,name:"cheap rooms access",effect:"Grants one nights stay at a cheap room. Cheap rooms usually have one or two beds each having a single chest to hold the tenants stuff overnight. This is safer than living in a Bunk Room but less comfortable than a Decent Room.",req:[],cost:6,craft:9,tags:["tiny 0","item 0"]},{id:473,name:"cream base",effect:"Combine this with a potion to gain its effect. On later turns you may spend ### (3 dice) to apply this cream to a target. The target gains the combined potion's effect with its duration increased by twice the normal duration of the combined potion.",req:[],cost:0,craft:1,tags:["tiny 0","potion 0","complex 0"]},{id:341,name:"decent meal",effect:"One well prepared meal. Most will find this acceptable.",req:[],cost:4,craft:2,tags:["consumable 0","non-magic item 0","tiny 0"]},{id:447,name:"decent rooms access",effect:"Grants one nights stay at a Decent Room. Decent rooms usually have one or two beds, a table, multiple chests or containers, and access to water. This is your common living for homeowners or well established inns.",req:[],cost:11,craft:9,tags:["tiny 0","item 0"]},{id:370,name:"dimensional bag (bag o holding)",effect:"The Bag has the spell Pocket Dimension constantly cast on it. It is not tied to any one person and cannot be placed inside another Dimensional Bag or Pocket Dimension.",req:[],cost:0,craft:3,tags:["lesser item 0","magic 0","small 0"]},{id:375,name:"enchanted weapon",effect:`A weapon forged by the greatest smiths.
Is found with a random rune inscribed on it. Can hold 2 runes.`,req:[],cost:0,craft:4,tags:["greater item 0","magic 0","small 0"]},{id:337,name:"fire starters",effect:"Can start a fire without rolling Nature.",req:[],cost:5,craft:0,tags:["non-magic item 0","small 0"]},{id:329,name:"instrument",effect:"When you do the Action 'Performance' you may 'Play a Song' which can be used with Soul or Charm.",req:[],cost:0,craft:2,tags:["item 0","small 0"," complex 0"]},{id:257,name:"lanturn",effect:"While lit, it burns oil to illuminates 3 tiles around it. Every refill of oil lasts for 1 hour of burning, reduced in increments of 1 minute.",req:[],cost:0,craft:0,tags:["small 0","item 0"]},{id:380,name:"lock",effect:"Can lock items, entryways, or containers. When made increase this items Crafting score by the creator's crafting score.",req:[],cost:0,craft:1,tags:["item 0","small 0","complex 0"]},{id:502,name:"magic candy",effect:`A small colorful bag containing various magic candies.

When found contains 2d6+3 magic candies. A creature may spend # (dice) to remove a candy from the bag. When they do roll a dice and gain one of the candies. A candy can be eaten with an additional # (dice).

1 - Shocking Sucker - A small yellow and white sucker, which when eaten gives 1 additional speed for 1 minute.
2 - Gummy Dragon - A randomly colored gummy dragon, which when eaten adds 1 to any dice you lock. This does not effect 6's and lasts for 1 minute.
3 - Balloon Gum - A block of pink bubblegum, which when eaten lets you blow a massive bubble to slow your falling to 4 tiles a round, and not letting you take fall damage. The balloon lasts for 5 minutes or until popped.
4 - Back Breaker - A heavy grey and blue jawbreaker, which when eaten gives you an extra dice when you try to push or lift something. This lasts for 10 minutes.
5 - Turtle Cookie - A sugar cookie in the shape of a Turtle, which when eaten lets you hold your breath for an hour.
6 - Beetle Juice - A little vial of purple liquid with the tag Beetle Juice on it. When drank gives you an extra 5 Armor Stacks. These stacks last until your next Rest.`,req:[],cost:200,craft:3,tags:["tiny 0","potion 0","magical 0","lesser 0"]},{id:345,name:"oil",effect:"Flammable. Can be used to refuel a Lantern or for cooking.",req:[],cost:10,craft:0,tags:["consumable 0","item 0","tiny 0"]},{id:381,name:"pocket watch",effect:"Tells the time.",req:[],cost:0,craft:3,tags:["item 0","tiny 0","complex 0"]},{id:610,name:"potion of arcana",effect:`When ingested, gain +1 to Arcana rolls for 1 hour.
The potion looks like a thick yellow liquid.`,req:[],cost:250,craft:3,tags:[]},{id:342,name:"rich meal",effect:"One expensive meal made for the wealthy. Most will find this tasty.",req:[],cost:12,craft:3,tags:["consumable 0","item 0","tiny 0"]},{id:448,name:"rich rooms access",effect:"Grants one nights stay at a Rich Room. Rich rooms usually have one large bed, a table, multiple chests or containers, access to water, and someone on staff to call. This is well off living only accessible by the rich or in expensive well established inns.",req:[],cost:25,craft:9,tags:["tiny 0","item 0"]},{id:385,name:"ring of soul stealing",effect:`A silver ring with a black opal gemstone.
When in possession of someone with Soul the ring will use their Soul Strain to cast Sleeping Powder on them. This cannot happen if the Ring has cast this spell within 1 hour prior or the person has Maxed out their Soul Strain.`,req:[],cost:0,craft:3,tags:["lesser 0","item 0","tiny 0","magical 0"]},{id:378,name:"rope",effect:"It's rope. Typically in 1 Tile increments (5 ft.)",req:[],cost:0,craft:0,tags:["item 0","tiny 0"]},{id:334,name:"row boat",effect:"Can carry 1*2*2 [32 bits] (width, length, height) tiles of stuff. Only works in water.",req:[],cost:0,craft:3,tags:["large 0","item 0","vehicle 0"]},{id:343,name:"royal meal",effect:"One meal that Kings or Emperors would eat. The best meal money can buy.",req:[],cost:30,craft:4,tags:["consumable 0","item 0","tiny 0"]},{id:449,name:"royal rooms access",effect:"Grants one nights stay at a Royal Room. Royal rooms usually have all the amenities one could ask for and more. This is the best possible living, only found in the homes of royalty.",req:[],cost:50,craft:9,tags:["tiny 0","item 0"]},{id:364,name:"rune of glow",effect:"You can spend 1 dice to activate or deactivate this rune. While active the rune glows as if the spell Glow was cast on it. This effect lasts until deactivated. Items with this rune can be used to cast spells through them.",req:[],cost:100,craft:9,tags:["lesser 0","magic 0","rune 0","tiny 0"]},{id:472,name:"salt base",effect:`Combine this with a potion to gain its effect. On later turns you may spend # (1 dice) to gain the combined potion's effect. Alternatively, you can spend ## (2 dice) to throw the salt up to 6 tiles onto a target, to apply the combined potion effect.

Regardless of which method is used to apply the effect, its duration is reduced by half (rounded down).`,req:[],cost:0,craft:1,tags:["tiny 0","potion 0","complex 0"]},{id:444,name:"simple prosthetic limb",effect:"A non-magical limb that can be applied to a creature as a replacement for a missing limb. It works to a point. If the limb is a leg loose 1 Speed. If the leg is an Arm reduce the number of dice you roll when trying to manipulate something. (GM's discretion). Runes can be applied to this limb.",req:[],cost:0,craft:1,tags:["tiny 0","complex 0","item 0"]},{id:330,name:"small bag",effect:"Increases items that can be carried by 1/2th [4 bits] of a tile.",req:[],cost:0,craft:1,tags:["item 0","tiny 0"]},{id:339,name:"travel meal",effect:"One meals worth of dry goods meant for travel. It does not taste good.",req:[],cost:1,craft:0,tags:["consumable 0","item 0","tiny 0"]},{id:333,name:"wagon",effect:"Allows for crafting while traveling, and can carry 2*4*6 [384 bits] (width, length, height) tiles of stuff.",req:[],cost:0,craft:4,tags:["large 0","vehicle 0","item 0"]},{id:313,name:"weak paralysis poison",effect:"When ingested gain 1 Stun.",req:[],cost:0,craft:1,tags:["consumable 0","lesser 0","potion 0","tiny 0"]},{id:311,name:"weak poison",effect:"When ingested become Poisoned for 1 minute.",req:[],cost:0,craft:0,tags:["consumable 0","lesser 0","potion 0","tiny 0"]},{id:310,name:"weak sleeping poison",effect:"When ingested if you have 5 or less Health you Fall Asleep. The GM rolls a dice, you are asleep for this many hours or until someone wakes you up with damage or by spending ## (2 dice).",req:[],cost:0,craft:1,tags:["consumable 0","lesser 0","potion 0","tiny 0"]},{id:312,name:"weak soul rend poison",effect:"When ingested gain 2 Soul Strain.",req:[],cost:0,craft:0,tags:["consumable 0","lesser 0","potion 0","tiny 0"]},{id:471,name:"weapon oil base",effect:`Combine this with a potion to gain its effect. On later turns you may spend ## (2 dice) to coat a weapon with this effect. When you hit a target with a coated weapon the combined potion effect is applied to the target. 

The oil lasts for a number of attacks equal to twice the duration of the combined potion.`,req:[],cost:0,craft:1,tags:["tiny 0","potion 0","complex 0"]},{id:443,name:"arcane prosthetic limb",effect:"A non-magical limb that can be applied to a creature as a replacement for a missing limb. This limb is enhanced and functions almost exactly the same as a normal limb. The user can have the limb disguised as a normal limb through the use of inscribed illusion runes. Runes can be applied to this limb.",req:["arcana 1"],cost:0,craft:3,tags:["tiny 0","complex 0","item 0","magical 0"]},{id:384,name:"thick carapace",effect:"Gives 6*Level Armor Stacks.",req:["body 2","monster 0","broken 0"],cost:0,craft:9,tags:["speed -1","armor 6"]},{id:284,name:"platemail armor",effect:"Gives 7*Level Armor Stacks.",req:["body 4"],cost:0,craft:3,tags:["speed -2","armor 7"]},{id:287,name:"composite chainmail armor",effect:"Gives 5*Level Armor Stacks.",req:["body 4","broken 0"],cost:0,craft:3,tags:["speed -1","armor 5"]},{id:374,name:"cloak of shadows",effect:`A ebony cloth map that shows glowing gold and white details.

When the map is opened it shows a detailed map of the surrounding area (200x200 tiles). The map shows the location of any creatures in its area. It wont show hidden areas or things disguised by magic such as Invisible creatures.`,req:["broken 0"],cost:0,craft:4,tags:["bound 0","greater 0","item 0","tiny 0","magical 0"]},{id:368,name:"rune of the forge",effect:"",req:["broken 0"],cost:0,craft:9,tags:["magic 0","rune 0","tiny 0"]},{id:369,name:"rune of transformation",effect:"",req:["broken 0"],cost:0,craft:9,tags:["magic 0","rune 0","tiny 0"]},{id:382,name:"vial knife",effect:`Makes the object give off a feeling of power.
Weapon: Attacks do an additional 2 Damage, and reduces the High and Low Roll threshold by 2.
Armor: Increase the amount of Armor Health or Dodge by 1. (Armor health that would give 2*Level gives 3*Level instead)
Item: Can be activated with a # (one dice) to give the user an additional dice on their next roll. This can be done 4 times per day with this Rune. Resetting at Dawn.`,req:["core 1","broken 0"],cost:0,craft:2,tags:["1 damage","throw range 6","weapon 0"]},{id:268,name:"popshard lever action repeater",effect:"On a 9 or Higher:, roll a dice. If you roll less than or equal to the number of rounds left in this weapon, you may do another Attack with this weapon without spending more AP. This attack does not gain damage benefits such as ones gained from Rune of Power, Jackpot, or Critical.",req:["mind 3"],cost:0,craft:3,tags:["1 damage","loading 8","range 14","two handed 0","weapon 0"]},{id:290,name:"padded leather armor",effect:"Gives 5*Level Armor Stacks.",req:["mind 4","broken 0"],cost:0,craft:2,tags:["speed -1","armor 5"]},{id:383,name:"acid lick",effect:`This weapon does Double Damage to Armor.
On a 9 or Higher: Move the target 1 tile closer to you.`,req:["monster 0"],cost:0,craft:9,tags:["2 damage","range 2","weapon 0"]},{id:563,name:"acid spit",effect:"On a 9 or Higher: This weapon does Double Damage to Armor.",req:["monster 0"],cost:0,craft:0,tags:["2 damage","loading 1","range 8","weapon 0"]},{id:277,name:"bite",effect:"On a 9 or Higher: Roll give the target an additional 1 stack of Bleed.",req:["monster 0"],cost:0,craft:9,tags:["2 damage","weapon 0"]},{id:280,name:"kick",effect:"On a 9 or Higher: move the target 1 tile of your choosing.",req:["monster 0"],cost:0,craft:9,tags:["3 damage","weapon 0"]},{id:279,name:"lick",effect:"On a 9 or Higher: move the target 1 tile closer to you.",req:["monster 0"],cost:0,craft:9,tags:["2 damage","range 2","weapon 0"]},{id:278,name:"peck",effect:"On a 9 or Higher: Roll give the target an additional 1 stack of Blind.",req:["monster 0"],cost:0,craft:9,tags:["2 damage","weapon 0"]},{id:281,name:"soul weapon",effect:`Increases its damage by 1 every 2 levels you have. 
On a 9 or Higher: Knockback the Target 2 tiles away from you.`,req:["monster 0"],cost:0,craft:9,tags:["1 damage","range 6","weapon 0"]},{id:282,name:"spirit claws",effect:`Increases its damage by 1 every 2 levels you have.
On a 9 or Higher: give the target 1 stack of Soul Strain.`,req:["monster 0"],cost:0,craft:9,tags:["2 damage","weapon 0"]},{id:693,name:"stab",effect:"On a 9 or Higher: Roll give the target an additional 1 stack of Bleed.",req:["monster 0"],cost:0,craft:9,tags:["1 damage","reaching 0","weapon 0"]},{id:561,name:"swipe",effect:"On a 9 or Higher: Roll give the target 1 stack of Poisoned.",req:["monster 0"],cost:0,craft:9,tags:["2 damage","weapon 0"]},{id:694,name:"tail slap",effect:"On a 9 or Higher: move the target up to 3 tiles of your choosing.",req:["monster 0"],cost:0,craft:0,tags:["2 damage","weapon 0"]},{id:488,name:"venomous bite",effect:"On a 9 or Higher: give the target an additional 2 stacks of Poisoned.",req:["monster 0"],cost:0,craft:9,tags:["2 damage","weapon 0"]},{id:487,name:"hardened scales",effect:`Gives 6*Level Armor Stacks. 

Additionally, if you where to receive 2 or less damage from non magical attack you do not take the damage (you can still take damage from drowning, burn, bleed, and knockback).`,req:["monster 0","broken 0"],cost:0,craft:9,tags:["speed -1","armor 6"]},{id:418,name:"hide",effect:"Gives 2*Level Armor Stacks.",req:["monster 0","broken 0"],cost:0,craft:9,tags:["dodge 2","speed 1","armor 2"]},{id:298,name:"small shell",effect:"",req:["monster 0","broken 0"],cost:0,craft:9,tags:["speed -1","ward 2","unarmored 0"]},{id:297,name:"thick hide",effect:"Gives 4*Level Armor Stacks.",req:["monster 0","broken 0"],cost:0,craft:9,tags:["armor 4"]},{id:547,name:"thorny armor",effect:`Gives 4*Level Armor Stacks.
While Grappling or when being Grappled give the other creature 2 stacks of Bleed at the beginning of your turn.`,req:["nature 4","body 2","broken 0"],cost:0,craft:0,tags:["armor 4","speed -2"]},{id:550,name:"gear goggles",effect:`While wearing the goggles you cannot be blinded.

Spend ## (2 dice) to set the goggles zoom. You are able to see clearly with a zoom out to distance of 4 medium tiles or as close as a magnifying glass.`,req:["trait 0"],cost:125,craft:9,tags:["tiny 0","complex 0","item 0"]},{id:548,name:"grappling hook",effect:"Spend ## (2 dice) to activate the grappling hook. Target a location or target within within Range 6. If you target a location Pull yourself to that location. If you target an object or creature pull a light object to you or make a Ranged Attack. On hit pull the target 3 tiles to you.",req:["trait 0"],cost:0,craft:0,tags:["tiny 0","complex 0","tool 0"]},{id:457,name:"impact lance",effect:`Hits Knockback the Target 5 tiles away from you.
On a 4 or Less: Knockback the Target 2 tiles away from you instead of 5. 
On a 9 or Higher: Knockback the Target 8 tiles away from you instead of 5. `,req:["trait 0"],cost:0,craft:0,tags:["1 damage","weapon 0"]},{id:679,name:"mobile spotlight",effect:"Spend # (1 dice) to activate or deactivate the spotlight. The spotlight magically lights up anything within a 8 tile line in front of you. Creatures or objects lit up by this light always have a minimum of 1 stack of Marked. ",req:["trait 0"],cost:0,craft:0,tags:["range 8","tiny 0","complex 0","tool 0"]},{id:678,name:"portable fog machine",effect:"Spend ## (2 dice) to throw the machine up to 6 tiles. All tiles within 9 tiles of the chosen point become covered in thick fog. This area counts as being Obscured for 1 hour. ",req:["trait 0"],cost:0,craft:0,tags:["throw range 6","tiny 0","complex 0","tool 0"]},{id:549,name:"steam camera",effect:"Spend ## (2 dice) to activate the camera. Next turn a perfect image will slide out the bottom of the camera. A timer can be set on the camera to take a picture after a set duration.",req:["trait 0"],cost:125,craft:9,tags:["tiny 0"," complex 0"," tool 0"]},{id:677,name:"steamburst rifle",effect:`On a 4 or Less: Pop a leak, do not autoload at the end of your turn.
On a 9 or Higher: Do an additional 1 Damage.`,req:["trait 0"],cost:0,craft:0,tags:["1 damage","loading 1","range 36","two handed 0","weapon 0","launcher 0","autoload 0"]},{id:275,name:"steamthrower",effect:`Attacks all Target's in a Line. Instead of doing damage this weapon gives stacks of Burn equal to its Damage.
On a 4 or Less: have 1 less Range.
On a 9 or Higher: have 1 more Range.`,req:["trait 0"],cost:0,craft:0,tags:["3 damage","range 4","loading 1","autoload 0","two handed 0","weapon 0"]}],Xw={0:{name:"familiar",race:"animal,construct,monstrosity,planar,undead",level:-1,body:0,mind:1,soul:-1,arcana:-1,charm:-1,crafting:-1,medicine:-1,nature:-1,thieving:-1,augments:[],traits:"telepathy;|;hidyhole;|;movement choice 1",arts:"",items:"rending strike;|;light defense",notes:`Type - This creature is of a chosen Type (Animal, Construct, Monstrosity, Planar, or Undead)
The familiar's level is the same as its summoners level.
Soul, and all skills (Arcana, Charm, Crafting, Nature, Medicine, and Thieving) are equal to half the summoner's respective scores (rounded down).`},1:{name:"ranged turreted weapon",race:"construct",level:-1,body:0,mind:2,soul:0,arcana:0,crafting:0,charm:0,nature:0,medicine:0,thieving:0,augments:["light defense - speed -2"],traits:"equipable;|;construct",arts:"distracting shot;|;volatile shot",items:"light defense",notes:"Created by the Trait 'Turreted Weapon' when given a ranged weapon. The turret's level is the same as its summoners level."},2:{name:"melee turreted weapon",race:"construct",level:-1,body:2,mind:0,soul:0,arcana:0,crafting:0,charm:0,nature:0,medicine:0,thieving:0,augments:["medium defense - speed 1"],traits:"equipable;|;construct",arts:"dual wield;|;lunge",items:"medium defense",notes:"Created by the Trait 'Turreted Weapon' when given a melee weapon. The turret's level is the same as its summoners level."},3:{name:"humming sprite",race:"planar",level:0,body:0,mind:0,soul:1,arcana:1,charm:1,crafting:0,medicine:0,nature:0,thieving:0,augments:[],traits:"hover;|;equipable",arts:"far whispers;|;control elements",items:"fists;|;simple defense",notes:`A small translucent sprite similar in size to a small child. They are mostly found in service of mages and planar entities.
They love music and will come flocking if a good song is played to try to hum along to it.`},10:{name:"dog",race:"animal",level:1,body:1,mind:1,soul:0,arcana:0,charm:1,crafting:0,medicine:0,nature:2,thieving:1,augments:[],traits:"bloodhound;|;keen tracker",arts:"rip and tear",items:"bite;|;simple defense",notes:""},11:{name:"silver wolf",race:"animal",level:3,body:2,mind:1,soul:0,arcana:0,crafting:0,charm:1,nature:3,medicine:0,thieving:2,augments:[],traits:"bloodhound;|;keen tracker;|;mark of the hunter",arts:"mark",items:"light defense;|;bite",notes:""},12:{name:"small bird",race:"animal",level:0,body:0,mind:1,soul:0,arcana:0,charm:0,crafting:0,medicine:0,nature:1,thieving:1,augments:[],traits:"flight",arts:"",items:"peck;|;simple defense",notes:""},13:{name:"molefrog",race:"animal",level:1,body:1,mind:0,soul:1,arcana:0,charm:0,crafting:2,medicine:0,nature:2,thieving:0,augments:[],traits:"swimmer;|;jumper;|;tunneler",arts:"",items:"lick;|;simple defense",notes:""},14:{name:"cat",race:"animal",level:0,body:0,mind:1,soul:0,arcana:0,charm:1,crafting:0,medicine:0,nature:1,thieving:0,augments:[],traits:"climber;|;jumper",arts:"",items:"bite;|;simple defense",notes:""},15:{name:"rat/squirrel",race:"animal",level:0,body:0,mind:1,soul:0,arcana:0,charm:0,crafting:0,medicine:0,nature:1,thieving:1,augments:["bite - damage -1"],traits:"climber;|;urban expert",arts:"",items:"bite;|;simple defense",notes:""},16:{name:"small fish",race:"animal",level:0,body:0,mind:1,soul:0,arcana:0,charm:0,crafting:0,medicine:1,nature:1,thieving:0,augments:[],traits:"swimmer;|;aquatic life",arts:"",items:"bite;|;simple defense",notes:""},17:{name:"box turtle",race:"animal",level:0,body:0,mind:0,soul:1,arcana:1,charm:0,crafting:0,medicine:0,nature:1,thieving:0,augments:["light defense - ward 2,speed -2","bite - damage -1"],traits:"swimmer;|;durable",arts:"bless",items:"bite;|;light defense",notes:""},18:{name:"horse",race:"animal",level:1,body:2,mind:0,soul:0,arcana:0,charm:0,crafting:0,medicine:0,nature:3,thieving:0,augments:["light defense - speed 1","kick - damage -1"],traits:"strong body;|;mount",arts:"bull rush",items:"kick;|;light defense",notes:""},19:{name:"moa",race:"animal",level:2,body:1,mind:1,soul:0,arcana:0,charm:0,crafting:1,medicine:0,nature:2,thieving:1,augments:["light defense - speed 1"],traits:"mount;|;knowledge of the forest",arts:"bull rush",items:"peck;|;light defense",notes:""},20:{name:"bird of prey",race:"animal",level:2,body:0,mind:2,soul:0,arcana:0,crafting:0,charm:0,nature:2,medicine:0,thieving:2,augments:[],traits:"flight;|;knowledge of the forest;|;hidden in the bush;|;marked as prey",arts:"mark",items:"peck;|;light defense",notes:""},21:{name:"turtle duck",race:"animal",level:2,body:1,mind:0,soul:1,arcana:0,crafting:0,charm:1,nature:1,medicine:0,thieving:0,augments:[],traits:"swimmer;|;expanded lungs",arts:"water ball;|;dark burst",items:"peck;|;light defense",notes:""},22:{name:"bear",race:"animal",level:4,body:4,mind:0,soul:0,arcana:0,crafting:0,charm:3,nature:4,medicine:0,thieving:1,augments:["bite - damage 2","heavy defense - speed 1"],traits:"climber;|;knowledge of the forest;|;one with nature",arts:"rip and tear",items:"heavy defense;|;bite",notes:""},23:{name:"warg",race:"animal",level:4,body:2,mind:1,soul:0,arcana:0,crafting:0,charm:1,nature:3,medicine:0,thieving:2,augments:[],traits:"bloodhound;|;keen tracker;|;mark of the hunter;|;mount",arts:"rip and tear;|;mark",items:"light defense;|;bite",notes:""},24:{name:"phoenix",race:"mythic,animal",level:8,body:1,mind:2,soul:2,arcana:1,crafting:0,charm:0,nature:3,medicine:5,thieving:1,augments:[],traits:"phoenix resurrection;|;flight;|;death blast;|;soul healer;|;one with nature",arts:"flame claw;|;volcano aura;|;fire breath;|;purge",items:"peck;|;light defense",notes:""},25:{name:"deer",race:"animal",level:1,body:1,mind:1,soul:0,arcana:0,crafting:0,charm:0,nature:2,medicine:1,thieving:1,augments:["kick - damage -1","light defense - speed 1,armor 2"],traits:"heightened senses",arts:"",items:"light defense;|;kick",notes:""},26:{name:"giant spider",race:"animal",level:4,body:2,mind:0,soul:1,arcana:1,crafting:2,charm:0,nature:1,medicine:0,thieving:2,augments:[],traits:"nature's bind;|;smothering vines",arts:"lunge;|;spectral webs",items:"venomous bite;|;medium defense",notes:""},27:{name:"swordfish",race:"animal",level:3,body:0,mind:2,soul:0,arcana:0,crafting:0,charm:1,nature:2,medicine:1,thieving:0,augments:["simple defense - speed 1"],traits:"swimmer;|;snake eyes;|;aquatic life",arts:"feint;|;lunge",items:"tail slap;|;stab;|;simple defense",notes:""},28:{name:"ironwood wolf",race:"animal",level:5,body:2,mind:2,soul:0,arcana:0,crafting:0,charm:1,nature:4,medicine:0,thieving:3,augments:["bite - damage 1","medium defense - speed 1"],traits:"bloodhound;|;keen tracker;|;mark of the hunter;|;durable;|;tag team",arts:"mark;|;rip and tear",items:"medium defense;|;bite",notes:""},29:{name:"ironwood bear",race:"animal",level:8,body:4,mind:0,soul:1,arcana:2,crafting:0,charm:3,nature:4,medicine:0,thieving:1,augments:["bite - damage 4","heavy defense - speed 1, armor 1"],traits:"climber;|;knowledge of the forest;|;one with nature;|;durable",arts:"rip and tear",items:"heavy defense;|;bite",notes:""},30:{name:"ox",race:"animal",level:2,body:2,mind:0,soul:0,arcana:0,crafting:0,charm:2,nature:1,medicine:1,thieving:0,augments:["kick - damage -1","medium defense - armor 1"],traits:"strong body;|;canopy",arts:"bull rush",items:"medium defense;|;kick",notes:""},31:{name:"stalacbeetle",race:"animal",level:6,body:3,mind:0,soul:1,arcana:0,crafting:0,charm:2,nature:2,medicine:0,thieving:4,augments:[],traits:"climber;|;mimicry;|;large",arts:"bull rush;|;meteor leap;|;prop;|;rage",items:"venomous bite;|;heavy defense",notes:"An ambush predictor, this beetle clings to the ceilings of caves pretending to be a stalactite. When prey comes close they grab onto their prey then jump into the wall to stun or kill it"},100:{name:"mimic",race:"monstrosity",level:2,body:2,mind:1,soul:0,arcana:0,charm:3,crafting:0,medicine:0,nature:0,thieving:3,augments:[],traits:"mimicry;|;consume",arts:"",items:"acid lick;|;heavy defense",notes:`A natural ambusher it will hide as random items only attacking prey that get too close. They can stay as items for Months before ever feeling the need to move.
Be weary as the doors might just bite you.`},101:{name:"ripped abomination",race:"animal,monstrosity",level:4,body:4,mind:1,soul:0,arcana:0,crafting:0,charm:0,nature:5,medicine:0,thieving:5,augments:["venomous bite - damage 1"],traits:"jumper;|;bloodhound;|;marked as prey;|;silent strike",arts:"mark;|;bull rush;|;rip and tear",items:"venomous bite;|;heavy defense",notes:""},200:{name:"zombie",race:"undead",level:1,body:2,mind:0,soul:0,arcana:0,crafting:0,charm:0,nature:2,medicine:1,thieving:1,augments:["simple defense - speed -3"],traits:"undead;|;equipable",arts:"",items:"simple defense;|;swipe",notes:""},201:{name:"burster",race:"undead",level:2,body:2,mind:0,soul:1,arcana:2,crafting:0,charm:0,nature:2,medicine:1,thieving:1,augments:["simple defense - speed -3"],traits:"undead;|;equipable;|;death blast",arts:"kamikaze",items:"simple defense;|;swipe",notes:""},203:{name:"spitter",race:"undead",level:2,body:1,mind:2,soul:0,arcana:0,crafting:2,charm:0,nature:2,medicine:1,thieving:1,augments:["simple defense - speed -3"],traits:"undead;|;equipable",arts:"crippling shot",items:"simple defense;|;swipe;|;acid spit",notes:""},204:{name:"shambler",race:"undead",level:2,body:3,mind:0,soul:0,arcana:0,crafting:0,charm:0,nature:2,medicine:2,thieving:2,augments:["simple defense - speed -2"],traits:"dual wield;|;undead;|;equipable",arts:"",items:"light defense;|;swipe;|;bite",notes:""},205:{name:"vampiric walrus",race:"animal,undead",level:3,body:3,mind:1,soul:0,arcana:0,crafting:0,charm:1,nature:4,medicine:3,thieving:0,augments:[],traits:"swimmer;|;undead;|;expanded lungs;|;heightened senses;|;one with nature;|;bloody mess",arts:"rip and tear",items:"medium defense;|;bite",notes:"These majestic beasts tend to roam the oceans hunting prey much larger than themselves. Some fishermen have seen dead whales wash up on shore, full of holes and without any blood."},300:{name:"lesser fire elemental",race:"planar",level:1,body:0,mind:0,soul:2,arcana:2,crafting:0,charm:0,nature:2,medicine:0,thieving:0,augments:[],traits:"hover;|;blessing of fire;|;apprentice elementalist",arts:"fire bolt;|;control elements;|;flame claw;|;fire breath",items:"light defense|;spirit claws",notes:""},301:{name:"fire elemental",race:"planar",level:3,body:0,mind:1,soul:3,arcana:4,crafting:0,charm:0,nature:4,medicine:0,thieving:0,augments:["spirit claws - damage 1"],traits:"hover;|;blessing of fire;|;spell manipulator;|;apprentice elementalist",arts:"fire bolt;|;control elements;|;volcano aura;|;flame claw;|;lightshow;|;water ball;|;fire breath;|;sun curse;|;fireball",items:"light defense;|;spirit claws",notes:""},302:{name:"greater fire elemental",race:"planar",level:5,body:1,mind:1,soul:4,arcana:6,crafting:0,charm:0,nature:6,medicine:0,thieving:0,augments:["spirit claws - damage 2"],traits:"hover;|;death blast;|;blessing of fire;|;spell manipulator;|;spell augmenter;|;apprentice elementalist",arts:"fire bolt;|;control elements;|;volcano aura;|;flame claw;|;lightshow;|;water ball;|;fire breath;|;sun curse;|;rain;|;fireball;|;wall of fire",items:"medium defense;|;spirit claws",notes:""},400:{name:"war beetle tank",race:"construct,mythic",level:5,body:3,mind:1,soul:0,arcana:3,crafting:4,charm:0,nature:1,medicine:0,thieving:0,augments:["heavy defense - armor 2"],traits:"mount;|;heat purge;|;deathless;|;construct;|;large;|;turreted weapon",arts:"ground slam;|;rage;|;stagger",items:"popcannon;|;lightning rail cannon;|;heavy defense",notes:"A simpler form of the Ancient Beetle Tank. Made in the image of the original, but unable to reach the same raw damage."},401:{name:"ancient beetle tank",race:"construct,mythic",level:18,body:4,mind:4,soul:2,arcana:4,crafting:4,charm:1,nature:1,medicine:1,thieving:1,augments:["heavy defense - armor 2"],traits:"climber;|;rage targeting;|;deathless;|;construct;|;boss monster;|;battle hardened armor;|;large;|;turreted weapon;|;spectral artillery",arts:"conjure fog;|;ground slam;|;piercing shot",items:"popshard lever action repeater;|;popcannon;|;heavy defense;|;coil cannon",notes:`A creation from an age long gone. Wandering aimlessly in pursuit of a new home and a new war to jump into.
(The tank uses 4 Popshard Turreted Weapons, and has 2 mounted Popcannons. The Cannons cannot become Turrets.)`}};function Jw(e){let t=Object.fromEntries(e.map(({name:n,...a})=>[n,{name:n,...a}]));if(Object.keys(t).includes("Error"))return{};for(const[n,a]of Object.entries(t)){let r=Object.fromEntries(a.tags.map(i=>{let o=i.split(" "),s=[];return o.length>2?s=[o[0].concat(" ",o[1]),parseInt(o[2])]:o[1]=="damage"?s=["damage",parseInt(o[0])]:s=[o[0],parseInt(o[1])],Number.isNaN(s[1])&&(s[1]=0),s}));t[n].tags=r}return t}function Zw(e,t){for(const n of t){const a=n.substring(0,n.indexOf(" - ")),r=e[a];let i=Object.fromEntries(n.substring(n.indexOf(" - ")+3).split(",").map(o=>{let s=o.split(" "),l=[];return s[1]=="damage"?l=["damage",parseInt(s[0])]:l=[s[0],parseInt(s[1])],Number.isNaN(l[1])&&(l[1]=0),l}));for(const[o,s]of Object.entries(i))r.tags[o]==null?r.tags[o]=s:r.tags[o]=r.tags[o]+s}return e}function ek(e){let t={};for(const[n,a]of Object.entries(e))for(const[r,i]of Object.entries(a.tags))t[r]==null?t[r]=i:t[r]=t[r]+i;return t}const e9=[zb,$b,Gb,Vb,Kb,Qb,Jb],p1=["body","mind","soul","nature"];function t9(e){let t=[];for(let n=0;n<e;n++){const a=Math.floor(Math.random()*6);t.push(a)}return t.sort((n,a)=>a-n),t}function tk({startingDice:e=[0,0],startingBonus:t=0,isOpen:n,setIsOpen:a,setBonus:r}){const[i,o]=g.useState(e),[s,l]=g.useState("body");return g.useEffect(()=>{n==!0&&l(p1[Math.floor(Math.random()*p1.length)])},[n]),c.jsx(c.Fragment,{children:c.jsx(Nc,{displayedContentName:"Roll The Dice!",isOpen:n,setIsOpen:a,displayedContent:c.jsxs("div",{children:[c.jsx("div",{className:"flex m-4 bg-dark-400 rounded-md justify-center",children:c.jsx("div",{className:xr("flex row items-center flex-wrap justify-center",i.length<5?"w-[50%]":i.length<7?"w-[60%]":i.length<9?"w-[80%]":"w-[100%]"),children:i.map((u,d)=>c.jsx("img",{className:xr("w-auto m-4",i.length<3?"h-20":"h-16"),src:e9[u],alt:(u+1).toString(),onClick:()=>{i.length!=1&&o(f=>f.filter((m,p)=>p!==d))}},d))})}),c.jsxs("h1",{children:["Total: ",i.reduce((u,d)=>u+d+1)+1!=i.length*7?i.reduce((u,d)=>u+d+1)+1+t:"?"]}),c.jsxs("div",{className:"flex row items-center justify-around m-4 flex-wrap",children:[c.jsx(G,{leftIcon:zh,variant:s,className:"m-2",onClick:()=>{o(new Array(i.length).fill(6)),setTimeout(()=>{o(t9(i.length))},500)},children:"Roll Dice"}),c.jsx("input",{placeholder:"Bonus",name:"Bonus",className:"rounded-lg bg-body-700/40 p-2 active:ring-2 active:ring-dark-700 dark:bg-soul-700/10 dark:active:ring-light-600",value:t,onChange:u=>r(Number(u.target.value))}),c.jsx("img",{className:"h-16 w-auto m-2 bg-dark rounded-full",src:Xb,alt:"Add Dice",onClick:()=>{o(u=>[...u,Math.floor(Math.random()*6)].sort((d,f)=>f-d))}})]})]})})})}function nk({isChecked:e,setIsChecked:t,text:n,className:a=""}){return c.jsxs("div",{className:"flex flex-row m-2 content-center ".concat(a),children:[c.jsx("input",{type:"checkbox",value:n,checked:e,onChange:()=>t(!e)}),c.jsx("div",{className:"p-2 grid content-center",children:n})]})}function n9({displayedCreature:e,traitsList:t,spellsList:n,itemsList:a}){const[r,i]=g.useState(0),[o,s]=g.useState(0),[l,u]=g.useState(0),[d,f]=g.useState(0),[m,p]=g.useState(0),[v,k]=g.useState(0),[T,y]=g.useState(0),[b,x]=g.useState(0),[w,O]=g.useState(0),[N,R]=g.useState(0),[D,P]=g.useState(0),[_,S]=g.useState(),[M,B]=g.useState(),[re,Q]=g.useState([]),[ee,te]=g.useState([]),[W,V]=g.useState([]),[I,ce]=g.useState([]),ue=se=>Object.entries(se).map(([$e,Ue])=>`${$e} ${Ue}`).join(", ");g.useEffect(()=>{let se=e.traits.includes("hearty")?e.body:0,$e=Math.ceil(e.soul*4+e.mind*3+e.body*2);e.traits.includes("blood magic")&&(se+=$e,$e=0);const Ue=Math.ceil(e.level+e.body*4+e.mind*3+e.soul*2+se);if(p($e),k($e),i(Ue),s(Ue),a.length>0){let xe=Jw(Er(e.items,a));xe=Zw(xe,e.augments);const Je=ek(xe);S(Object.values(xe));const yn=("armor"in Je?Je.armor*e.level:0)+("heavy armor"in Je?Je["heavy armor"]*e.level+4*e.body+3*e.mind:0)+("medium armor"in Je?Je["medium armor"]*e.level+2*e.body+2*e.mind:0);u(yn),f(yn);const zt="ward"in Je?Je.ward:0,ua="dodge"in Je?Je.dodge:0;O(zt),R(zt),y(ua),x(ua),P(6+("speed"in Je?Je.speed:0)+(e.traits.includes("quick runner")?1:0))}t.length>0&&B(Er(e.traits,t))},[e,a,t]),g.useEffect(()=>{m<0&&i(r+m)},[m]),g.useEffect(()=>{if(_!=null){let se=[],$e=[];const Ue=["weapon","grenade","throwable","potion","medicine"];let xe=!1;_.forEach(Je=>{xe=!1,Ue.forEach(yn=>{yn in Je.tags&&(xe=!0)}),xe?se.push(Je):$e.push(Je)}),Q(se),te($e)}},[_]),g.useEffect(()=>{if(M!=null){let se=[],$e=[];const Ue="flight,climber,swimmer";M.forEach(xe=>{Ue.includes(xe.name.toLowerCase())||(xe.effect.toLowerCase().includes("spend")?se.push(xe):$e.push(xe))}),V(se),ce($e)}},[M]);function A(se){var xe,Je;const $e=((xe=se.match(/spend\s.*([0-9]+)\sstrain/i))==null?void 0:xe[1])||"",Ue=((Je=se.match(/spend\s(#*)/i))==null?void 0:Je[1])||"";return $e.concat(Ue!=""&&$e!=""?", ":"",Ue)}function U(se){Ke([0,0]),ne(se),qe(!0)}const[ae,ne]=g.useState(0),[Ne,Ke]=g.useState([0,0]),[ge,qe]=g.useState(!1);function ot(){u(d),y(b),O(N),i(o),p(v)}const[Lt,Ft]=g.useState(!1),[Ca,he]=g.useState(!1);return c.jsxs("div",{children:[c.jsx(tk,{startingDice:Ne,startingBonus:ae,setBonus:ne,isOpen:ge,setIsOpen:qe}),c.jsx(Nc,{isOpen:Lt,setIsOpen:Ft,displayedContentName:"Do Rest?",displayedContent:c.jsxs("div",{className:"",children:[c.jsx("div",{className:"bg-dark-400 rounded-lg m-2 p-2",children:c.jsx("div",{className:"bg-dark-300 rounded-lg p-2 text-lg",children:"Doing this action will reset your Health, Armor, Ward, Dodge, and Strain."})}),c.jsxs("div",{className:"grid grid-cols-4 bg-dark-400 rounded-lg m-2",children:[c.jsx(G,{variant:"nature",className:"rounded-lg p-2 m-2 rounded-lg grid grid-cols-1 bg-nature",onClick:()=>{ot(),Ft(!1)},children:"Rest"}),c.jsx(G,{variant:"medicine",className:"rounded-lg p-2 m-2 bg-medicine rounded-lg grid grid-cols-1",onClick:()=>{Ft(!1)},children:"Dont Rest"}),c.jsx("div",{})," ",c.jsx(nk,{isChecked:Ca,setIsChecked:he,text:"Do not show this again."})]})]})}),c.jsxs("div",{className:"grid grid-cols-2 bg-dark-400 rounded-lg m-2",children:[c.jsx("h2",{className:"bg-dark-300 rounded-lg p-2 m-2 justify-center items-center flex capitalize",children:e.name}),c.jsxs("div",{className:"bg-dark-300 rounded-lg p-2 m-2 grid grid-cols-1",children:[c.jsxs("div",{className:"justify-end grid text-xs",children:["Level: ",e.level]}),c.jsx("div",{className:"capitalize justify-end grid text-xs",children:e.race.toString().split(",").join(", ")})]})]}),c.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[c.jsxs("div",{className:"bg-dark-400 rounded-lg m-2",children:[c.jsxs("div",{className:"grid grid-cols-3 gap-4 justify-left bg-dark-300 rounded-lg m-2 p-4",children:[c.jsxs(G,{variant:"body",className:"text-xl font-bold rounded-lg p-2",onClick:()=>{U(e.body)},children:["Body ",e.body]}),c.jsxs(G,{variant:"mind",className:"text-xl font-bold rounded-lg p-2",onClick:()=>{U(e.mind)},children:["Mind ",e.mind]}),c.jsxs(G,{variant:"soul",className:"text-xl font-bold bg-soul rounded-lg p-2",onClick:()=>{U(e.soul)},children:["Soul ",e.soul]})]}),c.jsxs("div",{className:"grid grid-cols-3 gap-4 justify-left bg-dark-300 rounded-lg m-2 p-6",children:[c.jsxs(G,{variant:"arcana",className:"rounded-lg p-2",onClick:()=>{U(e.arcana)},children:["Arcana ",e.arcana]}),c.jsxs(G,{variant:"charm",className:"rounded-lg p-2",onClick:()=>{U(e.charm)},children:["Charm ",e.charm]}),c.jsxs(G,{variant:"crafting",className:"rounded-lg p-2",onClick:()=>{U(e.crafting)},children:["Crafting ",e.crafting]}),c.jsxs(G,{variant:"nature",className:"rounded-lg p-2",onClick:()=>{U(e.nature)},children:["Nature ",e.nature]}),c.jsxs(G,{variant:"medicine",className:"rounded-lg p-2",onClick:()=>{U(e.medicine)},children:["Medicine ",e.medicine]}),c.jsxs(G,{variant:"thieving",className:"rounded-lg p-2",onClick:()=>{U(e.thieving)},children:["Thieving ",e.thieving]})]})]}),c.jsxs("div",{className:"grid grid-cols-3 bg-dark-400 rounded-lg m-2",children:[c.jsxs("div",{className:"flex flex-col col-span-2",children:[d>0&&c.jsxs("div",{className:"bg-dark-300 rounded-lg p-2 m-2 grid grid-cols-4 flex justify-end items-center",children:[c.jsx("div",{className:"flex capitalize font-bold justify-start",children:"Armor:"}),c.jsx("input",{type:"number",className:"flex flex-row h-9 rounded-lg p-2 mt-1 shadow-md justify-end m-1",value:l,min:"0",onChange:se=>u(parseInt(se.target.value))}),c.jsxs("div",{className:"flex justify-start",children:["/ ",d]}),c.jsxs("div",{className:"flex flex-row",children:[c.jsx(G,{leftIcon:ba,variant:"subtle",className:"flex justify-center rounded-l-full rounded-r-none h-8 w-8",onClick:()=>{u(l+1)}}),c.jsx(G,{leftIcon:va,variant:"subtle",className:"flex justify-center rounded-r-full rounded-l-none h-8 w-8",onClick:()=>{u(l-1)}})]})]}),c.jsxs("div",{className:"bg-dark-300 rounded-lg p-2 m-2 grid grid-cols-4 flex justify-end items-center",children:[c.jsx("div",{className:"flex capitalize font-bold",children:"Health:"}),c.jsx("input",{type:"number",className:"flex flex-row h-9 rounded-lg p-2 mt-1 shadow-md justify-end m-1",value:r,min:"0",onChange:se=>i(parseInt(se.target.value))}),c.jsxs("div",{className:"flex justify-start",children:["/ ",o]}),c.jsxs("div",{className:"flex flex-row",children:[c.jsx(G,{leftIcon:ba,variant:"subtle",className:"flex justify-center rounded-l-full rounded-r-none h-8 w-8",onClick:()=>{i(r+1)}}),c.jsx(G,{leftIcon:va,variant:"subtle",className:"flex justify-center rounded-r-full rounded-l-none h-8 w-8",onClick:()=>{i(r-1)}})]})]}),b>0&&c.jsxs("div",{className:"bg-dark-300 rounded-lg p-2 m-2 grid grid-cols-4 flex justify-end items-center",children:[c.jsx("div",{className:"flex capitalize font-bold",children:"Dodge:"}),c.jsx("input",{type:"number",className:"flex flex-row h-9 rounded-lg p-2 mt-1 shadow-md justify-end m-1",value:T,min:"0",onChange:se=>i(parseInt(se.target.value))}),c.jsx("div",{}),c.jsxs("div",{className:"flex flex-row",children:[c.jsx(G,{leftIcon:ba,variant:"subtle",className:"flex justify-center rounded-l-full rounded-r-none h-8 w-8",onClick:()=>{y(T+1)}}),c.jsx(G,{leftIcon:va,variant:"subtle",className:"flex justify-center rounded-r-full rounded-l-none h-8 w-8",onClick:()=>{y(T-1)}})]})]}),N>0&&c.jsxs("div",{className:"bg-dark-300 rounded-lg p-2 m-2 grid grid-cols-4 flex justify-end items-center",children:[c.jsx("div",{className:"flex capitalize font-bold",children:"Ward:"}),c.jsx("input",{type:"number",className:"flex flex-row h-9 rounded-lg p-2 mt-1 shadow-md justify-end m-1",value:w,min:"0",onChange:se=>i(parseInt(se.target.value))}),c.jsx("div",{}),c.jsxs("div",{className:"flex flex-row",children:[c.jsx(G,{leftIcon:ba,variant:"subtle",className:"flex justify-center rounded-l-full rounded-r-none h-8 w-8",onClick:()=>{O(w+1)}}),c.jsx(G,{leftIcon:va,variant:"subtle",className:"flex justify-center rounded-r-full rounded-l-none h-8 w-8",onClick:()=>{O(w-1)}})]})]})]}),c.jsxs("div",{className:"flex flex-col",children:[c.jsxs("div",{className:"bg-dark-300 rounded-lg p-2 m-2 flex justify-center font-bold text-lg items-center",children:["Speed: ",D]}),(e.traits.includes("swimmer")||e.traits.includes("climber")||e.traits.includes("flight"))&&c.jsxs("div",{className:"bg-dark-300 rounded-lg p-2 m-2 flex justify-start flex-col",children:[e.traits.includes("swimmer")&&c.jsx("div",{className:"mb-2",children:"Can Swim"}),e.traits.includes("climber")&&c.jsx("div",{className:"mb-2",children:"Can Climb"}),e.traits.includes("flight")&&c.jsx("div",{className:"mb-2",children:"Can Fly"})]}),c.jsxs(G,{variant:"medicine",className:"rounded-lg p-2 m-2",onClick:()=>{Ke(Array.apply(null,Array(4+Math.floor(e.level/2))).map(Number.prototype.valueOf,0)),ne(0),qe(!0)},children:["Combat Dice ",4+Math.floor(e.level/2)]}),c.jsx(G,{variant:"mind",className:"rounded-lg p-2 m-2",onClick:()=>{Ca?ot():Ft(!0)},children:"Rest"})]})]})]}),c.jsx("div",{className:"bg-dark-400 rounded-lg m-2 p-1 mt-10",children:c.jsx("h2",{className:"flex justify-center items-center bg-dark-300 rounded-lg m-2 p-1",children:"Actives"})}),re!=null&&re.map(se=>c.jsxs("div",{className:"bg-dark-400 grid grid-cols-12 rounded-lg m-2",children:[c.jsx("div",{className:"capitalize font-bold bg-dark-300 rounded-lg p-2 m-2 col-span-2 flex items-center justify-center",children:se.name}),c.jsx("div",{className:"bg-dark-300 rounded-lg p-2 m-2 col-span-1 flex items-center justify-center",children:"weapon"in se.tags||"throwable"in se.tags||"grenade"in se.tags?"##":"#"}),c.jsx("div",{className:"capitalize bg-dark-300 rounded-lg p-2 m-2 col-span-3",children:ue(se.tags).replace(/ 0/gi,"").replace(/, weapon/gi,"").replace(/, common/gi,"").replace(/, uncommon/gi,"").replace(/, rare/gi,"").replace(/, legendary/gi,"")}),c.jsx("div",{className:"bg-dark-300 rounded-lg p-2 m-2 col-span-6 whitespace-pre-wrap overflow-y-auto text-left",children:se.effect})]})),W!=null&&W.map(se=>c.jsxs("div",{className:"bg-dark-400 grid grid-cols-12 rounded-lg m-2",children:[c.jsx("div",{className:"capitalize font-bold bg-dark-300 rounded-lg p-2 m-2 col-span-2 flex items-center justify-center",children:se.name}),c.jsx("div",{className:"bg-dark-300 rounded-lg p-2 m-2 col-span-1 flex items-center justify-center",children:A(se.effect.toLowerCase())}),c.jsx("div",{className:"bg-dark-300 rounded-lg p-2 m-2 col-span-9 whitespace-pre-wrap overflow-y-auto text-left ".concat(se.effect.length>250?"text-sm":""),children:se.effect})]})),c.jsxs("div",{className:"grid grid-cols-2 bg-dark-400 rounded-lg m-2 mt-5",children:[c.jsx("h2",{className:"flex justify-center items-center bg-dark-300 rounded-lg m-2",children:"Arts"}),c.jsx("div",{className:"bg-dark-300 rounded-lg m-2 grid grid-cols-1 flex flex-row justify-end",children:v>0&&c.jsxs("div",{className:"bg-dark-300 rounded-lg flex flex-row justify-center items-center",children:[c.jsx("div",{className:"flex capitalize font-bold justify-start p-2",children:"Strain:"}),c.jsx("input",{type:"number",className:"flex flex-row h-9 w-20 rounded-lg p-2 shadow-md justify-end m-1",value:m,max:v,onChange:se=>p(parseInt(se.target.value))}),c.jsxs("div",{className:"flex justify-start",children:["/ ",v]}),c.jsxs("div",{className:"flex flex-row p-2",children:[c.jsx(G,{leftIcon:ba,variant:"subtle",className:"flex justify-center rounded-l-full rounded-r-none h-8 w-8",onClick:()=>{p(m+1)}}),c.jsx(G,{leftIcon:va,variant:"subtle",className:"flex justify-center rounded-r-full rounded-l-none h-8 w-8",onClick:()=>{p(m-1)}})]})]})})]}),e.arts&&n.length>0&&Er(e.arts,n).map(se=>c.jsxs("div",{className:"bg-dark-400 grid grid-cols-12 rounded-lg m-2",children:[c.jsxs("div",{className:"capitalize font-bold bg-dark-300 rounded-lg p-2 m-2 col-span-2 whitespace-pre-wrap overflow-y-auto flex items-center justify-center",children:[se.name,se.tags.includes("focus")?`
(Focus)`:""]}),c.jsxs("div",{className:"font-bold rounded-lg p-2 m-2 col-span-1 flex items-center justify-center hover:ring-2 hover:ring-light/75 ".concat(se.tags.includes("technique")?"bg-body hover:bg-body-600":se.tags.includes("insight")?"bg-mind hover:bg-mind-600":"bg-soul hover:bg-soul-600"),onClick:()=>{p(m-(se.level??0))},children:[se.level,", ","#".repeat(se.dice??1)??"P"]}),c.jsx("div",{className:"bg-dark-300 rounded-lg p-2 m-2 col-span-8 whitespace-pre-wrap overflow-y-auto text-left ".concat(se.effect.length>250?"text-sm":""),children:se.effect}),c.jsx("div",{className:"capitalize bg-dark-300 rounded-lg p-2 m-2 col-span-1 text-xs",children:se.tags.join(", ")})]})),c.jsxs("div",{className:"grid grid-cols-2 bg-dark-400 rounded-lg m-2 mt-10",children:[c.jsx("h2",{className:"flex justify-center items-center bg-dark-300 rounded-lg m-2",children:"Passives"}),c.jsx("div",{className:"bg-dark-300 rounded-lg m-2 grid grid-cols-2 justify-end"})]}),ee!=null&&ee.map(se=>c.jsxs("div",{className:"bg-dark-400 grid grid-cols-12 rounded-lg m-2",children:[c.jsx("div",{className:"capitalize font-bold bg-dark-300 rounded-lg p-2 m-2 col-span-2 flex items-center justify-center",children:se.name}),c.jsx("div",{className:"capitalize bg-dark-300 rounded-lg p-2 m-2 col-span-3",children:ue(se.tags).replace(/ 0/gi,"").replace(/, weapon/gi,"").replace(/, common/gi,"").replace(/, uncommon/gi,"").replace(/, rare/gi,"").replace(/, legendary/gi,"")}),c.jsx("div",{className:"bg-dark-300 rounded-lg p-2 m-2 col-span-7 whitespace-pre-wrap overflow-y-auto text-left",children:se.effect})]})),I!=null&&I.map(se=>c.jsxs("div",{className:"bg-dark-400 grid grid-cols-12 rounded-lg m-2",children:[c.jsx("div",{className:"capitalize font-bold bg-dark-300 rounded-lg p-2 m-2 col-span-2 flex items-center justify-center",children:se.name}),c.jsx("div",{className:"bg-dark-300 rounded-lg p-2 m-2 col-span-10 whitespace-pre-wrap overflow-y-auto text-left",children:se.effect})]}))]})}function a9({displayedCreature:e,traitsList:t,spellsList:n,itemsList:a}){const[r,i]=g.useState(!1);function o(){i(!1)}function s(){i(!0)}return c.jsxs(c.Fragment,{children:[c.jsxs(G,{leftIcon:Dm,onClick:s,variant:"link-soul",children:["Open ",e.name]}),c.jsx(aa,{appear:!0,show:r,as:g.Fragment,children:c.jsxs(na,{as:"div",className:"relative z-10",onClose:o,children:[c.jsx(aa.Child,{as:g.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0",enterTo:"opacity-100",leave:"ease-in duration-200",leaveFrom:"opacity-100",leaveTo:"opacity-0",children:c.jsx("div",{className:"fixed inset-0 bg-black/25"})}),c.jsx("div",{className:"fixed inset-0 overflow-y-auto",children:c.jsx("div",{className:"flex items-center justify-center p-4 pt-0 text-center",children:c.jsx(aa.Child,{as:g.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0 scale-95",enterTo:"opacity-100 scale-100",leave:"ease-in duration-200",leaveFrom:"opacity-100 scale-100",leaveTo:"opacity-0 scale-95",children:c.jsxs(na.Panel,{className:"w-[95%] lg:w-[80%] h-[50%] transform overflow-hidden rounded-2xl p-6 pt-0 text-left align-middle shadow-xl transition-all bg-light dark:bg-dark",children:[c.jsxs(na.Title,{as:"div",className:"text-lg font-medium leading-6 flex flex-row justify-between",children:[c.jsx("h3",{className:"capitalize",children:e.name}),c.jsx("div",{className:"mt-4",children:c.jsx(rl,{className:"h-6 w-6 opacity-50 cursor-pointer",onClick:o})})]}),c.jsx(n9,{displayedCreature:e,traitsList:t,spellsList:n,itemsList:a})]})})})})]})})]})}function ru({displayedCreatures:e,moveCreature:t,moveIsAdd:n=!0,traitsList:a,spellsList:r,itemsList:i}){return c.jsxs("table",{className:"border-collapse table-auto dark:text-light text-dark rounded-md",children:[c.jsx("thead",{className:"dark:bg-dark-400 bg-light-300 font-bold",children:c.jsxs("tr",{children:[c.jsx("th",{children:"Name"}),c.jsx("th",{children:"Level"}),c.jsx("th",{children:"Race"}),c.jsx("th",{children:"Open"}),t!=null&&c.jsx("th",{children:n?"Save":"Unsave"})]})}),c.jsx("tbody",{children:e.map((o,s)=>{var u;const l=((u=o.race)==null?void 0:u.toString().replaceAll(",",", "))??"";return c.jsxs("tr",{children:[c.jsx("td",{className:"font-bold capitalize",children:o.name}),c.jsx("td",{className:"font-bold capitalize",children:o.level}),c.jsx("td",{className:"capitalize",align:"center",children:l}),c.jsx("td",{children:c.jsx(a9,{displayedCreature:o,traitsList:a,spellsList:r,itemsList:i})}),t!=null&&c.jsx("td",{children:c.jsx(G,{variant:n?"subtle-nature":"subtle-medicine",leftIcon:n?oi:si,className:"rounded-md w-6 h-8",onClick:()=>{t(o)}})})]},s)})})]})}const jd=`
[NAME] - LEVEL: __ [Lineage]

(Max of 4)
Body: 0, Mind: 0, Soul: 0

(Max of 4)
Arcana: 0, Charm: 0, Crafting: 0, Nature: 0, Medicine: 0, Thieving: 0

Strain - 0/[2*Body + 3*Mind + 4*Soul]
Armor: [0] Health: __/(4*Body + 3*Mind + 2*Soul + LEVEL), Speed [6]. 
Locked: [], Combat Dice: __ (starts at 4, goes up every even level)

**Traits:** (Trait for each level; you must meet the requirements to take the trait)
Lineage:
1: 
1: 
1: 
2: 
3: 
4: 
5: 
6: 
7: 
8: 
9: 

**Techniques:** (Know 2*Body with a max Strain value of Level +1)

**Insights:** (Know 2*Mind with a max Strain value of Level +1)

**Spells:** (Know 2*Soul with a max Strain value of Level +1)



**Items:**
Weapon 1 - ___
Weapon 2 - ___
Armor - ___
Coin - 15
Bandage x 1
Take 1 Tool (item with the tag Tool), and 2 non-magical items of your choice

`;function r9(){const{SpellsService:e,TraitsService:t,ItemsService:n}=di(),[a,r]=g.useState([]),[i,o]=g.useState([]),[s,l]=g.useState([]),[u,d]=g.useState([]),[f,m]=g.useState([]),[p,v]=g.useState([]),[k,T]=g.useState([]),[y,b]=g.useState(jd);g.useState([]),g.useState([]),g.useState([]);function x(){b(jd),window.localStorage.setItem("tempSheet","")}return g.useEffect(()=>{if(y!=jd)window.localStorage.setItem("tempSheet",y);else{const w=window.localStorage.getItem("tempSheet");w&&b(w)}},[y]),g.useEffect(()=>{async function w(){let O;try{const R=await e.getAllSpells();O=Object.values(R)}catch{console.log("WARNING YOU ARE OFFLINE! A backup is being used, however it is not up to date and may have incorect data."),O=Object.values(JP)}O=Bs(O),m(O);const N=Ko("pinnedSpellNames",O);N&&r(N)}w()},[e]),g.useEffect(()=>{async function w(){let O;try{const R=await t.getAllTraits();O=Object.values(R)}catch{console.log("WARNING YOU ARE OFFLINE! A backup is being used, however it is not up to date and may have incorect data."),O=Object.values(Kw)}O=Hs(O),v(O);const N=Ko("pinnedTraitNames",O);N&&o(N)}w()},[t]),g.useEffect(()=>{async function w(){let O;try{const R=await n.getAllItems();O=Object.values(R)}catch{console.log("WARNING YOU ARE OFFLINE! A backup is being used, however it is not up to date and may have incorect data."),O=Object.values(ZP)}O=Hs(O??[]),T(O);const N=Ko("pinnedItemNames",O);N&&l(N)}w()},[n]),g.useEffect(()=>{async function w(){let O;O=Object.values(Xw),O=Bs(O);const N=Ko("pinnedCreatureNames",O);N&&d(N)}w()},[]),c.jsxs(c.Fragment,{children:[c.jsxs("div",{className:"flex flex-row gap-2 justify-evenly md:justify-start",children:[c.jsx(G,{onClick:()=>x(),variant:"subtle-medicine",children:"Clear Character Sheet"}),c.jsx(G,{onClick:()=>pc(y,"Character-Sheet.txt","data:text/plain;charset=utf-8,"),variant:"subtle-body",children:"Download Character Sheet"})]}),c.jsx("textarea",{rows:40,placeholder:"Whip around like a yoyo",className:"bg-body-700/20 dark:bg-dark-300 h-[60%] w-[100%] rounded-lg p-2 my-2",value:y,onChange:w=>b(w.target.value)}),i.length>0&&c.jsx(c.Fragment,{children:c.jsx("div",{className:"justify-start mb-2",children:c.jsx(Qe,{defaultOpen:!0,children:({open:w})=>c.jsxs(c.Fragment,{children:[c.jsx(Qe.Button,{children:c.jsx(G,{variant:"soul",className:"mb-2",open:w,rightIcon:wa,children:"Pinned Traits"})}),c.jsxs(Qe.Panel,{children:[c.jsx(Xr,{displayedTraits:i}),c.jsx("hr",{})]})]})})})}),a.length>0&&c.jsx(c.Fragment,{children:c.jsx("div",{className:"justify-start  mb-2",children:c.jsx(Qe,{defaultOpen:!0,children:({open:w})=>c.jsxs(c.Fragment,{children:[c.jsx(Qe.Button,{children:c.jsx(G,{variant:"soul",className:"mb-2",open:w,rightIcon:wa,children:"Pinned Spells"})}),c.jsxs(Qe.Panel,{children:[c.jsx(Jr,{displayedSpells:a}),c.jsx("hr",{})]})]})})})}),s.length>0&&c.jsx(c.Fragment,{children:c.jsx("div",{className:"justify-start  mb-2",children:c.jsx(Qe,{defaultOpen:!0,children:({open:w})=>c.jsxs(c.Fragment,{children:[c.jsx(Qe.Button,{children:c.jsx(G,{variant:"soul",className:"mb-2",open:w,rightIcon:wa,children:"Pinned Items"})}),c.jsxs(Qe.Panel,{children:[c.jsx(ja,{displayedItems:s}),c.jsx("hr",{})]})]})})})}),u.length>0&&c.jsx(c.Fragment,{children:c.jsx("div",{className:"justify-start mb-2",children:c.jsx(Qe,{defaultOpen:!0,children:({open:w})=>c.jsxs(c.Fragment,{children:[c.jsx(Qe.Button,{children:c.jsx(G,{variant:"soul",className:"mb-2",open:w,rightIcon:wa,children:"Pinned Creatures"})}),c.jsxs(Qe.Panel,{children:[c.jsx(ru,{displayedCreatures:u,traitsList:p,spellsList:f,itemsList:k}),c.jsx("hr",{})]})]})})})})]})}function i9(e){return e<5?"w-12":e<7?"w-16":e<12?"w-24":"w-32"}function o9(){const[e,t]=g.useState(""),[n,a]=g.useState([]),[r,i]=g.useState([]),[o,s]=g.useState([]),[l,u]=g.useState("hidden"),{allTraits:d}=ko(),{allSpells:f}=Ic(),{allItems:m}=hl();g.useEffect(()=>{async function y(){let b;b=Object.values(Xw),b=Bs(b),a(b)}y()},[]),g.useEffect(()=>{if(e==""){s(n),u("hidden");return}u("visible");const y=n.filter(b=>b.name.toLowerCase().includes(e));s(y)},[n,e]),g.useEffect(()=>{const y=r.map(b=>b.name);window.localStorage.setItem("pinnedCreatureNames",y.join(";|;"))},[r]);function p(...y){return y.filter(Boolean).join(" ")}function v(y){const b=[...r,y];i(Hs(b))}function k(y){const b=r.indexOf(y),x=r.slice();x.splice(b,1),i(x)}const T=["Humanoid","Animal","Construct","Monstrosity","Planar","Undead","Mythic"];return c.jsxs(c.Fragment,{children:[c.jsx("h1",{children:"Creatures"}),r.length>0&&c.jsx(c.Fragment,{children:c.jsx("div",{className:"justify-start",children:c.jsx(Qe,{defaultOpen:!0,children:({open:y})=>c.jsxs(c.Fragment,{children:[c.jsx(Qe.Button,{children:c.jsx(G,{variant:"soul",className:"mb-2",open:y,rightIcon:wa,children:"Pinned Creatures"})}),c.jsxs(Qe.Panel,{children:[c.jsx(ru,{displayedCreatures:r,moveCreature:b=>{k(b)},moveIsAdd:!1,traitsList:d,spellsList:f,itemsList:m}),c.jsx("hr",{})]})]})})})}),c.jsxs(pe.Group,{as:"div",className:"w-full ",children:[c.jsxs("div",{className:"flex flex-column justify-between py-1 w-full align-middle",children:[c.jsxs(pe.List,{className:"flex space-x-1 p-1 gap-1",children:[c.jsx(pe,{className:({selected:y})=>p("hover:font-bold px-2 w-10 py-1 dark:bg-dark-600 bg-body-700/20 rounded-md ring-body-700 dark:ring-light",y?"ring-2":""),children:"All"}),T.map((y,b)=>c.jsx(pe,{className:({selected:x})=>p("hover:font-bold px-1 py-1 w-16 dark:bg-dark-600 bg-body-700/20 rounded-md ring-body-700 dark:ring-light",i9(y.length),`text-${y.toLowerCase()}-700 ring-${y.toLowerCase()}-600`,x?"ring-2":""),children:y},b))]}),c.jsxs("div",{className:"flex flex-column items-center px-2 py-1 bg-dark-700 rounded-full",children:[c.jsx(Yb,{className:"h-6 w-6 text-light"}),c.jsx("input",{value:e,type:"text",name:"search",placeholder:"Search",className:"bg-dark-700 pl-1",onChange:y=>{t(y.target.value.toLowerCase())}}),c.jsx(rl,{className:"h-6 w-6 opacity-50 cursor-pointer",visibility:l,onClick:()=>{t(""),u("hidden")}})]})]}),c.jsxs(pe.Panels,{children:[c.jsx(pe.Panel,{children:c.jsx(ru,{displayedCreatures:o,moveCreature:y=>{v(y)},traitsList:d,spellsList:f,itemsList:m})}),T.map((y,b)=>c.jsx(pe.Panel,{children:c.jsx(ru,{displayedCreatures:o.filter(x=>{var w;return(w=x.race)==null?void 0:w.toString().includes(y.toLowerCase())}),moveCreature:x=>{v(x)},traitsList:d,spellsList:f,itemsList:m})},b))]})]})]})}const ye={name:"template thing",race:"animal,construct,monstrosity,planar,undead,mythic",level:10,body:3,mind:2,soul:1,arcana:4,crafting:3,charm:2,nature:4,medicine:3,thieving:2,augments:["heavy defense - armor 2,ward 1,dodge 2"],traits:"trained medic;|;spell manipulator;|;climber;|;swimmer;|;flight;|;rage targeting;|;deathless;|;construct;|;boss monster;|;battle hardened armor;|;large;|;turreted weapon;|;spectral artillery",arts:"conjure fog;|;ground slam;|;piercing shot",items:"popshard rifle;|;fists;|;heavy defense",notes:`A creation from an age long gone. Wandering aimlessly in pursuit of a new home and a new war to jump into.
(The tank uses 4 Popshard Turreted Weapons, and has 2 mounted Popcannons. The Cannons cannot become Turrets.)`};function s9(){const{allTraits:e}=ko(),{allSpells:t}=Ic(),{allItems:n}=hl(),[a,r]=g.useState(0),[i,o]=g.useState(0),[s,l]=g.useState(0),[u,d]=g.useState(0),[f,m]=g.useState(0),[p,v]=g.useState(0),[k,T]=g.useState(0),[y,b]=g.useState(0),[x,w]=g.useState(0),[O,N]=g.useState(0),[R,D]=g.useState(0),[P,_]=g.useState(),[S,M]=g.useState(),[B,re]=g.useState([]),[Q,ee]=g.useState([]),[te,W]=g.useState([]),[V,I]=g.useState([]),ce=he=>Object.entries(he).map(([se,$e])=>`${se} ${$e}`).join(", ");g.useEffect(()=>{let he=ye.traits.includes("hearty")?ye.body:0,se=Math.ceil(ye.soul*4+ye.mind*3+ye.body*2);ye.traits.includes("blood magic")&&(he+=se,se=0);const $e=Math.ceil(ye.level+ye.body*4+ye.mind*3+ye.soul*2+he);if(m(se),v(se),r($e),o($e),n.length>0){let Ue=Jw(Er(ye.items,n));Ue=Zw(Ue,ye.augments);const xe=ek(Ue);_(Object.values(Ue));const Je=("armor"in xe?xe.armor*ye.level:0)+("heavy armor"in xe?xe["heavy armor"]*ye.level+4*ye.body+3*ye.mind:0)+("medium armor"in xe?xe["medium armor"]*ye.level+2*ye.body+2*ye.mind:0);l(Je),d(Je);const yn="ward"in xe?xe.ward:0,zt="dodge"in xe?xe.dodge:0;w(yn),N(yn),T(zt),b(zt),D(6+("speed"in xe?xe.speed:0)+(ye.traits.includes("quick runner")?1:0))}e.length>0&&M(Er(ye.traits,e))},[ye,n,e]),g.useEffect(()=>{f<0&&r(a+f)},[f]),g.useEffect(()=>{if(P!=null){let he=[],se=[];const $e=["weapon","grenade","throwable","potion","medicine"];let Ue=!1;P.forEach(xe=>{Ue=!1,$e.forEach(Je=>{Je in xe.tags&&(Ue=!0)}),Ue?he.push(xe):se.push(xe)}),re(he),ee(se)}},[P]),g.useEffect(()=>{if(S!=null){let he=[],se=[];const $e="flight,climber,swimmer";S.forEach(Ue=>{$e.includes(Ue.name.toLowerCase())||(Ue.effect.toLowerCase().includes("spend")?he.push(Ue):se.push(Ue))}),W(he),I(se)}},[S]);function ue(he){var Ue,xe;const se=((Ue=he.match(/spend\s.*([0-9]+)\sstrain/i))==null?void 0:Ue[1])||"",$e=((xe=he.match(/spend\s(#*)/i))==null?void 0:xe[1])||"";return se.concat($e!=""&&se!=""?", ":"",$e)}function A(he){Ne([0,0]),ae(he),ge(!0)}const[U,ae]=g.useState(0),[ne,Ne]=g.useState([0,0]),[Ke,ge]=g.useState(!1);function qe(){l(u),T(y),w(O),r(i),m(p)}const[ot,Lt]=g.useState(!1),[Ft,Ca]=g.useState(!1);return c.jsxs("div",{children:[c.jsx(tk,{startingDice:ne,startingBonus:U,setBonus:ae,isOpen:Ke,setIsOpen:ge}),c.jsx(Nc,{isOpen:ot,setIsOpen:Lt,displayedContentName:"Do Rest?",displayedContent:c.jsxs("div",{className:"",children:[c.jsx("div",{className:"bg-dark-400 rounded-lg m-2 p-2",children:c.jsx("div",{className:"bg-dark-300 rounded-lg p-2 text-lg",children:"Doing this action will reset your Health, Armor, Ward, Dodge, and Strain."})}),c.jsxs("div",{className:"grid grid-cols-4 bg-dark-400 rounded-lg m-2",children:[c.jsx(G,{variant:"nature",className:"rounded-lg p-2 m-2 rounded-lg grid grid-cols-1 bg-nature",onClick:()=>{qe(),Lt(!1)},children:"Rest"}),c.jsx(G,{variant:"medicine",className:"rounded-lg p-2 m-2 bg-medicine rounded-lg grid grid-cols-1",onClick:()=>{Lt(!1)},children:"Dont Rest"}),c.jsx("div",{})," ",c.jsx(nk,{isChecked:Ft,setIsChecked:Ca,text:"Do not show this again."})]})]})}),c.jsxs("div",{className:"grid grid-cols-2 bg-dark-400 rounded-lg m-2",children:[c.jsx("h2",{className:"bg-dark-300 rounded-lg p-4 m-2 justify-center items-center flex capitalize",children:ye.name}),c.jsxs("div",{className:"bg-dark-300 rounded-lg p-2 m-2 grid grid-cols-1",children:[c.jsxs("div",{className:"justify-end grid",children:["Level: ",ye.level]}),c.jsx("div",{className:"capitalize justify-end grid",children:ye.race.toString().split(",").join(", ")})]})]}),c.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[c.jsxs("div",{className:"bg-dark-400 rounded-lg m-2",children:[c.jsxs("div",{className:"grid grid-cols-3 gap-4 justify-left bg-dark-300 rounded-lg m-2 p-4",children:[c.jsxs(G,{variant:"body",className:"text-xl font-bold rounded-lg p-2",onClick:()=>{A(ye.body)},children:["Body ",ye.body]}),c.jsxs(G,{variant:"mind",className:"text-xl font-bold rounded-lg p-2",onClick:()=>{A(ye.mind)},children:["Mind ",ye.mind]}),c.jsxs(G,{variant:"soul",className:"text-xl font-bold bg-soul rounded-lg p-2",onClick:()=>{A(ye.soul)},children:["Soul ",ye.soul]})]}),c.jsxs("div",{className:"grid grid-cols-3 gap-4 justify-left bg-dark-300 rounded-lg m-2 p-6",children:[c.jsxs(G,{variant:"arcana",className:"rounded-lg p-2",onClick:()=>{A(ye.arcana)},children:["Arcana ",ye.arcana]}),c.jsxs(G,{variant:"charm",className:"rounded-lg p-2",onClick:()=>{A(ye.charm)},children:["Charm ",ye.charm]}),c.jsxs(G,{variant:"crafting",className:"rounded-lg p-2",onClick:()=>{A(ye.crafting)},children:["Crafting ",ye.crafting]}),c.jsxs(G,{variant:"nature",className:"rounded-lg p-2",onClick:()=>{A(ye.nature)},children:["Nature ",ye.nature]}),c.jsxs(G,{variant:"medicine",className:"rounded-lg p-2",onClick:()=>{A(ye.medicine)},children:["Medicine ",ye.medicine]}),c.jsxs(G,{variant:"thieving",className:"rounded-lg p-2",onClick:()=>{A(ye.thieving)},children:["Thieving ",ye.thieving]})]})]}),c.jsxs("div",{className:"grid grid-cols-3 bg-dark-400 rounded-lg m-2",children:[c.jsxs("div",{className:"flex flex-col col-span-2",children:[u>0&&c.jsxs("div",{className:"bg-dark-300 rounded-lg p-2 m-2 grid grid-cols-4 flex justify-end items-center",children:[c.jsx("div",{className:"flex capitalize font-bold justify-start",children:"Armor:"}),c.jsx("input",{type:"number",className:"flex flex-row h-9 rounded-lg p-2 mt-1 shadow-md justify-end m-1",value:s,min:"0",onChange:he=>l(parseInt(he.target.value))}),c.jsxs("div",{className:"flex justify-start",children:["/ ",u]}),c.jsxs("div",{className:"flex flex-row",children:[c.jsx(G,{leftIcon:ba,variant:"subtle",className:"flex justify-center rounded-l-full rounded-r-none h-8 w-8",onClick:()=>{l(s+1)}}),c.jsx(G,{leftIcon:va,variant:"subtle",className:"flex justify-center rounded-r-full rounded-l-none h-8 w-8",onClick:()=>{l(s-1)}})]})]}),c.jsxs("div",{className:"bg-dark-300 rounded-lg p-2 m-2 grid grid-cols-4 flex justify-end items-center",children:[c.jsx("div",{className:"flex capitalize font-bold",children:"Health:"}),c.jsx("input",{type:"number",className:"flex flex-row h-9 rounded-lg p-2 mt-1 shadow-md justify-end m-1",value:a,min:"0",onChange:he=>r(parseInt(he.target.value))}),c.jsxs("div",{className:"flex justify-start",children:["/ ",i]}),c.jsxs("div",{className:"flex flex-row",children:[c.jsx(G,{leftIcon:ba,variant:"subtle",className:"flex justify-center rounded-l-full rounded-r-none h-8 w-8",onClick:()=>{r(a+1)}}),c.jsx(G,{leftIcon:va,variant:"subtle",className:"flex justify-center rounded-r-full rounded-l-none h-8 w-8",onClick:()=>{r(a-1)}})]})]}),y>0&&c.jsxs("div",{className:"bg-dark-300 rounded-lg p-2 m-2 grid grid-cols-4 flex justify-end items-center",children:[c.jsx("div",{className:"flex capitalize font-bold",children:"Dodge:"}),c.jsx("input",{type:"number",className:"flex flex-row h-9 rounded-lg p-2 mt-1 shadow-md justify-end m-1",value:k,min:"0",onChange:he=>r(parseInt(he.target.value))}),c.jsx("div",{}),c.jsxs("div",{className:"flex flex-row",children:[c.jsx(G,{leftIcon:ba,variant:"subtle",className:"flex justify-center rounded-l-full rounded-r-none h-8 w-8",onClick:()=>{T(k+1)}}),c.jsx(G,{leftIcon:va,variant:"subtle",className:"flex justify-center rounded-r-full rounded-l-none h-8 w-8",onClick:()=>{T(k-1)}})]})]}),O>0&&c.jsxs("div",{className:"bg-dark-300 rounded-lg p-2 m-2 grid grid-cols-4 flex justify-end items-center",children:[c.jsx("div",{className:"flex capitalize font-bold",children:"Ward:"}),c.jsx("input",{type:"number",className:"flex flex-row h-9 rounded-lg p-2 mt-1 shadow-md justify-end m-1",value:x,min:"0",onChange:he=>r(parseInt(he.target.value))}),c.jsx("div",{}),c.jsxs("div",{className:"flex flex-row",children:[c.jsx(G,{leftIcon:ba,variant:"subtle",className:"flex justify-center rounded-l-full rounded-r-none h-8 w-8",onClick:()=>{w(x+1)}}),c.jsx(G,{leftIcon:va,variant:"subtle",className:"flex justify-center rounded-r-full rounded-l-none h-8 w-8",onClick:()=>{w(x-1)}})]})]})]}),c.jsxs("div",{className:"flex flex-col",children:[c.jsxs("div",{className:"bg-dark-300 rounded-lg p-2 m-2 flex justify-center font-bold text-lg items-center",children:["Speed: ",R]}),(ye.traits.includes("swimmer")||ye.traits.includes("climber")||ye.traits.includes("flight"))&&c.jsxs("div",{className:"bg-dark-300 rounded-lg p-2 m-2 flex justify-start flex-col",children:[ye.traits.includes("swimmer")&&c.jsx("div",{className:"mb-2",children:"Can Swim"}),ye.traits.includes("climber")&&c.jsx("div",{className:"mb-2",children:"Can Climb"}),ye.traits.includes("flight")&&c.jsx("div",{className:"mb-2",children:"Can Fly"})]})]})]})]}),c.jsxs("div",{className:"grid grid-cols-2 bg-dark-400 rounded-lg m-2 mt-10",children:[c.jsx("h2",{className:"flex justify-center items-center bg-dark-300 rounded-lg m-2",children:"Actives"}),c.jsxs("div",{className:"bg-dark-300 rounded-lg m-2 grid grid-cols-2 justify-end",children:[c.jsx(G,{variant:"subtle",className:"rounded-lg p-2 m-2",onClick:()=>{Ft?qe():Lt(!0)},children:"Rest"}),c.jsxs(G,{variant:"subtle",className:"rounded-lg p-2 m-2",onClick:()=>{Ne(Array.apply(null,Array(4+Math.floor(ye.level/2))).map(Number.prototype.valueOf,0)),ae(0),ge(!0)},children:["Combat Dice ",4+Math.floor(ye.level/2)]})]})]}),B!=null&&B.map(he=>c.jsxs("div",{className:"bg-dark-400 grid grid-cols-12 rounded-lg m-2",children:[c.jsx("div",{className:"capitalize font-bold bg-dark-300 rounded-lg p-2 m-2 col-span-2",children:he.name}),c.jsx("div",{className:"bg-dark-300 rounded-lg p-2 m-2 col-span-1",children:"weapon"in he.tags||"throwable"in he.tags||"grenade"in he.tags?"##":"#"}),c.jsx("div",{className:"capitalize bg-dark-300 rounded-lg p-2 m-2 col-span-3",children:ce(he.tags).replace(/ 0/gi,"").replace(/, weapon/gi,"").replace(/, common/gi,"").replace(/, uncommon/gi,"").replace(/, rare/gi,"").replace(/, legendary/gi,"")}),c.jsx("div",{className:"bg-dark-300 rounded-lg p-2 m-2 col-span-6 whitespace-pre-wrap overflow-y-auto text-left",children:he.effect})]})),te!=null&&te.map(he=>c.jsxs("div",{className:"bg-dark-400 grid grid-cols-12 rounded-lg m-2",children:[c.jsx("div",{className:"capitalize font-bold bg-dark-300 rounded-lg p-2 m-2 col-span-2",children:he.name}),c.jsx("div",{className:"bg-dark-300 rounded-lg p-2 m-2 col-span-1",children:ue(he.effect.toLowerCase())}),c.jsx("div",{className:"bg-dark-300 rounded-lg p-2 m-2 col-span-9 whitespace-pre-wrap overflow-y-auto text-left",children:he.effect})]})),c.jsxs("div",{className:"grid grid-cols-2 bg-dark-400 rounded-lg m-2 mt-10",children:[c.jsx("h2",{className:"flex justify-center items-center bg-dark-300 rounded-lg m-2",children:"Passives"}),c.jsx("div",{className:"bg-dark-300 rounded-lg m-2 grid grid-cols-2 justify-end"})]}),Q!=null&&Q.map(he=>c.jsxs("div",{className:"bg-dark-400 grid grid-cols-12 rounded-lg m-2",children:[c.jsx("div",{className:"capitalize font-bold bg-dark-300 rounded-lg p-2 m-2 col-span-2",children:he.name}),c.jsx("div",{className:"capitalize bg-dark-300 rounded-lg p-2 m-2 col-span-3",children:ce(he.tags).replace(/ 0/gi,"").replace(/, weapon/gi,"").replace(/, common/gi,"").replace(/, uncommon/gi,"").replace(/, rare/gi,"").replace(/, legendary/gi,"")}),c.jsx("div",{className:"bg-dark-300 rounded-lg p-2 m-2 col-span-7 whitespace-pre-wrap overflow-y-auto text-left",children:he.effect})]})),V!=null&&V.map(he=>c.jsxs("div",{className:"bg-dark-400 grid grid-cols-12 rounded-lg m-2",children:[c.jsx("div",{className:"capitalize font-bold bg-dark-300 rounded-lg p-2 m-2 col-span-2",children:he.name}),c.jsx("div",{className:"bg-dark-300 rounded-lg p-2 m-2 col-span-10 whitespace-pre-wrap overflow-y-auto text-left",children:he.effect})]})),c.jsxs("div",{className:"grid grid-cols-2 bg-dark-400 rounded-lg m-2 mt-10",children:[c.jsx("h2",{className:"flex justify-center items-center bg-dark-300 rounded-lg m-2",children:"Arts"}),c.jsx("div",{className:"bg-dark-300 rounded-lg m-2 grid grid-cols-1 flex flex-row justify-end",children:p>0&&c.jsxs("div",{className:"bg-dark-300 rounded-lg p-2 flex flex-row justify-center items-center",children:[c.jsx("div",{className:"flex capitalize font-bold justify-start p-2",children:"Strain:"}),c.jsx("input",{type:"number",className:"flex flex-row h-9 w-20 rounded-lg p-2 shadow-md justify-end m-1",value:f,max:p,onChange:he=>m(parseInt(he.target.value))}),c.jsxs("div",{className:"flex justify-start",children:["/ ",p]}),c.jsxs("div",{className:"flex flex-row p-2",children:[c.jsx(G,{leftIcon:ba,variant:"subtle",className:"flex justify-center rounded-l-full rounded-r-none h-8 w-8",onClick:()=>{m(f+1)}}),c.jsx(G,{leftIcon:va,variant:"subtle",className:"flex justify-center rounded-r-full rounded-l-none h-8 w-8",onClick:()=>{m(f-1)}})]})]})})]}),ye.arts&&t.length>0&&Er(ye.arts,t).map(he=>c.jsxs("div",{className:"bg-dark-400 grid grid-cols-12 rounded-lg m-2",children:[c.jsxs("div",{className:"capitalize font-bold bg-dark-300 rounded-lg p-2 m-2 col-span-2 whitespace-pre-wrap overflow-y-auto flex items-center justify-center",children:[he.name,he.tags.includes("focus")?`
(Focus)`:""]}),c.jsxs("div",{className:"text-xl font-bold rounded-lg bg-dark-300 rounded-lg p-2 m-2 col-span-1 flex items-center justify-center hover:ring-2 hover:ring-light/75 ".concat(he.tags.includes("technique")?"hover:bg-body":he.tags.includes("insight")?"hover:bg-mind":"hover:bg-soul"),onClick:()=>{m(f-(he.level??0))},children:[he.level,", ","#".repeat(he.dice??1)??"P"]}),c.jsx("div",{className:"bg-dark-300 rounded-lg p-2 m-2 col-span-8 whitespace-pre-wrap overflow-y-auto text-left",children:he.effect}),c.jsx("div",{className:"capitalize bg-dark-300 rounded-lg p-2 m-2 col-span-1 text-sm",children:he.tags.join(", ")})]}))]})}function l9(e){return e<5?"w-12":e<7?"w-16":"w-20"}const g1=["","base 0","body 1","mind 1","soul 1","arcana 1","charm 1","crafting 1","medicine 1","nature 1","thieving 1","body 2","mind 2","soul 2","arcana 2","charm 2","crafting 2","medicine 2","nature 2","thieving 2","body 3","mind 3","soul 3","arcana 3","charm 3","crafting 3","medicine 3","nature 3","thieving 3","body 4","mind 4","soul 4","arcana 4","charm 4","crafting 4","medicine 4","nature 4","thieving 4","MONSTER 0"],u9=["","BROKEN 0","OOC 0"],c9=["P","#","##","###"],y1=["Base","Body","Mind","Soul","Arcana","Charm","Crafting","Nature","Medicine","Thieving","MONSTER"];function d9(){const{TraitsService:e}=di(),[t,n]=g.useState(0),{displayedTraits:a,filterTraits:r,resetFilterTraits:i}=ko(t),[o,s]=g.useState(0),[l,u]=g.useState(""),[d,f]=g.useState(""),[m,p]=g.useState(""),[v,k]=g.useState("P"),[T,y]=g.useState(""),[b,x]=g.useState(""),[w,O]=g.useState();function N(S){var M,B;s(S.id),u(S.name),x(S.effect??""),f(S.req[0]),((M=S.req)==null?void 0:M.length)>1?p(S.req[1]):p(""),((B=S.req)==null?void 0:B.length)>2?y(S.req[2]):y(""),k(S.dice?"#".repeat(S.dice??1):"P")}function R(){s(0),u(""),x(""),f("MONSTER 0"),p(""),k("P"),y(""),x("")}async function D(){if(console.log(w),w!=null){if((w==null?void 0:w.name)!=""){const S=await e.putTrait({requestBody:w});console.log(S)}R(),n(t+1)}}async function P(){if(console.log(w),w!=null){if((w==null?void 0:w.name)!=""){const S=await e.updateTrait({name:w==null?void 0:w.name,requestBody:w});console.log(S)}R(),n(t+1)}}async function _(){if(console.log(w),(w==null?void 0:w.id)!=null){if((w==null?void 0:w.name)!=""){const S=await e.deleteTrait({id:w==null?void 0:w.id});console.log(S)}R(),n(t+1)}}return g.useEffect(()=>{const S={id:o,name:l.toLowerCase(),effect:b,req:[d,m,T],dice:0,is_passive:!0};v!="P"&&(S.is_passive=!1,S.dice=v.split("#").length-1),S.req=S.req.filter(M=>M!==""),O(S)},[l,v,d,m,T,b,o]),c.jsxs(c.Fragment,{children:[c.jsxs("div",{className:"grid  gap-4 p-4 bg-dark-400 rounded-md",children:[c.jsxs("div",{className:"grid grid-cols-1 grid-rows-5 md:grid-rows-1 md:grid-cols-9 gap-4 p-2 bg-dark-300 rounded-lg",children:[c.jsxs("div",{className:"col-span-1 md:col-span-2",children:[c.jsx("div",{className:"capitalize flex flex-row",children:"Name"}),c.jsx("input",{type:"text",placeholder:"Yoyo",className:"flex flex-row h-9 rounded-lg p-2 mt-1 w-[100%] shadow-md",value:l,onChange:S=>u(S.target.value)})]}),c.jsxs("div",{className:"col-span-1",children:[c.jsx("div",{className:"capitalize flex flex-row",children:"Dice Cost"}),c.jsx(an,{items:c9,className:"flex flex-row w-[100%]",selected:v,setSelected:S=>{k(S)}})]}),c.jsxs("div",{className:"col-span-1 md:col-span-2",children:[c.jsx("div",{className:"capitalize flex flex-row",children:"Main Stat/Skill"}),c.jsx(an,{items:g1,className:"flex flex-row w-[100%]",selected:d,setSelected:S=>{f(S)}})]}),c.jsxs("div",{className:"col-span-1 md:col-span-2",children:[c.jsx("div",{className:"capitalize flex flex-row",children:"Secondary Stat/Skill"}),c.jsx(an,{items:g1,className:"flex flex-row w-[100%]",selected:m,setSelected:S=>{p(S)}})]}),c.jsxs("div",{className:"col-span-1 md:col-span-2",children:[c.jsx("div",{className:"capitalize flex flex-row",children:"Other"}),c.jsx(an,{items:u9,className:"flex flex-row w-[100%]",selected:T,setSelected:S=>{y(S)}})]})]}),c.jsx("div",{className:"",children:"Effect"}),c.jsx("textarea",{placeholder:"Whip around like a yoyo",className:"bg-dark-300 h-44 rounded-lg p-2",value:b,onChange:S=>x(S.target.value)}),c.jsx("div",{className:"grid grid-cols-3 gap-4",children:a.filter(S=>S.name==(w==null?void 0:w.name)).length>0?c.jsxs(c.Fragment,{children:[c.jsx("span",{}),c.jsx(G,{title:"Delete",className:"flex flex-row",variant:"body",onClick:_,children:"Delete"}),c.jsx(G,{title:"Update",className:"flex flex-row",variant:"soul",onClick:P,children:"Update"})]}):c.jsxs(c.Fragment,{children:[c.jsx("span",{}),c.jsx("span",{}),c.jsx(G,{title:"Create New",className:"flex flex-row",variant:"nature",onClick:D,children:"Create New"})]})})]}),c.jsx("h1",{children:"Traits"}),(w==null?void 0:w.name)&&c.jsx(c.Fragment,{children:c.jsxs("div",{className:"justify-start",children:[c.jsx("h1",{children:"Active Trait"}),c.jsx(Xr,{displayedTraits:[w],moveTrait:R,moveIsAdd:!1}),c.jsx("hr",{})]})}),c.jsxs(pe.Group,{as:"div",className:"w-full ",children:[c.jsxs("div",{className:"md:flex md:flex-column md:justify-between py-1 w-full align-middle",children:[c.jsxs(pe.List,{className:"p-1 gap-2 flex flex-wrap",children:[c.jsx(pe,{className:({selected:S})=>dt("hover:font-bold px-2 w-10 py-1 dark:bg-dark-600 bg-body-700/20 rounded-md ring-body-700 dark:ring-light",S?"ring-2":""),children:"All"}),y1.map((S,M)=>c.jsx(pe,{className:({selected:B})=>dt("hover:font-bold px-1 py-1 w-16 dark:bg-dark-600 bg-body-700/20 rounded-md ring-body-700 dark:ring-light",l9(S.length),`text-${S.toLowerCase()}-700 ring-${S.toLowerCase()}-600`,B?"ring-2":""),children:S},M))]}),c.jsx(pi,{filter:r,resetFilter:i,filterClass:mt.Trait,tagList:[]})]}),c.jsxs(pe.Panels,{children:[c.jsx(pe.Panel,{children:c.jsx(Xr,{displayedTraits:a,moveTrait:S=>{N(S)}})}),y1.map((S,M)=>c.jsx(pe.Panel,{children:c.jsx(Xr,{displayedTraits:a.filter(B=>{var re;return(re=B.req)==null?void 0:re.toString().toLowerCase().includes(S.toLowerCase())}),moveTrait:B=>{N(B)}})},M))]})]})]})}const b1=["elemental","divine","soul","creation","control","divination","protection","power","healing","illusion","ranged","touch","self","focus","ritual","windup","technique","aura","insight","dice","weapon","movement","MONSTER","BROKEN"],h9=["#","##","###"],v1=[0,1,2,3,4,5,6,7,8,9];function f9(){const{SpellsService:e}=di(),[t,n]=g.useState(0),{displayedSpells:a,filterSpells:r,resetFilterSpells:i}=Ic(t),[o,s]=g.useState(0),[l,u]=g.useState(""),[d,f]=g.useState(""),[m,p]=g.useState(0),[v,k]=g.useState("#"),[T,y]=g.useState(""),[b,x]=g.useState(),[w,O]=g.useState("spell");function N(S){s(S.id),u(S.name),f(S.tags.toString()),p(S.level),k(S.dice?"#".repeat(S.dice??1):"#"),y(S.effect??"")}function R(){s(0),u(""),y(""),f(w!="spell"?w:""),p(0),k("#"),y("")}async function D(){if(console.log(b),b!=null){if((b==null?void 0:b.name)!=""){const S=await e.putSpell({requestBody:b});console.log(S)}R(),n(t+1)}}async function P(){if(console.log(b),b!=null){if((b==null?void 0:b.name)!=""){const S=await e.updateSpell({name:b==null?void 0:b.name,requestBody:b});console.log(S)}R(),n(t+1)}}async function _(){if(console.log(b),(b==null?void 0:b.id)!=null){if((b==null?void 0:b.name)!=""){const S=await e.deleteSpell({id:b==null?void 0:b.id});console.log(S)}R(),n(t+1)}}return g.useEffect(()=>{const S={id:o,name:l.toLowerCase(),effect:T,dice:v.split("#").length-1,level:m,tags:d.split(",")};S.tags=S.tags.filter(M=>M!==""),x(S)},[o,l,T,v,m,d]),c.jsxs(c.Fragment,{children:[c.jsxs("div",{className:"grid grid-rows-auto-auto-auto-1fr-auto gap-4 p-4 bg-dark-400 rounded-md",children:[c.jsxs("div",{className:"grid grid-cols-1 grid-rows-auto md:grid-rows-1 md:grid-cols-6 gap-4 p-2 bg-dark-300 rounded-lg",children:[c.jsxs("div",{className:"md:col-span-2",children:[c.jsx("div",{className:"flex flex-row capitalize",children:"Name"}),c.jsx("input",{type:"text",placeholder:"Poprocks",className:"flex flex-row h-9 rounded-lg p-2 mt-1 w-[100%] shadow-md",value:l,onChange:S=>u(S.target.value)})]}),c.jsxs("div",{className:"",children:[c.jsx("div",{className:"flex flex-row capitalize",children:"Strain"}),c.jsx("input",{type:"number",className:"flex flex-row h-9 rounded-lg p-2 mt-1 w-[100%] shadow-md",value:m,min:"0",max:"9",onChange:S=>p(parseInt(S.target.value))})]}),c.jsxs("div",{className:"",children:[c.jsx("div",{className:"flex flex-row capitalize",children:"Dice Cost"}),c.jsx(an,{items:h9,className:"flex flex-row max-w-[100%] shadow-md",selected:v,setSelected:S=>{k(S)}})]}),c.jsxs("div",{className:"md:col-span-2",children:[c.jsx("div",{className:"flex flex-row capitalize",children:"tags"}),c.jsx("input",{type:"text",className:"flex flex-row h-9 rounded-lg p-2 mt-1 w-[100%] shadow-md",value:d,onChange:S=>f(S.target.value)}),c.jsx(an,{items:b1,className:"flex flex-row",selected:"",setSelected:S=>{f(d.concat(",",S))}})]})]}),c.jsx("div",{className:"",children:"Effect"}),c.jsx("textarea",{placeholder:"Whip around like a yoyo",className:"bg-dark-300 h-44 rounded-lg p-2",value:T,onChange:S=>y(S.target.value)}),c.jsx("div",{className:"grid grid-cols-3 gap-4",children:a.filter(S=>S.name==(b==null?void 0:b.name)).length>0?c.jsxs(c.Fragment,{children:[c.jsx("span",{}),c.jsx(G,{title:"Delete",className:"flex flex-row",variant:"body",onClick:_,children:"Delete"}),c.jsx(G,{title:"Update",className:"flex flex-row",variant:"soul",onClick:P,children:"Update"})]}):c.jsxs(c.Fragment,{children:[c.jsx("span",{}),c.jsx("span",{}),c.jsx(G,{title:"Create New",className:"flex flex-row",variant:"nature",onClick:D,children:"Create New"})]})})]}),c.jsxs("h1",{className:"capitalize",children:[w,"s"]}),c.jsxs("div",{className:"flex row justify-center gap-2 p-3",children:[c.jsx(G,{onClick:()=>O("technique"),variant:"body",children:"Techniques"}),c.jsx(G,{onClick:()=>O("insight"),variant:"mind",children:"Insights"}),c.jsx(G,{onClick:()=>O("spell"),variant:"soul",children:"Spells"})]}),(b==null?void 0:b.name)&&c.jsx(c.Fragment,{children:c.jsxs("div",{className:"justify-start",children:[c.jsx("h1",{children:"Active Spell"}),c.jsx(Jr,{displayedSpells:[b],moveSpell:R,moveIsAdd:!1}),c.jsx("hr",{})]})}),c.jsxs(pe.Group,{as:"div",className:"w-full ",children:[c.jsxs("div",{className:"md:flex md:flex-column md:justify-between py-1 w-full align-middle",children:[c.jsxs(pe.List,{className:"p-1 gap-2 flex flex-wrap",children:[c.jsx(pe,{className:({selected:S})=>dt("hover:font-bold px-2 py-1 dark:bg-dark-600 bg-body-700/20 rounded-md ring-body-700 dark:ring-light w-10",S?"ring-2":""),children:"All"}),v1.map((S,M)=>c.jsx(pe,{className:({selected:B})=>dt("hover:font-bold px-2 py-1 dark:bg-dark-600 bg-body-700/20 rounded-md ring-body-700 dark:ring-light w-6",B?"ring-2":""),children:S},M))]}),c.jsx(pi,{filter:r,resetFilter:i,filterClass:mt.Spell,tagList:b1})]}),c.jsxs(pe.Panels,{children:[c.jsx(pe.Panel,{children:c.jsx(Jr,{displayedSpells:a.filter(S=>w=="spell"?!S.tags.includes("technique")&&!S.tags.includes("insight"):S.tags.includes(w)),moveSpell:S=>{N(S)}})}),v1.map((S,M)=>c.jsx(pe.Panel,{children:c.jsx(Jr,{displayedSpells:a.filter(B=>w=="spell"?B.level==S&&!B.tags.includes("technique")&&!B.tags.includes("insight"):B.level==S&&B.tags.includes(w)),moveSpell:B=>{N(B)}})},M))]})]})]})}function m9(e){return e<5?"w-12":e<7?"w-16":"w-20"}const p9=["","base 0","body 1","mind 1","soul 1","arcana 1","charm 1","crafting 1","medicine 1","nature 1","thieving 1","body 2","mind 2","soul 2","arcana 2","charm 2","crafting 2","medicine 2","nature 2","thieving 2","body 3","mind 3","soul 3","arcana 3","charm 3","crafting 3","medicine 3","nature 3","thieving 3","body 4","mind 4","soul 4","arcana 4","charm 4","crafting 4","medicine 4","nature 4","thieving 4","MONSTER 0","BROKEN 0","OOC 0"],w1=["tiny","small","medium","large","huge","bigabongus","grenade","medicine","item","weapon","alchemical","tool","rune","armor _","unarmored","non-magic","magical","common","uncommon","rare","legendary","consumable","complex","vehicle","bound","1 damage","loading _","range _","two handed","throw range _","glow","ward _","dodge _","speed _"],k1=["Weapon","Armor","Rune","Medicine","Alchemical","Grenade","Tool","Item","Magical"];function g9(){const{ItemsService:e}=di(),[t,n]=g.useState(0),{displayedItems:a,filterItems:r,resetFilterItems:i}=hl(t),[o,s]=g.useState(0),[l,u]=g.useState(""),[d,f]=g.useState(""),[m,p]=g.useState(""),[v,k]=g.useState(0),[T,y]=g.useState(0),[b,x]=g.useState("tiny"),[w,O]=g.useState();function N(S){s(S.id),u(S.name),f(S.effect.replace(/"/g,"")??""),x(S.tags.toString().replace(/ 0/gi,"")),p(S.req.toString()),y(S.cost),k(S.craft)}function R(){s(0),u(""),f(""),x("tiny"),p(""),y(0),k(0),f("")}async function D(){if(console.log(w),w!=null){if((w==null?void 0:w.name)!=""){const S=await e.putItem({requestBody:w});console.log(S)}R(),n(t+1)}}async function P(){if(console.log(w),w!=null){if((w==null?void 0:w.name)!=""){const S=await e.updateItem({name:w==null?void 0:w.name,requestBody:w});console.log(S)}R(),n(t+1)}}async function _(){if(console.log(w),(w==null?void 0:w.id)!=null){if((w==null?void 0:w.name)!=""){const S=await e.deleteItem({id:w==null?void 0:w.id});console.log(S)}R(),n(t+1)}}return g.useEffect(()=>{const S={id:o,name:l.toLowerCase(),effect:d.replace(/"/g,""),req:m.split(","),cost:T,craft:v,tags:b.replace(/, /g,",").split(",")};S.tags=S.tags.filter(M=>M!==""),S.req=S.req.filter(M=>M!==""),O(S)},[o,l,d,b,m,T,v]),c.jsxs(c.Fragment,{children:[c.jsxs("div",{className:"grid grid-rows-auto-auto-auto-1fr-auto gap-4 p-4 bg-dark-400 rounded-md",children:[c.jsxs("div",{className:"grid grid-cols-1 grid-rows-3 md:grid-rows-1 md:grid-cols-8 gap-4 p-2 bg-dark-300 rounded-lg",children:[c.jsxs("div",{className:"md:col-span-2 md:row-span-2 justify-center",children:[c.jsx("div",{className:"flex flex-row capitalize",children:"Name"}),c.jsx("input",{type:"text",placeholder:"Feather",className:"flex flex-row h-9 rounded-lg p-2 mt-1 w-[100%] shadow-md",value:l,onChange:S=>u(S.target.value)})]}),c.jsxs("div",{className:"md:col-span-2",children:[c.jsx("div",{className:"flex flex-row capitalize",children:"Requirements"}),c.jsx("input",{type:"text",className:"flex flex-row h-9 rounded-lg p-2 mt-1 w-[100%] shadow-md",value:m,onChange:S=>p(S.target.value)}),c.jsx(an,{items:p9,className:"flex flex-row",selected:"",setSelected:S=>{p(m.concat(",",S))}})]}),c.jsxs("div",{className:"md:col-span-2",children:[c.jsx("div",{className:"flex flex-row capitalize",children:"tags"}),c.jsx("input",{type:"text",className:"flex flex-row h-9 rounded-lg p-2 mt-1 w-[100%] shadow-md",value:b,onChange:S=>x(S.target.value)}),c.jsx(an,{items:w1,className:"flex flex-row",selected:"",setSelected:S=>{x(b.concat(",",S))}})]}),c.jsxs("div",{className:"md:col-span-1 md:row-span-2",children:[c.jsx("div",{className:"flex flex-row capitalize",children:"cost"}),c.jsx("input",{type:"number",className:"flex flex-row h-9 rounded-lg p-2 mt-1 w-[100%] shadow-md",value:T,min:"0",onChange:S=>y(parseInt(S.target.value))})]}),c.jsxs("div",{className:"md:col-span-1 md:row-span-2",children:[c.jsx("div",{className:"flex flex-row capitalize",children:"craft"}),c.jsx("input",{type:"number",className:"flex flex-row h-9 rounded-lg p-2 mt-1 w-[100%] shadow-md",value:v,min:"0",max:"9",onChange:S=>k(parseInt(S.target.value))})]})]}),c.jsx("div",{className:"",children:"Effect"}),c.jsx("textarea",{placeholder:"A light little feather.",className:"bg-dark-300 h-44 rounded-lg p-2",value:d,onChange:S=>f(S.target.value)}),c.jsx("div",{className:"grid grid-cols-3 gap-4",children:a.filter(S=>S.name==(w==null?void 0:w.name)).length>0?c.jsxs(c.Fragment,{children:[c.jsx("span",{}),c.jsx(G,{title:"Delete",className:"flex flex-row",variant:"body",onClick:_,children:"Delete"}),c.jsx(G,{title:"Update",className:"flex flex-row",variant:"soul",onClick:P,children:"Update"})]}):c.jsxs(c.Fragment,{children:[c.jsx("span",{}),c.jsx("span",{}),c.jsx(G,{title:"Create New",className:"flex flex-row",variant:"nature",onClick:D,children:"Create New"})]})})]}),c.jsx("h1",{children:"Items"}),(w==null?void 0:w.name)&&c.jsx(c.Fragment,{children:c.jsxs("div",{className:"justify-start",children:[c.jsx("h1",{children:"Active Item"}),c.jsx(ja,{displayedItems:[w],moveItem:R,moveIsAdd:!1}),c.jsx("hr",{})]})}),c.jsxs(pe.Group,{as:"div",className:"w-full ",children:[c.jsxs("div",{className:"md:flex md:flex-column md:justify-between py-1 w-full align-middle",children:[c.jsxs(pe.List,{className:"p-1 gap-2 flex flex-wrap",children:[c.jsx(pe,{className:({selected:S})=>dt("hover:font-bold px-2 py-1 w-10 dark:bg-dark-600 bg-grey-400 rounded-md ring-light",S?"ring-2":""),children:"All"}),k1.map((S,M)=>c.jsx(pe,{className:({selected:B})=>dt("hover:font-bold px-2 py-1 dark:bg-dark-600 bg-grey-400 rounded-md ring-light",m9(S.length),B?"ring-2":""),children:S},M))]}),c.jsx(pi,{filter:r,resetFilter:i,filterClass:mt.Item,tagList:w1})]}),c.jsxs(pe.Panels,{children:[c.jsx(pe.Panel,{children:c.jsx(ja,{displayedItems:a,moveItem:S=>{N(S)}})}),k1.map(S=>c.jsx(pe.Panel,{children:c.jsx(ja,{displayedItems:a.filter(M=>{var B;return(B=M.tags)==null?void 0:B.toString().toLowerCase().includes(S.toLowerCase())}),moveItem:M=>{N(M)}})}))]})]})]})}function y9(){return c.jsxs(c.Fragment,{children:[c.jsx("h2",{children:"Tools Page"}),c.jsxs("div",{className:"flex flex-column flex-wrap gap-4 justify-center mb-2",children:[c.jsx(hn,{to:"traits",children:c.jsx(G,{leftIcon:qb,variant:"body",children:"Update Traits"})}),c.jsx(hn,{to:"items",children:c.jsx(G,{leftIcon:Ub,variant:"mind",children:"Update Items"})}),c.jsx(hn,{to:"spells",children:c.jsx(G,{leftIcon:Wb,variant:"soul",children:"Update Spells"})}),c.jsx(hn,{to:"creatures",children:c.jsx(G,{leftIcon:Dm,variant:"medicine",children:"Update Creatures"})})]}),c.jsx("div",{className:"flex flex-column flex-wrap gap-4 justify-center mb-2",children:c.jsx(hn,{to:"wepcreator",children:c.jsx(G,{leftIcon:dC,variant:"crafting",children:"Weapon Creator"})})})]})}function It({color:e,statName:t,statScore:n,onIncrementClick:a,onDecrementClick:r,maxValue:i,incrementDisabled:o}){const[s,l]=g.useState(n>=0),[u,d]=g.useState(n<=i);return g.useEffect(()=>{l(n<=0),d(n>=i)},[n]),g.useEffect(()=>{d(o)},[o]),c.jsxs("div",{className:dt(e,"grid grid-rows-1 grid-cols-6 w-full md:mw-72 h-14 justify-items-center align-middle items-center rounded-full text-3xl capitalize px-2 select-none",n>0?"ring-2 ring-dark dark:ring-light":""),children:[c.jsx("div",{className:dt("col-span-1 pb-2 z-10 pl-6 md:pl-3 pr-8 md:pr-4 -m-2 text-4xl font-semibold ",u?"opacity-0 cursor-not-allowed":"cursor-pointer hover:opacity-60"),onClick:()=>{u||a()},children:"+"}),c.jsx("div",{className:"col-span-3",children:t}),c.jsx("div",{className:"col-span-1",children:n}),c.jsx("div",{className:dt("col-span-1 pb-2 z-10 pl-8 md:pl-4 pr-6 md:pr-3 -m-2 text-4xl font-semibold",s?"opacity-0 cursor-not-allowed":"cursor-pointer hover:opacity-60"),onClick:()=>{s||r()},children:"-"})]})}function b9(e=1,t=0,n=0,a=0,r=0,i=0,o=0,s=0,l=0,u=0){const[d,f]=g.useState(t),[m,p]=g.useState(n),[v,k]=g.useState(a),[T,y]=g.useState(r),[b,x]=g.useState(i),[w,O]=g.useState(o),[N,R]=g.useState(s),[D,P]=g.useState(l),[_,S]=g.useState(u),[M,B]=g.useState(e),re=g.useMemo(()=>M+1-d-m-v,[d,M,m,v]),Q=g.useMemo(()=>M*2+2-T-b-w-N-D-_,[T,b,w,M,D,N,_]),ee=g.useMemo(()=>M+1>6?6:M+1,[M]);function te(A,U,ae=!1){console.log("tried: ",d),console.log(ee),console.log(re),A>=ee?U(ee):ae?Q>0&&U(A+1):re>0&&U(A+1),console.log("result: ",d)}function W(A,U){A<=0?U(0):U(A-1)}function V(A){switch(A){case"body":te(d,f);break;case"mind":te(m,p);break;case"soul":te(v,k);break;case"arcana":te(T,y,!0);break;case"charm":te(b,x,!0);break;case"crafting":te(w,O,!0);break;case"nature":te(N,R,!0);break;case"medicine":te(D,P,!0);break;case"thievery":te(_,S,!0);break}}function I(A){switch(A){case"body":W(d,f);break;case"mind":W(m,p);break;case"soul":W(v,k);break;case"arcana":W(T,y);break;case"charm":W(b,x);break;case"crafting":W(w,O);break;case"nature":W(N,R);break;case"medicine":W(D,P);break;case"thievery":W(_,S);break}}function ce(){f(t),p(t),k(a),y(r),x(i),O(o),P(l),R(s),S(u),B(e)}function ue(){M>=9?B(9):B(M+1)}return{body:d,mind:m,soul:v,arcana:T,charm:b,crafting:w,medicine:D,nature:N,thievery:_,level:M,skillPointsAvailible:re,subSkillPointsAvailible:Q,skillMaxAtCurrentLevel:ee,increment:V,decrement:I,resetToInitial:ce,levelUp:ue}}const v9={name:"",types:[],level:1,body:0,mind:0,soul:0,arcana:0,crafting:0,charm:0,thieving:0,nature:0,medicine:0,traits:[],spells:[],items:[],notes:""};function w9(){g.useState(v9);const[e,t]=g.useState(""),[n,a]=g.useState(""),{body:r,mind:i,soul:o,arcana:s,charm:l,crafting:u,medicine:d,nature:f,thievery:m,skillPointsAvailible:p,subSkillPointsAvailible:v,skillMaxAtCurrentLevel:k,increment:T,decrement:y}=b9(),{displayedTraits:b,allTraits:x,filterTraits:w,resetFilterTraits:O}=ko(),N=g.useMemo(()=>{const D=x.filter(_=>{var S;return(S=_.req)==null?void 0:S.includes("base 0")});D.sort(function(_,S){const M=_.name.toUpperCase(),B=S.name.toUpperCase();return M<B?-1:M>B?1:0});const P="generic humanoid";return D.sort(function(_,S){return _.name==P?-1:S.name==P?1:0})},[x]),R=g.useMemo(()=>{const D=[...r>0?["body 1"]:[],...i>0?["mind 1"]:[],...o>0?["soul 1"]:[]];return x.filter(P=>P.req==null?!1:P.req.some(_=>D.includes(_))&&P.req.length==1)},[x,r,i,o]);return c.jsxs("div",{className:"grid auto-rows-auto grid-cols-6 gap-3 p-2",children:[c.jsx("h1",{className:"col-span-6",children:"Create New Level 1 Character"}),c.jsx("input",{placeholder:"Name",name:"name",className:"col-span-6 h-10 w-full rounded-lg bg-body-700/40 p-2 active:ring-2 active:ring-dark-700 dark:bg-soul-700/10 dark:active:ring-light-600 md:col-span-3"}),c.jsxs("div",{className:"col-span-3 mb-4 flex flex-row items-center justify-between rounded-lg bg-body-700/40 px-4 py-1 text-xl dark:bg-soul-700/10",children:[c.jsx("div",{className:"overflow-ellipsis p-1",children:"Remaining Skill increases:"})," ",c.jsx("div",{className:dt("flex h-8 w-8 items-center justify-center rounded-lg p-1 text-light",p>0?"bg-nature":"bg-medicine"),children:p})]}),c.jsxs("div",{className:"col-span-3 mb-4 flex flex-row items-center justify-between rounded-lg bg-body-700/40 px-4 py-1 text-xl dark:bg-soul-700/10",children:[c.jsx("div",{className:"overflow-ellipsis p-1",children:"Remaining Sub-skill increases:"})," ",c.jsx("div",{className:dt("flex h-8 w-8 items-center justify-center rounded-lg p-1 text-light",v>0?"bg-nature":"bg-medicine"),children:v})]}),c.jsxs("div",{className:"col-span-6 row-span-3 grid grid-cols-1 justify-items-center gap-3 md:row-span-1 md:grid-cols-3",children:[c.jsx(It,{color:"bg-body-700 dark:bg-body-500",statName:"body",statScore:r,maxValue:k,incrementDisabled:r==k||p==0,onIncrementClick:()=>{T("body")},onDecrementClick:()=>{y("body")}}),c.jsx(It,{color:"bg-mind-700 dark:bg-mind-500",statName:"mind",statScore:i,maxValue:k,incrementDisabled:i==k||p==0,onIncrementClick:()=>{T("mind")},onDecrementClick:()=>{y("mind")}}),c.jsx(It,{color:"bg-soul-700 dark:bg-soul-500",statName:"soul",statScore:o,maxValue:k,incrementDisabled:o==k||p==0,onIncrementClick:()=>{T("soul")},onDecrementClick:()=>{y("soul")}})]}),c.jsx("div",{className:"col-span-6 -my-3 px-12",children:c.jsx("hr",{className:"w-full"})}),c.jsxs("div",{className:"col-span-6 row-span-3 grid grid-cols-1 justify-items-center gap-3 md:row-span-1 md:grid-cols-3",children:[c.jsx(It,{color:"bg-arcana-700 dark:bg-arcana-500",statName:"arcana",statScore:s,maxValue:k,incrementDisabled:s==k||v==0,onIncrementClick:()=>{T("arcana")},onDecrementClick:()=>{y("arcana")}}),c.jsx(It,{color:"bg-crafting-700 dark:bg-crafting-500",statName:"crafting",statScore:u,maxValue:k,incrementDisabled:u==k||v==0,onIncrementClick:()=>{T("crafting")},onDecrementClick:()=>{y("crafting")}}),c.jsx(It,{color:"bg-charm-700 dark:bg-charm-500",statName:"charm",statScore:l,maxValue:k,incrementDisabled:l==k||v==0,onIncrementClick:()=>{T("charm")},onDecrementClick:()=>{y("charm")}})]}),c.jsxs("div",{className:"col-span-6 row-span-3 grid grid-cols-1 justify-items-center gap-3 md:row-span-1 md:grid-cols-3",children:[c.jsx(It,{color:"bg-nature-700 dark:bg-nature-500",statName:"nature",statScore:f,maxValue:k,incrementDisabled:f==k||v==0,onIncrementClick:()=>{T("nature")},onDecrementClick:()=>{y("nature")}}),c.jsx(It,{color:"bg-medicine-700 dark:bg-medicine-500",statName:"medicine",statScore:d,maxValue:k,incrementDisabled:d==k||v==0,onIncrementClick:()=>{T("medicine")},onDecrementClick:()=>{y("medicine")}}),c.jsx(It,{color:"bg-thieving-700 dark:bg-thieving-500",statName:"thievery",statScore:m,maxValue:k,incrementDisabled:m==k||v==0,onIncrementClick:()=>{T("thievery")},onDecrementClick:()=>{y("thievery")}})]}),c.jsx("h1",{className:"col-span-6",children:"Traits"}),c.jsx("h2",{className:"col-span-6",children:"Lineage Trait"}),c.jsx("div",{className:"col-span-6 ",children:c.jsx(Ia,{value:e,onChange:t,children:c.jsxs("div",{className:"relative",children:[c.jsxs(Ia.Button,{className:"h-14 w-full rounded-lg bg-body-700/40 pl-2 text-left capitalize active:ring-2 active:ring-dark-700 dark:bg-soul-700/10 dark:active:ring-light-600",children:[c.jsx("span",{className:"block truncate",children:e==""?"Select a Lineage":e}),c.jsx("span",{className:"pointer-events-none absolute inset-y-0 right-0 flex items-center pr-2",children:c.jsx(Yh,{className:"h-6 w-6 text-base","aria-hidden":"true"})})]}),c.jsx(Ia.Options,{className:"absolute z-20 mb-4 mt-1 max-h-60 w-full overflow-auto rounded-md bg-light-600 py-1 text-dark ring-1 ring-dark/5 focus:outline-none dark:bg-dark-400 dark:text-light sm:text-sm",children:N.map((D,P)=>c.jsx(Ia.Option,{value:D.name,className:({active:_})=>dt("cursor-pointer px-2 py-1 text-left text-dark dark:text-light",_?"bg-body-700/40 dark:bg-soul-700/10":""),children:c.jsxs("div",{className:"flex w-full flex-col",children:[c.jsx("div",{className:"font-bold capitalize",children:D.name}),c.jsx("div",{children:D.effect})]})},P))})]})})}),e=="generic humanoid"&&c.jsx("div",{className:"col-span-6 ",children:c.jsx(Ia,{value:n,onChange:a,children:c.jsxs("div",{className:"relative",children:[c.jsxs(Ia.Button,{className:"h-14 w-full rounded-lg bg-body-700/40 pl-2 text-left capitalize active:ring-2 active:ring-dark-700 dark:bg-soul-700/10 dark:active:ring-light-600",children:[c.jsx("span",{className:"block truncate",children:n==""?"Select a Generic Humanoid Trait":n}),c.jsx("span",{className:"pointer-events-none absolute inset-y-0 right-0 flex items-center pr-2",children:c.jsx(Yh,{className:"h-6 w-6 text-base","aria-hidden":"true"})})]}),c.jsx(Ia.Options,{className:"absolute z-20 mb-4 mt-1 max-h-60 w-full overflow-auto rounded-md bg-light-600 py-1 text-dark ring-1 ring-dark/5 focus:outline-none dark:bg-dark-400 dark:text-light sm:text-sm",children:R.length>0?R.map((D,P)=>c.jsx(Ia.Option,{value:D.name,className:({active:_})=>dt("cursor-pointer px-2 py-1 text-left text-dark dark:text-light",_?"bg-body-700/40 dark:bg-soul-700/10":""),children:c.jsxs("div",{className:"flex w-full flex-col",children:[c.jsx("div",{className:"font-bold capitalize",children:D.name}),c.jsx("div",{children:D.effect})]})},P)):c.jsx(Ia.Option,{disabled:!0,value:"",children:c.jsx("div",{className:"h-12 cursor-not-allowed",children:"You are missing stat requirements to pick a trait"})})})]})})}),c.jsx("div",{className:"col-span-6 -my-3 px-12",children:c.jsx("hr",{className:"w-full"})}),c.jsx("h2",{className:"col-span-6",children:"Level 1 Traits"})]})}const k9={name:"",race:"",level:0,body:0,mind:0,soul:0,arcana:0,crafting:0,charm:0,nature:0,medicine:0,thieving:0,augments:[],traits:"",arts:"",items:"",notes:""},T9=["animal","construct","humanoid","monstrosity","planar","undead","mythic"];function T1(){const[e,t]=g.useState(k9),[n,a]=g.useState(""),[r,i]=g.useState(!1),[o,s]=g.useState(!1);return g.useEffect(()=>{let l=JSON.stringify(e),u=/,\"/gi;l=l.replace(u,`,
"`),a(l)},[e]),g.useEffect(()=>{async function l(){const f=window.localStorage.getItem("pinnedTraitNames");let m=e;m.traits=f??"",t(m)}async function u(){const f=window.localStorage.getItem("pinnedSpellNames");let m=e;m.arts=f??"",t(m)}async function d(){const f=window.localStorage.getItem("pinnedItemNames");let m=e;m.items=f??"",t(m)}l(),u(),d()},[]),g.useEffect(()=>{i(e.level+1-(e.body+e.mind+e.soul)==0)},[e.body,e.mind,e.soul,e.level]),g.useEffect(()=>{s(e.level*2+2-(e.arcana+e.crafting+e.charm+e.nature+e.medicine+e.thieving)==0)},[e.arcana,e.crafting,e.charm,e.nature,e.medicine,e.thieving,e.level]),c.jsxs("div",{className:"grid auto-rows-auto grid-cols-6 gap-3 p-2",children:[c.jsx("h1",{className:"col-span-6",children:"Create Creature"}),c.jsxs("div",{className:"md:col-span-2",children:[c.jsx("div",{className:"",children:"Name"}),c.jsx("input",{placeholder:"Name",name:"name",className:"rounded-lg bg-body-700/40 p-2 active:ring-2 active:ring-dark-700 dark:bg-soul-700/10 dark:active:ring-light-600",onChange:l=>{t(u=>({...u,name:l.target.value.toLowerCase()}))}})]}),c.jsx("div",{className:"md:col-span-2",children:c.jsx(It,{color:"bg-dark-700 dark:bg-dark-400",statName:"Level",statScore:e.level,maxValue:9,incrementDisabled:!1,onIncrementClick:()=>{t(l=>({...l,level:l.level+1}))},onDecrementClick:()=>{t(l=>({...l,level:l.level-1}))}})}),c.jsxs("div",{className:"md:col-span-2",children:[c.jsx("div",{className:"",children:"Creature Tags"}),c.jsx("input",{type:"text",className:"mt-1 flex h-9 w-[100%] flex-row rounded-lg p-2 shadow-md",value:e.race,onChange:l=>{t(u=>({...u,race:l.target.value}))}}),c.jsx(an,{items:T9,className:"flex flex-row",selected:"",setSelected:l=>{t(u=>({...u,race:u.race.concat(",",l)}))}})]}),c.jsxs("div",{className:"col-span-6 row-span-3 grid grid-cols-1 justify-items-center gap-3 md:row-span-1 md:grid-cols-3",children:[c.jsx(It,{color:"bg-body-700 dark:bg-body-500",statName:"body",statScore:e.body,maxValue:e.level+1,incrementDisabled:r,onIncrementClick:()=>{t(l=>({...l,body:l.body+1}))},onDecrementClick:()=>{t(l=>({...l,body:l.body-1}))}}),c.jsx(It,{color:"bg-mind-700 dark:bg-mind-500",statName:"mind",statScore:e.mind,maxValue:e.level+1,incrementDisabled:r,onIncrementClick:()=>{t(l=>({...l,mind:l.mind+1}))},onDecrementClick:()=>{t(l=>({...l,mind:l.mind-1}))}}),c.jsx(It,{color:"bg-soul-700 dark:bg-soul-500",statName:"soul",statScore:e.soul,maxValue:e.level+1,incrementDisabled:r,onIncrementClick:()=>{t(l=>({...l,soul:l.soul+1}))},onDecrementClick:()=>{t(l=>({...l,soul:l.soul-1}))}})]}),c.jsx("div",{className:"col-span-6 -my-3 px-12",children:c.jsx("hr",{className:"w-full"})}),c.jsxs("div",{className:"col-span-6 row-span-3 grid grid-cols-1 justify-items-center gap-3 md:row-span-1 md:grid-cols-3",children:[c.jsx(It,{color:"bg-arcana-700 dark:bg-arcana-500",statName:"arcana",statScore:e.arcana,maxValue:e.level+1,incrementDisabled:o,onIncrementClick:()=>{t(l=>({...l,arcana:l.arcana+1}))},onDecrementClick:()=>{t(l=>({...l,arcana:l.arcana-1}))}}),c.jsx(It,{color:"bg-crafting-700 dark:bg-crafting-500",statName:"crafting",statScore:e.crafting,maxValue:e.level+1,incrementDisabled:o,onIncrementClick:()=>{t(l=>({...l,crafting:l.crafting+1}))},onDecrementClick:()=>{t(l=>({...l,crafting:l.crafting-1}))}}),c.jsx(It,{color:"bg-charm-700 dark:bg-charm-500",statName:"charm",statScore:e.charm,maxValue:e.level+1,incrementDisabled:o,onIncrementClick:()=>{t(l=>({...l,charm:l.charm+1}))},onDecrementClick:()=>{t(l=>({...l,charm:l.charm-1}))}})]}),c.jsxs("div",{className:"col-span-6 row-span-3 grid grid-cols-1 justify-items-center gap-3 md:row-span-1 md:grid-cols-3",children:[c.jsx(It,{color:"bg-nature-700 dark:bg-nature-500",statName:"nature",statScore:e.nature,maxValue:e.level+1,incrementDisabled:o,onIncrementClick:()=>{t(l=>({...l,nature:l.nature+1}))},onDecrementClick:()=>{t(l=>({...l,nature:l.nature-1}))}}),c.jsx(It,{color:"bg-medicine-700 dark:bg-medicine-500",statName:"medicine",statScore:e.medicine,maxValue:e.level+1,incrementDisabled:o,onIncrementClick:()=>{t(l=>({...l,medicine:l.medicine+1}))},onDecrementClick:()=>{t(l=>({...l,medicine:l.medicine-1}))}}),c.jsx(It,{color:"bg-thieving-700 dark:bg-thieving-500",statName:"thieving",statScore:e.thieving,maxValue:e.level+1,incrementDisabled:o,onIncrementClick:()=>{t(l=>({...l,thieving:l.thieving+1}))},onDecrementClick:()=>{t(l=>({...l,thieving:l.thieving-1}))}})]}),c.jsx("div",{className:"col-span-6",children:"Effect"}),c.jsx("textarea",{placeholder:"Whip around like a yoyo",className:"col-span-6 h-44 rounded-lg bg-dark-300 p-2",value:n,onChange:l=>a(l.target.value)})]})}const x1=["Weapon"],x9=["2 damage, two handed","1 damage, (ignore 4 or less)","1 damage, reaching 2, two handed","1 damage, throw range 6","1 damage, range 12, loading 1, autoload"],E1=["","+1 body, +1 damage ","+1 body, +throw range 6","+1 mind, +6 range, two handed","+1 mind, +5 loading, -1 autoload","+1 mind, -1 loading, -2 range, -1 autoload","+1 soul, +glow","+1 soul, -1 two handed"],S1=["+launcher","+2 range"],E9=["9+: Do 1 additional Damage","9+: Reduce the target's Armor by 2 then do damage.","+1 soul, 9+: Give the target 1 stack of Burn.","9+: Give the target 1 stack of Stun. This effect does not stack on the same target.","9+: Give the target an additional 1 stack of Bleed.","9+: Give the target 1 stack of Slow.","9+: Knockback the Target 2 tiles away from you.","9+: You may Move 1 tile"],S9=["9+: Roll a dice. If you roll less than or equal to the number of rounds left in this weapon, you may do another Attack with this weapon without spending more dice. This attack does not gain damage benefits such as ones gained from Rune of Power, Jackpot, or Critical."],A9=["9+: Gain 2 additional Reaching range.","9+: You damage Target's in a line in front of you instead of just the first Target hit."],C9=["+1 soul, 4-: You mishandle the weapon, gain 1 stack of Burn.","4-: You mishandle the weapon, gain 1 Bleed","4-: You mishandle the weapon, gain 1 Slow"],N9=["4-: Misfire spending 2 ammo instead of 1 on this shot.","4-: The shot is too strong, get knocked back 2 tiles (from the direction you fired)."],I9=["4-: You do not gain the benefit of Reaching. You have a Range of 1 instead of 2."];function _9(){const{ItemsService:e}=di(),[t,n]=g.useState(0),{displayedItems:a,filterItems:r,resetFilterItems:i}=hl(t),[o,s]=g.useState(0),[l,u]=g.useState("placeholder name"),[d,f]=g.useState(""),[m,p]=g.useState(""),[v,k]=g.useState(0),[T,y]=g.useState(0),[b,x]=g.useState("tiny"),[w,O]=g.useState(),[N,R]=g.useState(""),[D,P]=g.useState(""),[_,S]=g.useState(""),[M,B]=g.useState(""),[re,Q]=g.useState(""),[ee,te]=g.useState("");function W(A){s(A.id),u(A.name),f(A.effect.replace(/"/g,"")??""),x(A.tags.toString().replace(/ 0/gi,"")),p(A.req.toString()),y(A.cost),k(A.craft)}function V(){s(0),u(""),y(0),k(0),R(""),P(""),S(""),B(""),Q(""),te("")}async function I(){if(console.log(w),w!=null){if((w==null?void 0:w.name)!=""){const A=await e.putItem({requestBody:w});console.log(A)}V(),n(t+1)}}async function ce(){if(console.log(w),w!=null){if((w==null?void 0:w.name)!=""){const A=await e.updateItem({name:w==null?void 0:w.name,requestBody:w});console.log(A)}V(),n(t+1)}}async function ue(){if(console.log(w),(w==null?void 0:w.id)!=null){if((w==null?void 0:w.name)!=""){const A=await e.deleteItem({id:w==null?void 0:w.id});console.log(A)}V(),n(t+1)}}return g.useEffect(()=>{let A=ee.replace(/(\+|\-). [a-z]\w*, /g,"")?[ee.replace(/(\+|\-). [a-z]\w*, /g,"")]:[];N.includes("(ignore 4 or less)")||D==""&&_==""?f([...A,M.replace("9+:","On a 9 or Higher:").replace(/(\+|\-). [a-z]\w*, /g,"")].join(`
`)):f([...A,re.replace("4-:","On a 4 or Less:").replace(/(\+|\-). [a-z]\w*, /g,""),M.replace("9+:","On a 9 or Higher:").replace(/(\+|\-). [a-z]\w*, /g,"")].join(`
`));let U={"":0,damage:0,throw:0,range:0,reaching:0,two:0,loading:0,autoload:0,glow:0,launcher:0,body:0,mind:0,soul:0},ae=[...N.split(", "),...D.split(", "),..._.split(", "),...M.split(", "),...re.split(", "),...ee.split(", ")];for(const Ke of ae){const qe=/([a-z])\w+/g.exec(Ke),Lt=/-?[0-9]\d*/g.exec(Ke);U[String(qe?qe[0]:"")]+=Lt?parseInt(Lt[0],10):1}let ne="",Ne="";for(const[Ke,ge]of Object.entries(U))if(ge>0)switch(Ke){case"":break;case"ignore":break;case"damage":ne=ne.concat(",",String(ge)," ",Ke);break;case"two":ne=ne.concat(",","two handed");break;case"throw":ne=ne.concat(",","throw range ",String(ge));break;case"autoload":ne=ne.concat(",","autoload");break;case"glow":ne=ne.concat(",","glow");break;case"launcher":ne=ne.concat(",","launcher");break;case"body":Ne=Ne.concat(",","body ",String(ge));break;case"mind":Ne=Ne.concat(",","mind ",String(ge));break;case"soul":Ne=Ne.concat(",","soul ",String(ge));break;default:ne=ne.concat(",",Ke," ",String(ge))}console.log(ne),x(ne.concat(",weapon,common")),p(Ne)},[N,D,_,M,re,ee]),g.useEffect(()=>{const A={id:o,name:l.toLowerCase(),effect:d.replace(/"/g,""),req:m.split(","),cost:T,craft:v,tags:b.replace(/, /g,",").split(",")};A.tags=A.tags.filter(U=>U!==""),A.req=A.req.filter(U=>U!==""),O(A)},[o,l,d,b,m,T,v]),c.jsxs("div",{children:[c.jsxs("div",{className:"bg-dark-400 rounded-lg p-4",children:[c.jsxs("div",{className:"flex justify-center content-center grid grid-cols-3 gap-4 w-[100%] bg-dark-300 rounded-lg p-4",children:[c.jsxs("div",{className:"flex flex-col p-2",children:[c.jsx("div",{children:"Name"}),c.jsx("input",{type:"text",placeholder:"Feather",className:"flex flex-row h-9 rounded-lg p-2 mt-1 w-[100%] shadow-md",value:l,onChange:A=>u(A.target.value)})]}),c.jsxs("div",{className:"flex flex-col p-2",children:[c.jsx("div",{children:"Pick 1 Base:"}),c.jsx(an,{items:x9,className:"flex flex-row",selected:N,setSelected:A=>{R(A)}})]}),c.jsxs("div",{className:"flex flex-col p-2",children:[c.jsx("div",{children:"Pick up to 2 core bonuses:"}),c.jsx(an,{items:[...E1,...b.includes("range")?S1:[]],className:"flex flex-row",selected:D,setSelected:A=>{P(A)}}),c.jsx(an,{items:[...E1,...b.includes("range")?S1:[]],className:"flex flex-row",selected:_,setSelected:A=>{S(A)}})]})]}),c.jsxs("div",{className:"bg-dark-300 rounded-lg p-4 m-4",children:[c.jsxs("div",{className:"flex flex-col p-2",children:[c.jsx("div",{children:"Pick 1 9+:"}),c.jsx(an,{items:[...E9,...b.includes("reaching")?A9:[],...b.includes("loading")?S9:[]],className:"flex flex-row",selected:M,setSelected:A=>{B(A)}})]}),c.jsxs("div",{className:"flex flex-col p-2",children:[c.jsx("div",{children:"Pick 1 4-:"}),c.jsx(an,{items:[...C9,...b.includes("reaching")?I9:[],...b.includes("loading")?N9:[],,...b.includes("1 damage")?["4-: your hand slips, do 1 less damage to Armor"]:["4-: do 1 less Damage"]],className:"flex flex-row",selected:re,setSelected:A=>{Q(A)}})]})]}),c.jsx("div",{className:"",children:"Bonus Effect:"}),c.jsx("textarea",{placeholder:"A light little feather.",className:"bg-dark-300 h-15 rounded-lg p-2 w-[95%] m-4",value:ee,onChange:A=>te(A.target.value)}),c.jsx("div",{className:"grid grid-cols-3 gap-4",children:a.filter(A=>A.name==(w==null?void 0:w.name)).length>0?c.jsxs(c.Fragment,{children:[c.jsx("span",{}),c.jsx(G,{title:"Delete",className:"flex flex-row",variant:"body",onClick:ue,children:"Delete"}),c.jsx(G,{title:"Update",className:"flex flex-row",variant:"soul",onClick:ce,children:"Update"})]}):c.jsxs(c.Fragment,{children:[c.jsx("span",{}),c.jsx("span",{}),c.jsx(G,{title:"Create New",className:"flex flex-row",variant:"nature",onClick:I,children:"Create New"})]})})]}),c.jsx("h1",{children:"Items"}),(w==null?void 0:w.tags)&&c.jsx(c.Fragment,{children:c.jsxs("div",{className:"justify-start",children:[c.jsx("h1",{children:"Active Item"}),c.jsx(ja,{displayedItems:[w],moveItem:()=>{V()},moveIsAdd:!1}),c.jsx("hr",{})]})}),c.jsxs(pe.Group,{as:"div",className:"w-full ",children:[c.jsxs("div",{className:"md:flex md:flex-column md:justify-between py-1 w-full align-middle",children:[c.jsx(pe.List,{className:"p-1 gap-2 flex flex-wrap",children:x1.map((A,U)=>c.jsx(pe,{className:({selected:ae})=>dt("hover:font-bold px-2 py-1 dark:bg-dark-600 bg-grey-400 rounded-md ring-light w-15",ae?"ring-2":""),children:A},U))}),c.jsx(pi,{filter:r,resetFilter:i,filterClass:mt.Item,tagList:[]})]}),c.jsx(pe.Panels,{children:x1.map(A=>c.jsx(pe.Panel,{children:c.jsx(ja,{displayedItems:a.filter(U=>{var ae;return(ae=U.tags)==null?void 0:ae.toString().toLowerCase().includes(A.toLowerCase())}),moveItem:U=>{W(U)}})}))})]})]})}const R9=V3([{path:"/",element:c.jsx(PC,{}),errorElement:c.jsx(MC,{}),children:[{path:"",element:c.jsx(UE,{})},{path:"character-sheet",element:c.jsx(r9,{})},{path:"character-sheet2",element:c.jsx(w9,{})},{path:"joshhellscape",element:c.jsx(s9,{})},{path:"update-db",children:[{path:"",element:c.jsx(y9,{})},{path:"traits",element:c.jsx(d9,{})},{path:"spells",element:c.jsx(f9,{})},{path:"items",element:c.jsx(g9,{})},{path:"creatures",element:c.jsx(T1,{})},{path:"wepcreator",element:c.jsx(_9,{})},{path:"creaturescreatorbad",element:c.jsx(T1,{})}]},{path:"april",element:c.jsx(jC,{})},{path:"rulebook",children:[{path:"",element:c.jsx(UP,{})},{path:"spells",element:c.jsx(XP,{})},{path:"traits",element:c.jsx($P,{})},{path:"items",element:c.jsx(KP,{})},{path:"creatures",element:c.jsx(o9,{})}]},{path:"callback",element:c.jsx(FC,{})}]}],{basename:"/rpg-hell-frontend"});Bd.createRoot(document.getElementById("root")).render(c.jsx(oe.StrictMode,{children:c.jsx(aE,{router:R9})}));
